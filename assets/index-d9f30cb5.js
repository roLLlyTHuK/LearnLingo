function KP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ys=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function E7(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var bC={exports:{}},Fp={},kC={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eh=Symbol.for("react.element"),QP=Symbol.for("react.portal"),YP=Symbol.for("react.fragment"),XP=Symbol.for("react.strict_mode"),JP=Symbol.for("react.profiler"),ZP=Symbol.for("react.provider"),eN=Symbol.for("react.context"),tN=Symbol.for("react.forward_ref"),nN=Symbol.for("react.suspense"),rN=Symbol.for("react.memo"),iN=Symbol.for("react.lazy"),bE=Symbol.iterator;function sN(t){return t===null||typeof t!="object"?null:(t=bE&&t[bE]||t["@@iterator"],typeof t=="function"?t:null)}var AC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xC=Object.assign,RC={};function zl(t,e,n){this.props=t,this.context=e,this.refs=RC,this.updater=n||AC}zl.prototype.isReactComponent={};zl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};zl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function PC(){}PC.prototype=zl.prototype;function dv(t,e,n){this.props=t,this.context=e,this.refs=RC,this.updater=n||AC}var fv=dv.prototype=new PC;fv.constructor=dv;xC(fv,zl.prototype);fv.isPureReactComponent=!0;var kE=Array.isArray,NC=Object.prototype.hasOwnProperty,pv={current:null},OC={key:!0,ref:!0,__self:!0,__source:!0};function DC(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)NC.call(e,r)&&!OC.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:eh,type:t,key:s,ref:o,props:i,_owner:pv.current}}function oN(t,e){return{$$typeof:eh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function mv(t){return typeof t=="object"&&t!==null&&t.$$typeof===eh}function aN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var AE=/\/+/g;function lg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?aN(""+t.key):e.toString(36)}function $d(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case eh:case QP:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+lg(o,0):r,kE(i)?(n="",t!=null&&(n=t.replace(AE,"$&/")+"/"),$d(i,e,n,"",function(c){return c})):i!=null&&(mv(i)&&(i=oN(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(AE,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",kE(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+lg(s,a);o+=$d(s,e,n,l,i)}else if(l=sN(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+lg(s,a++),o+=$d(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ld(t,e,n){if(t==null)return t;var r=[],i=0;return $d(t,r,"","",function(s){return e.call(n,s,i++)}),r}function lN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Pn={current:null},jd={transition:null},uN={ReactCurrentDispatcher:Pn,ReactCurrentBatchConfig:jd,ReactCurrentOwner:pv};Re.Children={map:ld,forEach:function(t,e,n){ld(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ld(t,function(){e++}),e},toArray:function(t){return ld(t,function(e){return e})||[]},only:function(t){if(!mv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Re.Component=zl;Re.Fragment=YP;Re.Profiler=JP;Re.PureComponent=dv;Re.StrictMode=XP;Re.Suspense=nN;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uN;Re.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=xC({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=pv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)NC.call(e,l)&&!OC.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:eh,type:t.type,key:i,ref:s,props:r,_owner:o}};Re.createContext=function(t){return t={$$typeof:eN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ZP,_context:t},t.Consumer=t};Re.createElement=DC;Re.createFactory=function(t){var e=DC.bind(null,t);return e.type=t,e};Re.createRef=function(){return{current:null}};Re.forwardRef=function(t){return{$$typeof:tN,render:t}};Re.isValidElement=mv;Re.lazy=function(t){return{$$typeof:iN,_payload:{_status:-1,_result:t},_init:lN}};Re.memo=function(t,e){return{$$typeof:rN,type:t,compare:e===void 0?null:e}};Re.startTransition=function(t){var e=jd.transition;jd.transition={};try{t()}finally{jd.transition=e}};Re.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Re.useCallback=function(t,e){return Pn.current.useCallback(t,e)};Re.useContext=function(t){return Pn.current.useContext(t)};Re.useDebugValue=function(){};Re.useDeferredValue=function(t){return Pn.current.useDeferredValue(t)};Re.useEffect=function(t,e){return Pn.current.useEffect(t,e)};Re.useId=function(){return Pn.current.useId()};Re.useImperativeHandle=function(t,e,n){return Pn.current.useImperativeHandle(t,e,n)};Re.useInsertionEffect=function(t,e){return Pn.current.useInsertionEffect(t,e)};Re.useLayoutEffect=function(t,e){return Pn.current.useLayoutEffect(t,e)};Re.useMemo=function(t,e){return Pn.current.useMemo(t,e)};Re.useReducer=function(t,e,n){return Pn.current.useReducer(t,e,n)};Re.useRef=function(t){return Pn.current.useRef(t)};Re.useState=function(t){return Pn.current.useState(t)};Re.useSyncExternalStore=function(t,e,n){return Pn.current.useSyncExternalStore(t,e,n)};Re.useTransition=function(){return Pn.current.useTransition()};Re.version="18.2.0";kC.exports=Re;var J=kC.exports;const ze=hv(J),py=KP({__proto__:null,default:ze},[J]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cN=J,hN=Symbol.for("react.element"),dN=Symbol.for("react.fragment"),fN=Object.prototype.hasOwnProperty,pN=cN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mN={key:!0,ref:!0,__self:!0,__source:!0};function LC(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)fN.call(e,r)&&!mN.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:hN,type:t,key:s,ref:o,props:i,_owner:pN.current}}Fp.Fragment=dN;Fp.jsx=LC;Fp.jsxs=LC;bC.exports=Fp;var q=bC.exports;/**
 * @remix-run/router v1.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mc(){return mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mc.apply(this,arguments)}var Rs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Rs||(Rs={}));const xE="popstate";function gN(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return my("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:vf(i)}return _N(e,n,null,t)}function kt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function yN(){return Math.random().toString(36).substr(2,8)}function RE(t,e){return{usr:t.state,key:t.key,idx:e}}function my(t,e,n,r){return n===void 0&&(n=null),mc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Wl(e):e,{state:n,key:e&&e.key||r||yN()})}function vf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Wl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function _N(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Rs.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(mc({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function m(){a=Rs.Pop;let D=d(),b=D==null?null:D-c;c=D,l&&l({action:a,location:A.location,delta:b})}function g(D,b){a=Rs.Push;let w=my(A.location,D,b);n&&n(w,D),c=d()+1;let k=RE(w,c),F=A.createHref(w);try{o.pushState(k,"",F)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(F)}s&&l&&l({action:a,location:A.location,delta:1})}function E(D,b){a=Rs.Replace;let w=my(A.location,D,b);n&&n(w,D),c=d();let k=RE(w,c),F=A.createHref(w);o.replaceState(k,"",F),s&&l&&l({action:a,location:A.location,delta:0})}function S(D){let b=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof D=="string"?D:vf(D);return kt(b,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,b)}let A={get action(){return a},get location(){return t(i,o)},listen(D){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(xE,m),l=D,()=>{i.removeEventListener(xE,m),l=null}},createHref(D){return e(i,D)},createURL:S,encodeLocation(D){let b=S(D);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:g,replace:E,go(D){return o.go(D)}};return A}var PE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(PE||(PE={}));function vN(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Wl(e):e,i=yv(r.pathname||"/",n);if(i==null)return null;let s=MC(t);wN(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=xN(s[a],NN(i));return o}function MC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(kt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ls([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(kt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),MC(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:kN(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of FC(s.path))i(s,o,l)}),e}function FC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=FC(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function wN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:AN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const EN=/^:\w+$/,TN=3,IN=2,CN=1,SN=10,bN=-2,NE=t=>t==="*";function kN(t,e){let n=t.split("/"),r=n.length;return n.some(NE)&&(r+=bN),e&&(r+=IN),n.filter(i=>!NE(i)).reduce((i,s)=>i+(EN.test(s)?TN:s===""?CN:SN),r)}function AN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function xN(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",d=RN({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!d)return null;Object.assign(r,d.params);let m=a.route;s.push({params:r,pathname:Ls([i,d.pathname]),pathnameBase:MN(Ls([i,d.pathnameBase])),route:m}),d.pathnameBase!=="/"&&(i=Ls([i,d.pathnameBase]))}return s}function RN(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=PN(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,m)=>{if(d==="*"){let g=a[m]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}return c[d]=ON(a[m]||"",d),c},{}),pathname:s,pathnameBase:o,pattern:t}}function PN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),gv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function NN(t){try{return decodeURI(t)}catch(e){return gv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ON(t,e){try{return decodeURIComponent(t)}catch(n){return gv(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function yv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function DN(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Wl(t):t;return{pathname:n?n.startsWith("/")?n:LN(n,e):e,search:FN(r),hash:VN(i)}}function LN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ug(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _v(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function vv(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Wl(t):(i=mc({},t),kt(!i.pathname||!i.pathname.includes("?"),ug("?","pathname","search",i)),kt(!i.pathname||!i.pathname.includes("#"),ug("#","pathname","hash",i)),kt(!i.search||!i.search.includes("#"),ug("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let m=e.length-1;if(o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}a=m>=0?e[m]:"/"}let l=DN(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Ls=t=>t.join("/").replace(/\/\/+/g,"/"),MN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),FN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,VN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function UN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const VC=["post","put","patch","delete"];new Set(VC);const $N=["get",...VC];new Set($N);/**
 * React Router v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wf(){return wf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wf.apply(this,arguments)}const wv=J.createContext(null),jN=J.createContext(null),Hl=J.createContext(null),Vp=J.createContext(null),Ji=J.createContext({outlet:null,matches:[],isDataRoute:!1}),UC=J.createContext(null);function BN(t,e){let{relative:n}=e===void 0?{}:e;ql()||kt(!1);let{basename:r,navigator:i}=J.useContext(Hl),{hash:s,pathname:o,search:a}=jC(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ls([r,o])),i.createHref({pathname:l,search:a,hash:s})}function ql(){return J.useContext(Vp)!=null}function Gl(){return ql()||kt(!1),J.useContext(Vp).location}function $C(t){J.useContext(Hl).static||J.useLayoutEffect(t)}function Ev(){let{isDataRoute:t}=J.useContext(Ji);return t?rO():zN()}function zN(){ql()||kt(!1);let t=J.useContext(wv),{basename:e,navigator:n}=J.useContext(Hl),{matches:r}=J.useContext(Ji),{pathname:i}=Gl(),s=JSON.stringify(_v(r).map(l=>l.pathnameBase)),o=J.useRef(!1);return $C(()=>{o.current=!0}),J.useCallback(function(l,c){if(c===void 0&&(c={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=vv(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ls([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,s,i,t])}const WN=J.createContext(null);function HN(t){let e=J.useContext(Ji).outlet;return e&&J.createElement(WN.Provider,{value:t},e)}function jC(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=J.useContext(Ji),{pathname:i}=Gl(),s=JSON.stringify(_v(r).map(o=>o.pathnameBase));return J.useMemo(()=>vv(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function qN(t,e){return GN(t,e)}function GN(t,e,n){ql()||kt(!1);let{navigator:r}=J.useContext(Hl),{matches:i}=J.useContext(Ji),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Gl(),c;if(e){var d;let A=typeof e=="string"?Wl(e):e;a==="/"||(d=A.pathname)!=null&&d.startsWith(a)||kt(!1),c=A}else c=l;let m=c.pathname||"/",g=a==="/"?m:m.slice(a.length)||"/",E=vN(t,{pathname:g}),S=JN(E&&E.map(A=>Object.assign({},A,{params:Object.assign({},o,A.params),pathname:Ls([a,r.encodeLocation?r.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?a:Ls([a,r.encodeLocation?r.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),i,n);return e&&S?J.createElement(Vp.Provider,{value:{location:wf({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Rs.Pop}},S):S}function KN(){let t=nO(),e=UN(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return J.createElement(J.Fragment,null,J.createElement("h2",null,"Unexpected Application Error!"),J.createElement("h3",{style:{fontStyle:"italic"}},e),n?J.createElement("pre",{style:i},n):null,s)}const QN=J.createElement(KN,null);class YN extends J.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?J.createElement(Ji.Provider,{value:this.props.routeContext},J.createElement(UC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function XN(t){let{routeContext:e,match:n,children:r}=t,i=J.useContext(wv);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),J.createElement(Ji.Provider,{value:e},r)}function JN(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||kt(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,c)=>{let d=l.route.id?o==null?void 0:o[l.route.id]:null,m=null;n&&(m=l.route.errorElement||QN);let g=e.concat(s.slice(0,c+1)),E=()=>{let S;return d?S=m:l.route.Component?S=J.createElement(l.route.Component,null):l.route.element?S=l.route.element:S=a,J.createElement(XN,{match:l,routeContext:{outlet:a,matches:g,isDataRoute:n!=null},children:S})};return n&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?J.createElement(YN,{location:n.location,revalidation:n.revalidation,component:m,error:d,children:E(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):E()},null)}var BC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(BC||{}),Ef=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ef||{});function ZN(t){let e=J.useContext(wv);return e||kt(!1),e}function eO(t){let e=J.useContext(jN);return e||kt(!1),e}function tO(t){let e=J.useContext(Ji);return e||kt(!1),e}function zC(t){let e=tO(),n=e.matches[e.matches.length-1];return n.route.id||kt(!1),n.route.id}function nO(){var t;let e=J.useContext(UC),n=eO(Ef.UseRouteError),r=zC(Ef.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function rO(){let{router:t}=ZN(BC.UseNavigateStable),e=zC(Ef.UseNavigateStable),n=J.useRef(!1);return $C(()=>{n.current=!0}),J.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,wf({fromRouteId:e},s)))},[t,e])}function iO(t){let{to:e,replace:n,state:r,relative:i}=t;ql()||kt(!1);let{matches:s}=J.useContext(Ji),{pathname:o}=Gl(),a=Ev(),l=vv(e,_v(s).map(d=>d.pathnameBase),o,i==="path"),c=JSON.stringify(l);return J.useEffect(()=>a(JSON.parse(c),{replace:n,state:r,relative:i}),[a,c,i,n,r]),null}function WC(t){return HN(t.context)}function bo(t){kt(!1)}function sO(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Rs.Pop,navigator:s,static:o=!1}=t;ql()&&kt(!1);let a=e.replace(/^\/*/,"/"),l=J.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Wl(r));let{pathname:c="/",search:d="",hash:m="",state:g=null,key:E="default"}=r,S=J.useMemo(()=>{let A=yv(c,a);return A==null?null:{location:{pathname:A,search:d,hash:m,state:g,key:E},navigationType:i}},[a,c,d,m,g,E,i]);return S==null?null:J.createElement(Hl.Provider,{value:l},J.createElement(Vp.Provider,{children:n,value:S}))}function oO(t){let{children:e,location:n}=t;return qN(gy(e),n)}new Promise(()=>{});function gy(t,e){e===void 0&&(e=[]);let n=[];return J.Children.forEach(t,(r,i)=>{if(!J.isValidElement(r))return;let s=[...e,i];if(r.type===J.Fragment){n.push.apply(n,gy(r.props.children,s));return}r.type!==bo&&kt(!1),!r.props.index||!r.props.children||kt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=gy(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yy(){return yy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yy.apply(this,arguments)}function aO(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function lO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function uO(t,e){return t.button===0&&(!e||e==="_self")&&!lO(t)}const cO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],hO="startTransition",OE=py[hO];function dO(t){let{basename:e,children:n,future:r,window:i}=t,s=J.useRef();s.current==null&&(s.current=gN({window:i,v5Compat:!0}));let o=s.current,[a,l]=J.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=J.useCallback(m=>{c&&OE?OE(()=>l(m)):l(m)},[l,c]);return J.useLayoutEffect(()=>o.listen(d),[o,d]),J.createElement(sO,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o})}const fO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,HC=J.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d}=e,m=aO(e,cO),{basename:g}=J.useContext(Hl),E,S=!1;if(typeof c=="string"&&pO.test(c)&&(E=c,fO))try{let w=new URL(window.location.href),k=c.startsWith("//")?new URL(w.protocol+c):new URL(c),F=yv(k.pathname,g);k.origin===w.origin&&F!=null?c=F+k.search+k.hash:S=!0}catch{}let A=BN(c,{relative:i}),D=mO(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i});function b(w){r&&r(w),w.defaultPrevented||D(w)}return J.createElement("a",yy({},m,{href:E||A,onClick:S||s?r:b,ref:n,target:l}))});var DE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(DE||(DE={}));var LE;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(LE||(LE={}));function mO(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=Ev(),l=Gl(),c=jC(t,{relative:o});return J.useCallback(d=>{if(uO(d,n)){d.preventDefault();let m=r!==void 0?r:vf(l)===vf(c);a(t,{replace:m,state:i,preventScrollReset:s,relative:o})}},[l,a,c,r,i,n,t,s,o])}var _y={},qC={exports:{}},sr={},GC={exports:{}},KC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(re,K){var ue=re.length;re.push(K);e:for(;0<ue;){var Pe=ue-1>>>1,_e=re[Pe];if(0<i(_e,K))re[Pe]=K,re[ue]=_e,ue=Pe;else break e}}function n(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var K=re[0],ue=re.pop();if(ue!==K){re[0]=ue;e:for(var Pe=0,_e=re.length,Ge=_e>>>1;Pe<Ge;){var $=2*(Pe+1)-1,Bt=re[$],ht=$+1,It=re[ht];if(0>i(Bt,ue))ht<_e&&0>i(It,Bt)?(re[Pe]=It,re[ht]=ue,Pe=ht):(re[Pe]=Bt,re[$]=ue,Pe=$);else if(ht<_e&&0>i(It,ue))re[Pe]=It,re[ht]=ue,Pe=ht;else break e}}return K}function i(re,K){var ue=re.sortIndex-K.sortIndex;return ue!==0?ue:re.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,m=null,g=3,E=!1,S=!1,A=!1,D=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(re){for(var K=n(c);K!==null;){if(K.callback===null)r(c);else if(K.startTime<=re)r(c),K.sortIndex=K.expirationTime,e(l,K);else break;K=n(c)}}function F(re){if(A=!1,k(re),!S)if(n(l)!==null)S=!0,Ce(j);else{var K=n(c);K!==null&&je(F,K.startTime-re)}}function j(re,K){S=!1,A&&(A=!1,b(C),C=-1),E=!0;var ue=g;try{for(k(K),m=n(l);m!==null&&(!(m.expirationTime>K)||re&&!L());){var Pe=m.callback;if(typeof Pe=="function"){m.callback=null,g=m.priorityLevel;var _e=Pe(m.expirationTime<=K);K=t.unstable_now(),typeof _e=="function"?m.callback=_e:m===n(l)&&r(l),k(K)}else r(l);m=n(l)}if(m!==null)var Ge=!0;else{var $=n(c);$!==null&&je(F,$.startTime-K),Ge=!1}return Ge}finally{m=null,g=ue,E=!1}}var W=!1,I=null,C=-1,x=5,N=-1;function L(){return!(t.unstable_now()-N<x)}function M(){if(I!==null){var re=t.unstable_now();N=re;var K=!0;try{K=I(!0,re)}finally{K?R():(W=!1,I=null)}}else W=!1}var R;if(typeof w=="function")R=function(){w(M)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,qe=Ee.port2;Ee.port1.onmessage=M,R=function(){qe.postMessage(null)}}else R=function(){D(M,0)};function Ce(re){I=re,W||(W=!0,R())}function je(re,K){C=D(function(){re(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(re){re.callback=null},t.unstable_continueExecution=function(){S||E||(S=!0,Ce(j))},t.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<re?Math.floor(1e3/re):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(re){switch(g){case 1:case 2:case 3:var K=3;break;default:K=g}var ue=g;g=K;try{return re()}finally{g=ue}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(re,K){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ue=g;g=re;try{return K()}finally{g=ue}},t.unstable_scheduleCallback=function(re,K,ue){var Pe=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Pe+ue:Pe):ue=Pe,re){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=ue+_e,re={id:d++,callback:K,priorityLevel:re,startTime:ue,expirationTime:_e,sortIndex:-1},ue>Pe?(re.sortIndex=ue,e(c,re),n(l)===null&&re===n(c)&&(A?(b(C),C=-1):A=!0,je(F,ue-Pe))):(re.sortIndex=_e,e(l,re),S||E||(S=!0,Ce(j))),re},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(re){var K=g;return function(){var ue=g;g=K;try{return re.apply(this,arguments)}finally{g=ue}}}})(KC);GC.exports=KC;var gO=GC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QC=J,ir=gO;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var YC=new Set,gc={};function oa(t,e){ml(t,e),ml(t+"Capture",e)}function ml(t,e){for(gc[t]=e,t=0;t<e.length;t++)YC.add(e[t])}var zi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vy=Object.prototype.hasOwnProperty,yO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ME={},FE={};function _O(t){return vy.call(FE,t)?!0:vy.call(ME,t)?!1:yO.test(t)?FE[t]=!0:(ME[t]=!0,!1)}function vO(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function wO(t,e,n,r){if(e===null||typeof e>"u"||vO(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Nn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var an={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){an[t]=new Nn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];an[e]=new Nn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){an[t]=new Nn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){an[t]=new Nn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){an[t]=new Nn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){an[t]=new Nn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){an[t]=new Nn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){an[t]=new Nn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){an[t]=new Nn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Tv=/[\-:]([a-z])/g;function Iv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Tv,Iv);an[e]=new Nn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Tv,Iv);an[e]=new Nn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Tv,Iv);an[e]=new Nn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){an[t]=new Nn(t,1,!1,t.toLowerCase(),null,!1,!1)});an.xlinkHref=new Nn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){an[t]=new Nn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Cv(t,e,n,r){var i=an.hasOwnProperty(e)?an[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(wO(e,n,i,r)&&(n=null),r||i===null?_O(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Zi=QC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ud=Symbol.for("react.element"),La=Symbol.for("react.portal"),Ma=Symbol.for("react.fragment"),Sv=Symbol.for("react.strict_mode"),wy=Symbol.for("react.profiler"),XC=Symbol.for("react.provider"),JC=Symbol.for("react.context"),bv=Symbol.for("react.forward_ref"),Ey=Symbol.for("react.suspense"),Ty=Symbol.for("react.suspense_list"),kv=Symbol.for("react.memo"),Es=Symbol.for("react.lazy"),ZC=Symbol.for("react.offscreen"),VE=Symbol.iterator;function Tu(t){return t===null||typeof t!="object"?null:(t=VE&&t[VE]||t["@@iterator"],typeof t=="function"?t:null)}var gt=Object.assign,cg;function Fu(t){if(cg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);cg=e&&e[1]||""}return`
`+cg+t}var hg=!1;function dg(t,e){if(!t||hg)return"";hg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{hg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Fu(t):""}function EO(t){switch(t.tag){case 5:return Fu(t.type);case 16:return Fu("Lazy");case 13:return Fu("Suspense");case 19:return Fu("SuspenseList");case 0:case 2:case 15:return t=dg(t.type,!1),t;case 11:return t=dg(t.type.render,!1),t;case 1:return t=dg(t.type,!0),t;default:return""}}function Iy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ma:return"Fragment";case La:return"Portal";case wy:return"Profiler";case Sv:return"StrictMode";case Ey:return"Suspense";case Ty:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case JC:return(t.displayName||"Context")+".Consumer";case XC:return(t._context.displayName||"Context")+".Provider";case bv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case kv:return e=t.displayName||null,e!==null?e:Iy(t.type)||"Memo";case Es:e=t._payload,t=t._init;try{return Iy(t(e))}catch{}}return null}function TO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Iy(e);case 8:return e===Sv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ys(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function eS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function IO(t){var e=eS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function cd(t){t._valueTracker||(t._valueTracker=IO(t))}function tS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=eS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Tf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Cy(t,e){var n=e.checked;return gt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function UE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ys(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function nS(t,e){e=e.checked,e!=null&&Cv(t,"checked",e,!1)}function Sy(t,e){nS(t,e);var n=Ys(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?by(t,e.type,n):e.hasOwnProperty("defaultValue")&&by(t,e.type,Ys(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function $E(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function by(t,e,n){(e!=="number"||Tf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Vu=Array.isArray;function Za(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ys(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ky(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return gt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function jE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(X(92));if(Vu(n)){if(1<n.length)throw Error(X(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ys(n)}}function rS(t,e){var n=Ys(e.value),r=Ys(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function BE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function iS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ay(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?iS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var hd,sS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(hd=hd||document.createElement("div"),hd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=hd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function yc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Qu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},CO=["Webkit","ms","Moz","O"];Object.keys(Qu).forEach(function(t){CO.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Qu[e]=Qu[t]})});function oS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Qu.hasOwnProperty(t)&&Qu[t]?(""+e).trim():e+"px"}function aS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=oS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var SO=gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xy(t,e){if(e){if(SO[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function Ry(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Py=null;function Av(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ny=null,el=null,tl=null;function zE(t){if(t=rh(t)){if(typeof Ny!="function")throw Error(X(280));var e=t.stateNode;e&&(e=zp(e),Ny(t.stateNode,t.type,e))}}function lS(t){el?tl?tl.push(t):tl=[t]:el=t}function uS(){if(el){var t=el,e=tl;if(tl=el=null,zE(t),e)for(t=0;t<e.length;t++)zE(e[t])}}function cS(t,e){return t(e)}function hS(){}var fg=!1;function dS(t,e,n){if(fg)return t(e,n);fg=!0;try{return cS(t,e,n)}finally{fg=!1,(el!==null||tl!==null)&&(hS(),uS())}}function _c(t,e){var n=t.stateNode;if(n===null)return null;var r=zp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(X(231,e,typeof n));return n}var Oy=!1;if(zi)try{var Iu={};Object.defineProperty(Iu,"passive",{get:function(){Oy=!0}}),window.addEventListener("test",Iu,Iu),window.removeEventListener("test",Iu,Iu)}catch{Oy=!1}function bO(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Yu=!1,If=null,Cf=!1,Dy=null,kO={onError:function(t){Yu=!0,If=t}};function AO(t,e,n,r,i,s,o,a,l){Yu=!1,If=null,bO.apply(kO,arguments)}function xO(t,e,n,r,i,s,o,a,l){if(AO.apply(this,arguments),Yu){if(Yu){var c=If;Yu=!1,If=null}else throw Error(X(198));Cf||(Cf=!0,Dy=c)}}function aa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function fS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function WE(t){if(aa(t)!==t)throw Error(X(188))}function RO(t){var e=t.alternate;if(!e){if(e=aa(t),e===null)throw Error(X(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return WE(i),t;if(s===r)return WE(i),e;s=s.sibling}throw Error(X(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?t:e}function pS(t){return t=RO(t),t!==null?mS(t):null}function mS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=mS(t);if(e!==null)return e;t=t.sibling}return null}var gS=ir.unstable_scheduleCallback,HE=ir.unstable_cancelCallback,PO=ir.unstable_shouldYield,NO=ir.unstable_requestPaint,bt=ir.unstable_now,OO=ir.unstable_getCurrentPriorityLevel,xv=ir.unstable_ImmediatePriority,yS=ir.unstable_UserBlockingPriority,Sf=ir.unstable_NormalPriority,DO=ir.unstable_LowPriority,_S=ir.unstable_IdlePriority,Up=null,ni=null;function LO(t){if(ni&&typeof ni.onCommitFiberRoot=="function")try{ni.onCommitFiberRoot(Up,t,void 0,(t.current.flags&128)===128)}catch{}}var Dr=Math.clz32?Math.clz32:VO,MO=Math.log,FO=Math.LN2;function VO(t){return t>>>=0,t===0?32:31-(MO(t)/FO|0)|0}var dd=64,fd=4194304;function Uu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function bf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Uu(a):(s&=o,s!==0&&(r=Uu(s)))}else o=n&~i,o!==0?r=Uu(o):s!==0&&(r=Uu(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Dr(e),i=1<<n,r|=t[n],e&=~i;return r}function UO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $O(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Dr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=UO(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Ly(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vS(){var t=dd;return dd<<=1,!(dd&4194240)&&(dd=64),t}function pg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function th(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Dr(e),t[e]=n}function jO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Dr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Rv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Dr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var He=0;function wS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ES,Pv,TS,IS,CS,My=!1,pd=[],Ms=null,Fs=null,Vs=null,vc=new Map,wc=new Map,Is=[],BO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qE(t,e){switch(t){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":Fs=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":vc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":wc.delete(e.pointerId)}}function Cu(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=rh(e),e!==null&&Pv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function zO(t,e,n,r,i){switch(e){case"focusin":return Ms=Cu(Ms,t,e,n,r,i),!0;case"dragenter":return Fs=Cu(Fs,t,e,n,r,i),!0;case"mouseover":return Vs=Cu(Vs,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return vc.set(s,Cu(vc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,wc.set(s,Cu(wc.get(s)||null,t,e,n,r,i)),!0}return!1}function SS(t){var e=Po(t.target);if(e!==null){var n=aa(e);if(n!==null){if(e=n.tag,e===13){if(e=fS(n),e!==null){t.blockedOn=e,CS(t.priority,function(){TS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Fy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Py=r,n.target.dispatchEvent(r),Py=null}else return e=rh(n),e!==null&&Pv(e),t.blockedOn=n,!1;e.shift()}return!0}function GE(t,e,n){Bd(t)&&n.delete(e)}function WO(){My=!1,Ms!==null&&Bd(Ms)&&(Ms=null),Fs!==null&&Bd(Fs)&&(Fs=null),Vs!==null&&Bd(Vs)&&(Vs=null),vc.forEach(GE),wc.forEach(GE)}function Su(t,e){t.blockedOn===e&&(t.blockedOn=null,My||(My=!0,ir.unstable_scheduleCallback(ir.unstable_NormalPriority,WO)))}function Ec(t){function e(i){return Su(i,t)}if(0<pd.length){Su(pd[0],t);for(var n=1;n<pd.length;n++){var r=pd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ms!==null&&Su(Ms,t),Fs!==null&&Su(Fs,t),Vs!==null&&Su(Vs,t),vc.forEach(e),wc.forEach(e),n=0;n<Is.length;n++)r=Is[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Is.length&&(n=Is[0],n.blockedOn===null);)SS(n),n.blockedOn===null&&Is.shift()}var nl=Zi.ReactCurrentBatchConfig,kf=!0;function HO(t,e,n,r){var i=He,s=nl.transition;nl.transition=null;try{He=1,Nv(t,e,n,r)}finally{He=i,nl.transition=s}}function qO(t,e,n,r){var i=He,s=nl.transition;nl.transition=null;try{He=4,Nv(t,e,n,r)}finally{He=i,nl.transition=s}}function Nv(t,e,n,r){if(kf){var i=Fy(t,e,n,r);if(i===null)Cg(t,e,r,Af,n),qE(t,r);else if(zO(i,t,e,n,r))r.stopPropagation();else if(qE(t,r),e&4&&-1<BO.indexOf(t)){for(;i!==null;){var s=rh(i);if(s!==null&&ES(s),s=Fy(t,e,n,r),s===null&&Cg(t,e,r,Af,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Cg(t,e,r,null,n)}}var Af=null;function Fy(t,e,n,r){if(Af=null,t=Av(r),t=Po(t),t!==null)if(e=aa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=fS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Af=t,null}function bS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(OO()){case xv:return 1;case yS:return 4;case Sf:case DO:return 16;case _S:return 536870912;default:return 16}default:return 16}}var Ps=null,Ov=null,zd=null;function kS(){if(zd)return zd;var t,e=Ov,n=e.length,r,i="value"in Ps?Ps.value:Ps.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return zd=i.slice(t,1<r?1-r:void 0)}function Wd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function md(){return!0}function KE(){return!1}function or(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?md:KE,this.isPropagationStopped=KE,this}return gt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=md)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=md)},persist:function(){},isPersistent:md}),e}var Kl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dv=or(Kl),nh=gt({},Kl,{view:0,detail:0}),GO=or(nh),mg,gg,bu,$p=gt({},nh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bu&&(bu&&t.type==="mousemove"?(mg=t.screenX-bu.screenX,gg=t.screenY-bu.screenY):gg=mg=0,bu=t),mg)},movementY:function(t){return"movementY"in t?t.movementY:gg}}),QE=or($p),KO=gt({},$p,{dataTransfer:0}),QO=or(KO),YO=gt({},nh,{relatedTarget:0}),yg=or(YO),XO=gt({},Kl,{animationName:0,elapsedTime:0,pseudoElement:0}),JO=or(XO),ZO=gt({},Kl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),eD=or(ZO),tD=gt({},Kl,{data:0}),YE=or(tD),nD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=iD[t])?!!e[t]:!1}function Lv(){return sD}var oD=gt({},nh,{key:function(t){if(t.key){var e=nD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Wd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?rD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lv,charCode:function(t){return t.type==="keypress"?Wd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),aD=or(oD),lD=gt({},$p,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),XE=or(lD),uD=gt({},nh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lv}),cD=or(uD),hD=gt({},Kl,{propertyName:0,elapsedTime:0,pseudoElement:0}),dD=or(hD),fD=gt({},$p,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pD=or(fD),mD=[9,13,27,32],Mv=zi&&"CompositionEvent"in window,Xu=null;zi&&"documentMode"in document&&(Xu=document.documentMode);var gD=zi&&"TextEvent"in window&&!Xu,AS=zi&&(!Mv||Xu&&8<Xu&&11>=Xu),JE=String.fromCharCode(32),ZE=!1;function xS(t,e){switch(t){case"keyup":return mD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fa=!1;function yD(t,e){switch(t){case"compositionend":return RS(e);case"keypress":return e.which!==32?null:(ZE=!0,JE);case"textInput":return t=e.data,t===JE&&ZE?null:t;default:return null}}function _D(t,e){if(Fa)return t==="compositionend"||!Mv&&xS(t,e)?(t=kS(),zd=Ov=Ps=null,Fa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return AS&&e.locale!=="ko"?null:e.data;default:return null}}var vD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function e1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!vD[t.type]:e==="textarea"}function PS(t,e,n,r){lS(r),e=xf(e,"onChange"),0<e.length&&(n=new Dv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ju=null,Tc=null;function wD(t){BS(t,0)}function jp(t){var e=$a(t);if(tS(e))return t}function ED(t,e){if(t==="change")return e}var NS=!1;if(zi){var _g;if(zi){var vg="oninput"in document;if(!vg){var t1=document.createElement("div");t1.setAttribute("oninput","return;"),vg=typeof t1.oninput=="function"}_g=vg}else _g=!1;NS=_g&&(!document.documentMode||9<document.documentMode)}function n1(){Ju&&(Ju.detachEvent("onpropertychange",OS),Tc=Ju=null)}function OS(t){if(t.propertyName==="value"&&jp(Tc)){var e=[];PS(e,Tc,t,Av(t)),dS(wD,e)}}function TD(t,e,n){t==="focusin"?(n1(),Ju=e,Tc=n,Ju.attachEvent("onpropertychange",OS)):t==="focusout"&&n1()}function ID(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jp(Tc)}function CD(t,e){if(t==="click")return jp(e)}function SD(t,e){if(t==="input"||t==="change")return jp(e)}function bD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Vr=typeof Object.is=="function"?Object.is:bD;function Ic(t,e){if(Vr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!vy.call(e,i)||!Vr(t[i],e[i]))return!1}return!0}function r1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function i1(t,e){var n=r1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=r1(n)}}function DS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?DS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function LS(){for(var t=window,e=Tf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Tf(t.document)}return e}function Fv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function kD(t){var e=LS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&DS(n.ownerDocument.documentElement,n)){if(r!==null&&Fv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=i1(n,s);var o=i1(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var AD=zi&&"documentMode"in document&&11>=document.documentMode,Va=null,Vy=null,Zu=null,Uy=!1;function s1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Uy||Va==null||Va!==Tf(r)||(r=Va,"selectionStart"in r&&Fv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Zu&&Ic(Zu,r)||(Zu=r,r=xf(Vy,"onSelect"),0<r.length&&(e=new Dv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Va)))}function gd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ua={animationend:gd("Animation","AnimationEnd"),animationiteration:gd("Animation","AnimationIteration"),animationstart:gd("Animation","AnimationStart"),transitionend:gd("Transition","TransitionEnd")},wg={},MS={};zi&&(MS=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function Bp(t){if(wg[t])return wg[t];if(!Ua[t])return t;var e=Ua[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in MS)return wg[t]=e[n];return t}var FS=Bp("animationend"),VS=Bp("animationiteration"),US=Bp("animationstart"),$S=Bp("transitionend"),jS=new Map,o1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function io(t,e){jS.set(t,e),oa(e,[t])}for(var Eg=0;Eg<o1.length;Eg++){var Tg=o1[Eg],xD=Tg.toLowerCase(),RD=Tg[0].toUpperCase()+Tg.slice(1);io(xD,"on"+RD)}io(FS,"onAnimationEnd");io(VS,"onAnimationIteration");io(US,"onAnimationStart");io("dblclick","onDoubleClick");io("focusin","onFocus");io("focusout","onBlur");io($S,"onTransitionEnd");ml("onMouseEnter",["mouseout","mouseover"]);ml("onMouseLeave",["mouseout","mouseover"]);ml("onPointerEnter",["pointerout","pointerover"]);ml("onPointerLeave",["pointerout","pointerover"]);oa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));oa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));oa("onBeforeInput",["compositionend","keypress","textInput","paste"]);oa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));oa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));oa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $u="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PD=new Set("cancel close invalid load scroll toggle".split(" ").concat($u));function a1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,xO(r,e,void 0,t),t.currentTarget=null}function BS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;a1(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;a1(i,a,c),s=l}}}if(Cf)throw t=Dy,Cf=!1,Dy=null,t}function ot(t,e){var n=e[Wy];n===void 0&&(n=e[Wy]=new Set);var r=t+"__bubble";n.has(r)||(zS(e,t,2,!1),n.add(r))}function Ig(t,e,n){var r=0;e&&(r|=4),zS(n,t,r,e)}var yd="_reactListening"+Math.random().toString(36).slice(2);function Cc(t){if(!t[yd]){t[yd]=!0,YC.forEach(function(n){n!=="selectionchange"&&(PD.has(n)||Ig(n,!1,t),Ig(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[yd]||(e[yd]=!0,Ig("selectionchange",!1,e))}}function zS(t,e,n,r){switch(bS(e)){case 1:var i=HO;break;case 4:i=qO;break;default:i=Nv}n=i.bind(null,e,n,t),i=void 0,!Oy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Cg(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Po(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}dS(function(){var c=s,d=Av(n),m=[];e:{var g=jS.get(t);if(g!==void 0){var E=Dv,S=t;switch(t){case"keypress":if(Wd(n)===0)break e;case"keydown":case"keyup":E=aD;break;case"focusin":S="focus",E=yg;break;case"focusout":S="blur",E=yg;break;case"beforeblur":case"afterblur":E=yg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=QE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=QO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=cD;break;case FS:case VS:case US:E=JO;break;case $S:E=dD;break;case"scroll":E=GO;break;case"wheel":E=pD;break;case"copy":case"cut":case"paste":E=eD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=XE}var A=(e&4)!==0,D=!A&&t==="scroll",b=A?g!==null?g+"Capture":null:g;A=[];for(var w=c,k;w!==null;){k=w;var F=k.stateNode;if(k.tag===5&&F!==null&&(k=F,b!==null&&(F=_c(w,b),F!=null&&A.push(Sc(w,F,k)))),D)break;w=w.return}0<A.length&&(g=new E(g,S,null,n,d),m.push({event:g,listeners:A}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",g&&n!==Py&&(S=n.relatedTarget||n.fromElement)&&(Po(S)||S[Wi]))break e;if((E||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,E?(S=n.relatedTarget||n.toElement,E=c,S=S?Po(S):null,S!==null&&(D=aa(S),S!==D||S.tag!==5&&S.tag!==6)&&(S=null)):(E=null,S=c),E!==S)){if(A=QE,F="onMouseLeave",b="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(A=XE,F="onPointerLeave",b="onPointerEnter",w="pointer"),D=E==null?g:$a(E),k=S==null?g:$a(S),g=new A(F,w+"leave",E,n,d),g.target=D,g.relatedTarget=k,F=null,Po(d)===c&&(A=new A(b,w+"enter",S,n,d),A.target=k,A.relatedTarget=D,F=A),D=F,E&&S)t:{for(A=E,b=S,w=0,k=A;k;k=ka(k))w++;for(k=0,F=b;F;F=ka(F))k++;for(;0<w-k;)A=ka(A),w--;for(;0<k-w;)b=ka(b),k--;for(;w--;){if(A===b||b!==null&&A===b.alternate)break t;A=ka(A),b=ka(b)}A=null}else A=null;E!==null&&l1(m,g,E,A,!1),S!==null&&D!==null&&l1(m,D,S,A,!0)}}e:{if(g=c?$a(c):window,E=g.nodeName&&g.nodeName.toLowerCase(),E==="select"||E==="input"&&g.type==="file")var j=ED;else if(e1(g))if(NS)j=SD;else{j=ID;var W=TD}else(E=g.nodeName)&&E.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(j=CD);if(j&&(j=j(t,c))){PS(m,j,n,d);break e}W&&W(t,g,c),t==="focusout"&&(W=g._wrapperState)&&W.controlled&&g.type==="number"&&by(g,"number",g.value)}switch(W=c?$a(c):window,t){case"focusin":(e1(W)||W.contentEditable==="true")&&(Va=W,Vy=c,Zu=null);break;case"focusout":Zu=Vy=Va=null;break;case"mousedown":Uy=!0;break;case"contextmenu":case"mouseup":case"dragend":Uy=!1,s1(m,n,d);break;case"selectionchange":if(AD)break;case"keydown":case"keyup":s1(m,n,d)}var I;if(Mv)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Fa?xS(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(AS&&n.locale!=="ko"&&(Fa||C!=="onCompositionStart"?C==="onCompositionEnd"&&Fa&&(I=kS()):(Ps=d,Ov="value"in Ps?Ps.value:Ps.textContent,Fa=!0)),W=xf(c,C),0<W.length&&(C=new YE(C,t,null,n,d),m.push({event:C,listeners:W}),I?C.data=I:(I=RS(n),I!==null&&(C.data=I)))),(I=gD?yD(t,n):_D(t,n))&&(c=xf(c,"onBeforeInput"),0<c.length&&(d=new YE("onBeforeInput","beforeinput",null,n,d),m.push({event:d,listeners:c}),d.data=I))}BS(m,e)})}function Sc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function xf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=_c(t,n),s!=null&&r.unshift(Sc(t,s,i)),s=_c(t,e),s!=null&&r.push(Sc(t,s,i))),t=t.return}return r}function ka(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function l1(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=_c(n,s),l!=null&&o.unshift(Sc(n,l,a))):i||(l=_c(n,s),l!=null&&o.push(Sc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var ND=/\r\n?/g,OD=/\u0000|\uFFFD/g;function u1(t){return(typeof t=="string"?t:""+t).replace(ND,`
`).replace(OD,"")}function _d(t,e,n){if(e=u1(e),u1(t)!==e&&n)throw Error(X(425))}function Rf(){}var $y=null,jy=null;function By(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var zy=typeof setTimeout=="function"?setTimeout:void 0,DD=typeof clearTimeout=="function"?clearTimeout:void 0,c1=typeof Promise=="function"?Promise:void 0,LD=typeof queueMicrotask=="function"?queueMicrotask:typeof c1<"u"?function(t){return c1.resolve(null).then(t).catch(MD)}:zy;function MD(t){setTimeout(function(){throw t})}function Sg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ec(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ec(e)}function Us(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function h1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ql=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Ql,bc="__reactProps$"+Ql,Wi="__reactContainer$"+Ql,Wy="__reactEvents$"+Ql,FD="__reactListeners$"+Ql,VD="__reactHandles$"+Ql;function Po(t){var e=t[Jr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Wi]||n[Jr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=h1(t);t!==null;){if(n=t[Jr])return n;t=h1(t)}return e}t=n,n=t.parentNode}return null}function rh(t){return t=t[Jr]||t[Wi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $a(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function zp(t){return t[bc]||null}var Hy=[],ja=-1;function so(t){return{current:t}}function ct(t){0>ja||(t.current=Hy[ja],Hy[ja]=null,ja--)}function rt(t,e){ja++,Hy[ja]=t.current,t.current=e}var Xs={},En=so(Xs),jn=so(!1),Ho=Xs;function gl(t,e){var n=t.type.contextTypes;if(!n)return Xs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Bn(t){return t=t.childContextTypes,t!=null}function Pf(){ct(jn),ct(En)}function d1(t,e,n){if(En.current!==Xs)throw Error(X(168));rt(En,e),rt(jn,n)}function WS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(X(108,TO(t)||"Unknown",i));return gt({},n,r)}function Nf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xs,Ho=En.current,rt(En,t),rt(jn,jn.current),!0}function f1(t,e,n){var r=t.stateNode;if(!r)throw Error(X(169));n?(t=WS(t,e,Ho),r.__reactInternalMemoizedMergedChildContext=t,ct(jn),ct(En),rt(En,t)):ct(jn),rt(jn,n)}var Oi=null,Wp=!1,bg=!1;function HS(t){Oi===null?Oi=[t]:Oi.push(t)}function UD(t){Wp=!0,HS(t)}function oo(){if(!bg&&Oi!==null){bg=!0;var t=0,e=He;try{var n=Oi;for(He=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Oi=null,Wp=!1}catch(i){throw Oi!==null&&(Oi=Oi.slice(t+1)),gS(xv,oo),i}finally{He=e,bg=!1}}return null}var Ba=[],za=0,Of=null,Df=0,cr=[],hr=0,qo=null,Di=1,Li="";function ko(t,e){Ba[za++]=Df,Ba[za++]=Of,Of=t,Df=e}function qS(t,e,n){cr[hr++]=Di,cr[hr++]=Li,cr[hr++]=qo,qo=t;var r=Di;t=Li;var i=32-Dr(r)-1;r&=~(1<<i),n+=1;var s=32-Dr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Di=1<<32-Dr(e)+i|n<<i|r,Li=s+t}else Di=1<<s|n<<i|r,Li=t}function Vv(t){t.return!==null&&(ko(t,1),qS(t,1,0))}function Uv(t){for(;t===Of;)Of=Ba[--za],Ba[za]=null,Df=Ba[--za],Ba[za]=null;for(;t===qo;)qo=cr[--hr],cr[hr]=null,Li=cr[--hr],cr[hr]=null,Di=cr[--hr],cr[hr]=null}var tr=null,Zn=null,ft=!1,Ar=null;function GS(t,e){var n=dr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function p1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,tr=t,Zn=Us(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,tr=t,Zn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=qo!==null?{id:Di,overflow:Li}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=dr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,tr=t,Zn=null,!0):!1;default:return!1}}function qy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Gy(t){if(ft){var e=Zn;if(e){var n=e;if(!p1(t,e)){if(qy(t))throw Error(X(418));e=Us(n.nextSibling);var r=tr;e&&p1(t,e)?GS(r,n):(t.flags=t.flags&-4097|2,ft=!1,tr=t)}}else{if(qy(t))throw Error(X(418));t.flags=t.flags&-4097|2,ft=!1,tr=t}}}function m1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tr=t}function vd(t){if(t!==tr)return!1;if(!ft)return m1(t),ft=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!By(t.type,t.memoizedProps)),e&&(e=Zn)){if(qy(t))throw KS(),Error(X(418));for(;e;)GS(t,e),e=Us(e.nextSibling)}if(m1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Zn=Us(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Zn=null}}else Zn=tr?Us(t.stateNode.nextSibling):null;return!0}function KS(){for(var t=Zn;t;)t=Us(t.nextSibling)}function yl(){Zn=tr=null,ft=!1}function $v(t){Ar===null?Ar=[t]:Ar.push(t)}var $D=Zi.ReactCurrentBatchConfig;function br(t,e){if(t&&t.defaultProps){e=gt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Lf=so(null),Mf=null,Wa=null,jv=null;function Bv(){jv=Wa=Mf=null}function zv(t){var e=Lf.current;ct(Lf),t._currentValue=e}function Ky(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function rl(t,e){Mf=t,jv=Wa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Un=!0),t.firstContext=null)}function mr(t){var e=t._currentValue;if(jv!==t)if(t={context:t,memoizedValue:e,next:null},Wa===null){if(Mf===null)throw Error(X(308));Wa=t,Mf.dependencies={lanes:0,firstContext:t}}else Wa=Wa.next=t;return e}var No=null;function Wv(t){No===null?No=[t]:No.push(t)}function QS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Wv(e)):(n.next=i.next,i.next=n),e.interleaved=n,Hi(t,r)}function Hi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ts=!1;function Hv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function YS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $i(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $s(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Hi(t,n)}return i=r.interleaved,i===null?(e.next=e,Wv(r)):(e.next=i.next,i.next=e),r.interleaved=e,Hi(t,n)}function Hd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Rv(t,n)}}function g1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ff(t,e,n,r){var i=t.updateQueue;Ts=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var m=i.baseState;o=0,d=c=l=null,a=s;do{var g=a.lane,E=a.eventTime;if((r&g)===g){d!==null&&(d=d.next={eventTime:E,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=t,A=a;switch(g=e,E=n,A.tag){case 1:if(S=A.payload,typeof S=="function"){m=S.call(E,m,g);break e}m=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=A.payload,g=typeof S=="function"?S.call(E,m,g):S,g==null)break e;m=gt({},m,g);break e;case 2:Ts=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[a]:g.push(a))}else E={eventTime:E,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=E,l=m):d=d.next=E,o|=g;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;g=a,a=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(1);if(d===null&&(l=m),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ko|=o,t.lanes=o,t.memoizedState=m}}function y1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(X(191,i));i.call(r)}}}var XS=new QC.Component().refs;function Qy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:gt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Hp={isMounted:function(t){return(t=t._reactInternals)?aa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Rn(),i=Bs(t),s=$i(r,i);s.payload=e,n!=null&&(s.callback=n),e=$s(t,s,i),e!==null&&(Lr(e,t,i,r),Hd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Rn(),i=Bs(t),s=$i(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=$s(t,s,i),e!==null&&(Lr(e,t,i,r),Hd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Rn(),r=Bs(t),i=$i(n,r);i.tag=2,e!=null&&(i.callback=e),e=$s(t,i,r),e!==null&&(Lr(e,t,r,n),Hd(e,t,r))}};function _1(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ic(n,r)||!Ic(i,s):!0}function JS(t,e,n){var r=!1,i=Xs,s=e.contextType;return typeof s=="object"&&s!==null?s=mr(s):(i=Bn(e)?Ho:En.current,r=e.contextTypes,s=(r=r!=null)?gl(t,i):Xs),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function v1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Hp.enqueueReplaceState(e,e.state,null)}function Yy(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=XS,Hv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=mr(s):(s=Bn(e)?Ho:En.current,i.context=gl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Qy(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Hp.enqueueReplaceState(i,i.state,null),Ff(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ku(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===XS&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,t))}return t}function wd(t,e){throw t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function w1(t){var e=t._init;return e(t._payload)}function ZS(t){function e(b,w){if(t){var k=b.deletions;k===null?(b.deletions=[w],b.flags|=16):k.push(w)}}function n(b,w){if(!t)return null;for(;w!==null;)e(b,w),w=w.sibling;return null}function r(b,w){for(b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function i(b,w){return b=zs(b,w),b.index=0,b.sibling=null,b}function s(b,w,k){return b.index=k,t?(k=b.alternate,k!==null?(k=k.index,k<w?(b.flags|=2,w):k):(b.flags|=2,w)):(b.flags|=1048576,w)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,w,k,F){return w===null||w.tag!==6?(w=Og(k,b.mode,F),w.return=b,w):(w=i(w,k),w.return=b,w)}function l(b,w,k,F){var j=k.type;return j===Ma?d(b,w,k.props.children,F,k.key):w!==null&&(w.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Es&&w1(j)===w.type)?(F=i(w,k.props),F.ref=ku(b,w,k),F.return=b,F):(F=Xd(k.type,k.key,k.props,null,b.mode,F),F.ref=ku(b,w,k),F.return=b,F)}function c(b,w,k,F){return w===null||w.tag!==4||w.stateNode.containerInfo!==k.containerInfo||w.stateNode.implementation!==k.implementation?(w=Dg(k,b.mode,F),w.return=b,w):(w=i(w,k.children||[]),w.return=b,w)}function d(b,w,k,F,j){return w===null||w.tag!==7?(w=$o(k,b.mode,F,j),w.return=b,w):(w=i(w,k),w.return=b,w)}function m(b,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Og(""+w,b.mode,k),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ud:return k=Xd(w.type,w.key,w.props,null,b.mode,k),k.ref=ku(b,null,w),k.return=b,k;case La:return w=Dg(w,b.mode,k),w.return=b,w;case Es:var F=w._init;return m(b,F(w._payload),k)}if(Vu(w)||Tu(w))return w=$o(w,b.mode,k,null),w.return=b,w;wd(b,w)}return null}function g(b,w,k,F){var j=w!==null?w.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return j!==null?null:a(b,w,""+k,F);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ud:return k.key===j?l(b,w,k,F):null;case La:return k.key===j?c(b,w,k,F):null;case Es:return j=k._init,g(b,w,j(k._payload),F)}if(Vu(k)||Tu(k))return j!==null?null:d(b,w,k,F,null);wd(b,k)}return null}function E(b,w,k,F,j){if(typeof F=="string"&&F!==""||typeof F=="number")return b=b.get(k)||null,a(w,b,""+F,j);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case ud:return b=b.get(F.key===null?k:F.key)||null,l(w,b,F,j);case La:return b=b.get(F.key===null?k:F.key)||null,c(w,b,F,j);case Es:var W=F._init;return E(b,w,k,W(F._payload),j)}if(Vu(F)||Tu(F))return b=b.get(k)||null,d(w,b,F,j,null);wd(w,F)}return null}function S(b,w,k,F){for(var j=null,W=null,I=w,C=w=0,x=null;I!==null&&C<k.length;C++){I.index>C?(x=I,I=null):x=I.sibling;var N=g(b,I,k[C],F);if(N===null){I===null&&(I=x);break}t&&I&&N.alternate===null&&e(b,I),w=s(N,w,C),W===null?j=N:W.sibling=N,W=N,I=x}if(C===k.length)return n(b,I),ft&&ko(b,C),j;if(I===null){for(;C<k.length;C++)I=m(b,k[C],F),I!==null&&(w=s(I,w,C),W===null?j=I:W.sibling=I,W=I);return ft&&ko(b,C),j}for(I=r(b,I);C<k.length;C++)x=E(I,b,C,k[C],F),x!==null&&(t&&x.alternate!==null&&I.delete(x.key===null?C:x.key),w=s(x,w,C),W===null?j=x:W.sibling=x,W=x);return t&&I.forEach(function(L){return e(b,L)}),ft&&ko(b,C),j}function A(b,w,k,F){var j=Tu(k);if(typeof j!="function")throw Error(X(150));if(k=j.call(k),k==null)throw Error(X(151));for(var W=j=null,I=w,C=w=0,x=null,N=k.next();I!==null&&!N.done;C++,N=k.next()){I.index>C?(x=I,I=null):x=I.sibling;var L=g(b,I,N.value,F);if(L===null){I===null&&(I=x);break}t&&I&&L.alternate===null&&e(b,I),w=s(L,w,C),W===null?j=L:W.sibling=L,W=L,I=x}if(N.done)return n(b,I),ft&&ko(b,C),j;if(I===null){for(;!N.done;C++,N=k.next())N=m(b,N.value,F),N!==null&&(w=s(N,w,C),W===null?j=N:W.sibling=N,W=N);return ft&&ko(b,C),j}for(I=r(b,I);!N.done;C++,N=k.next())N=E(I,b,C,N.value,F),N!==null&&(t&&N.alternate!==null&&I.delete(N.key===null?C:N.key),w=s(N,w,C),W===null?j=N:W.sibling=N,W=N);return t&&I.forEach(function(M){return e(b,M)}),ft&&ko(b,C),j}function D(b,w,k,F){if(typeof k=="object"&&k!==null&&k.type===Ma&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case ud:e:{for(var j=k.key,W=w;W!==null;){if(W.key===j){if(j=k.type,j===Ma){if(W.tag===7){n(b,W.sibling),w=i(W,k.props.children),w.return=b,b=w;break e}}else if(W.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Es&&w1(j)===W.type){n(b,W.sibling),w=i(W,k.props),w.ref=ku(b,W,k),w.return=b,b=w;break e}n(b,W);break}else e(b,W);W=W.sibling}k.type===Ma?(w=$o(k.props.children,b.mode,F,k.key),w.return=b,b=w):(F=Xd(k.type,k.key,k.props,null,b.mode,F),F.ref=ku(b,w,k),F.return=b,b=F)}return o(b);case La:e:{for(W=k.key;w!==null;){if(w.key===W)if(w.tag===4&&w.stateNode.containerInfo===k.containerInfo&&w.stateNode.implementation===k.implementation){n(b,w.sibling),w=i(w,k.children||[]),w.return=b,b=w;break e}else{n(b,w);break}else e(b,w);w=w.sibling}w=Dg(k,b.mode,F),w.return=b,b=w}return o(b);case Es:return W=k._init,D(b,w,W(k._payload),F)}if(Vu(k))return S(b,w,k,F);if(Tu(k))return A(b,w,k,F);wd(b,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,w!==null&&w.tag===6?(n(b,w.sibling),w=i(w,k),w.return=b,b=w):(n(b,w),w=Og(k,b.mode,F),w.return=b,b=w),o(b)):n(b,w)}return D}var _l=ZS(!0),eb=ZS(!1),ih={},ri=so(ih),kc=so(ih),Ac=so(ih);function Oo(t){if(t===ih)throw Error(X(174));return t}function qv(t,e){switch(rt(Ac,e),rt(kc,t),rt(ri,ih),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ay(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ay(e,t)}ct(ri),rt(ri,e)}function vl(){ct(ri),ct(kc),ct(Ac)}function tb(t){Oo(Ac.current);var e=Oo(ri.current),n=Ay(e,t.type);e!==n&&(rt(kc,t),rt(ri,n))}function Gv(t){kc.current===t&&(ct(ri),ct(kc))}var pt=so(0);function Vf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var kg=[];function Kv(){for(var t=0;t<kg.length;t++)kg[t]._workInProgressVersionPrimary=null;kg.length=0}var qd=Zi.ReactCurrentDispatcher,Ag=Zi.ReactCurrentBatchConfig,Go=0,mt=null,Mt=null,Kt=null,Uf=!1,ec=!1,xc=0,jD=0;function hn(){throw Error(X(321))}function Qv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Vr(t[n],e[n]))return!1;return!0}function Yv(t,e,n,r,i,s){if(Go=s,mt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,qd.current=t===null||t.memoizedState===null?HD:qD,t=n(r,i),ec){s=0;do{if(ec=!1,xc=0,25<=s)throw Error(X(301));s+=1,Kt=Mt=null,e.updateQueue=null,qd.current=GD,t=n(r,i)}while(ec)}if(qd.current=$f,e=Mt!==null&&Mt.next!==null,Go=0,Kt=Mt=mt=null,Uf=!1,e)throw Error(X(300));return t}function Xv(){var t=xc!==0;return xc=0,t}function Gr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?mt.memoizedState=Kt=t:Kt=Kt.next=t,Kt}function gr(){if(Mt===null){var t=mt.alternate;t=t!==null?t.memoizedState:null}else t=Mt.next;var e=Kt===null?mt.memoizedState:Kt.next;if(e!==null)Kt=e,Mt=t;else{if(t===null)throw Error(X(310));Mt=t,t={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},Kt===null?mt.memoizedState=Kt=t:Kt=Kt.next=t}return Kt}function Rc(t,e){return typeof e=="function"?e(t):e}function xg(t){var e=gr(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=Mt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((Go&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var m={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=m,o=r):l=l.next=m,mt.lanes|=d,Ko|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Vr(r,e.memoizedState)||(Un=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,mt.lanes|=s,Ko|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Rg(t){var e=gr(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Vr(s,e.memoizedState)||(Un=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function nb(){}function rb(t,e){var n=mt,r=gr(),i=e(),s=!Vr(r.memoizedState,i);if(s&&(r.memoizedState=i,Un=!0),r=r.queue,Jv(ob.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Kt!==null&&Kt.memoizedState.tag&1){if(n.flags|=2048,Pc(9,sb.bind(null,n,r,i,e),void 0,null),Xt===null)throw Error(X(349));Go&30||ib(n,e,i)}return i}function ib(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=mt.updateQueue,e===null?(e={lastEffect:null,stores:null},mt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function sb(t,e,n,r){e.value=n,e.getSnapshot=r,ab(e)&&lb(t)}function ob(t,e,n){return n(function(){ab(e)&&lb(t)})}function ab(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Vr(t,n)}catch{return!0}}function lb(t){var e=Hi(t,1);e!==null&&Lr(e,t,1,-1)}function E1(t){var e=Gr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rc,lastRenderedState:t},e.queue=t,t=t.dispatch=WD.bind(null,mt,t),[e.memoizedState,t]}function Pc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=mt.updateQueue,e===null?(e={lastEffect:null,stores:null},mt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ub(){return gr().memoizedState}function Gd(t,e,n,r){var i=Gr();mt.flags|=t,i.memoizedState=Pc(1|e,n,void 0,r===void 0?null:r)}function qp(t,e,n,r){var i=gr();r=r===void 0?null:r;var s=void 0;if(Mt!==null){var o=Mt.memoizedState;if(s=o.destroy,r!==null&&Qv(r,o.deps)){i.memoizedState=Pc(e,n,s,r);return}}mt.flags|=t,i.memoizedState=Pc(1|e,n,s,r)}function T1(t,e){return Gd(8390656,8,t,e)}function Jv(t,e){return qp(2048,8,t,e)}function cb(t,e){return qp(4,2,t,e)}function hb(t,e){return qp(4,4,t,e)}function db(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function fb(t,e,n){return n=n!=null?n.concat([t]):null,qp(4,4,db.bind(null,e,t),n)}function Zv(){}function pb(t,e){var n=gr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function mb(t,e){var n=gr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function gb(t,e,n){return Go&21?(Vr(n,e)||(n=vS(),mt.lanes|=n,Ko|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Un=!0),t.memoizedState=n)}function BD(t,e){var n=He;He=n!==0&&4>n?n:4,t(!0);var r=Ag.transition;Ag.transition={};try{t(!1),e()}finally{He=n,Ag.transition=r}}function yb(){return gr().memoizedState}function zD(t,e,n){var r=Bs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},_b(t))vb(e,n);else if(n=QS(t,e,n,r),n!==null){var i=Rn();Lr(n,t,r,i),wb(n,e,r)}}function WD(t,e,n){var r=Bs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(_b(t))vb(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Vr(a,o)){var l=e.interleaved;l===null?(i.next=i,Wv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=QS(t,e,i,r),n!==null&&(i=Rn(),Lr(n,t,r,i),wb(n,e,r))}}function _b(t){var e=t.alternate;return t===mt||e!==null&&e===mt}function vb(t,e){ec=Uf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function wb(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Rv(t,n)}}var $f={readContext:mr,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useInsertionEffect:hn,useLayoutEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useMutableSource:hn,useSyncExternalStore:hn,useId:hn,unstable_isNewReconciler:!1},HD={readContext:mr,useCallback:function(t,e){return Gr().memoizedState=[t,e===void 0?null:e],t},useContext:mr,useEffect:T1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Gd(4194308,4,db.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Gd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Gd(4,2,t,e)},useMemo:function(t,e){var n=Gr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Gr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=zD.bind(null,mt,t),[r.memoizedState,t]},useRef:function(t){var e=Gr();return t={current:t},e.memoizedState=t},useState:E1,useDebugValue:Zv,useDeferredValue:function(t){return Gr().memoizedState=t},useTransition:function(){var t=E1(!1),e=t[0];return t=BD.bind(null,t[1]),Gr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=mt,i=Gr();if(ft){if(n===void 0)throw Error(X(407));n=n()}else{if(n=e(),Xt===null)throw Error(X(349));Go&30||ib(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,T1(ob.bind(null,r,s,t),[t]),r.flags|=2048,Pc(9,sb.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Gr(),e=Xt.identifierPrefix;if(ft){var n=Li,r=Di;n=(r&~(1<<32-Dr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=xc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=jD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},qD={readContext:mr,useCallback:pb,useContext:mr,useEffect:Jv,useImperativeHandle:fb,useInsertionEffect:cb,useLayoutEffect:hb,useMemo:mb,useReducer:xg,useRef:ub,useState:function(){return xg(Rc)},useDebugValue:Zv,useDeferredValue:function(t){var e=gr();return gb(e,Mt.memoizedState,t)},useTransition:function(){var t=xg(Rc)[0],e=gr().memoizedState;return[t,e]},useMutableSource:nb,useSyncExternalStore:rb,useId:yb,unstable_isNewReconciler:!1},GD={readContext:mr,useCallback:pb,useContext:mr,useEffect:Jv,useImperativeHandle:fb,useInsertionEffect:cb,useLayoutEffect:hb,useMemo:mb,useReducer:Rg,useRef:ub,useState:function(){return Rg(Rc)},useDebugValue:Zv,useDeferredValue:function(t){var e=gr();return Mt===null?e.memoizedState=t:gb(e,Mt.memoizedState,t)},useTransition:function(){var t=Rg(Rc)[0],e=gr().memoizedState;return[t,e]},useMutableSource:nb,useSyncExternalStore:rb,useId:yb,unstable_isNewReconciler:!1};function wl(t,e){try{var n="",r=e;do n+=EO(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Pg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Xy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var KD=typeof WeakMap=="function"?WeakMap:Map;function Eb(t,e,n){n=$i(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Bf||(Bf=!0,a_=r),Xy(t,e)},n}function Tb(t,e,n){n=$i(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Xy(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Xy(t,e),typeof r!="function"&&(js===null?js=new Set([this]):js.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function I1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new KD;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=lL.bind(null,t,e,n),e.then(t,t))}function C1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function S1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=$i(-1,1),e.tag=2,$s(n,e,1))),n.lanes|=1),t)}var QD=Zi.ReactCurrentOwner,Un=!1;function An(t,e,n,r){e.child=t===null?eb(e,null,n,r):_l(e,t.child,n,r)}function b1(t,e,n,r,i){n=n.render;var s=e.ref;return rl(e,i),r=Yv(t,e,n,r,s,i),n=Xv(),t!==null&&!Un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qi(t,e,i)):(ft&&n&&Vv(e),e.flags|=1,An(t,e,r,i),e.child)}function k1(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!a0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Ib(t,e,s,r,i)):(t=Xd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ic,n(o,r)&&t.ref===e.ref)return qi(t,e,i)}return e.flags|=1,t=zs(s,r),t.ref=e.ref,t.return=e,e.child=t}function Ib(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ic(s,r)&&t.ref===e.ref)if(Un=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Un=!0);else return e.lanes=t.lanes,qi(t,e,i)}return Jy(t,e,n,r,i)}function Cb(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(qa,Xn),Xn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,rt(qa,Xn),Xn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,rt(qa,Xn),Xn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,rt(qa,Xn),Xn|=r;return An(t,e,i,n),e.child}function Sb(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Jy(t,e,n,r,i){var s=Bn(n)?Ho:En.current;return s=gl(e,s),rl(e,i),n=Yv(t,e,n,r,s,i),r=Xv(),t!==null&&!Un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qi(t,e,i)):(ft&&r&&Vv(e),e.flags|=1,An(t,e,n,i),e.child)}function A1(t,e,n,r,i){if(Bn(n)){var s=!0;Nf(e)}else s=!1;if(rl(e,i),e.stateNode===null)Kd(t,e),JS(e,n,r),Yy(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=mr(c):(c=Bn(n)?Ho:En.current,c=gl(e,c));var d=n.getDerivedStateFromProps,m=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&v1(e,o,r,c),Ts=!1;var g=e.memoizedState;o.state=g,Ff(e,r,o,i),l=e.memoizedState,a!==r||g!==l||jn.current||Ts?(typeof d=="function"&&(Qy(e,n,d,r),l=e.memoizedState),(a=Ts||_1(e,n,a,r,g,l,c))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,YS(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:br(e.type,a),o.props=c,m=e.pendingProps,g=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=mr(l):(l=Bn(n)?Ho:En.current,l=gl(e,l));var E=n.getDerivedStateFromProps;(d=typeof E=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==m||g!==l)&&v1(e,o,r,l),Ts=!1,g=e.memoizedState,o.state=g,Ff(e,r,o,i);var S=e.memoizedState;a!==m||g!==S||jn.current||Ts?(typeof E=="function"&&(Qy(e,n,E,r),S=e.memoizedState),(c=Ts||_1(e,n,c,r,g,S,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return Zy(t,e,n,r,s,i)}function Zy(t,e,n,r,i,s){Sb(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&f1(e,n,!1),qi(t,e,s);r=e.stateNode,QD.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=_l(e,t.child,null,s),e.child=_l(e,null,a,s)):An(t,e,a,s),e.memoizedState=r.state,i&&f1(e,n,!0),e.child}function bb(t){var e=t.stateNode;e.pendingContext?d1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&d1(t,e.context,!1),qv(t,e.containerInfo)}function x1(t,e,n,r,i){return yl(),$v(i),e.flags|=256,An(t,e,n,r),e.child}var e_={dehydrated:null,treeContext:null,retryLane:0};function t_(t){return{baseLanes:t,cachePool:null,transitions:null}}function kb(t,e,n){var r=e.pendingProps,i=pt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),rt(pt,i&1),t===null)return Gy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Qp(o,r,0,null),t=$o(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=t_(n),e.memoizedState=e_,t):e0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return YD(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=zs(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=zs(a,s):(s=$o(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?t_(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=e_,r}return s=t.child,t=s.sibling,r=zs(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function e0(t,e){return e=Qp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ed(t,e,n,r){return r!==null&&$v(r),_l(e,t.child,null,n),t=e0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function YD(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Pg(Error(X(422))),Ed(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Qp({mode:"visible",children:r.children},i,0,null),s=$o(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&_l(e,t.child,null,o),e.child.memoizedState=t_(o),e.memoizedState=e_,s);if(!(e.mode&1))return Ed(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(X(419)),r=Pg(s,r,void 0),Ed(t,e,o,r)}if(a=(o&t.childLanes)!==0,Un||a){if(r=Xt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Hi(t,i),Lr(r,t,i,-1))}return o0(),r=Pg(Error(X(421))),Ed(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=uL.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Zn=Us(i.nextSibling),tr=e,ft=!0,Ar=null,t!==null&&(cr[hr++]=Di,cr[hr++]=Li,cr[hr++]=qo,Di=t.id,Li=t.overflow,qo=e),e=e0(e,r.children),e.flags|=4096,e)}function R1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ky(t.return,e,n)}function Ng(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ab(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(An(t,e,r.children,n),r=pt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&R1(t,n,e);else if(t.tag===19)R1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(rt(pt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Vf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ng(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Vf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ng(e,!0,n,null,s);break;case"together":Ng(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Kd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function qi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ko|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,n=zs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=zs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function XD(t,e,n){switch(e.tag){case 3:bb(e),yl();break;case 5:tb(e);break;case 1:Bn(e.type)&&Nf(e);break;case 4:qv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;rt(Lf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(rt(pt,pt.current&1),e.flags|=128,null):n&e.child.childLanes?kb(t,e,n):(rt(pt,pt.current&1),t=qi(t,e,n),t!==null?t.sibling:null);rt(pt,pt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Ab(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),rt(pt,pt.current),r)break;return null;case 22:case 23:return e.lanes=0,Cb(t,e,n)}return qi(t,e,n)}var xb,n_,Rb,Pb;xb=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};n_=function(){};Rb=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Oo(ri.current);var s=null;switch(n){case"input":i=Cy(t,i),r=Cy(t,r),s=[];break;case"select":i=gt({},i,{value:void 0}),r=gt({},r,{value:void 0}),s=[];break;case"textarea":i=ky(t,i),r=ky(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Rf)}xy(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(gc.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(gc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ot("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Pb=function(t,e,n,r){n!==r&&(e.flags|=4)};function Au(t,e){if(!ft)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function dn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function JD(t,e,n){var r=e.pendingProps;switch(Uv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(e),null;case 1:return Bn(e.type)&&Pf(),dn(e),null;case 3:return r=e.stateNode,vl(),ct(jn),ct(En),Kv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(vd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ar!==null&&(c_(Ar),Ar=null))),n_(t,e),dn(e),null;case 5:Gv(e);var i=Oo(Ac.current);if(n=e.type,t!==null&&e.stateNode!=null)Rb(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(X(166));return dn(e),null}if(t=Oo(ri.current),vd(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Jr]=e,r[bc]=s,t=(e.mode&1)!==0,n){case"dialog":ot("cancel",r),ot("close",r);break;case"iframe":case"object":case"embed":ot("load",r);break;case"video":case"audio":for(i=0;i<$u.length;i++)ot($u[i],r);break;case"source":ot("error",r);break;case"img":case"image":case"link":ot("error",r),ot("load",r);break;case"details":ot("toggle",r);break;case"input":UE(r,s),ot("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ot("invalid",r);break;case"textarea":jE(r,s),ot("invalid",r)}xy(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&_d(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&_d(r.textContent,a,t),i=["children",""+a]):gc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ot("scroll",r)}switch(n){case"input":cd(r),$E(r,s,!0);break;case"textarea":cd(r),BE(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Rf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=iS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Jr]=e,t[bc]=r,xb(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ry(n,r),n){case"dialog":ot("cancel",t),ot("close",t),i=r;break;case"iframe":case"object":case"embed":ot("load",t),i=r;break;case"video":case"audio":for(i=0;i<$u.length;i++)ot($u[i],t);i=r;break;case"source":ot("error",t),i=r;break;case"img":case"image":case"link":ot("error",t),ot("load",t),i=r;break;case"details":ot("toggle",t),i=r;break;case"input":UE(t,r),i=Cy(t,r),ot("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=gt({},r,{value:void 0}),ot("invalid",t);break;case"textarea":jE(t,r),i=ky(t,r),ot("invalid",t);break;default:i=r}xy(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?aS(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&sS(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&yc(t,l):typeof l=="number"&&yc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(gc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ot("scroll",t):l!=null&&Cv(t,s,l,o))}switch(n){case"input":cd(t),$E(t,r,!1);break;case"textarea":cd(t),BE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ys(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Za(t,!!r.multiple,s,!1):r.defaultValue!=null&&Za(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Rf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return dn(e),null;case 6:if(t&&e.stateNode!=null)Pb(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(X(166));if(n=Oo(Ac.current),Oo(ri.current),vd(e)){if(r=e.stateNode,n=e.memoizedProps,r[Jr]=e,(s=r.nodeValue!==n)&&(t=tr,t!==null))switch(t.tag){case 3:_d(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&_d(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Jr]=e,e.stateNode=r}return dn(e),null;case 13:if(ct(pt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ft&&Zn!==null&&e.mode&1&&!(e.flags&128))KS(),yl(),e.flags|=98560,s=!1;else if(s=vd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(X(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(X(317));s[Jr]=e}else yl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;dn(e),s=!1}else Ar!==null&&(c_(Ar),Ar=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||pt.current&1?Ut===0&&(Ut=3):o0())),e.updateQueue!==null&&(e.flags|=4),dn(e),null);case 4:return vl(),n_(t,e),t===null&&Cc(e.stateNode.containerInfo),dn(e),null;case 10:return zv(e.type._context),dn(e),null;case 17:return Bn(e.type)&&Pf(),dn(e),null;case 19:if(ct(pt),s=e.memoizedState,s===null)return dn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Au(s,!1);else{if(Ut!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Vf(t),o!==null){for(e.flags|=128,Au(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return rt(pt,pt.current&1|2),e.child}t=t.sibling}s.tail!==null&&bt()>El&&(e.flags|=128,r=!0,Au(s,!1),e.lanes=4194304)}else{if(!r)if(t=Vf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Au(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ft)return dn(e),null}else 2*bt()-s.renderingStartTime>El&&n!==1073741824&&(e.flags|=128,r=!0,Au(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=bt(),e.sibling=null,n=pt.current,rt(pt,r?n&1|2:n&1),e):(dn(e),null);case 22:case 23:return s0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Xn&1073741824&&(dn(e),e.subtreeFlags&6&&(e.flags|=8192)):dn(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function ZD(t,e){switch(Uv(e),e.tag){case 1:return Bn(e.type)&&Pf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return vl(),ct(jn),ct(En),Kv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Gv(e),null;case 13:if(ct(pt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));yl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ct(pt),null;case 4:return vl(),null;case 10:return zv(e.type._context),null;case 22:case 23:return s0(),null;case 24:return null;default:return null}}var Td=!1,gn=!1,eL=typeof WeakSet=="function"?WeakSet:Set,oe=null;function Ha(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){wt(t,e,r)}else n.current=null}function r_(t,e,n){try{n()}catch(r){wt(t,e,r)}}var P1=!1;function tL(t,e){if($y=kf,t=LS(),Fv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,m=t,g=null;t:for(;;){for(var E;m!==n||i!==0&&m.nodeType!==3||(a=o+i),m!==s||r!==0&&m.nodeType!==3||(l=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(E=m.firstChild)!==null;)g=m,m=E;for(;;){if(m===t)break t;if(g===n&&++c===i&&(a=o),g===s&&++d===r&&(l=o),(E=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=E}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(jy={focusedElem:t,selectionRange:n},kf=!1,oe=e;oe!==null;)if(e=oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,oe=t;else for(;oe!==null;){e=oe;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var A=S.memoizedProps,D=S.memoizedState,b=e.stateNode,w=b.getSnapshotBeforeUpdate(e.elementType===e.type?A:br(e.type,A),D);b.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(F){wt(e,e.return,F)}if(t=e.sibling,t!==null){t.return=e.return,oe=t;break}oe=e.return}return S=P1,P1=!1,S}function tc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&r_(e,n,s)}i=i.next}while(i!==r)}}function Gp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function i_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Nb(t){var e=t.alternate;e!==null&&(t.alternate=null,Nb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Jr],delete e[bc],delete e[Wy],delete e[FD],delete e[VD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ob(t){return t.tag===5||t.tag===3||t.tag===4}function N1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ob(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function s_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Rf));else if(r!==4&&(t=t.child,t!==null))for(s_(t,e,n),t=t.sibling;t!==null;)s_(t,e,n),t=t.sibling}function o_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(o_(t,e,n),t=t.sibling;t!==null;)o_(t,e,n),t=t.sibling}var en=null,kr=!1;function _s(t,e,n){for(n=n.child;n!==null;)Db(t,e,n),n=n.sibling}function Db(t,e,n){if(ni&&typeof ni.onCommitFiberUnmount=="function")try{ni.onCommitFiberUnmount(Up,n)}catch{}switch(n.tag){case 5:gn||Ha(n,e);case 6:var r=en,i=kr;en=null,_s(t,e,n),en=r,kr=i,en!==null&&(kr?(t=en,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):en.removeChild(n.stateNode));break;case 18:en!==null&&(kr?(t=en,n=n.stateNode,t.nodeType===8?Sg(t.parentNode,n):t.nodeType===1&&Sg(t,n),Ec(t)):Sg(en,n.stateNode));break;case 4:r=en,i=kr,en=n.stateNode.containerInfo,kr=!0,_s(t,e,n),en=r,kr=i;break;case 0:case 11:case 14:case 15:if(!gn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&r_(n,e,o),i=i.next}while(i!==r)}_s(t,e,n);break;case 1:if(!gn&&(Ha(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){wt(n,e,a)}_s(t,e,n);break;case 21:_s(t,e,n);break;case 22:n.mode&1?(gn=(r=gn)||n.memoizedState!==null,_s(t,e,n),gn=r):_s(t,e,n);break;default:_s(t,e,n)}}function O1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new eL),e.forEach(function(r){var i=cL.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Cr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:en=a.stateNode,kr=!1;break e;case 3:en=a.stateNode.containerInfo,kr=!0;break e;case 4:en=a.stateNode.containerInfo,kr=!0;break e}a=a.return}if(en===null)throw Error(X(160));Db(s,o,i),en=null,kr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){wt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Lb(e,t),e=e.sibling}function Lb(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Cr(e,t),qr(t),r&4){try{tc(3,t,t.return),Gp(3,t)}catch(A){wt(t,t.return,A)}try{tc(5,t,t.return)}catch(A){wt(t,t.return,A)}}break;case 1:Cr(e,t),qr(t),r&512&&n!==null&&Ha(n,n.return);break;case 5:if(Cr(e,t),qr(t),r&512&&n!==null&&Ha(n,n.return),t.flags&32){var i=t.stateNode;try{yc(i,"")}catch(A){wt(t,t.return,A)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&nS(i,s),Ry(a,o);var c=Ry(a,s);for(o=0;o<l.length;o+=2){var d=l[o],m=l[o+1];d==="style"?aS(i,m):d==="dangerouslySetInnerHTML"?sS(i,m):d==="children"?yc(i,m):Cv(i,d,m,c)}switch(a){case"input":Sy(i,s);break;case"textarea":rS(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var E=s.value;E!=null?Za(i,!!s.multiple,E,!1):g!==!!s.multiple&&(s.defaultValue!=null?Za(i,!!s.multiple,s.defaultValue,!0):Za(i,!!s.multiple,s.multiple?[]:"",!1))}i[bc]=s}catch(A){wt(t,t.return,A)}}break;case 6:if(Cr(e,t),qr(t),r&4){if(t.stateNode===null)throw Error(X(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(A){wt(t,t.return,A)}}break;case 3:if(Cr(e,t),qr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ec(e.containerInfo)}catch(A){wt(t,t.return,A)}break;case 4:Cr(e,t),qr(t);break;case 13:Cr(e,t),qr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(r0=bt())),r&4&&O1(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(gn=(c=gn)||d,Cr(e,t),gn=c):Cr(e,t),qr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(oe=t,d=t.child;d!==null;){for(m=oe=d;oe!==null;){switch(g=oe,E=g.child,g.tag){case 0:case 11:case 14:case 15:tc(4,g,g.return);break;case 1:Ha(g,g.return);var S=g.stateNode;if(typeof S.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(A){wt(r,n,A)}}break;case 5:Ha(g,g.return);break;case 22:if(g.memoizedState!==null){L1(m);continue}}E!==null?(E.return=g,oe=E):L1(m)}d=d.sibling}e:for(d=null,m=t;;){if(m.tag===5){if(d===null){d=m;try{i=m.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=m.stateNode,l=m.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=oS("display",o))}catch(A){wt(t,t.return,A)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(A){wt(t,t.return,A)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Cr(e,t),qr(t),r&4&&O1(t);break;case 21:break;default:Cr(e,t),qr(t)}}function qr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Ob(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(yc(i,""),r.flags&=-33);var s=N1(t);o_(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=N1(t);s_(t,a,o);break;default:throw Error(X(161))}}catch(l){wt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function nL(t,e,n){oe=t,Mb(t)}function Mb(t,e,n){for(var r=(t.mode&1)!==0;oe!==null;){var i=oe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Td;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||gn;a=Td;var c=gn;if(Td=o,(gn=l)&&!c)for(oe=i;oe!==null;)o=oe,l=o.child,o.tag===22&&o.memoizedState!==null?M1(i):l!==null?(l.return=o,oe=l):M1(i);for(;s!==null;)oe=s,Mb(s),s=s.sibling;oe=i,Td=a,gn=c}D1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,oe=s):D1(t)}}function D1(t){for(;oe!==null;){var e=oe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:gn||Gp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!gn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:br(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&y1(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}y1(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&Ec(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}gn||e.flags&512&&i_(e)}catch(g){wt(e,e.return,g)}}if(e===t){oe=null;break}if(n=e.sibling,n!==null){n.return=e.return,oe=n;break}oe=e.return}}function L1(t){for(;oe!==null;){var e=oe;if(e===t){oe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,oe=n;break}oe=e.return}}function M1(t){for(;oe!==null;){var e=oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Gp(4,e)}catch(l){wt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){wt(e,i,l)}}var s=e.return;try{i_(e)}catch(l){wt(e,s,l)}break;case 5:var o=e.return;try{i_(e)}catch(l){wt(e,o,l)}}}catch(l){wt(e,e.return,l)}if(e===t){oe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,oe=a;break}oe=e.return}}var rL=Math.ceil,jf=Zi.ReactCurrentDispatcher,t0=Zi.ReactCurrentOwner,fr=Zi.ReactCurrentBatchConfig,Le=0,Xt=null,Nt=null,sn=0,Xn=0,qa=so(0),Ut=0,Nc=null,Ko=0,Kp=0,n0=0,nc=null,Mn=null,r0=0,El=1/0,Pi=null,Bf=!1,a_=null,js=null,Id=!1,Ns=null,zf=0,rc=0,l_=null,Qd=-1,Yd=0;function Rn(){return Le&6?bt():Qd!==-1?Qd:Qd=bt()}function Bs(t){return t.mode&1?Le&2&&sn!==0?sn&-sn:$D.transition!==null?(Yd===0&&(Yd=vS()),Yd):(t=He,t!==0||(t=window.event,t=t===void 0?16:bS(t.type)),t):1}function Lr(t,e,n,r){if(50<rc)throw rc=0,l_=null,Error(X(185));th(t,n,r),(!(Le&2)||t!==Xt)&&(t===Xt&&(!(Le&2)&&(Kp|=n),Ut===4&&Cs(t,sn)),zn(t,r),n===1&&Le===0&&!(e.mode&1)&&(El=bt()+500,Wp&&oo()))}function zn(t,e){var n=t.callbackNode;$O(t,e);var r=bf(t,t===Xt?sn:0);if(r===0)n!==null&&HE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&HE(n),e===1)t.tag===0?UD(F1.bind(null,t)):HS(F1.bind(null,t)),LD(function(){!(Le&6)&&oo()}),n=null;else{switch(wS(r)){case 1:n=xv;break;case 4:n=yS;break;case 16:n=Sf;break;case 536870912:n=_S;break;default:n=Sf}n=Wb(n,Fb.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Fb(t,e){if(Qd=-1,Yd=0,Le&6)throw Error(X(327));var n=t.callbackNode;if(il()&&t.callbackNode!==n)return null;var r=bf(t,t===Xt?sn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Wf(t,r);else{e=r;var i=Le;Le|=2;var s=Ub();(Xt!==t||sn!==e)&&(Pi=null,El=bt()+500,Uo(t,e));do try{oL();break}catch(a){Vb(t,a)}while(1);Bv(),jf.current=s,Le=i,Nt!==null?e=0:(Xt=null,sn=0,e=Ut)}if(e!==0){if(e===2&&(i=Ly(t),i!==0&&(r=i,e=u_(t,i))),e===1)throw n=Nc,Uo(t,0),Cs(t,r),zn(t,bt()),n;if(e===6)Cs(t,r);else{if(i=t.current.alternate,!(r&30)&&!iL(i)&&(e=Wf(t,r),e===2&&(s=Ly(t),s!==0&&(r=s,e=u_(t,s))),e===1))throw n=Nc,Uo(t,0),Cs(t,r),zn(t,bt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(X(345));case 2:Ao(t,Mn,Pi);break;case 3:if(Cs(t,r),(r&130023424)===r&&(e=r0+500-bt(),10<e)){if(bf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Rn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=zy(Ao.bind(null,t,Mn,Pi),e);break}Ao(t,Mn,Pi);break;case 4:if(Cs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Dr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=bt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rL(r/1960))-r,10<r){t.timeoutHandle=zy(Ao.bind(null,t,Mn,Pi),r);break}Ao(t,Mn,Pi);break;case 5:Ao(t,Mn,Pi);break;default:throw Error(X(329))}}}return zn(t,bt()),t.callbackNode===n?Fb.bind(null,t):null}function u_(t,e){var n=nc;return t.current.memoizedState.isDehydrated&&(Uo(t,e).flags|=256),t=Wf(t,e),t!==2&&(e=Mn,Mn=n,e!==null&&c_(e)),t}function c_(t){Mn===null?Mn=t:Mn.push.apply(Mn,t)}function iL(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Vr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Cs(t,e){for(e&=~n0,e&=~Kp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Dr(e),r=1<<n;t[n]=-1,e&=~r}}function F1(t){if(Le&6)throw Error(X(327));il();var e=bf(t,0);if(!(e&1))return zn(t,bt()),null;var n=Wf(t,e);if(t.tag!==0&&n===2){var r=Ly(t);r!==0&&(e=r,n=u_(t,r))}if(n===1)throw n=Nc,Uo(t,0),Cs(t,e),zn(t,bt()),n;if(n===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ao(t,Mn,Pi),zn(t,bt()),null}function i0(t,e){var n=Le;Le|=1;try{return t(e)}finally{Le=n,Le===0&&(El=bt()+500,Wp&&oo())}}function Qo(t){Ns!==null&&Ns.tag===0&&!(Le&6)&&il();var e=Le;Le|=1;var n=fr.transition,r=He;try{if(fr.transition=null,He=1,t)return t()}finally{He=r,fr.transition=n,Le=e,!(Le&6)&&oo()}}function s0(){Xn=qa.current,ct(qa)}function Uo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,DD(n)),Nt!==null)for(n=Nt.return;n!==null;){var r=n;switch(Uv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Pf();break;case 3:vl(),ct(jn),ct(En),Kv();break;case 5:Gv(r);break;case 4:vl();break;case 13:ct(pt);break;case 19:ct(pt);break;case 10:zv(r.type._context);break;case 22:case 23:s0()}n=n.return}if(Xt=t,Nt=t=zs(t.current,null),sn=Xn=e,Ut=0,Nc=null,n0=Kp=Ko=0,Mn=nc=null,No!==null){for(e=0;e<No.length;e++)if(n=No[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}No=null}return t}function Vb(t,e){do{var n=Nt;try{if(Bv(),qd.current=$f,Uf){for(var r=mt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Uf=!1}if(Go=0,Kt=Mt=mt=null,ec=!1,xc=0,t0.current=null,n===null||n.return===null){Ut=1,Nc=e,Nt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=sn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var E=C1(o);if(E!==null){E.flags&=-257,S1(E,o,a,s,e),E.mode&1&&I1(s,c,e),e=E,l=c;var S=e.updateQueue;if(S===null){var A=new Set;A.add(l),e.updateQueue=A}else S.add(l);break e}else{if(!(e&1)){I1(s,c,e),o0();break e}l=Error(X(426))}}else if(ft&&a.mode&1){var D=C1(o);if(D!==null){!(D.flags&65536)&&(D.flags|=256),S1(D,o,a,s,e),$v(wl(l,a));break e}}s=l=wl(l,a),Ut!==4&&(Ut=2),nc===null?nc=[s]:nc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=Eb(s,l,e);g1(s,b);break e;case 1:a=l;var w=s.type,k=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(js===null||!js.has(k)))){s.flags|=65536,e&=-e,s.lanes|=e;var F=Tb(s,a,e);g1(s,F);break e}}s=s.return}while(s!==null)}jb(n)}catch(j){e=j,Nt===n&&n!==null&&(Nt=n=n.return);continue}break}while(1)}function Ub(){var t=jf.current;return jf.current=$f,t===null?$f:t}function o0(){(Ut===0||Ut===3||Ut===2)&&(Ut=4),Xt===null||!(Ko&268435455)&&!(Kp&268435455)||Cs(Xt,sn)}function Wf(t,e){var n=Le;Le|=2;var r=Ub();(Xt!==t||sn!==e)&&(Pi=null,Uo(t,e));do try{sL();break}catch(i){Vb(t,i)}while(1);if(Bv(),Le=n,jf.current=r,Nt!==null)throw Error(X(261));return Xt=null,sn=0,Ut}function sL(){for(;Nt!==null;)$b(Nt)}function oL(){for(;Nt!==null&&!PO();)$b(Nt)}function $b(t){var e=zb(t.alternate,t,Xn);t.memoizedProps=t.pendingProps,e===null?jb(t):Nt=e,t0.current=null}function jb(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ZD(n,e),n!==null){n.flags&=32767,Nt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ut=6,Nt=null;return}}else if(n=JD(n,e,Xn),n!==null){Nt=n;return}if(e=e.sibling,e!==null){Nt=e;return}Nt=e=t}while(e!==null);Ut===0&&(Ut=5)}function Ao(t,e,n){var r=He,i=fr.transition;try{fr.transition=null,He=1,aL(t,e,n,r)}finally{fr.transition=i,He=r}return null}function aL(t,e,n,r){do il();while(Ns!==null);if(Le&6)throw Error(X(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(jO(t,s),t===Xt&&(Nt=Xt=null,sn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Id||(Id=!0,Wb(Sf,function(){return il(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=fr.transition,fr.transition=null;var o=He;He=1;var a=Le;Le|=4,t0.current=null,tL(t,n),Lb(n,t),kD(jy),kf=!!$y,jy=$y=null,t.current=n,nL(n),NO(),Le=a,He=o,fr.transition=s}else t.current=n;if(Id&&(Id=!1,Ns=t,zf=i),s=t.pendingLanes,s===0&&(js=null),LO(n.stateNode),zn(t,bt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Bf)throw Bf=!1,t=a_,a_=null,t;return zf&1&&t.tag!==0&&il(),s=t.pendingLanes,s&1?t===l_?rc++:(rc=0,l_=t):rc=0,oo(),null}function il(){if(Ns!==null){var t=wS(zf),e=fr.transition,n=He;try{if(fr.transition=null,He=16>t?16:t,Ns===null)var r=!1;else{if(t=Ns,Ns=null,zf=0,Le&6)throw Error(X(331));var i=Le;for(Le|=4,oe=t.current;oe!==null;){var s=oe,o=s.child;if(oe.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(oe=c;oe!==null;){var d=oe;switch(d.tag){case 0:case 11:case 15:tc(8,d,s)}var m=d.child;if(m!==null)m.return=d,oe=m;else for(;oe!==null;){d=oe;var g=d.sibling,E=d.return;if(Nb(d),d===c){oe=null;break}if(g!==null){g.return=E,oe=g;break}oe=E}}}var S=s.alternate;if(S!==null){var A=S.child;if(A!==null){S.child=null;do{var D=A.sibling;A.sibling=null,A=D}while(A!==null)}}oe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,oe=o;else e:for(;oe!==null;){if(s=oe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:tc(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,oe=b;break e}oe=s.return}}var w=t.current;for(oe=w;oe!==null;){o=oe;var k=o.child;if(o.subtreeFlags&2064&&k!==null)k.return=o,oe=k;else e:for(o=w;oe!==null;){if(a=oe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Gp(9,a)}}catch(j){wt(a,a.return,j)}if(a===o){oe=null;break e}var F=a.sibling;if(F!==null){F.return=a.return,oe=F;break e}oe=a.return}}if(Le=i,oo(),ni&&typeof ni.onPostCommitFiberRoot=="function")try{ni.onPostCommitFiberRoot(Up,t)}catch{}r=!0}return r}finally{He=n,fr.transition=e}}return!1}function V1(t,e,n){e=wl(n,e),e=Eb(t,e,1),t=$s(t,e,1),e=Rn(),t!==null&&(th(t,1,e),zn(t,e))}function wt(t,e,n){if(t.tag===3)V1(t,t,n);else for(;e!==null;){if(e.tag===3){V1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(js===null||!js.has(r))){t=wl(n,t),t=Tb(e,t,1),e=$s(e,t,1),t=Rn(),e!==null&&(th(e,1,t),zn(e,t));break}}e=e.return}}function lL(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Rn(),t.pingedLanes|=t.suspendedLanes&n,Xt===t&&(sn&n)===n&&(Ut===4||Ut===3&&(sn&130023424)===sn&&500>bt()-r0?Uo(t,0):n0|=n),zn(t,e)}function Bb(t,e){e===0&&(t.mode&1?(e=fd,fd<<=1,!(fd&130023424)&&(fd=4194304)):e=1);var n=Rn();t=Hi(t,e),t!==null&&(th(t,e,n),zn(t,n))}function uL(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Bb(t,n)}function cL(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(e),Bb(t,n)}var zb;zb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||jn.current)Un=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Un=!1,XD(t,e,n);Un=!!(t.flags&131072)}else Un=!1,ft&&e.flags&1048576&&qS(e,Df,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Kd(t,e),t=e.pendingProps;var i=gl(e,En.current);rl(e,n),i=Yv(null,e,r,t,i,n);var s=Xv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Bn(r)?(s=!0,Nf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Hv(e),i.updater=Hp,e.stateNode=i,i._reactInternals=e,Yy(e,r,t,n),e=Zy(null,e,r,!0,s,n)):(e.tag=0,ft&&s&&Vv(e),An(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Kd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=dL(r),t=br(r,t),i){case 0:e=Jy(null,e,r,t,n);break e;case 1:e=A1(null,e,r,t,n);break e;case 11:e=b1(null,e,r,t,n);break e;case 14:e=k1(null,e,r,br(r.type,t),n);break e}throw Error(X(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:br(r,i),Jy(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:br(r,i),A1(t,e,r,i,n);case 3:e:{if(bb(e),t===null)throw Error(X(387));r=e.pendingProps,s=e.memoizedState,i=s.element,YS(t,e),Ff(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=wl(Error(X(423)),e),e=x1(t,e,r,n,i);break e}else if(r!==i){i=wl(Error(X(424)),e),e=x1(t,e,r,n,i);break e}else for(Zn=Us(e.stateNode.containerInfo.firstChild),tr=e,ft=!0,Ar=null,n=eb(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(yl(),r===i){e=qi(t,e,n);break e}An(t,e,r,n)}e=e.child}return e;case 5:return tb(e),t===null&&Gy(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,By(r,i)?o=null:s!==null&&By(r,s)&&(e.flags|=32),Sb(t,e),An(t,e,o,n),e.child;case 6:return t===null&&Gy(e),null;case 13:return kb(t,e,n);case 4:return qv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=_l(e,null,r,n):An(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:br(r,i),b1(t,e,r,i,n);case 7:return An(t,e,e.pendingProps,n),e.child;case 8:return An(t,e,e.pendingProps.children,n),e.child;case 12:return An(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,rt(Lf,r._currentValue),r._currentValue=o,s!==null)if(Vr(s.value,o)){if(s.children===i.children&&!jn.current){e=qi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=$i(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ky(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(X(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ky(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}An(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,rl(e,n),i=mr(i),r=r(i),e.flags|=1,An(t,e,r,n),e.child;case 14:return r=e.type,i=br(r,e.pendingProps),i=br(r.type,i),k1(t,e,r,i,n);case 15:return Ib(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:br(r,i),Kd(t,e),e.tag=1,Bn(r)?(t=!0,Nf(e)):t=!1,rl(e,n),JS(e,r,i),Yy(e,r,i,n),Zy(null,e,r,!0,t,n);case 19:return Ab(t,e,n);case 22:return Cb(t,e,n)}throw Error(X(156,e.tag))};function Wb(t,e){return gS(t,e)}function hL(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(t,e,n,r){return new hL(t,e,n,r)}function a0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function dL(t){if(typeof t=="function")return a0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===bv)return 11;if(t===kv)return 14}return 2}function zs(t,e){var n=t.alternate;return n===null?(n=dr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Xd(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")a0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ma:return $o(n.children,i,s,e);case Sv:o=8,i|=8;break;case wy:return t=dr(12,n,e,i|2),t.elementType=wy,t.lanes=s,t;case Ey:return t=dr(13,n,e,i),t.elementType=Ey,t.lanes=s,t;case Ty:return t=dr(19,n,e,i),t.elementType=Ty,t.lanes=s,t;case ZC:return Qp(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case XC:o=10;break e;case JC:o=9;break e;case bv:o=11;break e;case kv:o=14;break e;case Es:o=16,r=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return e=dr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function $o(t,e,n,r){return t=dr(7,t,r,e),t.lanes=n,t}function Qp(t,e,n,r){return t=dr(22,t,r,e),t.elementType=ZC,t.lanes=n,t.stateNode={isHidden:!1},t}function Og(t,e,n){return t=dr(6,t,null,e),t.lanes=n,t}function Dg(t,e,n){return e=dr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function fL(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pg(0),this.expirationTimes=pg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function l0(t,e,n,r,i,s,o,a,l){return t=new fL(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=dr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hv(s),t}function pL(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:La,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Hb(t){if(!t)return Xs;t=t._reactInternals;e:{if(aa(t)!==t||t.tag!==1)throw Error(X(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Bn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(t.tag===1){var n=t.type;if(Bn(n))return WS(t,n,e)}return e}function qb(t,e,n,r,i,s,o,a,l){return t=l0(n,r,!0,t,i,s,o,a,l),t.context=Hb(null),n=t.current,r=Rn(),i=Bs(n),s=$i(r,i),s.callback=e??null,$s(n,s,i),t.current.lanes=i,th(t,i,r),zn(t,r),t}function Yp(t,e,n,r){var i=e.current,s=Rn(),o=Bs(i);return n=Hb(n),e.context===null?e.context=n:e.pendingContext=n,e=$i(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=$s(i,e,o),t!==null&&(Lr(t,i,o,s),Hd(t,i,o)),o}function Hf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function U1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function u0(t,e){U1(t,e),(t=t.alternate)&&U1(t,e)}function mL(){return null}var Gb=typeof reportError=="function"?reportError:function(t){console.error(t)};function c0(t){this._internalRoot=t}Xp.prototype.render=c0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));Yp(t,e,null,null)};Xp.prototype.unmount=c0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Qo(function(){Yp(null,t,null,null)}),e[Wi]=null}};function Xp(t){this._internalRoot=t}Xp.prototype.unstable_scheduleHydration=function(t){if(t){var e=IS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Is.length&&e!==0&&e<Is[n].priority;n++);Is.splice(n,0,t),n===0&&SS(t)}};function h0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Jp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function $1(){}function gL(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Hf(o);s.call(c)}}var o=qb(e,r,t,0,null,!1,!1,"",$1);return t._reactRootContainer=o,t[Wi]=o.current,Cc(t.nodeType===8?t.parentNode:t),Qo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Hf(l);a.call(c)}}var l=l0(t,0,!1,null,null,!1,!1,"",$1);return t._reactRootContainer=l,t[Wi]=l.current,Cc(t.nodeType===8?t.parentNode:t),Qo(function(){Yp(e,l,n,r)}),l}function Zp(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Hf(o);a.call(l)}}Yp(e,o,t,i)}else o=gL(n,e,t,i,r);return Hf(o)}ES=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Uu(e.pendingLanes);n!==0&&(Rv(e,n|1),zn(e,bt()),!(Le&6)&&(El=bt()+500,oo()))}break;case 13:Qo(function(){var r=Hi(t,1);if(r!==null){var i=Rn();Lr(r,t,1,i)}}),u0(t,1)}};Pv=function(t){if(t.tag===13){var e=Hi(t,134217728);if(e!==null){var n=Rn();Lr(e,t,134217728,n)}u0(t,134217728)}};TS=function(t){if(t.tag===13){var e=Bs(t),n=Hi(t,e);if(n!==null){var r=Rn();Lr(n,t,e,r)}u0(t,e)}};IS=function(){return He};CS=function(t,e){var n=He;try{return He=t,e()}finally{He=n}};Ny=function(t,e,n){switch(e){case"input":if(Sy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=zp(r);if(!i)throw Error(X(90));tS(r),Sy(r,i)}}}break;case"textarea":rS(t,n);break;case"select":e=n.value,e!=null&&Za(t,!!n.multiple,e,!1)}};cS=i0;hS=Qo;var yL={usingClientEntryPoint:!1,Events:[rh,$a,zp,lS,uS,i0]},xu={findFiberByHostInstance:Po,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},_L={bundleType:xu.bundleType,version:xu.version,rendererPackageName:xu.rendererPackageName,rendererConfig:xu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=pS(t),t===null?null:t.stateNode},findFiberByHostInstance:xu.findFiberByHostInstance||mL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cd.isDisabled&&Cd.supportsFiber)try{Up=Cd.inject(_L),ni=Cd}catch{}}sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yL;sr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h0(e))throw Error(X(200));return pL(t,e,null,n)};sr.createRoot=function(t,e){if(!h0(t))throw Error(X(299));var n=!1,r="",i=Gb;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=l0(t,1,!1,null,null,n,!1,r,i),t[Wi]=e.current,Cc(t.nodeType===8?t.parentNode:t),new c0(e)};sr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=pS(e),t=t===null?null:t.stateNode,t};sr.flushSync=function(t){return Qo(t)};sr.hydrate=function(t,e,n){if(!Jp(e))throw Error(X(200));return Zp(null,t,e,!0,n)};sr.hydrateRoot=function(t,e,n){if(!h0(t))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Gb;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=qb(e,null,t,1,n??null,i,!1,s,o),t[Wi]=e.current,Cc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Xp(e)};sr.render=function(t,e,n){if(!Jp(e))throw Error(X(200));return Zp(null,t,e,!1,n)};sr.unmountComponentAtNode=function(t){if(!Jp(t))throw Error(X(40));return t._reactRootContainer?(Qo(function(){Zp(null,null,t,!1,function(){t._reactRootContainer=null,t[Wi]=null})}),!0):!1};sr.unstable_batchedUpdates=i0;sr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Jp(n))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return Zp(t,e,n,!1,r)};sr.version="18.2.0-next-9e3b772b8-20220608";function Kb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Kb)}catch(t){console.error(t)}}Kb(),qC.exports=sr;var vL=qC.exports,j1=vL;_y.createRoot=j1.createRoot,_y.hydrateRoot=j1.hydrateRoot;const wL="modulepreload",EL=function(t,e){return new URL(t,e).href},B1={},em=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=EL(s,r),s in B1)return;B1[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let d=i.length-1;d>=0;d--){const m=i[d];if(m.href===s&&(!o||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":wL,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((d,m)=>{c.addEventListener("load",d),c.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};function h_(){return h_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h_.apply(this,arguments)}function Qb(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var TL=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,IL=Qb(function(t){return TL.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function CL(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function SL(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var bL=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(SL(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=CL(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),pn="-ms-",qf="-moz-",Fe="-webkit-",Yb="comm",d0="rule",f0="decl",kL="@import",Xb="@keyframes",AL="@layer",xL=Math.abs,tm=String.fromCharCode,RL=Object.assign;function PL(t,e){return nn(t,0)^45?(((e<<2^nn(t,0))<<2^nn(t,1))<<2^nn(t,2))<<2^nn(t,3):0}function Jb(t){return t.trim()}function NL(t,e){return(t=e.exec(t))?t[0]:t}function Ve(t,e,n){return t.replace(e,n)}function d_(t,e){return t.indexOf(e)}function nn(t,e){return t.charCodeAt(e)|0}function Oc(t,e,n){return t.slice(e,n)}function Qr(t){return t.length}function p0(t){return t.length}function Sd(t,e){return e.push(t),t}function OL(t,e){return t.map(e).join("")}var nm=1,Tl=1,Zb=0,Hn=0,Rt=0,Yl="";function rm(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:nm,column:Tl,length:o,return:""}}function Ru(t,e){return RL(rm("",null,null,"",null,null,0),t,{length:-t.length},e)}function DL(){return Rt}function LL(){return Rt=Hn>0?nn(Yl,--Hn):0,Tl--,Rt===10&&(Tl=1,nm--),Rt}function nr(){return Rt=Hn<Zb?nn(Yl,Hn++):0,Tl++,Rt===10&&(Tl=1,nm++),Rt}function ii(){return nn(Yl,Hn)}function Jd(){return Hn}function sh(t,e){return Oc(Yl,t,e)}function Dc(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function e2(t){return nm=Tl=1,Zb=Qr(Yl=t),Hn=0,[]}function t2(t){return Yl="",t}function Zd(t){return Jb(sh(Hn-1,f_(t===91?t+2:t===40?t+1:t)))}function ML(t){for(;(Rt=ii())&&Rt<33;)nr();return Dc(t)>2||Dc(Rt)>3?"":" "}function FL(t,e){for(;--e&&nr()&&!(Rt<48||Rt>102||Rt>57&&Rt<65||Rt>70&&Rt<97););return sh(t,Jd()+(e<6&&ii()==32&&nr()==32))}function f_(t){for(;nr();)switch(Rt){case t:return Hn;case 34:case 39:t!==34&&t!==39&&f_(Rt);break;case 40:t===41&&f_(t);break;case 92:nr();break}return Hn}function VL(t,e){for(;nr()&&t+Rt!==47+10;)if(t+Rt===42+42&&ii()===47)break;return"/*"+sh(e,Hn-1)+"*"+tm(t===47?t:nr())}function UL(t){for(;!Dc(ii());)nr();return sh(t,Hn)}function $L(t){return t2(ef("",null,null,null,[""],t=e2(t),0,[0],t))}function ef(t,e,n,r,i,s,o,a,l){for(var c=0,d=0,m=o,g=0,E=0,S=0,A=1,D=1,b=1,w=0,k="",F=i,j=s,W=r,I=k;D;)switch(S=w,w=nr()){case 40:if(S!=108&&nn(I,m-1)==58){d_(I+=Ve(Zd(w),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:I+=Zd(w);break;case 9:case 10:case 13:case 32:I+=ML(S);break;case 92:I+=FL(Jd()-1,7);continue;case 47:switch(ii()){case 42:case 47:Sd(jL(VL(nr(),Jd()),e,n),l);break;default:I+="/"}break;case 123*A:a[c++]=Qr(I)*b;case 125*A:case 59:case 0:switch(w){case 0:case 125:D=0;case 59+d:b==-1&&(I=Ve(I,/\f/g,"")),E>0&&Qr(I)-m&&Sd(E>32?W1(I+";",r,n,m-1):W1(Ve(I," ","")+";",r,n,m-2),l);break;case 59:I+=";";default:if(Sd(W=z1(I,e,n,c,d,i,a,k,F=[],j=[],m),s),w===123)if(d===0)ef(I,e,W,W,F,s,m,a,j);else switch(g===99&&nn(I,3)===110?100:g){case 100:case 108:case 109:case 115:ef(t,W,W,r&&Sd(z1(t,W,W,0,0,i,a,k,i,F=[],m),j),i,j,m,a,r?F:j);break;default:ef(I,W,W,W,[""],j,0,a,j)}}c=d=E=0,A=b=1,k=I="",m=o;break;case 58:m=1+Qr(I),E=S;default:if(A<1){if(w==123)--A;else if(w==125&&A++==0&&LL()==125)continue}switch(I+=tm(w),w*A){case 38:b=d>0?1:(I+="\f",-1);break;case 44:a[c++]=(Qr(I)-1)*b,b=1;break;case 64:ii()===45&&(I+=Zd(nr())),g=ii(),d=m=Qr(k=I+=UL(Jd())),w++;break;case 45:S===45&&Qr(I)==2&&(A=0)}}return s}function z1(t,e,n,r,i,s,o,a,l,c,d){for(var m=i-1,g=i===0?s:[""],E=p0(g),S=0,A=0,D=0;S<r;++S)for(var b=0,w=Oc(t,m+1,m=xL(A=o[S])),k=t;b<E;++b)(k=Jb(A>0?g[b]+" "+w:Ve(w,/&\f/g,g[b])))&&(l[D++]=k);return rm(t,e,n,i===0?d0:a,l,c,d)}function jL(t,e,n){return rm(t,e,n,Yb,tm(DL()),Oc(t,2,-2),0)}function W1(t,e,n,r){return rm(t,e,n,f0,Oc(t,0,r),Oc(t,r+1,-1),r)}function sl(t,e){for(var n="",r=p0(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function BL(t,e,n,r){switch(t.type){case AL:if(t.children.length)break;case kL:case f0:return t.return=t.return||t.value;case Yb:return"";case Xb:return t.return=t.value+"{"+sl(t.children,r)+"}";case d0:t.value=t.props.join(",")}return Qr(n=sl(t.children,r))?t.return=t.value+"{"+n+"}":""}function zL(t){var e=p0(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function WL(t){return function(e){e.root||(e=e.return)&&t(e)}}var HL=function(e,n,r){for(var i=0,s=0;i=s,s=ii(),i===38&&s===12&&(n[r]=1),!Dc(s);)nr();return sh(e,Hn)},qL=function(e,n){var r=-1,i=44;do switch(Dc(i)){case 0:i===38&&ii()===12&&(n[r]=1),e[r]+=HL(Hn-1,n,r);break;case 2:e[r]+=Zd(i);break;case 4:if(i===44){e[++r]=ii()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=tm(i)}while(i=nr());return e},GL=function(e,n){return t2(qL(e2(e),n))},H1=new WeakMap,KL=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!H1.get(r))&&!i){H1.set(e,!0);for(var s=[],o=GL(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var d=0;d<a.length;d++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[d]):a[d]+" "+o[l]}}},QL=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function n2(t,e){switch(PL(t,e)){case 5103:return Fe+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Fe+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Fe+t+qf+t+pn+t+t;case 6828:case 4268:return Fe+t+pn+t+t;case 6165:return Fe+t+pn+"flex-"+t+t;case 5187:return Fe+t+Ve(t,/(\w+).+(:[^]+)/,Fe+"box-$1$2"+pn+"flex-$1$2")+t;case 5443:return Fe+t+pn+"flex-item-"+Ve(t,/flex-|-self/,"")+t;case 4675:return Fe+t+pn+"flex-line-pack"+Ve(t,/align-content|flex-|-self/,"")+t;case 5548:return Fe+t+pn+Ve(t,"shrink","negative")+t;case 5292:return Fe+t+pn+Ve(t,"basis","preferred-size")+t;case 6060:return Fe+"box-"+Ve(t,"-grow","")+Fe+t+pn+Ve(t,"grow","positive")+t;case 4554:return Fe+Ve(t,/([^-])(transform)/g,"$1"+Fe+"$2")+t;case 6187:return Ve(Ve(Ve(t,/(zoom-|grab)/,Fe+"$1"),/(image-set)/,Fe+"$1"),t,"")+t;case 5495:case 3959:return Ve(t,/(image-set\([^]*)/,Fe+"$1$`$1");case 4968:return Ve(Ve(t,/(.+:)(flex-)?(.*)/,Fe+"box-pack:$3"+pn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Fe+t+t;case 4095:case 3583:case 4068:case 2532:return Ve(t,/(.+)-inline(.+)/,Fe+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Qr(t)-1-e>6)switch(nn(t,e+1)){case 109:if(nn(t,e+4)!==45)break;case 102:return Ve(t,/(.+:)(.+)-([^]+)/,"$1"+Fe+"$2-$3$1"+qf+(nn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~d_(t,"stretch")?n2(Ve(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(nn(t,e+1)!==115)break;case 6444:switch(nn(t,Qr(t)-3-(~d_(t,"!important")&&10))){case 107:return Ve(t,":",":"+Fe)+t;case 101:return Ve(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Fe+(nn(t,14)===45?"inline-":"")+"box$3$1"+Fe+"$2$3$1"+pn+"$2box$3")+t}break;case 5936:switch(nn(t,e+11)){case 114:return Fe+t+pn+Ve(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Fe+t+pn+Ve(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Fe+t+pn+Ve(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Fe+t+pn+t+t}return t}var YL=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case f0:e.return=n2(e.value,e.length);break;case Xb:return sl([Ru(e,{value:Ve(e.value,"@","@"+Fe)})],i);case d0:if(e.length)return OL(e.props,function(s){switch(NL(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return sl([Ru(e,{props:[Ve(s,/:(read-\w+)/,":"+qf+"$1")]})],i);case"::placeholder":return sl([Ru(e,{props:[Ve(s,/:(plac\w+)/,":"+Fe+"input-$1")]}),Ru(e,{props:[Ve(s,/:(plac\w+)/,":"+qf+"$1")]}),Ru(e,{props:[Ve(s,/:(plac\w+)/,pn+"input-$1")]})],i)}return""})}},XL=[YL],JL=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(A){var D=A.getAttribute("data-emotion");D.indexOf(" ")!==-1&&(document.head.appendChild(A),A.setAttribute("data-s",""))})}var i=e.stylisPlugins||XL,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(A){for(var D=A.getAttribute("data-emotion").split(" "),b=1;b<D.length;b++)s[D[b]]=!0;a.push(A)});var l,c=[KL,QL];{var d,m=[BL,WL(function(A){d.insert(A)})],g=zL(c.concat(i,m)),E=function(D){return sl($L(D),g)};l=function(D,b,w,k){d=w,E(D?D+"{"+b.styles+"}":b.styles),k&&(S.inserted[b.name]=!0)}}var S={key:n,sheet:new bL({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return S.sheet.hydrate(a),S},ZL=!0;function eM(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var r2=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||ZL===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},tM=function(e,n,r){r2(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function nM(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var i2={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},rM=/[A-Z]|^ms/g,iM=/_EMO_([^_]+?)_([^]*?)_EMO_/g,s2=function(e){return e.charCodeAt(1)===45},q1=function(e){return e!=null&&typeof e!="boolean"},Lg=Qb(function(t){return s2(t)?t:t.replace(rM,"-$&").toLowerCase()}),G1=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(iM,function(r,i,s){return Yr={name:i,styles:s,next:Yr},i})}return i2[e]!==1&&!s2(e)&&typeof n=="number"&&n!==0?n+"px":n};function Lc(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Yr={name:n.name,styles:n.styles,next:Yr},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Yr={name:r.name,styles:r.styles,next:Yr},r=r.next;var i=n.styles+";";return i}return sM(t,e,n)}case"function":{if(t!==void 0){var s=Yr,o=n(t);return Yr=s,Lc(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function sM(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Lc(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":q1(o)&&(r+=Lg(s)+":"+G1(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)q1(o[a])&&(r+=Lg(s)+":"+G1(s,o[a])+";");else{var l=Lc(t,e,o);switch(s){case"animation":case"animationName":{r+=Lg(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var K1=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Yr,oM=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";Yr=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=Lc(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=Lc(r,n,e[a]),i&&(s+=o[a]);K1.lastIndex=0;for(var l="",c;(c=K1.exec(s))!==null;)l+="-"+c[1];var d=nM(s)+l;return{name:d,styles:s,next:Yr}},aM=function(e){return e()},lM=py["useInsertionEffect"]?py["useInsertionEffect"]:!1,uM=lM||aM,o2=J.createContext(typeof HTMLElement<"u"?JL({key:"css"}):null);o2.Provider;var cM=function(e){return J.forwardRef(function(n,r){var i=J.useContext(o2);return e(n,i,r)})},hM=J.createContext({}),dM=IL,fM=function(e){return e!=="theme"},Q1=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?dM:fM},Y1=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},pM=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return r2(n,r,i),uM(function(){return tM(n,r,i)}),null},mM=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=Y1(e,n,r),l=a||Q1(i),c=!l("as");return function(){var d=arguments,m=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&m.push("label:"+s+";"),d[0]==null||d[0].raw===void 0)m.push.apply(m,d);else{m.push(d[0][0]);for(var g=d.length,E=1;E<g;E++)m.push(d[E],d[0][E])}var S=cM(function(A,D,b){var w=c&&A.as||i,k="",F=[],j=A;if(A.theme==null){j={};for(var W in A)j[W]=A[W];j.theme=J.useContext(hM)}typeof A.className=="string"?k=eM(D.registered,F,A.className):A.className!=null&&(k=A.className+" ");var I=oM(m.concat(F),D.registered,j);k+=D.key+"-"+I.name,o!==void 0&&(k+=" "+o);var C=c&&a===void 0?Q1(w):l,x={};for(var N in A)c&&N==="as"||C(N)&&(x[N]=A[N]);return x.className=k,x.ref=b,J.createElement(J.Fragment,null,J.createElement(pM,{cache:D,serialized:I,isStringTag:typeof w=="string"}),J.createElement(w,x))});return S.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",S.defaultProps=e.defaultProps,S.__emotion_real=S,S.__emotion_base=i,S.__emotion_styles=m,S.__emotion_forwardProp=a,Object.defineProperty(S,"toString",{value:function(){return"."+o}}),S.withComponent=function(A,D){return t(A,h_({},n,D,{shouldForwardProp:Y1(S,D,!0)})).apply(void 0,m)},S}},gM=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],p_=mM.bind();gM.forEach(function(t){p_[t]=p_(t)});const yM=p_.div`
  width: 100%;
  height: 100vh;
`;var wn=function(){return wn=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},wn.apply(this,arguments)};function m0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Il(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var at="-ms-",ic="-moz-",Be="-webkit-",a2="comm",im="rule",g0="decl",_M="@import",l2="@keyframes",vM="@layer",u2=Math.abs,y0=String.fromCharCode,m_=Object.assign;function wM(t,e){return Qt(t,0)^45?(((e<<2^Qt(t,0))<<2^Qt(t,1))<<2^Qt(t,2))<<2^Qt(t,3):0}function c2(t){return t.trim()}function Ni(t,e){return(t=e.exec(t))?t[0]:t}function we(t,e,n){return t.replace(e,n)}function tf(t,e,n){return t.indexOf(e,n)}function Qt(t,e){return t.charCodeAt(e)|0}function Cl(t,e,n){return t.slice(e,n)}function Xr(t){return t.length}function h2(t){return t.length}function ju(t,e){return e.push(t),t}function EM(t,e){return t.map(e).join("")}function X1(t,e){return t.filter(function(n){return!Ni(n,e)})}var sm=1,Sl=1,d2=0,yr=0,Pt=0,Xl="";function om(t,e,n,r,i,s,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:sm,column:Sl,length:o,return:"",siblings:a}}function ws(t,e){return m_(om("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Aa(t){for(;t.root;)t=ws(t.root,{children:[t]});ju(t,t.siblings)}function TM(){return Pt}function IM(){return Pt=yr>0?Qt(Xl,--yr):0,Sl--,Pt===10&&(Sl=1,sm--),Pt}function Mr(){return Pt=yr<d2?Qt(Xl,yr++):0,Sl++,Pt===10&&(Sl=1,sm++),Pt}function jo(){return Qt(Xl,yr)}function nf(){return yr}function am(t,e){return Cl(Xl,t,e)}function g_(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function CM(t){return sm=Sl=1,d2=Xr(Xl=t),yr=0,[]}function SM(t){return Xl="",t}function Mg(t){return c2(am(yr-1,y_(t===91?t+2:t===40?t+1:t)))}function bM(t){for(;(Pt=jo())&&Pt<33;)Mr();return g_(t)>2||g_(Pt)>3?"":" "}function kM(t,e){for(;--e&&Mr()&&!(Pt<48||Pt>102||Pt>57&&Pt<65||Pt>70&&Pt<97););return am(t,nf()+(e<6&&jo()==32&&Mr()==32))}function y_(t){for(;Mr();)switch(Pt){case t:return yr;case 34:case 39:t!==34&&t!==39&&y_(Pt);break;case 40:t===41&&y_(t);break;case 92:Mr();break}return yr}function AM(t,e){for(;Mr()&&t+Pt!==47+10;)if(t+Pt===42+42&&jo()===47)break;return"/*"+am(e,yr-1)+"*"+y0(t===47?t:Mr())}function xM(t){for(;!g_(jo());)Mr();return am(t,yr)}function RM(t){return SM(rf("",null,null,null,[""],t=CM(t),0,[0],t))}function rf(t,e,n,r,i,s,o,a,l){for(var c=0,d=0,m=o,g=0,E=0,S=0,A=1,D=1,b=1,w=0,k="",F=i,j=s,W=r,I=k;D;)switch(S=w,w=Mr()){case 40:if(S!=108&&Qt(I,m-1)==58){tf(I+=we(Mg(w),"&","&\f"),"&\f",u2(c?a[c-1]:0))!=-1&&(b=-1);break}case 34:case 39:case 91:I+=Mg(w);break;case 9:case 10:case 13:case 32:I+=bM(S);break;case 92:I+=kM(nf()-1,7);continue;case 47:switch(jo()){case 42:case 47:ju(PM(AM(Mr(),nf()),e,n,l),l);break;default:I+="/"}break;case 123*A:a[c++]=Xr(I)*b;case 125*A:case 59:case 0:switch(w){case 0:case 125:D=0;case 59+d:b==-1&&(I=we(I,/\f/g,"")),E>0&&Xr(I)-m&&ju(E>32?Z1(I+";",r,n,m-1,l):Z1(we(I," ","")+";",r,n,m-2,l),l);break;case 59:I+=";";default:if(ju(W=J1(I,e,n,c,d,i,a,k,F=[],j=[],m,s),s),w===123)if(d===0)rf(I,e,W,W,F,s,m,a,j);else switch(g===99&&Qt(I,3)===110?100:g){case 100:case 108:case 109:case 115:rf(t,W,W,r&&ju(J1(t,W,W,0,0,i,a,k,i,F=[],m,j),j),i,j,m,a,r?F:j);break;default:rf(I,W,W,W,[""],j,0,a,j)}}c=d=E=0,A=b=1,k=I="",m=o;break;case 58:m=1+Xr(I),E=S;default:if(A<1){if(w==123)--A;else if(w==125&&A++==0&&IM()==125)continue}switch(I+=y0(w),w*A){case 38:b=d>0?1:(I+="\f",-1);break;case 44:a[c++]=(Xr(I)-1)*b,b=1;break;case 64:jo()===45&&(I+=Mg(Mr())),g=jo(),d=m=Xr(k=I+=xM(nf())),w++;break;case 45:S===45&&Xr(I)==2&&(A=0)}}return s}function J1(t,e,n,r,i,s,o,a,l,c,d,m){for(var g=i-1,E=i===0?s:[""],S=h2(E),A=0,D=0,b=0;A<r;++A)for(var w=0,k=Cl(t,g+1,g=u2(D=o[A])),F=t;w<S;++w)(F=c2(D>0?E[w]+" "+k:we(k,/&\f/g,E[w])))&&(l[b++]=F);return om(t,e,n,i===0?im:a,l,c,d,m)}function PM(t,e,n,r){return om(t,e,n,a2,y0(TM()),Cl(t,2,-2),0,r)}function Z1(t,e,n,r,i){return om(t,e,n,g0,Cl(t,0,r),Cl(t,r+1,-1),r,i)}function f2(t,e,n){switch(wM(t,e)){case 5103:return Be+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Be+t+t;case 4789:return ic+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Be+t+ic+t+at+t+t;case 5936:switch(Qt(t,e+11)){case 114:return Be+t+at+we(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Be+t+at+we(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Be+t+at+we(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return Be+t+at+t+t;case 6165:return Be+t+at+"flex-"+t+t;case 5187:return Be+t+we(t,/(\w+).+(:[^]+)/,Be+"box-$1$2"+at+"flex-$1$2")+t;case 5443:return Be+t+at+"flex-item-"+we(t,/flex-|-self/g,"")+(Ni(t,/flex-|baseline/)?"":at+"grid-row-"+we(t,/flex-|-self/g,""))+t;case 4675:return Be+t+at+"flex-line-pack"+we(t,/align-content|flex-|-self/g,"")+t;case 5548:return Be+t+at+we(t,"shrink","negative")+t;case 5292:return Be+t+at+we(t,"basis","preferred-size")+t;case 6060:return Be+"box-"+we(t,"-grow","")+Be+t+at+we(t,"grow","positive")+t;case 4554:return Be+we(t,/([^-])(transform)/g,"$1"+Be+"$2")+t;case 6187:return we(we(we(t,/(zoom-|grab)/,Be+"$1"),/(image-set)/,Be+"$1"),t,"")+t;case 5495:case 3959:return we(t,/(image-set\([^]*)/,Be+"$1$`$1");case 4968:return we(we(t,/(.+:)(flex-)?(.*)/,Be+"box-pack:$3"+at+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Be+t+t;case 4200:if(!Ni(t,/flex-|baseline/))return at+"grid-column-align"+Cl(t,e)+t;break;case 2592:case 3360:return at+we(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,Ni(r.props,/grid-\w+-end/)})?~tf(t+(n=n[e].value),"span",0)?t:at+we(t,"-start","")+t+at+"grid-row-span:"+(~tf(n,"span",0)?Ni(n,/\d+/):+Ni(n,/\d+/)-+Ni(t,/\d+/))+";":at+we(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return Ni(r.props,/grid-\w+-start/)})?t:at+we(we(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return we(t,/(.+)-inline(.+)/,Be+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Xr(t)-1-e>6)switch(Qt(t,e+1)){case 109:if(Qt(t,e+4)!==45)break;case 102:return we(t,/(.+:)(.+)-([^]+)/,"$1"+Be+"$2-$3$1"+ic+(Qt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~tf(t,"stretch",0)?f2(we(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return we(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,a,l,c){return at+i+":"+s+c+(o?at+i+"-span:"+(a?l:+l-+s)+c:"")+t});case 4949:if(Qt(t,e+6)===121)return we(t,":",":"+Be)+t;break;case 6444:switch(Qt(t,Qt(t,14)===45?18:11)){case 120:return we(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Be+(Qt(t,14)===45?"inline-":"")+"box$3$1"+Be+"$2$3$1"+at+"$2box$3")+t;case 100:return we(t,":",":"+at)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return we(t,"scroll-","scroll-snap-")+t}return t}function Gf(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function NM(t,e,n,r){switch(t.type){case vM:if(t.children.length)break;case _M:case g0:return t.return=t.return||t.value;case a2:return"";case l2:return t.return=t.value+"{"+Gf(t.children,r)+"}";case im:if(!Xr(t.value=t.props.join(",")))return""}return Xr(n=Gf(t.children,r))?t.return=t.value+"{"+n+"}":""}function OM(t){var e=h2(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function DM(t){return function(e){e.root||(e=e.return)&&t(e)}}function LM(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case g0:t.return=f2(t.value,t.length,n);return;case l2:return Gf([ws(t,{value:we(t.value,"@","@"+Be)})],r);case im:if(t.length)return EM(n=t.props,function(i){switch(Ni(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Aa(ws(t,{props:[we(i,/:(read-\w+)/,":"+ic+"$1")]})),Aa(ws(t,{props:[i]})),m_(t,{props:X1(n,r)});break;case"::placeholder":Aa(ws(t,{props:[we(i,/:(plac\w+)/,":"+Be+"input-$1")]})),Aa(ws(t,{props:[we(i,/:(plac\w+)/,":"+ic+"$1")]})),Aa(ws(t,{props:[we(i,/:(plac\w+)/,at+"input-$1")]})),Aa(ws(t,{props:[i]})),m_(t,{props:X1(n,r)});break}return""})}}var bl=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",p2="active",m2="data-styled-version",lm="6.1.11",_0=`/*!sc*/
`,v0=typeof window<"u"&&"HTMLElement"in window,MM=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),FM={},um=Object.freeze([]),kl=Object.freeze({});function g2(t,e,n){return n===void 0&&(n=kl),t.theme!==n.theme&&t.theme||e||n.theme}var y2=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),VM=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,UM=/(^-|-$)/g;function eT(t){return t.replace(VM,"-").replace(UM,"")}var $M=/(a)(d)/gi,bd=52,tT=function(t){return String.fromCharCode(t+(t>25?39:97))};function __(t){var e,n="";for(e=Math.abs(t);e>bd;e=e/bd|0)n=tT(e%bd)+n;return(tT(e%bd)+n).replace($M,"$1-$2")}var Fg,_2=5381,Ga=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},v2=function(t){return Ga(_2,t)};function w0(t){return __(v2(t)>>>0)}function jM(t){return t.displayName||t.name||"Component"}function Vg(t){return typeof t=="string"&&!0}var w2=typeof Symbol=="function"&&Symbol.for,E2=w2?Symbol.for("react.memo"):60115,BM=w2?Symbol.for("react.forward_ref"):60112,zM={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},WM={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},T2={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},HM=((Fg={})[BM]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Fg[E2]=T2,Fg);function nT(t){return("type"in(e=t)&&e.type.$$typeof)===E2?T2:"$$typeof"in t?HM[t.$$typeof]:zM;var e}var qM=Object.defineProperty,GM=Object.getOwnPropertyNames,rT=Object.getOwnPropertySymbols,KM=Object.getOwnPropertyDescriptor,QM=Object.getPrototypeOf,iT=Object.prototype;function I2(t,e,n){if(typeof e!="string"){if(iT){var r=QM(e);r&&r!==iT&&I2(t,r,n)}var i=GM(e);rT&&(i=i.concat(rT(e)));for(var s=nT(t),o=nT(e),a=0;a<i.length;++a){var l=i[a];if(!(l in WM||n&&n[l]||o&&l in o||s&&l in s)){var c=KM(e,l);try{qM(t,l,c)}catch{}}}}return t}function Al(t){return typeof t=="function"}function E0(t){return typeof t=="object"&&"styledComponentId"in t}function Do(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function Kf(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=e?e+t[r]:t[r];return n}function Mc(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function v_(t,e,n){if(n===void 0&&(n=!1),!n&&!Mc(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=v_(t[r],e[r]);else if(Mc(e))for(var r in e)t[r]=v_(t[r],e[r]);return t}function T0(t,e){Object.defineProperty(t,"toString",{value:e})}function oh(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var YM=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw oh(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),l=(o=0,n.length);o<l;o++)this.tag.insertRule(a,n[o])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(_0);return n},t}(),sf=new Map,Qf=new Map,of=1,kd=function(t){if(sf.has(t))return sf.get(t);for(;Qf.has(of);)of++;var e=of++;return sf.set(t,e),Qf.set(e,t),e},XM=function(t,e){of=e+1,sf.set(t,e),Qf.set(e,t)},JM="style[".concat(bl,"][").concat(m2,'="').concat(lm,'"]'),ZM=new RegExp("^".concat(bl,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),eF=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},tF=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(_0),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var l=a.match(ZM);if(l){var c=0|parseInt(l[1],10),d=l[2];c!==0&&(XM(d,c),eF(t,d,l[3]),t.getTag().insertRules(c,i)),i.length=0}else i.push(a)}}};function nF(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var C2=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(bl,"]")));return l[l.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(bl,p2),r.setAttribute(m2,lm);var o=nF();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},rF=function(){function t(e){this.element=C2(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===n)return o}throw oh(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),iF=function(){function t(e){this.element=C2(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),sF=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),sT=v0,oF={isServer:!v0,useCSSOMInjection:!MM},Yf=function(){function t(e,n,r){e===void 0&&(e=kl),n===void 0&&(n={});var i=this;this.options=wn(wn({},oF),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&v0&&sT&&(sT=!1,function(s){for(var o=document.querySelectorAll(JM),a=0,l=o.length;a<l;a++){var c=o[a];c&&c.getAttribute(bl)!==p2&&(tF(s,c),c.parentNode&&c.parentNode.removeChild(c))}}(this)),T0(this,function(){return function(s){for(var o=s.getTag(),a=o.length,l="",c=function(m){var g=function(b){return Qf.get(b)}(m);if(g===void 0)return"continue";var E=s.names.get(g),S=o.getGroup(m);if(E===void 0||S.length===0)return"continue";var A="".concat(bl,".g").concat(m,'[id="').concat(g,'"]'),D="";E!==void 0&&E.forEach(function(b){b.length>0&&(D+="".concat(b,","))}),l+="".concat(S).concat(A,'{content:"').concat(D,'"}').concat(_0)},d=0;d<a;d++)c(d);return l}(i)})}return t.registerId=function(e){return kd(e)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(wn(wn({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new sF(i):r?new rF(i):new iF(i)}(this.options),new YM(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(kd(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(kd(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(kd(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),aF=/&/g,lF=/^\s*\/\/.*$/gm;function S2(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=S2(n.children,e)),n})}function uF(t){var e,n,r,i=t===void 0?kl:t,s=i.options,o=s===void 0?kl:s,a=i.plugins,l=a===void 0?um:a,c=function(g,E,S){return S.startsWith(n)&&S.endsWith(n)&&S.replaceAll(n,"").length>0?".".concat(e):g},d=l.slice();d.push(function(g){g.type===im&&g.value.includes("&")&&(g.props[0]=g.props[0].replace(aF,n).replace(r,c))}),o.prefix&&d.push(LM),d.push(NM);var m=function(g,E,S,A){E===void 0&&(E=""),S===void 0&&(S=""),A===void 0&&(A="&"),e=A,n=E,r=new RegExp("\\".concat(n,"\\b"),"g");var D=g.replace(lF,""),b=RM(S||E?"".concat(S," ").concat(E," { ").concat(D," }"):D);o.namespace&&(b=S2(b,o.namespace));var w=[];return Gf(b,OM(d.concat(DM(function(k){return w.push(k)})))),w};return m.hash=l.length?l.reduce(function(g,E){return E.name||oh(15),Ga(g,E.name)},_2).toString():"",m}var cF=new Yf,w_=uF(),b2=ze.createContext({shouldForwardProp:void 0,styleSheet:cF,stylis:w_});b2.Consumer;ze.createContext(void 0);function E_(){return J.useContext(b2)}var k2=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=w_);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,T0(this,function(){throw oh(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=w_),this.name+e.hash},t}(),hF=function(t){return t>="A"&&t<="Z"};function oT(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;hF(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var A2=function(t){return t==null||t===!1||t===""},x2=function(t){var e,n,r=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!A2(s)&&(Array.isArray(s)&&s.isCss||Al(s)?r.push("".concat(oT(i),":"),s,";"):Mc(s)?r.push.apply(r,Il(Il(["".concat(i," {")],x2(s),!1),["}"],!1)):r.push("".concat(oT(i),": ").concat((e=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in i2||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Ws(t,e,n,r){if(A2(t))return[];if(E0(t))return[".".concat(t.styledComponentId)];if(Al(t)){if(!Al(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return Ws(i,e,n,r)}var s;return t instanceof k2?n?(t.inject(n,r),[t.getName(r)]):[t]:Mc(t)?x2(t):Array.isArray(t)?Array.prototype.concat.apply(um,t.map(function(o){return Ws(o,e,n,r)})):[t.toString()]}function R2(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Al(n)&&!E0(n))return!1}return!0}var dF=v2(lm),fF=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&R2(e),this.componentId=n,this.baseHash=Ga(dF,n),this.baseStyle=r,Yf.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Do(i,this.staticRulesId);else{var s=Kf(Ws(this.rules,e,n,r)),o=__(Ga(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var a=r(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,a)}i=Do(i,o),this.staticRulesId=o}else{for(var l=Ga(this.baseHash,r.hash),c="",d=0;d<this.rules.length;d++){var m=this.rules[d];if(typeof m=="string")c+=m;else if(m){var g=Kf(Ws(m,e,n,r));l=Ga(l,g+d),c+=g}}if(c){var E=__(l>>>0);n.hasNameForId(this.componentId,E)||n.insertRules(this.componentId,E,r(c,".".concat(E),void 0,this.componentId)),i=Do(i,E)}}return i},t}(),I0=ze.createContext(void 0);I0.Consumer;var Ug={};function pF(t,e,n){var r=E0(t),i=t,s=!Vg(t),o=e.attrs,a=o===void 0?um:o,l=e.componentId,c=l===void 0?function(F,j){var W=typeof F!="string"?"sc":eT(F);Ug[W]=(Ug[W]||0)+1;var I="".concat(W,"-").concat(w0(lm+W+Ug[W]));return j?"".concat(j,"-").concat(I):I}(e.displayName,e.parentComponentId):l,d=e.displayName,m=d===void 0?function(F){return Vg(F)?"styled.".concat(F):"Styled(".concat(jM(F),")")}(t):d,g=e.displayName&&e.componentId?"".concat(eT(e.displayName),"-").concat(e.componentId):e.componentId||c,E=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,S=e.shouldForwardProp;if(r&&i.shouldForwardProp){var A=i.shouldForwardProp;if(e.shouldForwardProp){var D=e.shouldForwardProp;S=function(F,j){return A(F,j)&&D(F,j)}}else S=A}var b=new fF(n,g,r?i.componentStyle:void 0);function w(F,j){return function(W,I,C){var x=W.attrs,N=W.componentStyle,L=W.defaultProps,M=W.foldedComponentIds,R=W.styledComponentId,Ee=W.target,qe=ze.useContext(I0),Ce=E_(),je=W.shouldForwardProp||Ce.shouldForwardProp,re=g2(I,qe,L)||kl,K=function(Bt,ht,It){for(var In,Ye=wn(wn({},ht),{className:void 0,theme:It}),zt=0;zt<Bt.length;zt+=1){var Cn=Al(In=Bt[zt])?In(Ye):In;for(var un in Cn)Ye[un]=un==="className"?Do(Ye[un],Cn[un]):un==="style"?wn(wn({},Ye[un]),Cn[un]):Cn[un]}return ht.className&&(Ye.className=Do(Ye.className,ht.className)),Ye}(x,I,re),ue=K.as||Ee,Pe={};for(var _e in K)K[_e]===void 0||_e[0]==="$"||_e==="as"||_e==="theme"&&K.theme===re||(_e==="forwardedAs"?Pe.as=K.forwardedAs:je&&!je(_e,ue)||(Pe[_e]=K[_e]));var Ge=function(Bt,ht){var It=E_(),In=Bt.generateAndInjectStyles(ht,It.styleSheet,It.stylis);return In}(N,K),$=Do(M,R);return Ge&&($+=" "+Ge),K.className&&($+=" "+K.className),Pe[Vg(ue)&&!y2.has(ue)?"class":"className"]=$,Pe.ref=C,J.createElement(ue,Pe)}(k,F,j)}w.displayName=m;var k=ze.forwardRef(w);return k.attrs=E,k.componentStyle=b,k.displayName=m,k.shouldForwardProp=S,k.foldedComponentIds=r?Do(i.foldedComponentIds,i.styledComponentId):"",k.styledComponentId=g,k.target=r?i.target:t,Object.defineProperty(k,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(F){this._foldedDefaultProps=r?function(j){for(var W=[],I=1;I<arguments.length;I++)W[I-1]=arguments[I];for(var C=0,x=W;C<x.length;C++)v_(j,x[C],!0);return j}({},i.defaultProps,F):F}}),T0(k,function(){return".".concat(k.styledComponentId)}),s&&I2(k,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),k}function aT(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var lT=function(t){return Object.assign(t,{isCss:!0})};function C0(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Al(t)||Mc(t))return lT(Ws(aT(um,Il([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?Ws(r):lT(Ws(aT(r,e)))}function T_(t,e,n){if(n===void 0&&(n=kl),!e)throw oh(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,n,C0.apply(void 0,Il([i],s,!1)))};return r.attrs=function(i){return T_(t,e,wn(wn({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return T_(t,e,wn(wn({},n),i))},r}var P2=function(t){return T_(pF,t)},Me=P2;y2.forEach(function(t){Me[t]=P2(t)});var mF=function(){function t(e,n){this.rules=e,this.componentId=n,this.isStatic=R2(e),Yf.registerId(this.componentId+1)}return t.prototype.createStyles=function(e,n,r,i){var s=i(Kf(Ws(this.rules,n,r,i)),""),o=this.componentId+e;r.insertRules(o,o,s)},t.prototype.removeStyles=function(e,n){n.clearRules(this.componentId+e)},t.prototype.renderStyles=function(e,n,r,i){e>2&&Yf.registerId(this.componentId+e),this.removeStyles(e,r),this.createStyles(e,n,r,i)},t}();function gF(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=C0.apply(void 0,Il([t],e,!1)),i="sc-global-".concat(w0(JSON.stringify(r))),s=new mF(r,i),o=function(l){var c=E_(),d=ze.useContext(I0),m=ze.useRef(c.styleSheet.allocateGSInstance(i)).current;return c.styleSheet.server&&a(m,l,c.styleSheet,d,c.stylis),ze.useLayoutEffect(function(){if(!c.styleSheet.server)return a(m,l,c.styleSheet,d,c.stylis),function(){return s.removeStyles(m,c.styleSheet)}},[m,l,c.styleSheet,d,c.stylis]),null};function a(l,c,d,m,g){if(s.isStatic)s.renderStyles(l,FM,d,g);else{var E=wn(wn({},c),{theme:g2(c,m,o.defaultProps)});s.renderStyles(l,E,d,g)}}return ze.memo(o)}function S0(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Kf(C0.apply(void 0,Il([t],e,!1))),i=w0(r);return new k2(i,r)}const yF=Me.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px 0;
  width: 100%;
`,_F=Me(HC)`
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  gap: 8px;
  font-family: 'Roboto-Medium', sans-serif;
  font-size: 20px;
  line-height: 24px;
  letter-spacing: -0.02em;
  color: var(--primary-text-color);
`,vF=Me.nav`
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  gap: 4px;
`,Ad=Me(HC)`
  font-family: 'Roboto-Regular', sans-serif;
  font-size: 16px;
  font-weight: 400;
  line-height: 20px;
  letter-spacing: 0em;
  color: var(--primary-text-color);
  text-decoration: none;
  padding: 8px 12px;
  border: 2px solid transparent;
  border-radius: 12px;
  background-color: transparent;
  transition: background-color 0.3s ease-in-out;
  cursor: pointer;

  &:hover {
    color: var(--btn-color);
    font-weight: 700;
  }

  &.active {
    border-color: var(--btn-color);
    font-weight: 700;
  }
`,wF=Me.div`
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  gap: 14px;
`,uT=Me.button`
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  gap: 8px;
  border: none;
  background-color: transparent;
  cursor: pointer;

  &:hover,
  &:focus {
    color: var(--btn-color);
  }
`,EF=Me.button`
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  padding: 14px 39px;
  font-family: 'Roboto-Bold', sans-serif;
  font-size: 16px;
  line-height: 20px;
  letter-spacing: 0em;
  color: #fff;
  background-color: var(--primary-text-color);
  border: none;
  border-radius: 12px;
  cursor: pointer;

  &:hover,
  &:focus {
    color: var(--btn-color);
  }
`,TF="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHLSURBVHgBvZY/UsJQEMa/fS926uANYuVYiXoAQe3FE4hHsNGxcqgYPAWeAOxV4ABKrBhtzA1k0E7y1vcCBPkfgeTXEPIy+7HLt9klhCCZ/0pZgk6YOAWCDUbCPyA09bVDTE5b8b1zvVadFYumHe7dtrIEcQOwjVCQy1C5l8v14sQnxt1M5j9tS66UGJzEXJDreT9p53rDHT4Rwzf2C99n0rLq84sZ2JbSqu8XWpmRnzIoph8gKmGZMGWfr1bvRgRNGU1mgSGWR9Pz2ru98gYllXKlEoGYIaHLG1TNFzRuDO/EuUh2NLqCHetHS0+DTFNLiQpigDykhZAqg5hQpDKCSOwgJkiIA6GduUCD/xvbmCaKVphEgvj9mBEjAsRNxEdTmDc74sPRpuEa4kLRq4BHZcQFc9mfFvx29KHHko0oYXZp63GzMy0U5xA1XY1gHur2qOuPaF4C3ezMZX/F8Nqn0bSIjqm8dO9bIEjbVRdtvsCyYZz7sYcFO6JPRZ3+kjI1MdS5LuVAF4xdE7mRsiFkZQHnOuYv+pvZVMG+8GEWgm5CC2tzGDf6lZoAIUycxrFe8TmjxfXsNPsqdSeMKRsZkZpeB8u0/VCdFesXTIytwiPfYywAAAAASUVORK5CYII=";var N2={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},cT=ze.createContext&&ze.createContext(N2),IF=["attr","size","title"];function CF(t,e){if(t==null)return{};var n=SF(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function SF(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Xf(){return Xf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xf.apply(this,arguments)}function hT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hT(Object(n),!0).forEach(function(r){bF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bF(t,e,n){return e=kF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kF(t){var e=AF(t,"string");return typeof e=="symbol"?e:e+""}function AF(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function O2(t){return t&&t.map((e,n)=>ze.createElement(e.tag,Jf({key:n},e.attr),O2(e.child)))}function es(t){return e=>ze.createElement(xF,Xf({attr:Jf({},t.attr)},e),O2(t.child))}function xF(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=CF(t,IF),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),ze.createElement("svg",Xf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Jf(Jf({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&ze.createElement("title",null,s),t.children)};return cT!==void 0?ze.createElement(cT.Consumer,null,n=>e(n)):e(N2)}function RF(t){return es({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"},child:[]},{tag:"polyline",attr:{points:"10 17 15 12 10 7"},child:[]},{tag:"line",attr:{x1:"15",y1:"12",x2:"3",y2:"12"},child:[]}]})(t)}function PF(t){return es({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(t)}var ah=t=>t.type==="checkbox",Ka=t=>t instanceof Date,xn=t=>t==null;const D2=t=>typeof t=="object";var jt=t=>!xn(t)&&!Array.isArray(t)&&D2(t)&&!Ka(t),NF=t=>jt(t)&&t.target?ah(t.target)?t.target.checked:t.target.value:t,OF=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,DF=(t,e)=>t.has(OF(e)),LF=t=>{const e=t.constructor&&t.constructor.prototype;return jt(e)&&e.hasOwnProperty("isPrototypeOf")},b0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ur(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(b0&&(t instanceof Blob||t instanceof FileList))&&(n||jt(t)))if(e=n?[]:{},!n&&!LF(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=ur(t[r]));else return t;return e}var lh=t=>Array.isArray(t)?t.filter(Boolean):[],St=t=>t===void 0,se=(t,e,n)=>{if(!e||!jt(t))return n;const r=lh(e.split(/[,[\].]+?/)).reduce((i,s)=>xn(i)?i:i[s],t);return St(r)||r===t?St(t[e])?n:t[e]:r},Ss=t=>typeof t=="boolean",k0=t=>/^\w*$/.test(t),L2=t=>lh(t.replace(/["|']|\]/g,"").split(/\.|\[/)),lt=(t,e,n)=>{let r=-1;const i=k0(e)?[e]:L2(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const c=t[a];l=jt(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}if(a==="__proto__")return;t[a]=l,t=t[a]}return t};const dT={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},xr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},xi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};ze.createContext(null);var MF=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==xr.all&&(e._proxyFormState[o]=!r||xr.all),n&&(n[o]=!0),t[o]}});return i},Yn=t=>jt(t)&&!Object.keys(t).length,FF=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return Yn(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||xr.all))},$g=t=>Array.isArray(t)?t:[t];function VF(t){const e=ze.useRef(t);e.current=t,ze.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var Zr=t=>typeof t=="string",UF=(t,e,n,r,i)=>Zr(t)?(r&&e.watch.add(t),se(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),se(n,s))):(r&&(e.watchAll=!0),n),M2=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},fT=t=>({isOnSubmit:!t||t===xr.onSubmit,isOnBlur:t===xr.onBlur,isOnChange:t===xr.onChange,isOnAll:t===xr.all,isOnTouch:t===xr.onTouched}),pT=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const sc=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=se(t,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)break;if(o.ref&&e(o.ref,o.name)&&!r)break;sc(a,e)}else jt(a)&&sc(a,e)}}};var $F=(t,e,n)=>{const r=lh(se(t,n));return lt(r,"root",e[n]),lt(t,n,r),t},A0=t=>t.type==="file",Os=t=>typeof t=="function",Zf=t=>{if(!b0)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},af=t=>Zr(t),x0=t=>t.type==="radio",ep=t=>t instanceof RegExp;const mT={value:!1,isValid:!1},gT={value:!0,isValid:!0};var F2=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!St(t[0].attributes.value)?St(t[0].value)||t[0].value===""?gT:{value:t[0].value,isValid:!0}:gT:mT}return mT};const yT={isValid:!1,value:null};var V2=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,yT):yT;function _T(t,e,n="validate"){if(af(t)||Array.isArray(t)&&t.every(af)||Ss(t)&&!t)return{type:n,message:af(t)?t:"",ref:e}}var xa=t=>jt(t)&&!ep(t)?t:{value:t,message:""},vT=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:c,min:d,max:m,pattern:g,validate:E,name:S,valueAsNumber:A,mount:D,disabled:b}=t._f,w=se(e,S);if(!D||b)return{};const k=o?o[0]:s,F=M=>{r&&k.reportValidity&&(k.setCustomValidity(Ss(M)?"":M||""),k.reportValidity())},j={},W=x0(s),I=ah(s),C=W||I,x=(A||A0(s))&&St(s.value)&&St(w)||Zf(s)&&s.value===""||w===""||Array.isArray(w)&&!w.length,N=M2.bind(null,S,n,j),L=(M,R,Ee,qe=xi.maxLength,Ce=xi.minLength)=>{const je=M?R:Ee;j[S]={type:M?qe:Ce,message:je,ref:s,...N(M?qe:Ce,je)}};if(i?!Array.isArray(w)||!w.length:a&&(!C&&(x||xn(w))||Ss(w)&&!w||I&&!F2(o).isValid||W&&!V2(o).isValid)){const{value:M,message:R}=af(a)?{value:!!a,message:a}:xa(a);if(M&&(j[S]={type:xi.required,message:R,ref:k,...N(xi.required,R)},!n))return F(R),j}if(!x&&(!xn(d)||!xn(m))){let M,R;const Ee=xa(m),qe=xa(d);if(!xn(w)&&!isNaN(w)){const Ce=s.valueAsNumber||w&&+w;xn(Ee.value)||(M=Ce>Ee.value),xn(qe.value)||(R=Ce<qe.value)}else{const Ce=s.valueAsDate||new Date(w),je=ue=>new Date(new Date().toDateString()+" "+ue),re=s.type=="time",K=s.type=="week";Zr(Ee.value)&&w&&(M=re?je(w)>je(Ee.value):K?w>Ee.value:Ce>new Date(Ee.value)),Zr(qe.value)&&w&&(R=re?je(w)<je(qe.value):K?w<qe.value:Ce<new Date(qe.value))}if((M||R)&&(L(!!M,Ee.message,qe.message,xi.max,xi.min),!n))return F(j[S].message),j}if((l||c)&&!x&&(Zr(w)||i&&Array.isArray(w))){const M=xa(l),R=xa(c),Ee=!xn(M.value)&&w.length>+M.value,qe=!xn(R.value)&&w.length<+R.value;if((Ee||qe)&&(L(Ee,M.message,R.message),!n))return F(j[S].message),j}if(g&&!x&&Zr(w)){const{value:M,message:R}=xa(g);if(ep(M)&&!w.match(M)&&(j[S]={type:xi.pattern,message:R,ref:s,...N(xi.pattern,R)},!n))return F(R),j}if(E){if(Os(E)){const M=await E(w,e),R=_T(M,k);if(R&&(j[S]={...R,...N(xi.validate,R.message)},!n))return F(R.message),j}else if(jt(E)){let M={};for(const R in E){if(!Yn(M)&&!n)break;const Ee=_T(await E[R](w,e),k,R);Ee&&(M={...Ee,...N(R,Ee.message)},F(Ee.message),n&&(j[S]=M))}if(!Yn(M)&&(j[S]={ref:k,...M},!n))return j}}return F(!0),j};function jF(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=St(t)?r++:t[e[r++]];return t}function BF(t){for(const e in t)if(t.hasOwnProperty(e)&&!St(t[e]))return!1;return!0}function Lt(t,e){const n=Array.isArray(e)?e:k0(e)?[e]:L2(e),r=n.length===1?t:jF(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(jt(r)&&Yn(r)||Array.isArray(r)&&BF(r))&&Lt(t,n.slice(0,-1)),t}var jg=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},tp=t=>xn(t)||!D2(t);function Lo(t,e){if(tp(t)||tp(e))return t===e;if(Ka(t)&&Ka(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Ka(s)&&Ka(o)||jt(s)&&jt(o)||Array.isArray(s)&&Array.isArray(o)?!Lo(s,o):s!==o)return!1}}return!0}var U2=t=>t.type==="select-multiple",zF=t=>x0(t)||ah(t),Bg=t=>Zf(t)&&t.isConnected,$2=t=>{for(const e in t)if(Os(t[e]))return!0;return!1};function np(t,e={}){const n=Array.isArray(t);if(jt(t)||n)for(const r in t)Array.isArray(t[r])||jt(t[r])&&!$2(t[r])?(e[r]=Array.isArray(t[r])?[]:{},np(t[r],e[r])):xn(t[r])||(e[r]=!0);return e}function j2(t,e,n){const r=Array.isArray(t);if(jt(t)||r)for(const i in t)Array.isArray(t[i])||jt(t[i])&&!$2(t[i])?St(e)||tp(n[i])?n[i]=Array.isArray(t[i])?np(t[i],[]):{...np(t[i])}:j2(t[i],xn(e)?{}:e[i],n[i]):n[i]=!Lo(t[i],e[i]);return n}var xd=(t,e)=>j2(t,e,np(e)),B2=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>St(t)?t:e?t===""?NaN:t&&+t:n&&Zr(t)?new Date(t):r?r(t):t;function zg(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return A0(e)?e.files:x0(e)?V2(t.refs).value:U2(e)?[...e.selectedOptions].map(({value:n})=>n):ah(e)?F2(t.refs).value:B2(St(e.value)?t.ref.value:e.value,t)}var WF=(t,e,n,r)=>{const i={};for(const s of t){const o=se(e,s);o&&lt(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},Pu=t=>St(t)?t:ep(t)?t.source:jt(t)?ep(t.value)?t.value.source:t.value:t,HF=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function wT(t,e,n){const r=se(t,n);if(r||k0(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=se(e,s),a=se(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var qF=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,GF=(t,e)=>!lh(se(t,e)).length&&Lt(t,e);const KF={mode:xr.onSubmit,reValidateMode:xr.onChange,shouldFocusError:!0};function QF(t={}){let e={...KF,...t},n={submitCount:0,isDirty:!1,isLoading:Os(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=jt(e.defaultValues)||jt(e.values)?ur(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:ur(i),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},m={values:jg(),array:jg(),state:jg()},g=fT(e.mode),E=fT(e.reValidateMode),S=e.criteriaMode===xr.all,A=O=>U=>{clearTimeout(c),c=setTimeout(O,U)},D=async O=>{if(d.isValid||O){const U=e.resolver?Yn((await C()).errors):await N(r,!0);U!==n.isValid&&m.state.next({isValid:U})}},b=(O,U)=>{(d.isValidating||d.validatingFields)&&((O||Array.from(a.mount)).forEach(z=>{z&&(U?lt(n.validatingFields,z,U):Lt(n.validatingFields,z))}),m.state.next({validatingFields:n.validatingFields,isValidating:!Yn(n.validatingFields)}))},w=(O,U=[],z,G,ne=!0,Z=!0)=>{if(G&&z){if(o.action=!0,Z&&Array.isArray(se(r,O))){const ae=z(se(r,O),G.argA,G.argB);ne&&lt(r,O,ae)}if(Z&&Array.isArray(se(n.errors,O))){const ae=z(se(n.errors,O),G.argA,G.argB);ne&&lt(n.errors,O,ae),GF(n.errors,O)}if(d.touchedFields&&Z&&Array.isArray(se(n.touchedFields,O))){const ae=z(se(n.touchedFields,O),G.argA,G.argB);ne&&lt(n.touchedFields,O,ae)}d.dirtyFields&&(n.dirtyFields=xd(i,s)),m.state.next({name:O,isDirty:M(O,U),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else lt(s,O,U)},k=(O,U)=>{lt(n.errors,O,U),m.state.next({errors:n.errors})},F=O=>{n.errors=O,m.state.next({errors:n.errors,isValid:!1})},j=(O,U,z,G)=>{const ne=se(r,O);if(ne){const Z=se(s,O,St(z)?se(i,O):z);St(Z)||G&&G.defaultChecked||U?lt(s,O,U?Z:zg(ne._f)):qe(O,Z),o.mount&&D()}},W=(O,U,z,G,ne)=>{let Z=!1,ae=!1;const Te={name:O},Xe=!!(se(r,O)&&se(r,O)._f&&se(r,O)._f.disabled);if(!z||G){d.isDirty&&(ae=n.isDirty,n.isDirty=Te.isDirty=M(),Z=ae!==Te.isDirty);const Ne=Xe||Lo(se(i,O),U);ae=!!(!Xe&&se(n.dirtyFields,O)),Ne||Xe?Lt(n.dirtyFields,O):lt(n.dirtyFields,O,!0),Te.dirtyFields=n.dirtyFields,Z=Z||d.dirtyFields&&ae!==!Ne}if(z){const Ne=se(n.touchedFields,O);Ne||(lt(n.touchedFields,O,z),Te.touchedFields=n.touchedFields,Z=Z||d.touchedFields&&Ne!==z)}return Z&&ne&&m.state.next(Te),Z?Te:{}},I=(O,U,z,G)=>{const ne=se(n.errors,O),Z=d.isValid&&Ss(U)&&n.isValid!==U;if(t.delayError&&z?(l=A(()=>k(O,z)),l(t.delayError)):(clearTimeout(c),l=null,z?lt(n.errors,O,z):Lt(n.errors,O)),(z?!Lo(ne,z):ne)||!Yn(G)||Z){const ae={...G,...Z&&Ss(U)?{isValid:U}:{},errors:n.errors,name:O};n={...n,...ae},m.state.next(ae)}},C=async O=>{b(O,!0);const U=await e.resolver(s,e.context,WF(O||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return b(O),U},x=async O=>{const{errors:U}=await C(O);if(O)for(const z of O){const G=se(U,z);G?lt(n.errors,z,G):Lt(n.errors,z)}else n.errors=U;return U},N=async(O,U,z={valid:!0})=>{for(const G in O){const ne=O[G];if(ne){const{_f:Z,...ae}=ne;if(Z){const Te=a.array.has(Z.name);b([G],!0);const Xe=await vT(ne,s,S,e.shouldUseNativeValidation&&!U,Te);if(b([G]),Xe[Z.name]&&(z.valid=!1,U))break;!U&&(se(Xe,Z.name)?Te?$F(n.errors,Xe,Z.name):lt(n.errors,Z.name,Xe[Z.name]):Lt(n.errors,Z.name))}ae&&await N(ae,U,z)}}return z.valid},L=()=>{for(const O of a.unMount){const U=se(r,O);U&&(U._f.refs?U._f.refs.every(z=>!Bg(z)):!Bg(U._f.ref))&&ht(O)}a.unMount=new Set},M=(O,U)=>(O&&U&&lt(s,O,U),!Lo(Pe(),i)),R=(O,U,z)=>UF(O,a,{...o.mount?s:St(U)?i:Zr(O)?{[O]:U}:U},z,U),Ee=O=>lh(se(o.mount?s:i,O,t.shouldUnregister?se(i,O,[]):[])),qe=(O,U,z={})=>{const G=se(r,O);let ne=U;if(G){const Z=G._f;Z&&(!Z.disabled&&lt(s,O,B2(U,Z)),ne=Zf(Z.ref)&&xn(U)?"":U,U2(Z.ref)?[...Z.ref.options].forEach(ae=>ae.selected=ne.includes(ae.value)):Z.refs?ah(Z.ref)?Z.refs.length>1?Z.refs.forEach(ae=>(!ae.defaultChecked||!ae.disabled)&&(ae.checked=Array.isArray(ne)?!!ne.find(Te=>Te===ae.value):ne===ae.value)):Z.refs[0]&&(Z.refs[0].checked=!!ne):Z.refs.forEach(ae=>ae.checked=ae.value===ne):A0(Z.ref)?Z.ref.value="":(Z.ref.value=ne,Z.ref.type||m.values.next({name:O,values:{...s}})))}(z.shouldDirty||z.shouldTouch)&&W(O,ne,z.shouldTouch,z.shouldDirty,!0),z.shouldValidate&&ue(O)},Ce=(O,U,z)=>{for(const G in U){const ne=U[G],Z=`${O}.${G}`,ae=se(r,Z);(a.array.has(O)||!tp(ne)||ae&&!ae._f)&&!Ka(ne)?Ce(Z,ne,z):qe(Z,ne,z)}},je=(O,U,z={})=>{const G=se(r,O),ne=a.array.has(O),Z=ur(U);lt(s,O,Z),ne?(m.array.next({name:O,values:{...s}}),(d.isDirty||d.dirtyFields)&&z.shouldDirty&&m.state.next({name:O,dirtyFields:xd(i,s),isDirty:M(O,Z)})):G&&!G._f&&!xn(Z)?Ce(O,Z,z):qe(O,Z,z),pT(O,a)&&m.state.next({...n}),m.values.next({name:o.mount?O:void 0,values:{...s}})},re=async O=>{o.mount=!0;const U=O.target;let z=U.name,G=!0;const ne=se(r,z),Z=()=>U.type?zg(ne._f):NF(O),ae=Te=>{G=Number.isNaN(Te)||Te===se(s,z,Te)};if(ne){let Te,Xe;const Ne=Z(),Je=O.type===dT.BLUR||O.type===dT.FOCUS_OUT,Jt=!HF(ne._f)&&!e.resolver&&!se(n.errors,z)&&!ne._f.deps||qF(Je,se(n.touchedFields,z),n.isSubmitted,E,g),Gn=pT(z,a,Je);lt(s,z,Ne),Je?(ne._f.onBlur&&ne._f.onBlur(O),l&&l(0)):ne._f.onChange&&ne._f.onChange(O);const On=W(z,Ne,Je,!1),ou=!Yn(On)||Gn;if(!Je&&m.values.next({name:z,type:O.type,values:{...s}}),Jt)return d.isValid&&D(),ou&&m.state.next({name:z,...Gn?{}:On});if(!Je&&Gn&&m.state.next({...n}),e.resolver){const{errors:Sn}=await C([z]);if(ae(Ne),G){const $r=wT(n.errors,r,z),ss=wT(Sn,r,$r.name||z);Te=ss.error,z=ss.name,Xe=Yn(Sn)}}else b([z],!0),Te=(await vT(ne,s,S,e.shouldUseNativeValidation))[z],b([z]),ae(Ne),G&&(Te?Xe=!1:d.isValid&&(Xe=await N(r,!0)));G&&(ne._f.deps&&ue(ne._f.deps),I(z,Xe,Te,On))}},K=(O,U)=>{if(se(n.errors,U)&&O.focus)return O.focus(),1},ue=async(O,U={})=>{let z,G;const ne=$g(O);if(e.resolver){const Z=await x(St(O)?O:ne);z=Yn(Z),G=O?!ne.some(ae=>se(Z,ae)):z}else O?(G=(await Promise.all(ne.map(async Z=>{const ae=se(r,Z);return await N(ae&&ae._f?{[Z]:ae}:ae)}))).every(Boolean),!(!G&&!n.isValid)&&D()):G=z=await N(r);return m.state.next({...!Zr(O)||d.isValid&&z!==n.isValid?{}:{name:O},...e.resolver||!O?{isValid:z}:{},errors:n.errors}),U.shouldFocus&&!G&&sc(r,K,O?ne:a.mount),G},Pe=O=>{const U={...o.mount?s:i};return St(O)?U:Zr(O)?se(U,O):O.map(z=>se(U,z))},_e=(O,U)=>({invalid:!!se((U||n).errors,O),isDirty:!!se((U||n).dirtyFields,O),error:se((U||n).errors,O),isValidating:!!se(n.validatingFields,O),isTouched:!!se((U||n).touchedFields,O)}),Ge=O=>{O&&$g(O).forEach(U=>Lt(n.errors,U)),m.state.next({errors:O?n.errors:{}})},$=(O,U,z)=>{const G=(se(r,O,{_f:{}})._f||{}).ref,ne=se(n.errors,O)||{},{ref:Z,message:ae,type:Te,...Xe}=ne;lt(n.errors,O,{...Xe,...U,ref:G}),m.state.next({name:O,errors:n.errors,isValid:!1}),z&&z.shouldFocus&&G&&G.focus&&G.focus()},Bt=(O,U)=>Os(O)?m.values.subscribe({next:z=>O(R(void 0,U),z)}):R(O,U,!0),ht=(O,U={})=>{for(const z of O?$g(O):a.mount)a.mount.delete(z),a.array.delete(z),U.keepValue||(Lt(r,z),Lt(s,z)),!U.keepError&&Lt(n.errors,z),!U.keepDirty&&Lt(n.dirtyFields,z),!U.keepTouched&&Lt(n.touchedFields,z),!U.keepIsValidating&&Lt(n.validatingFields,z),!e.shouldUnregister&&!U.keepDefaultValue&&Lt(i,z);m.values.next({values:{...s}}),m.state.next({...n,...U.keepDirty?{isDirty:M()}:{}}),!U.keepIsValid&&D()},It=({disabled:O,name:U,field:z,fields:G,value:ne})=>{if(Ss(O)&&o.mount||O){const Z=O?void 0:St(ne)?zg(z?z._f:se(G,U)._f):ne;lt(s,U,Z),W(U,Z,!1,!1,!0)}},In=(O,U={})=>{let z=se(r,O);const G=Ss(U.disabled);return lt(r,O,{...z||{},_f:{...z&&z._f?z._f:{ref:{name:O}},name:O,mount:!0,...U}}),a.mount.add(O),z?It({field:z,disabled:U.disabled,name:O,value:U.value}):j(O,!0,U.value),{...G?{disabled:U.disabled}:{},...e.progressive?{required:!!U.required,min:Pu(U.min),max:Pu(U.max),minLength:Pu(U.minLength),maxLength:Pu(U.maxLength),pattern:Pu(U.pattern)}:{},name:O,onChange:re,onBlur:re,ref:ne=>{if(ne){In(O,U),z=se(r,O);const Z=St(ne.value)&&ne.querySelectorAll&&ne.querySelectorAll("input,select,textarea")[0]||ne,ae=zF(Z),Te=z._f.refs||[];if(ae?Te.find(Xe=>Xe===Z):Z===z._f.ref)return;lt(r,O,{_f:{...z._f,...ae?{refs:[...Te.filter(Bg),Z,...Array.isArray(se(i,O))?[{}]:[]],ref:{type:Z.type,name:O}}:{ref:Z}}}),j(O,!1,void 0,Z)}else z=se(r,O,{}),z._f&&(z._f.mount=!1),(e.shouldUnregister||U.shouldUnregister)&&!(DF(a.array,O)&&o.action)&&a.unMount.add(O)}}},Ye=()=>e.shouldFocusError&&sc(r,K,a.mount),zt=O=>{Ss(O)&&(m.state.next({disabled:O}),sc(r,(U,z)=>{const G=se(r,z);G&&(U.disabled=G._f.disabled||O,Array.isArray(G._f.refs)&&G._f.refs.forEach(ne=>{ne.disabled=G._f.disabled||O}))},0,!1))},Cn=(O,U)=>async z=>{let G;z&&(z.preventDefault&&z.preventDefault(),z.persist&&z.persist());let ne=ur(s);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:Z,values:ae}=await C();n.errors=Z,ne=ae}else await N(r);if(Lt(n.errors,"root"),Yn(n.errors)){m.state.next({errors:{}});try{await O(ne,z)}catch(Z){G=Z}}else U&&await U({...n.errors},z),Ye(),setTimeout(Ye);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Yn(n.errors)&&!G,submitCount:n.submitCount+1,errors:n.errors}),G)throw G},un=(O,U={})=>{se(r,O)&&(St(U.defaultValue)?je(O,ur(se(i,O))):(je(O,U.defaultValue),lt(i,O,ur(U.defaultValue))),U.keepTouched||Lt(n.touchedFields,O),U.keepDirty||(Lt(n.dirtyFields,O),n.isDirty=U.defaultValue?M(O,ur(se(i,O))):M()),U.keepError||(Lt(n.errors,O),d.isValid&&D()),m.state.next({...n}))},yi=(O,U={})=>{const z=O?ur(O):i,G=ur(z),ne=Yn(O),Z=ne?i:G;if(U.keepDefaultValues||(i=z),!U.keepValues){if(U.keepDirtyValues)for(const ae of a.mount)se(n.dirtyFields,ae)?lt(Z,ae,se(s,ae)):je(ae,se(Z,ae));else{if(b0&&St(O))for(const ae of a.mount){const Te=se(r,ae);if(Te&&Te._f){const Xe=Array.isArray(Te._f.refs)?Te._f.refs[0]:Te._f.ref;if(Zf(Xe)){const Ne=Xe.closest("form");if(Ne){Ne.reset();break}}}}r={}}s=t.shouldUnregister?U.keepDefaultValues?ur(i):{}:ur(Z),m.array.next({values:{...Z}}),m.values.next({values:{...Z}})}a={mount:U.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!U.keepIsValid||!!U.keepDirtyValues,o.watch=!!t.shouldUnregister,m.state.next({submitCount:U.keepSubmitCount?n.submitCount:0,isDirty:ne?!1:U.keepDirty?n.isDirty:!!(U.keepDefaultValues&&!Lo(O,i)),isSubmitted:U.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ne?[]:U.keepDirtyValues?U.keepDefaultValues&&s?xd(i,s):n.dirtyFields:U.keepDefaultValues&&O?xd(i,O):U.keepDirty?n.dirtyFields:{},touchedFields:U.keepTouched?n.touchedFields:{},errors:U.keepErrors?n.errors:{},isSubmitSuccessful:U.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},_r=(O,U)=>yi(Os(O)?O(s):O,U);return{control:{register:In,unregister:ht,getFieldState:_e,handleSubmit:Cn,setError:$,_executeSchema:C,_getWatch:R,_getDirty:M,_updateValid:D,_removeUnmounted:L,_updateFieldArray:w,_updateDisabledField:It,_getFieldArray:Ee,_reset:yi,_resetDefaultValues:()=>Os(e.defaultValues)&&e.defaultValues().then(O=>{_r(O,e.resetOptions),m.state.next({isLoading:!1})}),_updateFormState:O=>{n={...n,...O}},_disableForm:zt,_subjects:m,_proxyFormState:d,_setErrors:F,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(O){o=O},get _defaultValues(){return i},get _names(){return a},set _names(O){a=O},get _formState(){return n},set _formState(O){n=O},get _options(){return e},set _options(O){e={...e,...O}}},trigger:ue,register:In,handleSubmit:Cn,watch:Bt,setValue:je,getValues:Pe,reset:_r,resetField:un,clearErrors:Ge,unregister:ht,setError:$,setFocus:(O,U={})=>{const z=se(r,O),G=z&&z._f;if(G){const ne=G.refs?G.refs[0]:G.ref;ne.focus&&(ne.focus(),U.shouldSelect&&ne.select())}},getFieldState:_e}}function z2(t={}){const e=ze.useRef(),n=ze.useRef(),[r,i]=ze.useState({isDirty:!1,isValidating:!1,isLoading:Os(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Os(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...QF(t),formState:r});const s=e.current.control;return s._options=t,VF({subject:s._subjects.state,next:o=>{FF(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),ze.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),ze.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),ze.useEffect(()=>{t.values&&!Lo(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),ze.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),ze.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),ze.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=MF(r,s),e.current}var ET=function(t,e,n){if(t&&"reportValidity"in t){var r=se(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},W2=function(t,e){var n=function(i){var s=e.fields[i];s&&s.ref&&"reportValidity"in s.ref?ET(s.ref,i,t):s.refs&&s.refs.forEach(function(o){return ET(o,i,t)})};for(var r in e.fields)n(r)},YF=function(t){return t instanceof Date},XF=function(t){return t==null},JF=function(t){return typeof t=="object"},ZF=function(t){return!XF(t)&&!Array.isArray(t)&&JF(t)&&!YF(t)},e4=function(t){return/^\w*$/.test(t)},Wg=function(t,e,n){for(var r=-1,i=e4(e)?[e]:function(d){return m=d.replace(/["|']|\]/g,"").split(/\.|\[/),Array.isArray(m)?m.filter(Boolean):[];var m}(e),s=i.length,o=s-1;++r<s;){var a=i[r],l=n;if(r!==o){var c=t[a];l=ZF(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}t[a]=l,t=t[a]}return t},t4=function(t,e){e.shouldUseNativeValidation&&W2(t,e);var n={};for(var r in t){var i=se(e.fields,r),s=Object.assign(t[r]||{},{ref:i&&i.ref});if(n4(e.names||Object.keys(t),r)){var o=Object.assign({},se(n,r));Wg(o,"root",s),Wg(n,r,o)}else Wg(n,r,s)}return n},n4=function(t,e){return t.some(function(n){return n.startsWith(e+".")})};function H2(t,e,n){return e===void 0&&(e={}),n===void 0&&(n={}),function(r,i,s){try{return Promise.resolve(function(o,a){try{var l=(e.context,Promise.resolve(t[n.mode==="sync"?"validateSync":"validate"](r,Object.assign({abortEarly:!1},e,{context:i}))).then(function(c){return s.shouldUseNativeValidation&&W2({},s),{values:n.raw?r:c,errors:{}}}))}catch(c){return a(c)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(!o.inner)throw o;return{values:{},errors:t4((a=o,l=!s.shouldUseNativeValidation&&s.criteriaMode==="all",(a.inner||[]).reduce(function(c,d){if(c[d.path]||(c[d.path]={message:d.message,type:d.type}),l){var m=c[d.path].types,g=m&&m[d.type];c[d.path]=M2(d.path,l,c,d.type,g?[].concat(g,d.message):d.message)}return c},{})),s)};var a,l}))}catch(o){return Promise.reject(o)}}}function la(t){this._maxSize=t,this.clear()}la.prototype.clear=function(){this._size=0,this._values=Object.create(null)};la.prototype.get=function(t){return this._values[t]};la.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var r4=/[^.^\]^[]+|(?=\[\]|\.\.)/g,q2=/^\d+$/,i4=/^\d/,s4=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,o4=/^\s*(['"]?)(.*?)(\1)\s*$/,R0=512,TT=new la(R0),IT=new la(R0),CT=new la(R0),Bo={Cache:la,split:I_,normalizePath:Hg,setter:function(t){var e=Hg(t);return IT.get(t)||IT.set(t,function(r,i){for(var s=0,o=e.length,a=r;s<o-1;){var l=e[s];if(l==="__proto__"||l==="constructor"||l==="prototype")return r;a=a[e[s++]]}a[e[s]]=i})},getter:function(t,e){var n=Hg(t);return CT.get(t)||CT.set(t,function(i){for(var s=0,o=n.length;s<o;)if(i!=null||!e)i=i[n[s++]];else return;return i})},join:function(t){return t.reduce(function(e,n){return e+(P0(n)||q2.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){a4(Array.isArray(t)?t:I_(t),e,n)}};function Hg(t){return TT.get(t)||TT.set(t,I_(t).map(function(e){return e.replace(o4,"$2")}))}function I_(t){return t.match(r4)||[""]}function a4(t,e,n){var r=t.length,i,s,o,a;for(s=0;s<r;s++)i=t[s],i&&(c4(i)&&(i='"'+i+'"'),a=P0(i),o=!a&&/^\d+$/.test(i),e.call(n,i,a,o,s,t))}function P0(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function l4(t){return t.match(i4)&&!t.match(q2)}function u4(t){return s4.test(t)}function c4(t){return!P0(t)&&(l4(t)||u4(t))}const h4=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,cm=t=>t.match(h4)||[],hm=t=>t[0].toUpperCase()+t.slice(1),N0=(t,e)=>cm(t).join(e).toLowerCase(),G2=t=>cm(t).reduce((e,n)=>`${e}${e?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),d4=t=>hm(G2(t)),f4=t=>N0(t,"_"),p4=t=>N0(t,"-"),m4=t=>hm(N0(t," ")),g4=t=>cm(t).map(hm).join(" ");var qg={words:cm,upperFirst:hm,camelCase:G2,pascalCase:d4,snakeCase:f4,kebabCase:p4,sentenceCase:m4,titleCase:g4},O0={exports:{}};O0.exports=function(t){return K2(y4(t),t)};O0.exports.array=K2;function K2(t,e){var n=t.length,r=new Array(n),i={},s=n,o=_4(e),a=v4(t);for(e.forEach(function(c){if(!a.has(c[0])||!a.has(c[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)i[s]||l(t[s],s,new Set);return r;function l(c,d,m){if(m.has(c)){var g;try{g=", node was:"+JSON.stringify(c)}catch{g=""}throw new Error("Cyclic dependency"+g)}if(!a.has(c))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(c));if(!i[d]){i[d]=!0;var E=o.get(c)||new Set;if(E=Array.from(E),d=E.length){m.add(c);do{var S=E[--d];l(S,a.get(S),m)}while(d);m.delete(c)}r[--n]=c}}}function y4(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var i=t[n];e.add(i[0]),e.add(i[1])}return Array.from(e)}function _4(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var i=t[n];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}function v4(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}var w4=O0.exports;const E4=hv(w4),T4=Object.prototype.toString,I4=Error.prototype.toString,C4=RegExp.prototype.toString,S4=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",b4=/^Symbol\((.*)\)(.*)$/;function k4(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function ST(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return k4(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return S4.call(t).replace(b4,"Symbol($1)");const r=T4.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+I4.call(t)+"]":r==="RegExp"?C4.call(t):null}function Hs(t,e){let n=ST(t,e);return n!==null?n:JSON.stringify(t,function(r,i){let s=ST(this[r],e);return s!==null?s:i},2)}function Q2(t){return t==null?[]:[].concat(t)}let Y2,X2,J2,A4=/\$\{\s*(\w+)\s*\}/g;Y2=Symbol.toStringTag;class bT{constructor(e,n,r,i){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[Y2]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],Q2(e).forEach(s=>{if(Fn.isError(s)){this.errors.push(...s.errors);const o=s.inner.length?s.inner:[s];this.inner.push(...o)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}X2=Symbol.hasInstance;J2=Symbol.toStringTag;class Fn extends Error{static formatError(e,n){const r=n.label||n.path||"this";return r!==n.path&&(n=Object.assign({},n,{path:r})),typeof e=="string"?e.replace(A4,(i,s)=>Hs(n[s])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,i,s){const o=new bT(e,n,r,i);if(s)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[J2]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Fn)}static[X2](e){return bT[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Kr={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const i=r!=null&&r!==n?` (cast from the value \`${Hs(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${Hs(n,!0)}\``+i:`${t} must match the configured type. The validated value was: \`${Hs(n,!0)}\``+i}},Ln={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},x4={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},C_={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},R4={isValue:"${path} field must be ${value}"},S_={noUnknown:"${path} field has unspecified keys: ${unknown}"},P4={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},N4={notType:t=>{const{path:e,value:n,spec:r}=t,i=r.types.length;if(Array.isArray(n)){if(n.length<i)return`${e} tuple value has too few items, expected a length of ${i} but got ${n.length} for value: \`${Hs(n,!0)}\``;if(n.length>i)return`${e} tuple value has too many items, expected a length of ${i} but got ${n.length} for value: \`${Hs(n,!0)}\``}return Fn.formatError(Kr.notType,t)}};Object.assign(Object.create(null),{mixed:Kr,string:Ln,number:x4,date:C_,object:S_,array:P4,boolean:R4,tuple:N4});const D0=t=>t&&t.__isYupSchema__;class rp{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:s}=n,o=typeof r=="function"?r:(...a)=>a.every(l=>l===r);return new rp(e,(a,l)=>{var c;let d=o(...a)?i:s;return(c=d==null?void 0:d(l))!=null?c:l})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(s=>s.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn(r,e,n);if(i===void 0||i===e)return e;if(!D0(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}const Rd={context:"$",value:"."};let ua=class{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Rd.context,this.isValue=this.key[0]===Rd.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?Rd.context:this.isValue?Rd.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&Bo.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let i=this.isContext?r:this.isValue?e:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}};ua.prototype.__isYupRef=!0;const Mo=t=>t==null;function Ra(t){function e({value:n,path:r="",options:i,originalValue:s,schema:o},a,l){const{name:c,test:d,params:m,message:g,skipAbsent:E}=t;let{parent:S,context:A,abortEarly:D=o.spec.abortEarly,disableStackTrace:b=o.spec.disableStackTrace}=i;function w(L){return ua.isRef(L)?L.getValue(n,S,A):L}function k(L={}){const M=Object.assign({value:n,originalValue:s,label:o.spec.label,path:L.path||r,spec:o.spec,disableStackTrace:L.disableStackTrace||b},m,L.params);for(const Ee of Object.keys(M))M[Ee]=w(M[Ee]);const R=new Fn(Fn.formatError(L.message||g,M),n,M.path,L.type||c,M.disableStackTrace);return R.params=M,R}const F=D?a:l;let j={path:r,parent:S,type:c,from:i.from,createError:k,resolve:w,options:i,originalValue:s,schema:o};const W=L=>{Fn.isError(L)?F(L):L?l(null):F(k())},I=L=>{Fn.isError(L)?F(L):a(L)};if(E&&Mo(n))return W(!0);let x;try{var N;if(x=d.call(j,n,j),typeof((N=x)==null?void 0:N.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${j.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(x).then(W,I)}}catch(L){I(L);return}W(x)}return e.OPTIONS=t,e}function O4(t,e,n,r=n){let i,s,o;return e?(Bo.forEach(e,(a,l,c)=>{let d=l?a.slice(1,a.length-1):a;t=t.resolve({context:r,parent:i,value:n});let m=t.type==="tuple",g=c?parseInt(d,10):0;if(t.innerType||m){if(m&&!c)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&g>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);i=n,n=n&&n[g],t=m?t.spec.types[g]:t.innerType}if(!c){if(!t.fields||!t.fields[d])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);i=n,n=n&&n[d],t=t.fields[d]}s=d,o=l?"["+a+"]":"."+a}),{schema:t,parent:i,parentPath:s}):{parent:i,parentPath:e,schema:t}}class ip extends Set{describe(){const e=[];for(const n of this.values())e.push(ua.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new ip(this.values())}merge(e,n){const r=this.clone();return e.forEach(i=>r.add(i)),n.forEach(i=>r.delete(i)),r}}function Qa(t,e=new Map){if(D0(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=Qa(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,i]of t.entries())n.set(r,Qa(i,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(Qa(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,i]of Object.entries(t))n[r]=Qa(i,e)}else throw Error(`Unable to clone ${t}`);return n}class hi{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new ip,this._blacklist=new ip,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Kr.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=Qa(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const i=Object.assign({},n.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(s=>{e.tests.forEach(o=>{s.test(o.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,s)=>s.resolve(i,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,i,s;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=e.recursive)!=null?i:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({value:e},n)),i=n.assert==="ignore-optionality",s=r._cast(e,n);if(n.assert!==!1&&!r.isType(s)){if(i&&Mo(s))return s;let o=Hs(e),a=Hs(s);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return s}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((i,s)=>s.call(this,i,e,this),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,i){let{path:s,originalValue:o=e,strict:a=this.spec.strict}=n,l=e;a||(l=this._cast(l,Object.assign({assert:!1},n)));let c=[];for(let d of Object.values(this.internalTests))d&&c.push(d);this.runTests({path:s,value:l,originalValue:o,options:n,tests:c},r,d=>{if(d.length)return i(d,l);this.runTests({path:s,value:l,originalValue:o,options:n,tests:this.tests},r,i)})}runTests(e,n,r){let i=!1,{tests:s,value:o,originalValue:a,path:l,options:c}=e,d=A=>{i||(i=!0,n(A,o))},m=A=>{i||(i=!0,r(A,o))},g=s.length,E=[];if(!g)return m([]);let S={value:o,originalValue:a,path:l,options:c,schema:this};for(let A=0;A<s.length;A++){const D=s[A];D(S,d,function(w){w&&(Array.isArray(w)?E.push(...w):E.push(w)),--g<=0&&m(E)})}}asNestedTest({key:e,index:n,parent:r,parentPath:i,originalParent:s,options:o}){const a=e??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof a=="number";let c=r[a];const d=Object.assign({},o,{strict:!0,parent:r,value:c,originalValue:s[a],key:void 0,[l?"index":"key"]:a,path:l||a.includes(".")?`${i||""}[${l?a:`"${a}"`}]`:(i?`${i}.`:"")+e});return(m,g,E)=>this.resolve(d)._validate(c,d,g,E)}validate(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return new Promise((o,a)=>i._validate(e,n,(l,c)=>{Fn.isError(l)&&(l.value=c),a(l)},(l,c)=>{l.length?a(new Fn(l,c,void 0,void 0,s)):o(c)}))}validateSync(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s,o=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return i._validate(e,Object.assign({},n,{sync:!0}),(a,l)=>{throw Fn.isError(a)&&(a.value=l),a},(a,l)=>{if(a.length)throw new Fn(a,e,void 0,void 0,o);s=l}),s}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(Fn.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(Fn.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):Qa(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=Ra({message:n,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=Ra({message:n,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=Kr.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Kr.notNull){return this.nullability(!1,e)}required(e=Kr.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=Kr.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=Ra(n),s=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===n.name&&(s||o.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),i=Q2(e).map(s=>new ua(s));return i.forEach(s=>{s.isSibling&&r.deps.push(s.key)}),r.conditions.push(typeof n=="function"?new rp(i,n):rp.fromOptions(i,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=Ra({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=Kr.oneOf){let r=this.clone();return e.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=Ra({message:n,name:"oneOf",skipAbsent:!0,test(i){let s=this.schema._whitelist,o=s.resolveAll(this.resolve);return o.includes(i)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:o}})}}),r}notOneOf(e,n=Kr.notOneOf){let r=this.clone();return e.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=Ra({message:n,name:"notOneOf",test(i){let s=this.schema._blacklist,o=s.resolveAll(this.resolve);return o.includes(i)?this.createError({params:{values:Array.from(s).join(", "),resolved:o}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:i,optional:s,nullable:o}=n.spec;return{meta:i,label:r,optional:s,nullable:o,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,c,d)=>d.findIndex(m=>m.name===l.name)===c)}}}hi.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])hi.prototype[`${t}At`]=function(e,n,r={}){const{parent:i,parentPath:s,schema:o}=O4(this,e,n,r.context);return o[t](i&&i[s],Object.assign({},r,{parent:i,path:e}))};for(const t of["equals","is"])hi.prototype[t]=hi.prototype.oneOf;for(const t of["not","nope"])hi.prototype[t]=hi.prototype.notOneOf;const D4=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function L4(t){const e=b_(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function b_(t){var e,n;const r=D4.exec(t);return r?{year:Ri(r[1]),month:Ri(r[2],1)-1,day:Ri(r[3],1),hour:Ri(r[4]),minute:Ri(r[5]),second:Ri(r[6]),millisecond:r[7]?Ri(r[7].substring(0,3)):0,precision:(e=(n=r[7])==null?void 0:n.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:Ri(r[10]),minuteOffset:Ri(r[11])}:null}function Ri(t,e=0){return Number(t)||e}let M4=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,F4=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,V4=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,U4="^\\d{4}-\\d{2}-\\d{2}",$4="\\d{2}:\\d{2}:\\d{2}",j4="(([+-]\\d{2}(:?\\d{2})?)|Z)",B4=new RegExp(`${U4}T${$4}(\\.\\d+)?${j4}$`),z4=t=>Mo(t)||t===t.trim(),W4={}.toString();function ol(){return new Z2}class Z2 extends hi{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===W4?e:i})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||Kr.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=Ln.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=Ln.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=Ln.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,i,s;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:s}=n:i=n),this.test({name:s||"matches",message:i||Ln.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&r||o.search(e)!==-1})}email(e=Ln.email){return this.matches(M4,{name:"email",message:e,excludeEmptyString:!0})}url(e=Ln.url){return this.matches(F4,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Ln.uuid){return this.matches(V4,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",r,i;return e&&(typeof e=="object"?{message:n="",allowOffset:r=!1,precision:i=void 0}=e:n=e),this.matches(B4,{name:"datetime",message:n||Ln.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||Ln.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:s=>{if(!s||r)return!0;const o=b_(s);return o?!!o.z:!1}}).test({name:"datetime_precision",message:n||Ln.datetime_precision,params:{precision:i},skipAbsent:!0,test:s=>{if(!s||i==null)return!0;const o=b_(s);return o?o.precision===i:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Ln.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:z4})}lowercase(e=Ln.lowercase){return this.transform(n=>Mo(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Mo(n)||n===n.toLowerCase()})}uppercase(e=Ln.uppercase){return this.transform(n=>Mo(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Mo(n)||n===n.toUpperCase()})}}ol.prototype=Z2.prototype;let H4=new Date(""),q4=t=>Object.prototype.toString.call(t)==="[object Date]";class dm extends hi{constructor(){super({type:"date",check(e){return q4(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=L4(e),isNaN(e)?dm.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(ua.isRef(e))r=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(e,n=C_.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(e,n=C_.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}dm.INVALID_DATE=H4;dm.prototype;function G4(t,e=[]){let n=[],r=new Set,i=new Set(e.map(([o,a])=>`${o}-${a}`));function s(o,a){let l=Bo.split(o)[0];r.add(l),i.has(`${a}-${l}`)||n.push([a,l])}for(const o of Object.keys(t)){let a=t[o];r.add(o),ua.isRef(a)&&a.isSibling?s(a.path,o):D0(a)&&"deps"in a&&a.deps.forEach(l=>s(l,o))}return E4.array(Array.from(r),n).reverse()}function kT(t,e){let n=1/0;return t.some((r,i)=>{var s;if((s=e.path)!=null&&s.includes(r))return n=i,!0}),n}function ek(t){return(e,n)=>kT(t,e)-kT(t,n)}const K4=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function lf(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=lf(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=lf(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(lf)}):"optional"in t?t.optional():t}const Q4=(t,e)=>{const n=[...Bo.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),i=Bo.getter(Bo.join(n),!0)(t);return!!(i&&r in i)};let AT=t=>Object.prototype.toString.call(t)==="[object Object]";function Y4(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const X4=ek([]);function L0(t){return new tk(t)}class tk extends hi{constructor(e){super({type:"object",check(n){return AT(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=X4,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let i=super._cast(e,n);if(i===void 0)return this.getDefault(n);if(!this._typeCheck(i))return i;let s=this.fields,o=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(i).filter(m=>!this._nodes.includes(m))),l={},c=Object.assign({},n,{parent:l,__validating:n.__validating||!1}),d=!1;for(const m of a){let g=s[m],E=m in i;if(g){let S,A=i[m];c.path=(n.path?`${n.path}.`:"")+m,g=g.resolve({value:A,context:n.context,parent:l});let D=g instanceof hi?g.spec:void 0,b=D==null?void 0:D.strict;if(D!=null&&D.strip){d=d||m in i;continue}S=!n.__validating||!b?g.cast(i[m],c):i[m],S!==void 0&&(l[m]=S)}else E&&!o&&(l[m]=i[m]);(E!==m in l||l[m]!==i[m])&&(d=!0)}return d?l:i}_validate(e,n={},r,i){let{from:s=[],originalValue:o=e,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:o},...s],n.__validating=!0,n.originalValue=o,super._validate(e,n,r,(l,c)=>{if(!a||!AT(c)){i(l,c);return}o=o||c;let d=[];for(let m of this._nodes){let g=this.fields[m];!g||ua.isRef(g)||d.push(g.asNestedTest({options:n,key:m,parent:c,parentPath:n.path,originalParent:o}))}this.runTests({tests:d,value:c,originalValue:o,options:n},r,m=>{i(m.sort(this._sortErrors).concat(l),c)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[i,s]of Object.entries(this.fields)){const o=r[i];r[i]=o===void 0?s:o}return n.withMutation(i=>i.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var i;const s=this.fields[r];let o=e;(i=o)!=null&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),n[r]=s&&"getDefault"in s?s.getDefault(o):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=G4(e,n),r._sortErrors=ek(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),i=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),i)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return lf(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,i])=>e.includes(r)&&e.includes(i)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let i=Bo.getter(e,!0);return this.transform(s=>{if(!s)return s;let o=s;return Q4(s,e)&&(o=Object.assign({},s),r||delete o[e],o[n]=i(s)),o})}json(){return this.transform(K4)}noUnknown(e=!0,n=S_.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const s=Y4(this.schema,i);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=S_.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const i of Object.keys(n))r[e(i)]=n[i];return r})}camelCase(){return this.transformKeys(qg.camelCase)}snakeCase(){return this.transformKeys(qg.snakeCase)}constantCase(){return this.transformKeys(e=>qg.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[s,o]of Object.entries(n.fields)){var i;let a=e;(i=a)!=null&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[s]})),r.fields[s]=o.describe(a)}return r}}L0.prototype=tk.prototype;const J4=Me.div`
  display: block;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  z-index: 3;
`,nk=({onClose:t,children:e})=>{J.useEffect(()=>(window.addEventListener("keydown",n),document.documentElement.style.overflow="hidden",()=>{window.removeEventListener("keydown",n),document.documentElement.style.overflow="visible"}));const n=i=>{i.code==="Escape"&&t()},r=i=>{i.target===i.currentTarget&&t()};return q.jsx(J4,{onClick:r,children:e})};function I7(t){return es({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M399 384.2C376.9 345.8 335.4 320 288 320H224c-47.4 0-88.9 25.8-111 64.2c35.2 39.2 86.2 63.8 143 63.8s107.8-24.7 143-63.8zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm256 16a72 72 0 1 0 0-144 72 72 0 1 0 0 144z"},child:[]}]})(t)}function C7(t){return es({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"},child:[]}]})(t)}function S7(t){return es({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"},child:[]}]})(t)}function rk(t){return es({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zm151 118.3C226 97.7 269.5 80 320 80c65.2 0 118.8 29.6 159.9 67.7C518.4 183.5 545 226 558.6 256c-12.6 28-36.6 66.8-70.9 100.9l-53.8-42.2c9.1-17.6 14.2-37.5 14.2-58.7c0-70.7-57.3-128-128-128c-32.2 0-61.7 11.9-84.2 31.5l-46.1-36.1zM394.9 284.2l-81.5-63.9c4.2-8.5 6.6-18.2 6.6-28.3c0-5.5-.7-10.9-2-16c.7 0 1.3 0 2 0c44.2 0 80 35.8 80 80c0 9.9-1.8 19.4-5.1 28.2zm51.3 163.3l-41.9-33C378.8 425.4 350.7 432 320 432c-65.2 0-118.8-29.6-159.9-67.7C121.6 328.5 95 286 81.4 256c8.3-18.4 21.5-41.5 39.4-64.8L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5zm-88-69.3L302 334c-23.5-5.4-43.1-21.2-53.7-42.3l-56.1-44.2c-.2 2.8-.3 5.6-.3 8.5c0 70.7 57.3 128 128 128c13.3 0 26.1-2 38.2-5.8z"},child:[]}]})(t)}function ik(t){return es({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 80c-65.2 0-118.8 29.6-159.9 67.7C89.6 183.5 63 226 49.4 256c13.6 30 40.2 72.5 78.6 108.3C169.2 402.4 222.8 432 288 432s118.8-29.6 159.9-67.7C486.4 328.5 513 286 526.6 256c-13.6-30-40.2-72.5-78.6-108.3C406.8 109.6 353.2 80 288 80zM95.4 112.6C142.5 68.8 207.2 32 288 32s145.5 36.8 192.6 80.6c46.8 43.5 78.1 95.4 93 131.1c3.3 7.9 3.3 16.7 0 24.6c-14.9 35.7-46.2 87.7-93 131.1C433.5 443.2 368.8 480 288 480s-145.5-36.8-192.6-80.6C48.6 356 17.3 304 2.5 268.3c-3.3-7.9-3.3-16.7 0-24.6C17.3 208 48.6 156 95.4 112.6zM288 336c44.2 0 80-35.8 80-80s-35.8-80-80-80c-.7 0-1.3 0-2 0c1.3 5.1 2 10.5 2 16c0 35.3-28.7 64-64 64c-5.5 0-10.9-.7-16-2c0 .7 0 1.3 0 2c0 44.2 35.8 80 80 80zm0-208a128 128 0 1 1 0 256 128 128 0 1 1 0-256z"},child:[]}]})(t)}function b7(t){return es({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M225.8 468.2l-2.5-2.3L48.1 303.2C17.4 274.7 0 234.7 0 192.8v-3.3c0-70.4 50-130.8 119.2-144C158.6 37.9 198.9 47 231 69.6c9 6.4 17.4 13.8 25 22.3c4.2-4.8 8.7-9.2 13.5-13.3c3.7-3.2 7.5-6.2 11.5-9c0 0 0 0 0 0C313.1 47 353.4 37.9 392.8 45.4C462 58.6 512 119.1 512 189.5v3.3c0 41.9-17.4 81.9-48.1 110.4L288.7 465.9l-2.5 2.3c-8.2 7.6-19 11.9-30.2 11.9s-22-4.2-30.2-11.9zM239.1 145c-.4-.3-.7-.7-1-1.1l-17.8-20c0 0-.1-.1-.1-.1c0 0 0 0 0 0c-23.1-25.9-58-37.7-92-31.2C81.6 101.5 48 142.1 48 189.5v3.3c0 28.5 11.9 55.8 32.8 75.2L256 430.7 431.2 268c20.9-19.4 32.8-46.7 32.8-75.2v-3.3c0-47.3-33.6-88-80.1-96.9c-34-6.5-69 5.4-92 31.2c0 0 0 0-.1 .1s0 0-.1 .1l-17.8 20c-.3 .4-.7 .7-1 1.1c-4.5 4.5-10.6 7-16.9 7s-12.4-2.5-16.9-7z"},child:[]}]})(t)}function sk(t){return es({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(t)}const Z4=Me.div`
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 600px;
  max-height: 100dvh;
  display: flex;
  flex-direction: column;
  justify-content: start;
  align-items: start;
  gap: 40px;
  background-color: #fff;
  border-radius: 30px;
  padding: 64px;
  margin: 0;
`,eV=Me.button`
  position: absolute;
  top: 28px;
  right: 28px;
  background-color: transparent;
  border: none;
  cursor: pointer;
`,tV=Me.div`
  display: flex;
  flex-direction: column;
  justify-content: start;
  align-items: start;
  width: 100%;
  gap: 20px;
  padding: 0;
  margin: 0;

  h2 {
    font-family: 'Roboto-Medium', sans-serif;
    font-size: 48px;
    line-height: 48px;
    letter-spacing: -0.02em;
    margin: 0;
  }

  p {
    font-family: 'Roboto-Regular', sans-serif;
    font-size: 16px;
    line-height: 22px;
    margin: 0;
  }
`,nV=Me.form`
  display: flex;
  flex-direction: column;
  justify-content: start;
  align-items: start;
  gap: 40px;
  width: 100%;
  padding: 8px 0;
  margin: 0;
  overflow-y: auto;
`,xT=Me.div`
  position: relative;
  width: 100%;
  display: flex;
  flex-direction: column;
  justify-content: start;
  align-items: start;
  gap: 8px;
  width: 100%;
  padding: 0;
  margin: 0;

  label {
    position: absolute;
    top: 50%;
    left: 18px;
    transform: translateY(-50%);
    font-size: 16px;
    line-height: 22px;
    color: var(--primary-text-color);
    background-color: transparent;
    padding: 0 4px;
    margin: 0;
    pointer-events: none;
    transition: top 0.2s ease;
  }

  input {
    border: 1px solid rgba(18, 20, 23, 0.1);
    border-radius: 12px;
    font-size: 16px;
    line-height: 22px;
    width: 100%;
    padding: 16px 18px;
    background-color: #fff;
    margin: 0;
    outline: none;

    &:focus + label,
    &:not(:placeholder-shown) + label {
      top: 0;
      color: var(--btn-color);
      background-color: #fff;
    }

    &:focus {
      border: 1px solid var(--btn-color);
    }

    &.error + label {
      color: red;
    }

    &.error {
      border-color: red;
    }
  }
`,RT=Me.p`
  position: absolute;
  bottom: -25px;
  right: 0;
  font-size: 12px;
  color: red;
`,rV=Me.button`
  width: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 16px 48px;
  font-family: 'Roboto-Bold', sans-serif;
  font-size: 18px;
  line-height: 28px;
  letter-spacing: 0.02em;
  color: var(--primary-text-color);
  border: none;
  background-color: var(--btn-color);
  border-radius: 12px;
  transition: background-color 0.3s ease-in-out;

  &:hover,
  &:focus {
    background-color: var(--btn-hover-color);
  }
`,iV=Me.button`
  position: absolute;
  top: 50%;
  right: 17px;
  transform: translateY(-50%);
  background-color: transparent;
  border: none;
  padding: 0;
  margin: 0;
  cursor: pointer;

  &:hover {
    color: var(--btn-color);
  }
`;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te=function(t,e){if(!t)throw Jl(e)},Jl=function(t){return new Error("Firebase Database ("+ok.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},sV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},M0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,m=(s&3)<<4|a>>4;let g=(a&15)<<2|c>>6,E=c&63;l||(E=64,o||(g=64)),r.push(n[d],n[m],n[g],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ak(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):sV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||m==null)throw new oV;const g=s<<2|a>>4;if(r.push(g),c!==64){const E=a<<4&240|c>>2;if(r.push(E),m!==64){const S=c<<6&192|m;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class oV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lk=function(t){const e=ak(t);return M0.encodeByteArray(e,!0)},sp=function(t){return lk(t).replace(/\./g,"")},op=function(t){try{return M0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV(t){return uk(void 0,t)}function uk(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!lV(n)||(t[n]=uk(t[n],e[n]));return t}function lV(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV=()=>uV().__FIREBASE_DEFAULTS__,hV=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&op(t[1]);return e&&JSON.parse(e)},fm=()=>{try{return cV()||hV()||dV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ck=t=>{var e,n;return(n=(e=fm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},F0=t=>{const e=ck(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},hk=()=>{var t;return(t=fm())===null||t===void 0?void 0:t.config},dk=t=>{var e;return(e=fm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[sp(JSON.stringify(n)),sp(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function fV(){var t;const e=(t=fm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function fk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mV(){const t=ln();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function pk(){return ok.NODE_ADMIN===!0}function gV(){return!fV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yV(){try{return typeof indexedDB=="object"}catch{return!1}}function _V(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV="FirebaseError";class mi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=vV,Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uh.prototype.create)}}class uh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?wV(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new mi(i,a,r)}}function wV(t,e){return t.replace(EV,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const EV=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(t){return JSON.parse(t)}function Yt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Fc(op(s[0])||""),n=Fc(op(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},TV=function(t){const e=mk(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},IV=function(t){const e=mk(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function xl(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function k_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ap(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Vc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(PT(s)&&PT(o)){if(!Vc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function PT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Bu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function zu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let m=0;m<16;m++)r[m]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let m=0;m<16;m++)r[m]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let m=16;m<80;m++){const g=r[m-3]^r[m-8]^r[m-14]^r[m-16];r[m]=(g<<1|g>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,d;for(let m=0;m<80;m++){m<40?m<20?(c=a^s&(o^a),d=1518500249):(c=s^o^a,d=1859775393):m<60?(c=s&o|a&(s|o),d=2400959708):(c=s^o^a,d=3395469782);const g=(i<<5|i>>>27)+c+l+d+r[m]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=g}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function SV(t,e){const n=new bV(t,e);return n.subscribe.bind(n)}class bV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");kV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Gg),i.error===void 0&&(i.error=Gg),i.complete===void 0&&(i.complete=Gg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Gg(){}function gk(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,te(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},pm=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(t){return t&&t._delegate?t._delegate:t}class Gi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new V0;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PV(e))try{this.getOrInitializeService({instanceIdentifier:xo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=xo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xo){return this.instances.has(e)}getOptions(e=xo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:RV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xo){return this.component?this.component.multipleInstances?e:xo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RV(t){return t===xo?void 0:t}function PV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new xV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ae||(Ae={}));const OV={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},DV=Ae.INFO,LV={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},MV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=LV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mm{constructor(e){this.name=e,this._logLevel=DV,this._logHandler=MV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const FV=(t,e)=>e.some(n=>t instanceof n);let NT,OT;function VV(){return NT||(NT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UV(){return OT||(OT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yk=new WeakMap,A_=new WeakMap,_k=new WeakMap,Kg=new WeakMap,j0=new WeakMap;function $V(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(qs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&yk.set(n,t)}).catch(()=>{}),j0.set(e,t),e}function jV(t){if(A_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});A_.set(t,e)}let x_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return A_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_k.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function BV(t){x_=t(x_)}function zV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Qg(this),e,...n);return _k.set(r,e.sort?e.sort():[e]),qs(r)}:UV().includes(t)?function(...e){return t.apply(Qg(this),e),qs(yk.get(this))}:function(...e){return qs(t.apply(Qg(this),e))}}function WV(t){return typeof t=="function"?zV(t):(t instanceof IDBTransaction&&jV(t),FV(t,VV())?new Proxy(t,x_):t)}function qs(t){if(t instanceof IDBRequest)return $V(t);if(Kg.has(t))return Kg.get(t);const e=WV(t);return e!==t&&(Kg.set(t,e),j0.set(e,t)),e}const Qg=t=>j0.get(t);function HV(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=qs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(qs(o.result),l.oldVersion,l.newVersion,qs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const qV=["get","getKey","getAll","getAllKeys","count"],GV=["put","add","delete","clear"],Yg=new Map;function DT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yg.get(e))return Yg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=GV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||qV.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Yg.set(e,s),s}BV(t=>({...t,get:(e,n,r)=>DT(e,n)||t.get(e,n,r),has:(e,n)=>!!DT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(QV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function QV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const R_="@firebase/app",LT="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=new mm("@firebase/app"),YV="@firebase/app-compat",XV="@firebase/analytics-compat",JV="@firebase/analytics",ZV="@firebase/app-check-compat",e5="@firebase/app-check",t5="@firebase/auth",n5="@firebase/auth-compat",r5="@firebase/database",i5="@firebase/database-compat",s5="@firebase/functions",o5="@firebase/functions-compat",a5="@firebase/installations",l5="@firebase/installations-compat",u5="@firebase/messaging",c5="@firebase/messaging-compat",h5="@firebase/performance",d5="@firebase/performance-compat",f5="@firebase/remote-config",p5="@firebase/remote-config-compat",m5="@firebase/storage",g5="@firebase/storage-compat",y5="@firebase/firestore",_5="@firebase/vertexai-preview",v5="@firebase/firestore-compat",w5="firebase",E5="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="[DEFAULT]",T5={[R_]:"fire-core",[YV]:"fire-core-compat",[JV]:"fire-analytics",[XV]:"fire-analytics-compat",[e5]:"fire-app-check",[ZV]:"fire-app-check-compat",[t5]:"fire-auth",[n5]:"fire-auth-compat",[r5]:"fire-rtdb",[i5]:"fire-rtdb-compat",[s5]:"fire-fn",[o5]:"fire-fn-compat",[a5]:"fire-iid",[l5]:"fire-iid-compat",[u5]:"fire-fcm",[c5]:"fire-fcm-compat",[h5]:"fire-perf",[d5]:"fire-perf-compat",[f5]:"fire-rc",[p5]:"fire-rc-compat",[m5]:"fire-gcs",[g5]:"fire-gcs-compat",[y5]:"fire-fst",[v5]:"fire-fst-compat",[_5]:"fire-vertex","fire-js":"fire-js",[w5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp=new Map,I5=new Map,N_=new Map;function MT(t,e){try{t.container.addComponent(e)}catch(n){Yo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Js(t){const e=t.name;if(N_.has(e))return Yo.debug(`There were multiple attempts to register component ${e}.`),!1;N_.set(e,t);for(const n of lp.values())MT(n,t);for(const n of I5.values())MT(n,t);return!0}function ch(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ei(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gs=new uh("app","Firebase",C5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao=E5;function vk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:P_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Gs.create("bad-app-name",{appName:String(i)});if(n||(n=hk()),!n)throw Gs.create("no-options");const s=lp.get(i);if(s){if(Vc(n,s.options)&&Vc(r,s.config))return s;throw Gs.create("duplicate-app",{appName:i})}const o=new NV(i);for(const l of N_.values())o.addComponent(l);const a=new S5(n,r,o);return lp.set(i,a),a}function gm(t=P_){const e=lp.get(t);if(!e&&t===P_&&hk())return vk();if(!e)throw Gs.create("no-app",{appName:t});return e}function pr(t,e,n){var r;let i=(r=T5[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yo.warn(a.join(" "));return}Js(new Gi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5="firebase-heartbeat-database",k5=1,Uc="firebase-heartbeat-store";let Xg=null;function wk(){return Xg||(Xg=HV(b5,k5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Uc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Gs.create("idb-open",{originalErrorMessage:t.message})})),Xg}async function A5(t){try{const n=(await wk()).transaction(Uc),r=await n.objectStore(Uc).get(Ek(t));return await n.done,r}catch(e){if(e instanceof mi)Yo.warn(e.message);else{const n=Gs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Yo.warn(n.message)}}}async function FT(t,e){try{const r=(await wk()).transaction(Uc,"readwrite");await r.objectStore(Uc).put(e,Ek(t)),await r.done}catch(n){if(n instanceof mi)Yo.warn(n.message);else{const r=Gs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Yo.warn(r.message)}}}function Ek(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5=1024,R5=30*24*60*60*1e3;class P5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new O5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=VT();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=R5}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=VT(),{heartbeatsToSend:r,unsentEntries:i}=N5(this._heartbeatsCache.heartbeats),s=sp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function VT(){return new Date().toISOString().substring(0,10)}function N5(t,e=x5){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),UT(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),UT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class O5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yV()?_V().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await A5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return FT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return FT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function UT(t){return sp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D5(t){Js(new Gi("platform-logger",e=>new KV(e),"PRIVATE")),Js(new Gi("heartbeat",e=>new P5(e),"PRIVATE")),pr(R_,LT,t),pr(R_,LT,"esm2017"),pr("fire-js","")}D5("");var L5="firebase",M5="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pr(L5,M5,"app");function Tk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const F5=Tk,Ik=new uh("auth","Firebase",Tk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up=new mm("@firebase/auth");function V5(t,...e){up.logLevel<=Ae.WARN&&up.warn(`Auth (${ao}): ${t}`,...e)}function uf(t,...e){up.logLevel<=Ae.ERROR&&up.error(`Auth (${ao}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(t,...e){throw B0(t,...e)}function si(t,...e){return B0(t,...e)}function Ck(t,e,n){const r=Object.assign(Object.assign({},F5()),{[e]:n});return new uh("auth","Firebase",r).create(e,{appName:t.name})}function ji(t){return Ck(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function B0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Ik.create(t,...e)}function de(t,e,...n){if(!t)throw B0(e,...n)}function Mi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw uf(e),new Error(e)}function Ki(t,e){t||Mi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function U5(){return $T()==="http:"||$T()==="https:"}function $T(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(U5()||pV()||"connection"in navigator)?navigator.onLine:!0}function j5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ki(n>e,"Short delay should be less than long delay!"),this.isMobile=$0()||fk()}get(){return $5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(t,e){Ki(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Mi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Mi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Mi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5=new hh(3e4,6e4);function lo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ns(t,e,n,r,i={}){return bk(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Zl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Sk.fetch()(kk(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function bk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},B5),e);try{const i=new H5(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Pd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Pd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Pd(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Ck(t,d,c);Ur(t,d)}}catch(i){if(i instanceof mi)throw i;Ur(t,"network-request-failed",{message:String(i)})}}async function dh(t,e,n,r,i={}){const s=await ns(t,e,n,r,i);return"mfaPendingCredential"in s&&Ur(t,"multi-factor-auth-required",{_serverResponse:s}),s}function kk(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?z0(t.config,i):`${t.config.apiScheme}://${i}`}function W5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class H5{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(si(this.auth,"network-request-failed")),z5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Pd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=si(t,e,r);return i.customData._tokenResponse=n,i}function jT(t){return t!==void 0&&t.enterprise!==void 0}class q5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return W5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function G5(t,e){return ns(t,"GET","/v2/recaptchaConfig",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K5(t,e){return ns(t,"POST","/v1/accounts:delete",e)}async function Ak(t,e){return ns(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Q5(t,e=!1){const n=yt(t),r=await n.getIdToken(e),i=W0(r);de(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:oc(Jg(i.auth_time)),issuedAtTime:oc(Jg(i.iat)),expirationTime:oc(Jg(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Jg(t){return Number(t)*1e3}function W0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return uf("JWT malformed, contained fewer than 3 sections"),null;try{const i=op(n);return i?JSON.parse(i):(uf("Failed to decode base64 JWT payload"),null)}catch(i){return uf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function BT(t){const e=W0(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof mi&&Y5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Y5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=oc(this.lastLoginAt),this.creationTime=oc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Rl(t,Ak(n,{idToken:r}));de(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?xk(s.providerUserInfo):[],a=Z5(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new D_(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,m)}async function J5(t){const e=yt(t);await cp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Z5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function xk(t){return t.map(e=>{var{providerId:n}=e,r=m0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e3(t,e){const n=await bk(t,{},async()=>{const r=Zl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=kk(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Sk.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function t3(t,e){return ns(t,"POST","/v2/accounts:revokeToken",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):BT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){de(e.length!==0,"internal-error");const n=BT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await e3(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new al;return r&&(de(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(de(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(de(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new al,this.toJSON())}_performRefresh(){return Mi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Fi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=m0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new X5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new D_(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Rl(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Q5(this,e)}reload(){return J5(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await cp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ei(this.auth.app))return Promise.reject(ji(this.auth));const e=await this.getIdToken();return await Rl(this,K5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,d;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,E=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,S=(o=n.photoURL)!==null&&o!==void 0?o:void 0,A=(a=n.tenantId)!==null&&a!==void 0?a:void 0,D=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:k,emailVerified:F,isAnonymous:j,providerData:W,stsTokenManager:I}=n;de(k&&I,e,"internal-error");const C=al.fromJSON(this.name,I);de(typeof k=="string",e,"internal-error"),vs(m,e.name),vs(g,e.name),de(typeof F=="boolean",e,"internal-error"),de(typeof j=="boolean",e,"internal-error"),vs(E,e.name),vs(S,e.name),vs(A,e.name),vs(D,e.name),vs(b,e.name),vs(w,e.name);const x=new Fi({uid:k,auth:e,email:g,emailVerified:F,displayName:m,isAnonymous:j,photoURL:S,phoneNumber:E,tenantId:A,stsTokenManager:C,createdAt:b,lastLoginAt:w});return W&&Array.isArray(W)&&(x.providerData=W.map(N=>Object.assign({},N))),D&&(x._redirectEventId=D),x}static async _fromIdTokenResponse(e,n,r=!1){const i=new al;i.updateFromServerResponse(n);const s=new Fi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await cp(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];de(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?xk(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new al;a.updateFromIdToken(r);const l=new Fi({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new D_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT=new Map;function Vi(t){Ki(t instanceof Function,"Expected a class definition");let e=zT.get(t);return e?(Ki(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,zT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Rk.type="NONE";const WT=Rk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(t,e,n){return`firebase:${t}:${e}:${n}`}class ll{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=cf(this.userKey,i.apiKey,s),this.fullPersistenceKey=cf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Fi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ll(Vi(WT),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Vi(WT);const o=cf(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const m=Fi._fromJSON(e,d);c!==s&&(a=m),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ll(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new ll(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ok(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Pk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Lk(e))return"Blackberry";if(Mk(e))return"Webos";if(H0(e))return"Safari";if((e.includes("chrome/")||Nk(e))&&!e.includes("edge/"))return"Chrome";if(Dk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Pk(t=ln()){return/firefox\//i.test(t)}function H0(t=ln()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Nk(t=ln()){return/crios\//i.test(t)}function Ok(t=ln()){return/iemobile/i.test(t)}function Dk(t=ln()){return/android/i.test(t)}function Lk(t=ln()){return/blackberry/i.test(t)}function Mk(t=ln()){return/webos/i.test(t)}function ym(t=ln()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function n3(t=ln()){var e;return ym(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function r3(){return mV()&&document.documentMode===10}function Fk(t=ln()){return ym(t)||Dk(t)||Mk(t)||Lk(t)||/windows phone/i.test(t)||Ok(t)}function i3(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(t,e=[]){let n;switch(t){case"Browser":n=HT(ln());break;case"Worker":n=`${HT(ln())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ao}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o3(t,e={}){return ns(t,"GET","/v2/passwordPolicy",lo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3=6;class l3{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:a3,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qT(this),this.idTokenSubscription=new qT(this),this.beforeStateQueue=new s3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ik,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Vi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ll.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ak(this,{idToken:e}),r=await Fi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ei(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await cp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=j5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ei(this.app))return Promise.reject(ji(this));const n=e?yt(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ei(this.app)?Promise.reject(ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ei(this.app)?Promise.reject(ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await o3(this),n=new l3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new uh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await t3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Vi(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=await ll.create(this,[Vi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Vk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&V5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ca(t){return yt(t)}class qT{constructor(e){this.auth=e,this.observer=null,this.addObserver=SV(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _m={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function c3(t){_m=t}function Uk(t){return _m.loadJS(t)}function h3(){return _m.recaptchaEnterpriseScript}function d3(){return _m.gapiScript}function f3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const p3="recaptcha-enterprise",m3="NO_RECAPTCHA";class g3{constructor(e){this.type=p3,this.auth=ca(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{G5(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new q5(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;jT(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(m3)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&jT(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=h3();l.length!==0&&(l+=a),Uk(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function GT(t,e,n,r=!1){const i=new g3(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function L_(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await GT(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await GT(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y3(t,e){const n=ch(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Vc(s,e??{}))return i;Ur(i,"already-initialized")}return n.initialize({options:e})}function _3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Vi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function v3(t,e,n){const r=ca(t);de(r._canInitEmulator,r,"emulator-config-failed"),de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=$k(e),{host:o,port:a}=w3(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||E3()}function $k(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function w3(t){const e=$k(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:KT(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:KT(o)}}}function KT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function E3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Mi("not implemented")}_getIdTokenResponse(e){return Mi("not implemented")}_linkToIdToken(e,n){return Mi("not implemented")}_getReauthenticationResolver(e){return Mi("not implemented")}}async function T3(t,e){return ns(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I3(t,e){return dh(t,"POST","/v1/accounts:signInWithPassword",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C3(t,e){return dh(t,"POST","/v1/accounts:signInWithEmailLink",lo(t,e))}async function S3(t,e){return dh(t,"POST","/v1/accounts:signInWithEmailLink",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c extends q0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new $c(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new $c(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return L_(e,n,"signInWithPassword",I3);case"emailLink":return C3(e,{email:this._email,oobCode:this._password});default:Ur(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return L_(e,r,"signUpPassword",T3);case"emailLink":return S3(e,{idToken:n,email:this._email,oobCode:this._password});default:Ur(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ul(t,e){return dh(t,"POST","/v1/accounts:signInWithIdp",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3="http://localhost";class Xo extends q0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Xo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ur("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=m0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Xo(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ul(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ul(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ul(e,n)}buildRequest(){const e={requestUri:b3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Zl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function A3(t){const e=Bu(zu(t)).link,n=e?Bu(zu(e)).deep_link_id:null,r=Bu(zu(t)).deep_link_id;return(r?Bu(zu(r)).link:null)||r||n||e||t}class G0{constructor(e){var n,r,i,s,o,a;const l=Bu(zu(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,m=k3((i=l.mode)!==null&&i!==void 0?i:null);de(c&&d&&m,"argument-error"),this.apiKey=c,this.operation=m,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=A3(e);try{return new G0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(){this.providerId=eu.PROVIDER_ID}static credential(e,n){return $c._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=G0.parseLink(n);return de(r,"argument-error"),$c._fromEmailAndCode(e,r.code,r.tenantId)}}eu.PROVIDER_ID="password";eu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";eu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh extends jk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends fh{constructor(){super("facebook.com")}static credential(e){return Xo._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bs.credential(e.oauthAccessToken)}catch{return null}}}bs.FACEBOOK_SIGN_IN_METHOD="facebook.com";bs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends fh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Xo._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ks.credential(n,r)}catch{return null}}}ks.GOOGLE_SIGN_IN_METHOD="google.com";ks.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends fh{constructor(){super("github.com")}static credential(e){return Xo._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return As.credential(e.oauthAccessToken)}catch{return null}}}As.GITHUB_SIGN_IN_METHOD="github.com";As.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends fh{constructor(){super("twitter.com")}static credential(e,n){return Xo._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return xs.credential(n,r)}catch{return null}}}xs.TWITTER_SIGN_IN_METHOD="twitter.com";xs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x3(t,e){return dh(t,"POST","/v1/accounts:signUp",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Fi._fromIdTokenResponse(e,r,i),o=QT(r);return new Jo({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=QT(r);return new Jo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function QT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp extends mi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,hp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new hp(e,n,r,i)}}function Bk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?hp._fromErrorAndOperation(t,s,e,r):s})}async function R3(t,e,n=!1){const r=await Rl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Jo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P3(t,e,n=!1){const{auth:r}=t;if(ei(r.app))return Promise.reject(ji(r));const i="reauthenticate";try{const s=await Rl(t,Bk(r,i,e,t),n);de(s.idToken,r,"internal-error");const o=W0(s.idToken);de(o,r,"internal-error");const{sub:a}=o;return de(t.uid===a,r,"user-mismatch"),Jo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ur(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zk(t,e,n=!1){if(ei(t.app))return Promise.reject(ji(t));const r="signIn",i=await Bk(t,r,e),s=await Jo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function N3(t,e){return zk(ca(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wk(t){const e=ca(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function O3(t,e,n){if(ei(t.app))return Promise.reject(ji(t));const r=ca(t),o=await L_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",x3).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Wk(t),l}),a=await Jo._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function D3(t,e,n){return ei(t.app)?Promise.reject(ji(t)):N3(yt(t),eu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Wk(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L3(t,e){return ns(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M3(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=yt(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Rl(r,L3(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function F3(t,e,n,r){return yt(t).onIdTokenChanged(e,n,r)}function V3(t,e,n){return yt(t).beforeAuthStateChanged(e,n)}function U3(t,e,n,r){return yt(t).onAuthStateChanged(e,n,r)}function $3(t){return yt(t).signOut()}const dp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(dp,"1"),this.storage.removeItem(dp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(){const t=ln();return H0(t)||ym(t)}const B3=1e3,z3=10;class qk extends Hk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=j3()&&i3(),this.fallbackToPolling=Fk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);r3()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,z3):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},B3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}qk.type="LOCAL";const W3=qk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk extends Hk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Gk.type="SESSION";const Kk=Gk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new vm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await H3(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=K0("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){const g=m;if(g.data.eventId===c)switch(g.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(g.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(){return window}function G3(t){oi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(){return typeof oi().WorkerGlobalScope<"u"&&typeof oi().importScripts=="function"}async function K3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Q3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Y3(){return Qk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk="firebaseLocalStorageDb",X3=1,fp="firebaseLocalStorage",Xk="fbase_key";class ph{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wm(t,e){return t.transaction([fp],e?"readwrite":"readonly").objectStore(fp)}function J3(){const t=indexedDB.deleteDatabase(Yk);return new ph(t).toPromise()}function M_(){const t=indexedDB.open(Yk,X3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(fp,{keyPath:Xk})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(fp)?e(r):(r.close(),await J3(),e(await M_()))})})}async function YT(t,e,n){const r=wm(t,!0).put({[Xk]:e,value:n});return new ph(r).toPromise()}async function Z3(t,e){const n=wm(t,!1).get(e),r=await new ph(n).toPromise();return r===void 0?null:r.value}function XT(t,e){const n=wm(t,!0).delete(e);return new ph(n).toPromise()}const e6=800,t6=3;class Jk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await M_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>t6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Qk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vm._getInstance(Y3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await K3(),!this.activeServiceWorker)return;this.sender=new q3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Q3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await M_();return await YT(e,dp,"1"),await XT(e,dp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>YT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Z3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>XT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=wm(i,!1).getAll();return new ph(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),e6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Jk.type="LOCAL";const n6=Jk;new hh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r6(t,e){return e?Vi(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0 extends q0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ul(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ul(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ul(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function i6(t){return zk(t.auth,new Q0(t),t.bypassAuthState)}function s6(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),P3(n,new Q0(t),t.bypassAuthState)}async function o6(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),R3(n,new Q0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return i6;case"linkViaPopup":case"linkViaRedirect":return o6;case"reauthViaPopup":case"reauthViaRedirect":return s6;default:Ur(this.auth,"internal-error")}}resolve(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6=new hh(2e3,1e4);class Ya extends Zk{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ya.currentPopupAction&&Ya.currentPopupAction.cancel(),Ya.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){Ki(this.filter.length===1,"Popup operations only handle one event");const e=K0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ya.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,a6.get())};e()}}Ya.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6="pendingRedirect",hf=new Map;class u6 extends Zk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=hf.get(this.auth._key());if(!e){try{const r=await c6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}hf.set(this.auth._key(),e)}return this.bypassAuthState||hf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function c6(t,e){const n=f6(e),r=d6(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function h6(t,e){hf.set(t._key(),e)}function d6(t){return Vi(t._redirectPersistence)}function f6(t){return cf(l6,t.config.apiKey,t.name)}async function p6(t,e,n=!1){if(ei(t.app))return Promise.reject(ji(t));const r=ca(t),i=r6(r,e),o=await new u6(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6=10*60*1e3;class g6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!y6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!eA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(si(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=m6&&this.cachedEventUids.clear(),this.cachedEventUids.has(JT(e))}saveEventToCache(e){this.cachedEventUids.add(JT(e)),this.lastProcessedEventTime=Date.now()}}function JT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function eA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function y6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _6(t,e={}){return ns(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,w6=/^https?/;async function E6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await _6(t);for(const n of e)try{if(T6(n))return}catch{}Ur(t,"unauthorized-domain")}function T6(t){const e=O_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!w6.test(n))return!1;if(v6.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I6=new hh(3e4,6e4);function ZT(){const t=oi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function C6(t){return new Promise((e,n)=>{var r,i,s;function o(){ZT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ZT(),n(si(t,"network-request-failed"))},timeout:I6.get()})}if(!((i=(r=oi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=oi().gapi)===null||s===void 0)&&s.load)o();else{const a=f3("iframefcb");return oi()[a]=()=>{gapi.load?o():n(si(t,"network-request-failed"))},Uk(`${d3()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw df=null,e})}let df=null;function S6(t){return df=df||C6(t),df}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6=new hh(5e3,15e3),k6="__/auth/iframe",A6="emulator/auth/iframe",x6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},R6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function P6(t){const e=t.config;de(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?z0(e,A6):`https://${t.config.authDomain}/${k6}`,r={apiKey:e.apiKey,appName:t.name,v:ao},i=R6.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Zl(r).slice(1)}`}async function N6(t){const e=await S6(t),n=oi().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:P6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:x6,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=si(t,"network-request-failed"),a=oi().setTimeout(()=>{s(o)},b6.get());function l(){oi().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},D6=500,L6=600,M6="_blank",F6="http://localhost";class eI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function V6(t,e,n,r=D6,i=L6){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},O6),{width:r.toString(),height:i.toString(),top:s,left:o}),c=ln().toLowerCase();n&&(a=Nk(c)?M6:n),Pk(c)&&(e=e||F6,l.scrollbars="yes");const d=Object.entries(l).reduce((g,[E,S])=>`${g}${E}=${S},`,"");if(n3(c)&&a!=="_self")return U6(e||"",a),new eI(null);const m=window.open(e||"",a,d);de(m,t,"popup-blocked");try{m.focus()}catch{}return new eI(m)}function U6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6="__/auth/handler",j6="emulator/auth/handler",B6=encodeURIComponent("fac");async function tI(t,e,n,r,i,s){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ao,eventId:i};if(e instanceof jk){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",k_(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,m]of Object.entries(s||{}))o[d]=m}if(e instanceof fh){const d=e.getScopes().filter(m=>m!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${B6}=${encodeURIComponent(l)}`:"";return`${z6(t)}?${Zl(a).slice(1)}${c}`}function z6({config:t}){return t.emulator?z0(t,j6):`https://${t.authDomain}/${$6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg="webStorageSupport";class W6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Kk,this._completeRedirectFn=p6,this._overrideRedirectResult=h6}async _openPopup(e,n,r,i){var s;Ki((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await tI(e,n,r,O_(),i);return V6(e,o,K0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await tI(e,n,r,O_(),i);return G3(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ki(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await N6(e),r=new g6(e);return n.register("authEvent",i=>(de(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Zg,{type:Zg},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Zg];o!==void 0&&n(!!o),Ur(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=E6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Fk()||H0()||ym()}}const H6=W6;var nI="@firebase/auth",rI="1.7.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function K6(t){Js(new Gi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;de(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vk(t)},c=new u3(r,i,s,l);return _3(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Js(new Gi("auth-internal",e=>{const n=ca(e.getProvider("auth").getImmediate());return(r=>new q6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pr(nI,rI,G6(t)),pr(nI,rI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6=5*60,Y6=dk("authIdTokenMaxAge")||Q6;let iI=null;const X6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Y6)return;const i=n==null?void 0:n.token;iI!==i&&(iI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Y0(t=gm()){const e=ch(t,"auth");if(e.isInitialized())return e.getImmediate();const n=y3(t,{popupRedirectResolver:H6,persistence:[n6,W3,Kk]}),r=dk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=X6(s.toString());V3(n,o,()=>o(n.currentUser)),F3(n,a=>o(a))}}const i=ck("auth");return i&&v3(n,`http://${i}`),n}function J6(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}c3({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=si("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",J6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});K6("Browser");const sI="@firebase/database",oI="1.0.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tA="";function Z6(t){tA=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Yt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Fc(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return ts(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new e9(e)}}catch{}return new t9},Fo=nA("localStorage"),F_=nA("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl=new mm("@firebase/database"),n9=function(){let t=1;return function(){return t++}}(),rA=function(t){const e=AV(t),n=new CV;n.update(e);const r=n.digest();return M0.encodeByteArray(r)},mh=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=mh.apply(null,r):typeof r=="object"?e+=Yt(r):e+=r,e+=" "}return e};let zo=null,aI=!0;const r9=function(t,e){te(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(cl.logLevel=Ae.VERBOSE,zo=cl.log.bind(cl),e&&F_.set("logging_enabled",!0)):typeof t=="function"?zo=t:(zo=null,F_.remove("logging_enabled"))},yn=function(...t){if(aI===!0&&(aI=!1,zo===null&&F_.get("logging_enabled")===!0&&r9(!0)),zo){const e=mh.apply(null,t);zo(e)}},gh=function(t){return function(...e){yn(t,...e)}},V_=function(...t){const e="FIREBASE INTERNAL ERROR: "+mh(...t);cl.error(e)},Qi=function(...t){const e=`FIREBASE FATAL ERROR: ${mh(...t)}`;throw cl.error(e),new Error(e)},rr=function(...t){const e="FIREBASE WARNING: "+mh(...t);cl.warn(e)},i9=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&rr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},iA=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},s9=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Pl="[MIN_NAME]",Zo="[MAX_NAME]",tu=function(t,e){if(t===e)return 0;if(t===Pl||e===Zo)return-1;if(e===Pl||t===Zo)return 1;{const n=lI(t),r=lI(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},o9=function(t,e){return t===e?0:t<e?-1:1},Nu=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Yt(e))},X0=function(t){if(typeof t!="object"||t===null)return Yt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Yt(e[r]),n+=":",n+=X0(t[e[r]]);return n+="}",n},sA=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function qn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const oA=function(t){te(!iA(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const d=c.join("");let m="";for(l=0;l<64;l+=8){let g=parseInt(d.substr(l,8),2).toString(16);g.length===1&&(g="0"+g),m=m+g}return m.toLowerCase()},a9=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},l9=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function u9(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const c9=new RegExp("^-?(0*)\\d{1,10}$"),h9=-2147483648,d9=2147483647,lI=function(t){if(c9.test(t)){const e=Number(t);if(e>=h9&&e<=d9)return e}return null},yh=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw rr("Exception was thrown by user callback.",n),e},Math.floor(0))}},f9=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ac=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){rr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(yn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',rr(e)}}class hl{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}hl.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="5",aA="v",lA="s",uA="r",cA="f",hA=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,dA="ls",fA="p",U_="ac",pA="websocket",mA="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Fo.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Fo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function g9(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function yA(t,e,n){te(typeof e=="string","typeof type must == string"),te(typeof n=="object","typeof params must == object");let r;if(e===pA)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===mA)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);g9(t)&&(n.ns=t.namespace);const i=[];return qn(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(){this.counters_={}}incrementCounter(e,n=1){ts(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return aV(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey={},ty={};function Z0(t){const e=t.toString();return ey[e]||(ey[e]=new y9),ey[e]}function _9(t,e){const n=t.toString();return ty[n]||(ty[n]=e()),ty[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&yh(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI="start",w9="close",E9="pLPCommand",T9="pRTLPCB",_A="id",vA="pw",wA="ser",I9="cb",C9="seg",S9="ts",b9="d",k9="dframe",EA=1870,TA=30,A9=EA-TA,x9=25e3,R9=3e4;class Xa{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=gh(e),this.stats_=Z0(n),this.urlFn=l=>(this.appCheckToken&&(l[U_]=this.appCheckToken),yA(n,mA,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new v9(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(R9)),s9(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ew((...s)=>{const[o,a,l,c,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===uI)this.id=a,this.password=l;else if(o===w9)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[uI]="t",r[wA]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[I9]=this.scriptTagHolder.uniqueCallbackIdentifier),r[aA]=J0,this.transportSessionId&&(r[lA]=this.transportSessionId),this.lastSessionId&&(r[dA]=this.lastSessionId),this.applicationId&&(r[fA]=this.applicationId),this.appCheckToken&&(r[U_]=this.appCheckToken),typeof location<"u"&&location.hostname&&hA.test(location.hostname)&&(r[uA]=cA);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Xa.forceAllow_=!0}static forceDisallow(){Xa.forceDisallow_=!0}static isAvailable(){return Xa.forceAllow_?!0:!Xa.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!a9()&&!l9()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Yt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=lk(n),i=sA(r,A9);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[k9]="t",r[_A]=e,r[vA]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Yt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class ew{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=n9(),window[E9+this.uniqueCallbackIdentifier]=e,window[T9+this.uniqueCallbackIdentifier]=n,this.myIFrame=ew.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){yn("frame writing exception"),a.stack&&yn(a.stack),yn(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||yn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[_A]=this.myID,e[vA]=this.myPW,e[wA]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+TA+r.length<=EA;){const o=this.pendingSegs.shift();r=r+"&"+C9+i+"="+o.seg+"&"+S9+i+"="+o.ts+"&"+b9+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(x9)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{yn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9=16384,N9=45e3;let pp=null;typeof MozWebSocket<"u"?pp=MozWebSocket:typeof WebSocket<"u"&&(pp=WebSocket);class Rr{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=gh(this.connId),this.stats_=Z0(n),this.connURL=Rr.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[aA]=J0,typeof location<"u"&&location.hostname&&hA.test(location.hostname)&&(o[uA]=cA),n&&(o[lA]=n),r&&(o[dA]=r),i&&(o[U_]=i),s&&(o[fA]=s),yA(e,pA,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Fo.set("previous_websocket_failure",!0);try{let r;pk(),this.mySock=new pp(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Rr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&pp!==null&&!Rr.forceDisallow_}static previouslyFailed(){return Fo.isInMemoryStorage||Fo.get("previous_websocket_failure")===!0}markConnectionHealthy(){Fo.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Fc(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(te(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Yt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=sA(n,P9);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(N9))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Rr.responsesRequiredToBeHealthy=2;Rr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Xa,Rr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Rr&&Rr.isAvailable();let r=n&&!Rr.previouslyFailed();if(e.webSocketOnly&&(n||rr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Rr];else{const i=this.transports_=[];for(const s of jc.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);jc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}jc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O9=6e4,D9=5e3,L9=10*1024,M9=100*1024,ny="t",cI="d",F9="s",hI="r",V9="e",dI="o",fI="a",pI="n",mI="p",U9="h";class $9{constructor(e,n,r,i,s,o,a,l,c,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=gh("c:"+this.id+":"),this.transportManager_=new jc(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=ac(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>M9?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>L9?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ny in e){const n=e[ny];n===fI?this.upgradeIfSecondaryHealthy_():n===hI?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===dI&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Nu("t",e),r=Nu("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:mI,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:fI,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:pI,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Nu("t",e),r=Nu("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Nu(ny,e);if(cI in e){const r=e[cI];if(n===U9){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===pI){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===F9?this.onConnectionShutdown_(r):n===hI?this.onReset_(r):n===V9?V_("Server Error: "+r):n===dI?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):V_("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),J0!==r&&rr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ac(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(O9))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ac(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(D9))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:mI,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Fo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e){this.allowedEvents_=e,this.listeners_={},te(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){te(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp extends CA{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!$0()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new mp}getInitialEvent(e){return te(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=32,yI=768;class et{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function $e(){return new et("")}function Se(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Zs(t){return t.pieces_.length-t.pieceNum_}function nt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new et(t.pieces_,e)}function SA(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function j9(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function bA(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function kA(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new et(e,0)}function Ft(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof et)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new et(n,0)}function be(t){return t.pieceNum_>=t.pieces_.length}function $n(t,e){const n=Se(t),r=Se(e);if(n===null)return e;if(n===r)return $n(nt(t),nt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function tw(t,e){if(Zs(t)!==Zs(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Pr(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Zs(t)>Zs(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class B9{constructor(e,n){this.errorPrefix_=n,this.parts_=bA(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=pm(this.parts_[r]);AA(this)}}function z9(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=pm(e),AA(t)}function W9(t){const e=t.parts_.pop();t.byteLength_-=pm(e),t.parts_.length>0&&(t.byteLength_-=1)}function AA(t){if(t.byteLength_>yI)throw new Error(t.errorPrefix_+"has a key path longer than "+yI+" bytes ("+t.byteLength_+").");if(t.parts_.length>gI)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+gI+") or object contains a cycle "+Ro(t))}function Ro(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw extends CA{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new nw}getInitialEvent(e){return te(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou=1e3,H9=60*5*1e3,_I=30*1e3,q9=1.3,G9=3e4,K9="server_kill",vI=3;class Bi extends IA{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Bi.nextPersistentConnectionId_++,this.log_=gh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ou,this.maxReconnectDelay_=H9,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!pk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");nw.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&mp.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Yt(s)),te(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new V0,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),te(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),te(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;Bi.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&ts(e,"w")){const r=xl(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();rr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||IV(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=_I)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=TV(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),te(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Yt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):V_("Unrecognized action received from server: "+Yt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){te(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ou,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ou,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>G9&&(this.reconnectDelay_=Ou),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*q9)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Bi.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(m){te(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(m)};this.realtime_={close:l,sendRequest:c};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[m,g]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?yn("getToken() completed but was canceled"):(yn("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=g&&g.token,a=new $9(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,E=>{rr(E+" ("+this.repoInfo_.toString()+")"),this.interrupt(K9)},s))}catch(m){this.log_("Failed to get token: "+m),o||(this.repoInfo_.nodeAdmin&&rr(m),l())}}}interrupt(e){yn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){yn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],k_(this.interruptReasons_)&&(this.reconnectDelay_=Ou,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>X0(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new et(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){yn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=vI&&(this.reconnectDelay_=_I,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){yn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=vI&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+tA.replace(/\./g,"-")]=1,$0()?e["framework.cordova"]=1:fk()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=mp.getInstance().currentlyOnline();return k_(this.interruptReasons_)&&e}}Bi.nextPersistentConnectionId_=0;Bi.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Ie(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Ie(Pl,e),i=new Ie(Pl,n);return this.compare(r,i)!==0}minPost(){return Ie.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nd;class xA extends Em{static get __EMPTY_NODE(){return Nd}static set __EMPTY_NODE(e){Nd=e}compare(e,n){return tu(e.name,n.name)}isDefinedOn(e){throw Jl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Ie.MIN}maxPost(){return new Ie(Zo,Nd)}makePost(e,n){return te(typeof e=="string","KeyIndex indexValue must always be a string."),new Ie(e,Nd)}toString(){return".key"}}const dl=new xA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Od=class{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Jn=class Wu{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Wu.RED,this.left=i??ti.EMPTY_NODE,this.right=s??ti.EMPTY_NODE}copy(e,n,r,i,s){return new Wu(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return ti.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return ti.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Wu.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Wu.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}};Jn.RED=!0;Jn.BLACK=!1;class Q9{copy(e,n,r,i,s){return this}insert(e,n,r){return new Jn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}let ti=class ff{constructor(e,n=ff.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new ff(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Jn.BLACK,null,null))}remove(e){return new ff(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Jn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Od(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Od(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Od(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Od(this.root_,null,this.comparator_,!0,e)}};ti.EMPTY_NODE=new Q9;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y9(t,e){return tu(t.name,e.name)}function rw(t,e){return tu(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $_;function X9(t){$_=t}const RA=function(t){return typeof t=="number"?"number:"+oA(t):"string:"+t},PA=function(t){if(t.isLeafNode()){const e=t.val();te(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ts(e,".sv"),"Priority must be a string or number.")}else te(t===$_||t.isEmpty(),"priority of unexpected type.");te(t===$_||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wI;class qt{constructor(e,n=qt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,te(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),PA(this.priorityNode_)}static set __childrenNodeConstructor(e){wI=e}static get __childrenNodeConstructor(){return wI}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new qt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:qt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return be(e)?this:Se(e)===".priority"?this.priorityNode_:qt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:qt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Se(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(te(r!==".priority"||Zs(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,qt.__childrenNodeConstructor.EMPTY_NODE.updateChild(nt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+RA(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=oA(this.value_):e+=this.value_,this.lazyHash_=rA(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===qt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof qt.__childrenNodeConstructor?-1:(te(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=qt.VALUE_TYPE_ORDER.indexOf(n),s=qt.VALUE_TYPE_ORDER.indexOf(r);return te(i>=0,"Unknown leaf type: "+n),te(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}qt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NA,OA;function J9(t){NA=t}function Z9(t){OA=t}class eU extends Em{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?tu(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Ie.MIN}maxPost(){return new Ie(Zo,new qt("[PRIORITY-POST]",OA))}makePost(e,n){const r=NA(e);return new Ie(n,new qt("[PRIORITY-POST]",r))}toString(){return".priority"}}const Tt=new eU;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tU=Math.log(2);class nU{constructor(e){const n=s=>parseInt(Math.log(s)/tU,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const gp=function(t,e,n,r){t.sort(e);const i=function(l,c){const d=c-l;let m,g;if(d===0)return null;if(d===1)return m=t[l],g=n?n(m):m,new Jn(g,m.node,Jn.BLACK,null,null);{const E=parseInt(d/2,10)+l,S=i(l,E),A=i(E+1,c);return m=t[E],g=n?n(m):m,new Jn(g,m.node,Jn.BLACK,S,A)}},s=function(l){let c=null,d=null,m=t.length;const g=function(S,A){const D=m-S,b=m;m-=S;const w=i(D+1,b),k=t[D],F=n?n(k):k;E(new Jn(F,k.node,A,null,w))},E=function(S){c?(c.left=S,c=S):(d=S,c=S)};for(let S=0;S<l.count;++S){const A=l.nextBitIsOne(),D=Math.pow(2,l.count-(S+1));A?g(D,Jn.BLACK):(g(D,Jn.BLACK),g(D,Jn.RED))}return d},o=new nU(t.length),a=s(o);return new ti(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ry;const Pa={};class Ui{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return te(Pa&&Tt,"ChildrenNode.ts has not been loaded"),ry=ry||new Ui({".priority":Pa},{".priority":Tt}),ry}get(e){const n=xl(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ti?n:null}hasIndex(e){return ts(this.indexSet_,e.toString())}addIndex(e,n){te(e!==dl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Ie.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=gp(r,e.getCompare()):a=Pa;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const d=Object.assign({},this.indexes_);return d[l]=a,new Ui(d,c)}addToIndexes(e,n){const r=ap(this.indexes_,(i,s)=>{const o=xl(this.indexSet_,s);if(te(o,"Missing index implementation for "+s),i===Pa)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Ie.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),gp(a,o.getCompare())}else return Pa;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Ie(e.name,a))),l.insert(e,e.node)}});return new Ui(r,this.indexSet_)}removeFromIndexes(e,n){const r=ap(this.indexes_,i=>{if(i===Pa)return i;{const s=n.get(e.name);return s?i.remove(new Ie(e.name,s)):i}});return new Ui(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Du;class fe{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&PA(this.priorityNode_),this.children_.isEmpty()&&te(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Du||(Du=new fe(new ti(rw),null,Ui.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Du}updatePriority(e){return this.children_.isEmpty()?this:new fe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Du:n}}getChild(e){const n=Se(e);return n===null?this:this.getImmediateChild(n).getChild(nt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(te(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Ie(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Du:this.priorityNode_;return new fe(i,o,s)}}updateChild(e,n){const r=Se(e);if(r===null)return n;{te(Se(e)!==".priority"||Zs(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(nt(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Tt,(o,a)=>{n[o]=a.val(e),r++,s&&fe.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+RA(this.getPriority().val())+":"),this.forEachChild(Tt,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":rA(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Ie(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Ie(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Ie(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Ie.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Ie.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===_h?-1:0}withIndex(e){if(e===dl||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new fe(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===dl||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Tt),i=n.getIterator(Tt);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===dl?null:this.indexMap_.get(e.toString())}}fe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class rU extends fe{constructor(){super(new ti(rw),fe.EMPTY_NODE,Ui.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return fe.EMPTY_NODE}isEmpty(){return!1}}const _h=new rU;Object.defineProperties(Ie,{MIN:{value:new Ie(Pl,fe.EMPTY_NODE)},MAX:{value:new Ie(Zo,_h)}});xA.__EMPTY_NODE=fe.EMPTY_NODE;qt.__childrenNodeConstructor=fe;X9(_h);Z9(_h);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iU=!0;function _n(t,e=null){if(t===null)return fe.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),te(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new qt(n,_n(e))}if(!(t instanceof Array)&&iU){const n=[];let r=!1;if(qn(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=_n(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Ie(o,l)))}}),n.length===0)return fe.EMPTY_NODE;const s=gp(n,Y9,o=>o.name,rw);if(r){const o=gp(n,Tt.getCompare());return new fe(s,_n(e),new Ui({".priority":o},{".priority":Tt}))}else return new fe(s,_n(e),Ui.Default)}else{let n=fe.EMPTY_NODE;return qn(t,(r,i)=>{if(ts(t,r)&&r.substring(0,1)!=="."){const s=_n(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(_n(e))}}J9(_n);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU extends Em{constructor(e){super(),this.indexPath_=e,te(!be(e)&&Se(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?tu(e.name,n.name):s}makePost(e,n){const r=_n(e),i=fe.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ie(n,i)}maxPost(){const e=fe.EMPTY_NODE.updateChild(this.indexPath_,_h);return new Ie(Zo,e)}toString(){return bA(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU extends Em{compare(e,n){const r=e.node.compareTo(n.node);return r===0?tu(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Ie.MIN}maxPost(){return Ie.MAX}makePost(e,n){const r=_n(e);return new Ie(n,r)}toString(){return".value"}}const aU=new oU;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(t){return{type:"value",snapshotNode:t}}function Nl(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Bc(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function zc(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function lU(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){te(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Bc(n,a)):te(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Nl(n,r)):o.trackChildChange(zc(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Tt,(i,s)=>{n.hasChild(i)||r.trackChildChange(Bc(i,s))}),n.isLeafNode()||n.forEachChild(Tt,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(zc(i,s,o))}else r.trackChildChange(Nl(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?fe.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e){this.indexedFilter_=new iw(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Wc.getStartPost_(e),this.endPost_=Wc.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new Ie(n,r))||(r=fe.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=fe.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(fe.EMPTY_NODE);const s=this;return n.forEachChild(Tt,(o,a)=>{s.matches(new Ie(o,a))||(i=i.updateImmediateChild(o,fe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Wc(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new Ie(n,r))||(r=fe.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=fe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=fe.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(fe.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,fe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const m=this.index_.getCompare();o=(g,E)=>m(E,g)}else o=this.index_.getCompare();const a=e;te(a.numChildren()===this.limit_,"");const l=new Ie(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),d=this.rangedFilter_.matches(l);if(a.hasChild(n)){const m=a.getImmediateChild(n);let g=i.getChildAfterChild(this.index_,c,this.reverse_);for(;g!=null&&(g.name===n||a.hasChild(g.name));)g=i.getChildAfterChild(this.index_,g,this.reverse_);const E=g==null?1:o(g,l);if(d&&!r.isEmpty()&&E>=0)return s!=null&&s.trackChildChange(zc(n,r,m)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Bc(n,m));const A=a.updateImmediateChild(n,fe.EMPTY_NODE);return g!=null&&this.rangedFilter_.matches(g)?(s!=null&&s.trackChildChange(Nl(g.name,g.node)),A.updateImmediateChild(g.name,g.node)):A}}else return r.isEmpty()?e:d&&o(c,l)>=0?(s!=null&&(s.trackChildChange(Bc(c.name,c.node)),s.trackChildChange(Nl(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,fe.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Tt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return te(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return te(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Pl}hasEnd(){return this.endSet_}getIndexEndValue(){return te(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return te(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Zo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return te(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Tt}copy(){const e=new sw;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function cU(t){return t.loadsAllData()?new iw(t.getIndex()):t.hasLimit()?new uU(t):new Wc(t)}function EI(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Tt?n="$priority":t.index_===aU?n="$value":t.index_===dl?n="$key":(te(t.index_ instanceof sU,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Yt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Yt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Yt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Yt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Yt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function TI(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Tt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp extends IA{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=gh("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(te(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=yp.getListenId_(e,r),a={};this.listens_[o]=a;const l=EI(e._queryParams);this.restRequest_(s+".json",l,(c,d)=>{let m=d;if(c===404&&(m=null,c=null),c===null&&this.onDataUpdate_(s,m,!1,r),xl(this.listens_,o)===a){let g;c?c===401?g="permission_denied":g="rest_error:"+c:g="ok",i(g,null)}})}unlisten(e,n){const r=yp.getListenId_(e,n);delete this.listens_[r]}get(e){const n=EI(e._queryParams),r=e._path.toString(),i=new V0;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Zl(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Fc(a.responseText)}catch{rr("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&rr("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(){this.rootNode_=fe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(){return{value:null,children:new Map}}function LA(t,e,n){if(be(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Se(e);t.children.has(r)||t.children.set(r,_p());const i=t.children.get(r);e=nt(e),LA(i,e,n)}}function j_(t,e,n){t.value!==null?n(e,t.value):dU(t,(r,i)=>{const s=new et(e.toString()+"/"+r);j_(i,s,n)})}function dU(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&qn(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=10*1e3,pU=30*1e3,mU=5*60*1e3;class gU{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new fU(e);const r=II+(pU-II)*Math.random();ac(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;qn(e,(i,s)=>{s>0&&ts(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),ac(this.reportStats_.bind(this),Math.floor(Math.random()*2*mU))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nr;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Nr||(Nr={}));function MA(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ow(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function aw(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Nr.ACK_USER_WRITE,this.source=MA()}operationForChild(e){if(be(this.path)){if(this.affectedTree.value!=null)return te(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new et(e));return new vp($e(),n,this.revert)}}else return te(Se(this.path)===e,"operationForChild called for unrelated child."),new vp(nt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n){this.source=e,this.path=n,this.type=Nr.LISTEN_COMPLETE}operationForChild(e){return be(this.path)?new Hc(this.source,$e()):new Hc(this.source,nt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Nr.OVERWRITE}operationForChild(e){return be(this.path)?new ea(this.source,$e(),this.snap.getImmediateChild(e)):new ea(this.source,nt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Nr.MERGE}operationForChild(e){if(be(this.path)){const n=this.children.subtree(new et(e));return n.isEmpty()?null:n.value?new ea(this.source,$e(),n.value):new qc(this.source,$e(),n)}else return te(Se(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new qc(this.source,nt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(be(e))return this.isFullyInitialized()&&!this.filtered_;const n=Se(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function _U(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(lU(o.childName,o.snapshotNode))}),Lu(t,i,"child_removed",e,r,n),Lu(t,i,"child_added",e,r,n),Lu(t,i,"child_moved",s,r,n),Lu(t,i,"child_changed",e,r,n),Lu(t,i,"value",e,r,n),i}function Lu(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>wU(t,a,l)),o.forEach(a=>{const l=vU(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function vU(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function wU(t,e,n){if(e.childName==null||n.childName==null)throw Jl("Should only compare child_ events.");const r=new Ie(e.childName,e.snapshotNode),i=new Ie(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(t,e){return{eventCache:t,serverCache:e}}function lc(t,e,n,r){return Tm(new ta(e,n,r),t.serverCache)}function FA(t,e,n,r){return Tm(t.eventCache,new ta(e,n,r))}function B_(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function na(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iy;const EU=()=>(iy||(iy=new ti(o9)),iy);class ut{constructor(e,n=EU()){this.value=e,this.children=n}static fromObject(e){let n=new ut(null);return qn(e,(r,i)=>{n=n.set(new et(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:$e(),value:this.value};if(be(e))return null;{const r=Se(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(nt(e),n);return s!=null?{path:Ft(new et(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(be(e))return this;{const n=Se(e),r=this.children.get(n);return r!==null?r.subtree(nt(e)):new ut(null)}}set(e,n){if(be(e))return new ut(n,this.children);{const r=Se(e),s=(this.children.get(r)||new ut(null)).set(nt(e),n),o=this.children.insert(r,s);return new ut(this.value,o)}}remove(e){if(be(e))return this.children.isEmpty()?new ut(null):new ut(null,this.children);{const n=Se(e),r=this.children.get(n);if(r){const i=r.remove(nt(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new ut(null):new ut(this.value,s)}else return this}}get(e){if(be(e))return this.value;{const n=Se(e),r=this.children.get(n);return r?r.get(nt(e)):null}}setTree(e,n){if(be(e))return n;{const r=Se(e),s=(this.children.get(r)||new ut(null)).setTree(nt(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new ut(this.value,o)}}fold(e){return this.fold_($e(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Ft(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,$e(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(be(e))return null;{const s=Se(e),o=this.children.get(s);return o?o.findOnPath_(nt(e),Ft(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,$e(),n)}foreachOnPath_(e,n,r){if(be(e))return this;{this.value&&r(n,this.value);const i=Se(e),s=this.children.get(i);return s?s.foreachOnPath_(nt(e),Ft(n,i),r):new ut(null)}}foreach(e){this.foreach_($e(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Ft(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this.writeTree_=e}static empty(){return new Fr(new ut(null))}}function uc(t,e,n){if(be(e))return new Fr(new ut(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=$n(i,e);return s=s.updateChild(o,n),new Fr(t.writeTree_.set(i,s))}else{const i=new ut(n),s=t.writeTree_.setTree(e,i);return new Fr(s)}}}function CI(t,e,n){let r=t;return qn(n,(i,s)=>{r=uc(r,Ft(e,i),s)}),r}function SI(t,e){if(be(e))return Fr.empty();{const n=t.writeTree_.setTree(e,new ut(null));return new Fr(n)}}function z_(t,e){return ha(t,e)!=null}function ha(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild($n(n.path,e)):null}function bI(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Tt,(r,i)=>{e.push(new Ie(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Ie(r,i.value))}),e}function Ks(t,e){if(be(e))return t;{const n=ha(t,e);return n!=null?new Fr(new ut(n)):new Fr(t.writeTree_.subtree(e))}}function W_(t){return t.writeTree_.isEmpty()}function Ol(t,e){return VA($e(),t.writeTree_,e)}function VA(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(te(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=VA(Ft(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Ft(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(t,e){return BA(e,t)}function TU(t,e,n,r,i){te(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=uc(t.visibleWrites,e,n)),t.lastWriteId=r}function IU(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function CU(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);te(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&SU(a,r.path)?i=!1:Pr(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return bU(t),!0;if(r.snap)t.visibleWrites=SI(t.visibleWrites,r.path);else{const a=r.children;qn(a,l=>{t.visibleWrites=SI(t.visibleWrites,Ft(r.path,l))})}return!0}else return!1}function SU(t,e){if(t.snap)return Pr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Pr(Ft(t.path,n),e))return!0;return!1}function bU(t){t.visibleWrites=UA(t.allWrites,kU,$e()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function kU(t){return t.visible}function UA(t,e,n){let r=Fr.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Pr(n,o)?(a=$n(n,o),r=uc(r,a,s.snap)):Pr(o,n)&&(a=$n(o,n),r=uc(r,$e(),s.snap.getChild(a)));else if(s.children){if(Pr(n,o))a=$n(n,o),r=CI(r,a,s.children);else if(Pr(o,n))if(a=$n(o,n),be(a))r=CI(r,$e(),s.children);else{const l=xl(s.children,Se(a));if(l){const c=l.getChild(nt(a));r=uc(r,$e(),c)}}}else throw Jl("WriteRecord should have .snap or .children")}}return r}function $A(t,e,n,r,i){if(!r&&!i){const s=ha(t.visibleWrites,e);if(s!=null)return s;{const o=Ks(t.visibleWrites,e);if(W_(o))return n;if(n==null&&!z_(o,$e()))return null;{const a=n||fe.EMPTY_NODE;return Ol(o,a)}}}else{const s=Ks(t.visibleWrites,e);if(!i&&W_(s))return n;if(!i&&n==null&&!z_(s,$e()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Pr(c.path,e)||Pr(e,c.path))},a=UA(t.allWrites,o,e),l=n||fe.EMPTY_NODE;return Ol(a,l)}}}function AU(t,e,n){let r=fe.EMPTY_NODE;const i=ha(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Tt,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Ks(t.visibleWrites,e);return n.forEachChild(Tt,(o,a)=>{const l=Ol(Ks(s,new et(o)),a);r=r.updateImmediateChild(o,l)}),bI(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Ks(t.visibleWrites,e);return bI(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function xU(t,e,n,r,i){te(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Ft(e,n);if(z_(t.visibleWrites,s))return null;{const o=Ks(t.visibleWrites,s);return W_(o)?i.getChild(n):Ol(o,i.getChild(n))}}function RU(t,e,n,r){const i=Ft(e,n),s=ha(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Ks(t.visibleWrites,i);return Ol(o,r.getNode().getImmediateChild(n))}else return null}function PU(t,e){return ha(t.visibleWrites,e)}function NU(t,e,n,r,i,s,o){let a;const l=Ks(t.visibleWrites,e),c=ha(l,$e());if(c!=null)a=c;else if(n!=null)a=Ol(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const d=[],m=o.getCompare(),g=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let E=g.getNext();for(;E&&d.length<i;)m(E,r)!==0&&d.push(E),E=g.getNext();return d}else return[]}function OU(){return{visibleWrites:Fr.empty(),allWrites:[],lastWriteId:-1}}function wp(t,e,n,r){return $A(t.writeTree,t.treePath,e,n,r)}function uw(t,e){return AU(t.writeTree,t.treePath,e)}function kI(t,e,n,r){return xU(t.writeTree,t.treePath,e,n,r)}function Ep(t,e){return PU(t.writeTree,Ft(t.treePath,e))}function DU(t,e,n,r,i,s){return NU(t.writeTree,t.treePath,e,n,r,i,s)}function cw(t,e,n){return RU(t.writeTree,t.treePath,e,n)}function jA(t,e){return BA(Ft(t.treePath,e),t.writeTree)}function BA(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;te(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),te(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,zc(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Bc(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Nl(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,zc(r,e.snapshotNode,i.oldSnap));else throw Jl("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const zA=new MU;class hw{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new ta(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return cw(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:na(this.viewCache_),s=DU(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FU(t){return{filter:t}}function VU(t,e){te(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),te(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function UU(t,e,n,r,i){const s=new LU;let o,a;if(n.type===Nr.OVERWRITE){const c=n;c.source.fromUser?o=H_(t,e,c.path,c.snap,r,i,s):(te(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!be(c.path),o=Tp(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===Nr.MERGE){const c=n;c.source.fromUser?o=jU(t,e,c.path,c.children,r,i,s):(te(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=q_(t,e,c.path,c.children,r,i,a,s))}else if(n.type===Nr.ACK_USER_WRITE){const c=n;c.revert?o=WU(t,e,c.path,r,i,s):o=BU(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===Nr.LISTEN_COMPLETE)o=zU(t,e,n.path,r,s);else throw Jl("Unknown operation type: "+n.type);const l=s.getChanges();return $U(e,o,l),{viewCache:o,changes:l}}function $U(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=B_(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(DA(B_(e)))}}function WA(t,e,n,r,i,s){const o=e.eventCache;if(Ep(r,n)!=null)return e;{let a,l;if(be(n))if(te(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=na(e),d=c instanceof fe?c:fe.EMPTY_NODE,m=uw(r,d);a=t.filter.updateFullNode(e.eventCache.getNode(),m,s)}else{const c=wp(r,na(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=Se(n);if(c===".priority"){te(Zs(n)===1,"Can't have a priority with additional path components");const d=o.getNode();l=e.serverCache.getNode();const m=kI(r,n,d,l);m!=null?a=t.filter.updatePriority(d,m):a=o.getNode()}else{const d=nt(n);let m;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const g=kI(r,n,o.getNode(),l);g!=null?m=o.getNode().getImmediateChild(c).updateChild(d,g):m=o.getNode().getImmediateChild(c)}else m=cw(r,c,e.serverCache);m!=null?a=t.filter.updateChild(o.getNode(),c,m,d,i,s):a=o.getNode()}}return lc(e,a,o.isFullyInitialized()||be(n),t.filter.filtersNodes())}}function Tp(t,e,n,r,i,s,o,a){const l=e.serverCache;let c;const d=o?t.filter:t.filter.getIndexedFilter();if(be(n))c=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){const E=l.getNode().updateChild(n,r);c=d.updateFullNode(l.getNode(),E,null)}else{const E=Se(n);if(!l.isCompleteForPath(n)&&Zs(n)>1)return e;const S=nt(n),D=l.getNode().getImmediateChild(E).updateChild(S,r);E===".priority"?c=d.updatePriority(l.getNode(),D):c=d.updateChild(l.getNode(),E,D,S,zA,null)}const m=FA(e,c,l.isFullyInitialized()||be(n),d.filtersNodes()),g=new hw(i,m,s);return WA(t,m,n,i,g,a)}function H_(t,e,n,r,i,s,o){const a=e.eventCache;let l,c;const d=new hw(i,e,s);if(be(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=lc(e,c,!0,t.filter.filtersNodes());else{const m=Se(n);if(m===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=lc(e,c,a.isFullyInitialized(),a.isFiltered());else{const g=nt(n),E=a.getNode().getImmediateChild(m);let S;if(be(g))S=r;else{const A=d.getCompleteChild(m);A!=null?SA(g)===".priority"&&A.getChild(kA(g)).isEmpty()?S=A:S=A.updateChild(g,r):S=fe.EMPTY_NODE}if(E.equals(S))l=e;else{const A=t.filter.updateChild(a.getNode(),m,S,g,d,o);l=lc(e,A,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function AI(t,e){return t.eventCache.isCompleteForChild(e)}function jU(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{const d=Ft(n,l);AI(e,Se(d))&&(a=H_(t,a,d,c,i,s,o))}),r.foreach((l,c)=>{const d=Ft(n,l);AI(e,Se(d))||(a=H_(t,a,d,c,i,s,o))}),a}function xI(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function q_(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;be(n)?c=r:c=new ut(null).setTree(n,r);const d=e.serverCache.getNode();return c.children.inorderTraversal((m,g)=>{if(d.hasChild(m)){const E=e.serverCache.getNode().getImmediateChild(m),S=xI(t,E,g);l=Tp(t,l,new et(m),S,i,s,o,a)}}),c.children.inorderTraversal((m,g)=>{const E=!e.serverCache.isCompleteForChild(m)&&g.value===null;if(!d.hasChild(m)&&!E){const S=e.serverCache.getNode().getImmediateChild(m),A=xI(t,S,g);l=Tp(t,l,new et(m),A,i,s,o,a)}}),l}function BU(t,e,n,r,i,s,o){if(Ep(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(be(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Tp(t,e,n,l.getNode().getChild(n),i,s,a,o);if(be(n)){let c=new ut(null);return l.getNode().forEachChild(dl,(d,m)=>{c=c.set(new et(d),m)}),q_(t,e,n,c,i,s,a,o)}else return e}else{let c=new ut(null);return r.foreach((d,m)=>{const g=Ft(n,d);l.isCompleteForPath(g)&&(c=c.set(d,l.getNode().getChild(g)))}),q_(t,e,n,c,i,s,a,o)}}function zU(t,e,n,r,i){const s=e.serverCache,o=FA(e,s.getNode(),s.isFullyInitialized()||be(n),s.isFiltered());return WA(t,o,n,r,zA,i)}function WU(t,e,n,r,i,s){let o;if(Ep(r,n)!=null)return e;{const a=new hw(r,e,i),l=e.eventCache.getNode();let c;if(be(n)||Se(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=wp(r,na(e));else{const m=e.serverCache.getNode();te(m instanceof fe,"serverChildren would be complete if leaf node"),d=uw(r,m)}d=d,c=t.filter.updateFullNode(l,d,s)}else{const d=Se(n);let m=cw(r,d,e.serverCache);m==null&&e.serverCache.isCompleteForChild(d)&&(m=l.getImmediateChild(d)),m!=null?c=t.filter.updateChild(l,d,m,nt(n),a,s):e.eventCache.getNode().hasChild(d)?c=t.filter.updateChild(l,d,fe.EMPTY_NODE,nt(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=wp(r,na(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||Ep(r,$e())!=null,lc(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new iw(r.getIndex()),s=cU(r);this.processor_=FU(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(fe.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(fe.EMPTY_NODE,a.getNode(),null),d=new ta(l,o.isFullyInitialized(),i.filtersNodes()),m=new ta(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Tm(m,d),this.eventGenerator_=new yU(this.query_)}get query(){return this.query_}}function qU(t){return t.viewCache_.serverCache.getNode()}function GU(t,e){const n=na(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!be(e)&&!n.getImmediateChild(Se(e)).isEmpty())?n.getChild(e):null}function RI(t){return t.eventRegistrations_.length===0}function KU(t,e){t.eventRegistrations_.push(e)}function PI(t,e,n){const r=[];if(n){te(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function NI(t,e,n,r){e.type===Nr.MERGE&&e.source.queryId!==null&&(te(na(t.viewCache_),"We should always have a full cache before handling merges"),te(B_(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=UU(t.processor_,i,e,n,r);return VU(t.processor_,s.viewCache),te(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,HA(t,s.changes,s.viewCache.eventCache.getNode(),null)}function QU(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Tt,(s,o)=>{r.push(Nl(s,o))}),n.isFullyInitialized()&&r.push(DA(n.getNode())),HA(t,r,n.getNode(),e)}function HA(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return _U(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ip;class YU{constructor(){this.views=new Map}}function XU(t){te(!Ip,"__referenceConstructor has already been defined"),Ip=t}function JU(){return te(Ip,"Reference.ts has not been loaded"),Ip}function ZU(t){return t.views.size===0}function dw(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return te(s!=null,"SyncTree gave us an op for an invalid query."),NI(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(NI(o,e,n,r));return s}}function e$(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=wp(n,i?r:null),l=!1;a?l=!0:r instanceof fe?(a=uw(n,r),l=!1):(a=fe.EMPTY_NODE,l=!1);const c=Tm(new ta(a,l,!1),new ta(r,i,!1));return new HU(e,c)}return o}function t$(t,e,n,r,i,s){const o=e$(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),KU(o,n),QU(o,n)}function n$(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=eo(t);if(i==="default")for(const[l,c]of t.views.entries())o=o.concat(PI(c,n,r)),RI(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=t.views.get(i);l&&(o=o.concat(PI(l,n,r)),RI(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!eo(t)&&s.push(new(JU())(e._repo,e._path)),{removed:s,events:o}}function qA(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function fl(t,e){let n=null;for(const r of t.views.values())n=n||GU(r,e);return n}function GA(t,e){if(e._queryParams.loadsAllData())return Im(t);{const r=e._queryIdentifier;return t.views.get(r)}}function KA(t,e){return GA(t,e)!=null}function eo(t){return Im(t)!=null}function Im(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cp;function r$(t){te(!Cp,"__referenceConstructor has already been defined"),Cp=t}function i$(){return te(Cp,"Reference.ts has not been loaded"),Cp}let s$=1;class OI{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ut(null),this.pendingWriteTree_=OU(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function o$(t,e,n,r,i){return TU(t.pendingWriteTree_,e,n,r,i),i?vh(t,new ea(MA(),e,n)):[]}function Ja(t,e,n=!1){const r=IU(t.pendingWriteTree_,e);if(CU(t.pendingWriteTree_,e)){let s=new ut(null);return r.snap!=null?s=s.set($e(),!0):qn(r.children,o=>{s=s.set(new et(o),!0)}),vh(t,new vp(r.path,s,n))}else return[]}function Cm(t,e,n){return vh(t,new ea(ow(),e,n))}function a$(t,e,n){const r=ut.fromObject(n);return vh(t,new qc(ow(),e,r))}function l$(t,e){return vh(t,new Hc(ow(),e))}function u$(t,e,n){const r=fw(t,n);if(r){const i=pw(r),s=i.path,o=i.queryId,a=$n(s,e),l=new Hc(aw(o),a);return mw(t,s,l)}else return[]}function G_(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||KA(o,e))){const l=n$(o,e,n,r);ZU(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!i){const d=c.findIndex(g=>g._queryParams.loadsAllData())!==-1,m=t.syncPointTree_.findOnPath(s,(g,E)=>eo(E));if(d&&!m){const g=t.syncPointTree_.subtree(s);if(!g.isEmpty()){const E=d$(g);for(let S=0;S<E.length;++S){const A=E[S],D=A.query,b=JA(t,A);t.listenProvider_.startListening(cc(D),Sp(t,D),b.hashFn,b.onComplete)}}}!m&&c.length>0&&!r&&(d?t.listenProvider_.stopListening(cc(e),null):c.forEach(g=>{const E=t.queryToTagMap.get(Sm(g));t.listenProvider_.stopListening(cc(g),E)}))}f$(t,c)}return a}function c$(t,e,n,r){const i=fw(t,r);if(i!=null){const s=pw(i),o=s.path,a=s.queryId,l=$n(o,e),c=new ea(aw(a),l,n);return mw(t,o,c)}else return[]}function h$(t,e,n,r){const i=fw(t,r);if(i){const s=pw(i),o=s.path,a=s.queryId,l=$n(o,e),c=ut.fromObject(n),d=new qc(aw(a),l,c);return mw(t,o,d)}else return[]}function DI(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(g,E)=>{const S=$n(g,i);s=s||fl(E,S),o=o||eo(E)});let a=t.syncPointTree_.get(i);a?(o=o||eo(a),s=s||fl(a,$e())):(a=new YU,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=fe.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((E,S)=>{const A=fl(S,$e());A&&(s=s.updateImmediateChild(E,A))}));const c=KA(a,e);if(!c&&!e._queryParams.loadsAllData()){const g=Sm(e);te(!t.queryToTagMap.has(g),"View does not exist, but we have a tag");const E=p$();t.queryToTagMap.set(g,E),t.tagToQueryMap.set(E,g)}const d=lw(t.pendingWriteTree_,i);let m=t$(a,e,n,d,s,l);if(!c&&!o&&!r){const g=GA(a,e);m=m.concat(m$(t,e,g))}return m}function QA(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=$n(o,e),c=fl(a,l);if(c)return c});return $A(i,e,s,n,!0)}function vh(t,e){return YA(e,t.syncPointTree_,null,lw(t.pendingWriteTree_,$e()))}function YA(t,e,n,r){if(be(t.path))return XA(t,e,n,r);{const i=e.get($e());n==null&&i!=null&&(n=fl(i,$e()));let s=[];const o=Se(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,d=jA(r,o);s=s.concat(YA(a,l,c,d))}return i&&(s=s.concat(dw(i,t,r,n))),s}}function XA(t,e,n,r){const i=e.get($e());n==null&&i!=null&&(n=fl(i,$e()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=jA(r,o),d=t.operationForChild(o);d&&(s=s.concat(XA(d,a,l,c)))}),i&&(s=s.concat(dw(i,t,r,n))),s}function JA(t,e){const n=e.query,r=Sp(t,n);return{hashFn:()=>(qU(e)||fe.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?u$(t,n._path,r):l$(t,n._path);{const s=u9(i,n);return G_(t,n,null,s)}}}}function Sp(t,e){const n=Sm(e);return t.queryToTagMap.get(n)}function Sm(t){return t._path.toString()+"$"+t._queryIdentifier}function fw(t,e){return t.tagToQueryMap.get(e)}function pw(t){const e=t.indexOf("$");return te(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new et(t.substr(0,e))}}function mw(t,e,n){const r=t.syncPointTree_.get(e);te(r,"Missing sync point for query tag that we're tracking");const i=lw(t.pendingWriteTree_,e);return dw(r,n,i,null)}function d$(t){return t.fold((e,n,r)=>{if(n&&eo(n))return[Im(n)];{let i=[];return n&&(i=qA(n)),qn(r,(s,o)=>{i=i.concat(o)}),i}})}function cc(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(i$())(t._repo,t._path):t}function f$(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Sm(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function p$(){return s$++}function m$(t,e,n){const r=e._path,i=Sp(t,e),s=JA(t,n),o=t.listenProvider_.startListening(cc(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)te(!eo(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,d,m)=>{if(!be(c)&&d&&eo(d))return[Im(d).query];{let g=[];return d&&(g=g.concat(qA(d).map(E=>E.query))),qn(m,(E,S)=>{g=g.concat(S)}),g}});for(let c=0;c<l.length;++c){const d=l[c];t.listenProvider_.stopListening(cc(d),Sp(t,d))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new gw(n)}node(){return this.node_}}class yw{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ft(this.path_,e);return new yw(this.syncTree_,n)}node(){return QA(this.syncTree_,this.path_)}}const g$=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},LI=function(t,e,n){if(!t||typeof t!="object")return t;if(te(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return y$(t[".sv"],e,n);if(typeof t[".sv"]=="object")return _$(t[".sv"],e);te(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},y$=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:te(!1,"Unexpected server value: "+t)}},_$=function(t,e,n){t.hasOwnProperty("increment")||te(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&te(!1,"Unexpected increment value: "+r);const i=e.node();if(te(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},v$=function(t,e,n,r){return _w(e,new yw(n,t),r)},w$=function(t,e,n){return _w(t,new gw(e),n)};function _w(t,e,n){const r=t.getPriority().val(),i=LI(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=LI(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new qt(a,_n(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new qt(i))),o.forEachChild(Tt,(a,l)=>{const c=_w(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function ww(t,e){let n=e instanceof et?e:new et(e),r=t,i=Se(n);for(;i!==null;){const s=xl(r.node.children,i)||{children:{},childCount:0};r=new vw(i,r,s),n=nt(n),i=Se(n)}return r}function nu(t){return t.node.value}function ZA(t,e){t.node.value=e,K_(t)}function ex(t){return t.node.childCount>0}function E$(t){return nu(t)===void 0&&!ex(t)}function bm(t,e){qn(t.node.children,(n,r)=>{e(new vw(n,t,r))})}function tx(t,e,n,r){n&&!r&&e(t),bm(t,i=>{tx(i,e,!0,r)}),n&&r&&e(t)}function T$(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function wh(t){return new et(t.parent===null?t.name:wh(t.parent)+"/"+t.name)}function K_(t){t.parent!==null&&I$(t.parent,t.name,t)}function I$(t,e,n){const r=E$(n),i=ts(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,K_(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,K_(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C$=/[\[\].#$\/\u0000-\u001F\u007F]/,S$=/[\[\].#$\u0000-\u001F\u007F]/,sy=10*1024*1024,nx=function(t){return typeof t=="string"&&t.length!==0&&!C$.test(t)},rx=function(t){return typeof t=="string"&&t.length!==0&&!S$.test(t)},b$=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),rx(t)},ix=function(t,e,n){const r=n instanceof et?new B9(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Ro(r));if(typeof e=="function")throw new Error(t+"contains a function "+Ro(r)+" with contents = "+e.toString());if(iA(e))throw new Error(t+"contains "+e.toString()+" "+Ro(r));if(typeof e=="string"&&e.length>sy/3&&pm(e)>sy)throw new Error(t+"contains a string greater than "+sy+" utf8 bytes "+Ro(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(qn(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!nx(o)))throw new Error(t+" contains an invalid key ("+o+") "+Ro(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);z9(r,o),ix(t,a,r),W9(r)}),i&&s)throw new Error(t+' contains ".value" child '+Ro(r)+" in addition to actual children.")}},sx=function(t,e,n,r){if(!(r&&n===void 0)&&!rx(n))throw new Error(gk(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},k$=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),sx(t,e,n,r)},A$=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!nx(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!b$(n))throw new Error(gk(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x${constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ox(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!tw(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function ax(t,e,n){ox(t,n),lx(t,r=>tw(r,e))}function da(t,e,n){ox(t,n),lx(t,r=>Pr(r,e)||Pr(e,r))}function lx(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(R$(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function R$(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();zo&&yn("event: "+n.toString()),yh(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P$="repo_interrupt",N$=25;class O${constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new x$,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=_p(),this.transactionQueueTree_=new vw,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function D$(t,e,n){if(t.stats_=Z0(t.repoInfo_),t.forceRestClient_||f9())t.server_=new yp(t.repoInfo_,(r,i,s,o)=>{MI(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>FI(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Yt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Bi(t.repoInfo_,e,(r,i,s,o)=>{MI(t,r,i,s,o)},r=>{FI(t,r)},r=>{M$(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=_9(t.repoInfo_,()=>new gU(t.stats_,t.server_)),t.infoData_=new hU,t.infoSyncTree_=new OI({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Cm(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Ew(t,"connected",!1),t.serverSyncTree_=new OI({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);da(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function L$(t){const n=t.infoData_.getNode(new et(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function ux(t){return g$({timestamp:L$(t)})}function MI(t,e,n,r,i){t.dataUpdateCount++;const s=new et(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=ap(n,c=>_n(c));o=h$(t.serverSyncTree_,s,l,i)}else{const l=_n(n);o=c$(t.serverSyncTree_,s,l,i)}else if(r){const l=ap(n,c=>_n(c));o=a$(t.serverSyncTree_,s,l)}else{const l=_n(n);o=Cm(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Iw(t,s)),da(t.eventQueue_,a,o)}function FI(t,e){Ew(t,"connected",e),e===!1&&V$(t)}function M$(t,e){qn(e,(n,r)=>{Ew(t,n,r)})}function Ew(t,e,n){const r=new et("/.info/"+e),i=_n(n);t.infoData_.updateSnapshot(r,i);const s=Cm(t.infoSyncTree_,r,i);da(t.eventQueue_,r,s)}function F$(t){return t.nextWriteId_++}function V$(t){cx(t,"onDisconnectEvents");const e=ux(t),n=_p();j_(t.onDisconnect_,$e(),(i,s)=>{const o=v$(i,s,t.serverSyncTree_,e);LA(n,i,o)});let r=[];j_(n,$e(),(i,s)=>{r=r.concat(Cm(t.serverSyncTree_,i,s));const o=z$(t,i);Iw(t,o)}),t.onDisconnect_=_p(),da(t.eventQueue_,$e(),r)}function U$(t,e,n){let r;Se(e._path)===".info"?r=DI(t.infoSyncTree_,e,n):r=DI(t.serverSyncTree_,e,n),ax(t.eventQueue_,e._path,r)}function VI(t,e,n){let r;Se(e._path)===".info"?r=G_(t.infoSyncTree_,e,n):r=G_(t.serverSyncTree_,e,n),ax(t.eventQueue_,e._path,r)}function $$(t){t.persistentConnection_&&t.persistentConnection_.interrupt(P$)}function cx(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),yn(n,...e)}function hx(t,e,n){return QA(t.serverSyncTree_,e,n)||fe.EMPTY_NODE}function Tw(t,e=t.transactionQueueTree_){if(e||km(t,e),nu(e)){const n=fx(t,e);te(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&j$(t,wh(e),n)}else ex(e)&&bm(e,n=>{Tw(t,n)})}function j$(t,e,n){const r=n.map(c=>c.currentWriteId),i=hx(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const d=n[c];te(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const m=$n(e,d.path);s=s.updateChild(m,d.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{cx(t,"transaction put response",{path:l.toString(),status:c});let d=[];if(c==="ok"){const m=[];for(let g=0;g<n.length;g++)n[g].status=2,d=d.concat(Ja(t.serverSyncTree_,n[g].currentWriteId)),n[g].onComplete&&m.push(()=>n[g].onComplete(null,!0,n[g].currentOutputSnapshotResolved)),n[g].unwatcher();km(t,ww(t.transactionQueueTree_,e)),Tw(t,t.transactionQueueTree_),da(t.eventQueue_,e,d);for(let g=0;g<m.length;g++)yh(m[g])}else{if(c==="datastale")for(let m=0;m<n.length;m++)n[m].status===3?n[m].status=4:n[m].status=0;else{rr("transaction at "+l.toString()+" failed: "+c);for(let m=0;m<n.length;m++)n[m].status=4,n[m].abortReason=c}Iw(t,e)}},o)}function Iw(t,e){const n=dx(t,e),r=wh(n),i=fx(t,n);return B$(t,i,r),r}function B$(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=$n(n,l.path);let d=!1,m;if(te(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,m=l.abortReason,i=i.concat(Ja(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=N$)d=!0,m="maxretry",i=i.concat(Ja(t.serverSyncTree_,l.currentWriteId,!0));else{const g=hx(t,l.path,o);l.currentInputSnapshot=g;const E=e[a].update(g.val());if(E!==void 0){ix("transaction failed: Data returned ",E,l.path);let S=_n(E);typeof E=="object"&&E!=null&&ts(E,".priority")||(S=S.updatePriority(g.getPriority()));const D=l.currentWriteId,b=ux(t),w=w$(S,g,b);l.currentOutputSnapshotRaw=S,l.currentOutputSnapshotResolved=w,l.currentWriteId=F$(t),o.splice(o.indexOf(D),1),i=i.concat(o$(t.serverSyncTree_,l.path,w,l.currentWriteId,l.applyLocally)),i=i.concat(Ja(t.serverSyncTree_,D,!0))}else d=!0,m="nodata",i=i.concat(Ja(t.serverSyncTree_,l.currentWriteId,!0))}da(t.eventQueue_,n,i),i=[],d&&(e[a].status=2,function(g){setTimeout(g,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(m==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(m),!1,null))))}km(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)yh(r[a]);Tw(t,t.transactionQueueTree_)}function dx(t,e){let n,r=t.transactionQueueTree_;for(n=Se(e);n!==null&&nu(r)===void 0;)r=ww(r,n),e=nt(e),n=Se(e);return r}function fx(t,e){const n=[];return px(t,e,n),n.sort((r,i)=>r.order-i.order),n}function px(t,e,n){const r=nu(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);bm(e,i=>{px(t,i,n)})}function km(t,e){const n=nu(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,ZA(e,n.length>0?n:void 0)}bm(e,r=>{km(t,r)})}function z$(t,e){const n=wh(dx(t,e)),r=ww(t.transactionQueueTree_,e);return T$(r,i=>{oy(t,i)}),oy(t,r),tx(r,i=>{oy(t,i)}),n}function oy(t,e){const n=nu(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(te(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(te(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Ja(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?ZA(e,void 0):n.length=s+1,da(t.eventQueue_,wh(e),i);for(let o=0;o<r.length;o++)yh(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W$(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function H$(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):rr(`Invalid query segment '${n}' in query '${t}'`)}return e}const UI=function(t,e){const n=q$(t),r=n.namespace;n.domain==="firebase.com"&&Qi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Qi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||i9();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new gA(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new et(n.pathString)}},q$=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let d=t.indexOf("/");d===-1&&(d=t.length);let m=t.indexOf("?");m===-1&&(m=t.length),e=t.substring(0,Math.min(d,m)),d<m&&(i=W$(t.substring(d,m)));const g=H$(t.substring(Math.min(t.length,m)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const E=e.slice(0,c);if(E.toLowerCase()==="localhost")n="localhost";else if(E.split(".").length<=2)n=E;else{const S=e.indexOf(".");r=e.substring(0,S).toLowerCase(),n=e.substring(S+1),s=r}"ns"in g&&(s=g.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Yt(this.snapshot.exportVal())}}class gx{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G${constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return te(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return be(this._path)?null:SA(this._path)}get ref(){return new rs(this._repo,this._path)}get _queryIdentifier(){const e=TI(this._queryParams),n=X0(e);return n==="{}"?"default":n}get _queryObject(){return TI(this._queryParams)}isEqual(e){if(e=yt(e),!(e instanceof Cw))return!1;const n=this._repo===e._repo,r=tw(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+j9(this._path)}}class rs extends Cw{constructor(e,n){super(e,n,new sw,!1)}get parent(){const e=kA(this._path);return e===null?null:new rs(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Gc{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new et(e),r=bp(this.ref,e);return new Gc(this._node.getChild(n),r,Tt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Gc(i,bp(this.ref,r),Tt)))}hasChild(e){const n=new et(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function A7(t,e){return t=yt(t),t._checkNotDeleted("ref"),e!==void 0?bp(t._root,e):t._root}function bp(t,e){return t=yt(t),Se(t._path)===null?k$("child","path",e,!1):sx("child","path",e,!1),new rs(t._repo,Ft(t._path,e))}class Sw{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new mx("value",this,new Gc(e.snapshotNode,new rs(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new gx(this,e,n):null}matches(e){return e instanceof Sw?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class bw{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new gx(this,e,n):null}createEvent(e,n){te(e.childName!=null,"Child events should have a childName.");const r=bp(new rs(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new mx(e.type,this,new Gc(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof bw?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function K$(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,c=(d,m)=>{VI(t._repo,t,a),l(d,m)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new G$(n,s||void 0),a=e==="value"?new Sw(o):new bw(e,o);return U$(t._repo,t,a),()=>VI(t._repo,t,a)}function x7(t,e,n,r){return K$(t,"value",e,n,r)}XU(rs);r$(rs);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q$="FIREBASE_DATABASE_EMULATOR_HOST",Q_={};let Y$=!1;function X$(t,e,n,r){t.repoInfo_=new gA(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function J$(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Qi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),yn("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=UI(s,i),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[Q$]),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=UI(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const d=i&&l?new hl(hl.OWNER):new m9(t.name,t.options,e);A$("Invalid Firebase Database URL",o),be(o.path)||Qi("Database URL must point to the root of a Firebase Database (not including a child path).");const m=ej(a,t,d,new p9(t.name,n));return new tj(m,t)}function Z$(t,e){const n=Q_[e];(!n||n[t.key]!==t)&&Qi(`Database ${e}(${t.repoInfo_}) has already been deleted.`),$$(t),delete n[t.key]}function ej(t,e,n,r){let i=Q_[e.name];i||(i={},Q_[e.name]=i);let s=i[t.toURLString()];return s&&Qi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new O$(t,Y$,n,r),i[t.toURLString()]=s,s}class tj{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(D$(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new rs(this._repo,$e())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Z$(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Qi("Cannot call "+e+" on a deleted database.")}}function nj(t=gm(),e){const n=ch(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=F0("database");r&&rj(n,...r)}return n}function rj(t,e,n,r={}){t=yt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Qi("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Qi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new hl(hl.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:U0(r.mockUserToken,t.app.options.projectId);s=new hl(o)}X$(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ij(t){Z6(ao),Js(new Gi("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return J$(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),pr(sI,oI,t),pr(sI,oI,"esm2017")}Bi.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Bi.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};ij();var $I=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wo,yx;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,C){function x(){}x.prototype=C.prototype,I.D=C.prototype,I.prototype=new x,I.prototype.constructor=I,I.C=function(N,L,M){for(var R=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)R[Ee-2]=arguments[Ee];return C.prototype[L].apply(N,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,C,x){x||(x=0);var N=Array(16);if(typeof C=="string")for(var L=0;16>L;++L)N[L]=C.charCodeAt(x++)|C.charCodeAt(x++)<<8|C.charCodeAt(x++)<<16|C.charCodeAt(x++)<<24;else for(L=0;16>L;++L)N[L]=C[x++]|C[x++]<<8|C[x++]<<16|C[x++]<<24;C=I.g[0],x=I.g[1],L=I.g[2];var M=I.g[3],R=C+(M^x&(L^M))+N[0]+3614090360&4294967295;C=x+(R<<7&4294967295|R>>>25),R=M+(L^C&(x^L))+N[1]+3905402710&4294967295,M=C+(R<<12&4294967295|R>>>20),R=L+(x^M&(C^x))+N[2]+606105819&4294967295,L=M+(R<<17&4294967295|R>>>15),R=x+(C^L&(M^C))+N[3]+3250441966&4294967295,x=L+(R<<22&4294967295|R>>>10),R=C+(M^x&(L^M))+N[4]+4118548399&4294967295,C=x+(R<<7&4294967295|R>>>25),R=M+(L^C&(x^L))+N[5]+1200080426&4294967295,M=C+(R<<12&4294967295|R>>>20),R=L+(x^M&(C^x))+N[6]+2821735955&4294967295,L=M+(R<<17&4294967295|R>>>15),R=x+(C^L&(M^C))+N[7]+4249261313&4294967295,x=L+(R<<22&4294967295|R>>>10),R=C+(M^x&(L^M))+N[8]+1770035416&4294967295,C=x+(R<<7&4294967295|R>>>25),R=M+(L^C&(x^L))+N[9]+2336552879&4294967295,M=C+(R<<12&4294967295|R>>>20),R=L+(x^M&(C^x))+N[10]+4294925233&4294967295,L=M+(R<<17&4294967295|R>>>15),R=x+(C^L&(M^C))+N[11]+2304563134&4294967295,x=L+(R<<22&4294967295|R>>>10),R=C+(M^x&(L^M))+N[12]+1804603682&4294967295,C=x+(R<<7&4294967295|R>>>25),R=M+(L^C&(x^L))+N[13]+4254626195&4294967295,M=C+(R<<12&4294967295|R>>>20),R=L+(x^M&(C^x))+N[14]+2792965006&4294967295,L=M+(R<<17&4294967295|R>>>15),R=x+(C^L&(M^C))+N[15]+1236535329&4294967295,x=L+(R<<22&4294967295|R>>>10),R=C+(L^M&(x^L))+N[1]+4129170786&4294967295,C=x+(R<<5&4294967295|R>>>27),R=M+(x^L&(C^x))+N[6]+3225465664&4294967295,M=C+(R<<9&4294967295|R>>>23),R=L+(C^x&(M^C))+N[11]+643717713&4294967295,L=M+(R<<14&4294967295|R>>>18),R=x+(M^C&(L^M))+N[0]+3921069994&4294967295,x=L+(R<<20&4294967295|R>>>12),R=C+(L^M&(x^L))+N[5]+3593408605&4294967295,C=x+(R<<5&4294967295|R>>>27),R=M+(x^L&(C^x))+N[10]+38016083&4294967295,M=C+(R<<9&4294967295|R>>>23),R=L+(C^x&(M^C))+N[15]+3634488961&4294967295,L=M+(R<<14&4294967295|R>>>18),R=x+(M^C&(L^M))+N[4]+3889429448&4294967295,x=L+(R<<20&4294967295|R>>>12),R=C+(L^M&(x^L))+N[9]+568446438&4294967295,C=x+(R<<5&4294967295|R>>>27),R=M+(x^L&(C^x))+N[14]+3275163606&4294967295,M=C+(R<<9&4294967295|R>>>23),R=L+(C^x&(M^C))+N[3]+4107603335&4294967295,L=M+(R<<14&4294967295|R>>>18),R=x+(M^C&(L^M))+N[8]+1163531501&4294967295,x=L+(R<<20&4294967295|R>>>12),R=C+(L^M&(x^L))+N[13]+2850285829&4294967295,C=x+(R<<5&4294967295|R>>>27),R=M+(x^L&(C^x))+N[2]+4243563512&4294967295,M=C+(R<<9&4294967295|R>>>23),R=L+(C^x&(M^C))+N[7]+1735328473&4294967295,L=M+(R<<14&4294967295|R>>>18),R=x+(M^C&(L^M))+N[12]+2368359562&4294967295,x=L+(R<<20&4294967295|R>>>12),R=C+(x^L^M)+N[5]+4294588738&4294967295,C=x+(R<<4&4294967295|R>>>28),R=M+(C^x^L)+N[8]+2272392833&4294967295,M=C+(R<<11&4294967295|R>>>21),R=L+(M^C^x)+N[11]+1839030562&4294967295,L=M+(R<<16&4294967295|R>>>16),R=x+(L^M^C)+N[14]+4259657740&4294967295,x=L+(R<<23&4294967295|R>>>9),R=C+(x^L^M)+N[1]+2763975236&4294967295,C=x+(R<<4&4294967295|R>>>28),R=M+(C^x^L)+N[4]+1272893353&4294967295,M=C+(R<<11&4294967295|R>>>21),R=L+(M^C^x)+N[7]+4139469664&4294967295,L=M+(R<<16&4294967295|R>>>16),R=x+(L^M^C)+N[10]+3200236656&4294967295,x=L+(R<<23&4294967295|R>>>9),R=C+(x^L^M)+N[13]+681279174&4294967295,C=x+(R<<4&4294967295|R>>>28),R=M+(C^x^L)+N[0]+3936430074&4294967295,M=C+(R<<11&4294967295|R>>>21),R=L+(M^C^x)+N[3]+3572445317&4294967295,L=M+(R<<16&4294967295|R>>>16),R=x+(L^M^C)+N[6]+76029189&4294967295,x=L+(R<<23&4294967295|R>>>9),R=C+(x^L^M)+N[9]+3654602809&4294967295,C=x+(R<<4&4294967295|R>>>28),R=M+(C^x^L)+N[12]+3873151461&4294967295,M=C+(R<<11&4294967295|R>>>21),R=L+(M^C^x)+N[15]+530742520&4294967295,L=M+(R<<16&4294967295|R>>>16),R=x+(L^M^C)+N[2]+3299628645&4294967295,x=L+(R<<23&4294967295|R>>>9),R=C+(L^(x|~M))+N[0]+4096336452&4294967295,C=x+(R<<6&4294967295|R>>>26),R=M+(x^(C|~L))+N[7]+1126891415&4294967295,M=C+(R<<10&4294967295|R>>>22),R=L+(C^(M|~x))+N[14]+2878612391&4294967295,L=M+(R<<15&4294967295|R>>>17),R=x+(M^(L|~C))+N[5]+4237533241&4294967295,x=L+(R<<21&4294967295|R>>>11),R=C+(L^(x|~M))+N[12]+1700485571&4294967295,C=x+(R<<6&4294967295|R>>>26),R=M+(x^(C|~L))+N[3]+2399980690&4294967295,M=C+(R<<10&4294967295|R>>>22),R=L+(C^(M|~x))+N[10]+4293915773&4294967295,L=M+(R<<15&4294967295|R>>>17),R=x+(M^(L|~C))+N[1]+2240044497&4294967295,x=L+(R<<21&4294967295|R>>>11),R=C+(L^(x|~M))+N[8]+1873313359&4294967295,C=x+(R<<6&4294967295|R>>>26),R=M+(x^(C|~L))+N[15]+4264355552&4294967295,M=C+(R<<10&4294967295|R>>>22),R=L+(C^(M|~x))+N[6]+2734768916&4294967295,L=M+(R<<15&4294967295|R>>>17),R=x+(M^(L|~C))+N[13]+1309151649&4294967295,x=L+(R<<21&4294967295|R>>>11),R=C+(L^(x|~M))+N[4]+4149444226&4294967295,C=x+(R<<6&4294967295|R>>>26),R=M+(x^(C|~L))+N[11]+3174756917&4294967295,M=C+(R<<10&4294967295|R>>>22),R=L+(C^(M|~x))+N[2]+718787259&4294967295,L=M+(R<<15&4294967295|R>>>17),R=x+(M^(L|~C))+N[9]+3951481745&4294967295,I.g[0]=I.g[0]+C&4294967295,I.g[1]=I.g[1]+(L+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+L&4294967295,I.g[3]=I.g[3]+M&4294967295}r.prototype.u=function(I,C){C===void 0&&(C=I.length);for(var x=C-this.blockSize,N=this.B,L=this.h,M=0;M<C;){if(L==0)for(;M<=x;)i(this,I,M),M+=this.blockSize;if(typeof I=="string"){for(;M<C;)if(N[L++]=I.charCodeAt(M++),L==this.blockSize){i(this,N),L=0;break}}else for(;M<C;)if(N[L++]=I[M++],L==this.blockSize){i(this,N),L=0;break}}this.h=L,this.o+=C},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var C=1;C<I.length-8;++C)I[C]=0;var x=8*this.o;for(C=I.length-8;C<I.length;++C)I[C]=x&255,x/=256;for(this.u(I),I=Array(16),C=x=0;4>C;++C)for(var N=0;32>N;N+=8)I[x++]=this.g[C]>>>N&255;return I};function s(I,C){var x=a;return Object.prototype.hasOwnProperty.call(x,I)?x[I]:x[I]=C(I)}function o(I,C){this.h=C;for(var x=[],N=!0,L=I.length-1;0<=L;L--){var M=I[L]|0;N&&M==C||(x[L]=M,N=!1)}this.g=x}var a={};function l(I){return-128<=I&&128>I?s(I,function(C){return new o([C|0],0>C?-1:0)}):new o([I|0],0>I?-1:0)}function c(I){if(isNaN(I)||!isFinite(I))return m;if(0>I)return D(c(-I));for(var C=[],x=1,N=0;I>=x;N++)C[N]=I/x|0,x*=4294967296;return new o(C,0)}function d(I,C){if(I.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(I.charAt(0)=="-")return D(d(I.substring(1),C));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=c(Math.pow(C,8)),N=m,L=0;L<I.length;L+=8){var M=Math.min(8,I.length-L),R=parseInt(I.substring(L,L+M),C);8>M?(M=c(Math.pow(C,M)),N=N.j(M).add(c(R))):(N=N.j(x),N=N.add(c(R)))}return N}var m=l(0),g=l(1),E=l(16777216);t=o.prototype,t.m=function(){if(A(this))return-D(this).m();for(var I=0,C=1,x=0;x<this.g.length;x++){var N=this.i(x);I+=(0<=N?N:4294967296+N)*C,C*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(S(this))return"0";if(A(this))return"-"+D(this).toString(I);for(var C=c(Math.pow(I,6)),x=this,N="";;){var L=F(x,C).g;x=b(x,L.j(C));var M=((0<x.g.length?x.g[0]:x.h)>>>0).toString(I);if(x=L,S(x))return M+N;for(;6>M.length;)M="0"+M;N=M+N}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function S(I){if(I.h!=0)return!1;for(var C=0;C<I.g.length;C++)if(I.g[C]!=0)return!1;return!0}function A(I){return I.h==-1}t.l=function(I){return I=b(this,I),A(I)?-1:S(I)?0:1};function D(I){for(var C=I.g.length,x=[],N=0;N<C;N++)x[N]=~I.g[N];return new o(x,~I.h).add(g)}t.abs=function(){return A(this)?D(this):this},t.add=function(I){for(var C=Math.max(this.g.length,I.g.length),x=[],N=0,L=0;L<=C;L++){var M=N+(this.i(L)&65535)+(I.i(L)&65535),R=(M>>>16)+(this.i(L)>>>16)+(I.i(L)>>>16);N=R>>>16,M&=65535,R&=65535,x[L]=R<<16|M}return new o(x,x[x.length-1]&-2147483648?-1:0)};function b(I,C){return I.add(D(C))}t.j=function(I){if(S(this)||S(I))return m;if(A(this))return A(I)?D(this).j(D(I)):D(D(this).j(I));if(A(I))return D(this.j(D(I)));if(0>this.l(E)&&0>I.l(E))return c(this.m()*I.m());for(var C=this.g.length+I.g.length,x=[],N=0;N<2*C;N++)x[N]=0;for(N=0;N<this.g.length;N++)for(var L=0;L<I.g.length;L++){var M=this.i(N)>>>16,R=this.i(N)&65535,Ee=I.i(L)>>>16,qe=I.i(L)&65535;x[2*N+2*L]+=R*qe,w(x,2*N+2*L),x[2*N+2*L+1]+=M*qe,w(x,2*N+2*L+1),x[2*N+2*L+1]+=R*Ee,w(x,2*N+2*L+1),x[2*N+2*L+2]+=M*Ee,w(x,2*N+2*L+2)}for(N=0;N<C;N++)x[N]=x[2*N+1]<<16|x[2*N];for(N=C;N<2*C;N++)x[N]=0;return new o(x,0)};function w(I,C){for(;(I[C]&65535)!=I[C];)I[C+1]+=I[C]>>>16,I[C]&=65535,C++}function k(I,C){this.g=I,this.h=C}function F(I,C){if(S(C))throw Error("division by zero");if(S(I))return new k(m,m);if(A(I))return C=F(D(I),C),new k(D(C.g),D(C.h));if(A(C))return C=F(I,D(C)),new k(D(C.g),C.h);if(30<I.g.length){if(A(I)||A(C))throw Error("slowDivide_ only works with positive integers.");for(var x=g,N=C;0>=N.l(I);)x=j(x),N=j(N);var L=W(x,1),M=W(N,1);for(N=W(N,2),x=W(x,2);!S(N);){var R=M.add(N);0>=R.l(I)&&(L=L.add(x),M=R),N=W(N,1),x=W(x,1)}return C=b(I,L.j(C)),new k(L,C)}for(L=m;0<=I.l(C);){for(x=Math.max(1,Math.floor(I.m()/C.m())),N=Math.ceil(Math.log(x)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),M=c(x),R=M.j(C);A(R)||0<R.l(I);)x-=N,M=c(x),R=M.j(C);S(M)&&(M=g),L=L.add(M),I=b(I,R)}return new k(L,I)}t.A=function(I){return F(this,I).h},t.and=function(I){for(var C=Math.max(this.g.length,I.g.length),x=[],N=0;N<C;N++)x[N]=this.i(N)&I.i(N);return new o(x,this.h&I.h)},t.or=function(I){for(var C=Math.max(this.g.length,I.g.length),x=[],N=0;N<C;N++)x[N]=this.i(N)|I.i(N);return new o(x,this.h|I.h)},t.xor=function(I){for(var C=Math.max(this.g.length,I.g.length),x=[],N=0;N<C;N++)x[N]=this.i(N)^I.i(N);return new o(x,this.h^I.h)};function j(I){for(var C=I.g.length+1,x=[],N=0;N<C;N++)x[N]=I.i(N)<<1|I.i(N-1)>>>31;return new o(x,I.h)}function W(I,C){var x=C>>5;C%=32;for(var N=I.g.length-x,L=[],M=0;M<N;M++)L[M]=0<C?I.i(M+x)>>>C|I.i(M+x+1)<<32-C:I.i(M+x);return new o(L,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,yx=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Wo=o}).apply(typeof $I<"u"?$I:typeof self<"u"?self:typeof window<"u"?window:{});var Dd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _x,vx,Hu,wx,pf,Y_,Ex,Tx,Ix;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,y){return u==Array.prototype||u==Object.prototype||(u[p]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dd=="object"&&Dd];for(var p=0;p<u.length;++p){var y=u[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function i(u,p){if(p)e:{var y=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var V=u[T];if(!(V in y))break e;y=y[V]}u=u[u.length-1],T=y[u],p=p(T),p!=T&&p!=null&&e(y,u,{configurable:!0,writable:!0,value:p})}}function s(u,p){u instanceof String&&(u+="");var y=0,T=!1,V={next:function(){if(!T&&y<u.length){var B=y++;return{value:p(B,u[B]),done:!1}}return T=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(u){return u||function(){return s(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function c(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function d(u,p,y){return u.call.apply(u.bind,arguments)}function m(u,p,y){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,T),u.apply(p,V)}}return function(){return u.apply(p,arguments)}}function g(u,p,y){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:m,g.apply(null,arguments)}function E(u,p){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,p){function y(){}y.prototype=p.prototype,u.aa=p.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(T,V,B){for(var ee=Array(arguments.length-2),We=2;We<arguments.length;We++)ee[We-2]=arguments[We];return p.prototype[V].apply(T,ee)}}function A(u){const p=u.length;if(0<p){const y=Array(p);for(let T=0;T<p;T++)y[T]=u[T];return y}return[]}function D(u,p){for(let y=1;y<arguments.length;y++){const T=arguments[y];if(l(T)){const V=u.length||0,B=T.length||0;u.length=V+B;for(let ee=0;ee<B;ee++)u[V+ee]=T[ee]}else u.push(T)}}class b{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function w(u){return/^[\s\xa0]*$/.test(u)}function k(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function F(u){return F[" "](u),u}F[" "]=function(){};var j=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function W(u,p,y){for(const T in u)p.call(y,u[T],T,u)}function I(u,p){for(const y in u)p.call(void 0,u[y],y,u)}function C(u){const p={};for(const y in u)p[y]=u[y];return p}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,p){let y,T;for(let V=1;V<arguments.length;V++){T=arguments[V];for(y in T)u[y]=T[y];for(let B=0;B<x.length;B++)y=x[B],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function L(u){var p=1;u=u.split(":");const y=[];for(;0<p&&u.length;)y.push(u.shift()),p--;return u.length&&y.push(u.join(":")),y}function M(u){a.setTimeout(()=>{throw u},0)}function R(){var u=K;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class Ee{constructor(){this.h=this.g=null}add(p,y){const T=qe.get();T.set(p,y),this.h?this.h.next=T:this.g=T,this.h=T}}var qe=new b(()=>new Ce,u=>u.reset());class Ce{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let je,re=!1,K=new Ee,ue=()=>{const u=a.Promise.resolve(void 0);je=()=>{u.then(Pe)}};var Pe=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(y){M(y)}var p=qe;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}re=!1};function _e(){this.s=this.s,this.C=this.C}_e.prototype.s=!1,_e.prototype.ma=function(){this.s||(this.s=!0,this.N())},_e.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ge(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}Ge.prototype.h=function(){this.defaultPrevented=!0};var $=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};a.addEventListener("test",y,p),a.removeEventListener("test",y,p)}catch{}return u}();function Bt(u,p){if(Ge.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(j){e:{try{F(p.nodeName);var V=!0;break e}catch{}V=!1}V||(p=null)}}else y=="mouseover"?p=u.fromElement:y=="mouseout"&&(p=u.toElement);this.relatedTarget=p,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ht[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Bt.aa.h.call(this)}}S(Bt,Ge);var ht={2:"touch",3:"pen",4:"mouse"};Bt.prototype.h=function(){Bt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var It="closure_listenable_"+(1e6*Math.random()|0),In=0;function Ye(u,p,y,T,V){this.listener=u,this.proxy=null,this.src=p,this.type=y,this.capture=!!T,this.ha=V,this.key=++In,this.da=this.fa=!1}function zt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Cn(u){this.src=u,this.g={},this.h=0}Cn.prototype.add=function(u,p,y,T,V){var B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);var ee=yi(u,p,T,V);return-1<ee?(p=u[ee],y||(p.fa=!1)):(p=new Ye(p,this.src,B,!!T,V),p.fa=y,u.push(p)),p};function un(u,p){var y=p.type;if(y in u.g){var T=u.g[y],V=Array.prototype.indexOf.call(T,p,void 0),B;(B=0<=V)&&Array.prototype.splice.call(T,V,1),B&&(zt(p),u.g[y].length==0&&(delete u.g[y],u.h--))}}function yi(u,p,y,T){for(var V=0;V<u.length;++V){var B=u[V];if(!B.da&&B.listener==p&&B.capture==!!y&&B.ha==T)return V}return-1}var _r="closure_lm_"+(1e6*Math.random()|0),is={};function _i(u,p,y,T,V){if(T&&T.once)return U(u,p,y,T,V);if(Array.isArray(p)){for(var B=0;B<p.length;B++)_i(u,p[B],y,T,V);return null}return y=Xe(y),u&&u[It]?u.K(p,y,c(T)?!!T.capture:!!T,V):co(u,p,y,!1,T,V)}function co(u,p,y,T,V,B){if(!p)throw Error("Invalid event type");var ee=c(V)?!!V.capture:!!V,We=ae(u);if(We||(u[_r]=We=new Cn(u)),y=We.add(p,y,T,ee,B),y.proxy)return y;if(T=O(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)$||(V=ee),V===void 0&&(V=!1),u.addEventListener(p.toString(),T,V);else if(u.attachEvent)u.attachEvent(ne(p.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function O(){function u(y){return p.call(u.src,u.listener,y)}const p=Z;return u}function U(u,p,y,T,V){if(Array.isArray(p)){for(var B=0;B<p.length;B++)U(u,p[B],y,T,V);return null}return y=Xe(y),u&&u[It]?u.L(p,y,c(T)?!!T.capture:!!T,V):co(u,p,y,!0,T,V)}function z(u,p,y,T,V){if(Array.isArray(p))for(var B=0;B<p.length;B++)z(u,p[B],y,T,V);else T=c(T)?!!T.capture:!!T,y=Xe(y),u&&u[It]?(u=u.i,p=String(p).toString(),p in u.g&&(B=u.g[p],y=yi(B,y,T,V),-1<y&&(zt(B[y]),Array.prototype.splice.call(B,y,1),B.length==0&&(delete u.g[p],u.h--)))):u&&(u=ae(u))&&(p=u.g[p.toString()],u=-1,p&&(u=yi(p,y,T,V)),(y=-1<u?p[u]:null)&&G(y))}function G(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[It])un(p.i,u);else{var y=u.type,T=u.proxy;p.removeEventListener?p.removeEventListener(y,T,u.capture):p.detachEvent?p.detachEvent(ne(y),T):p.addListener&&p.removeListener&&p.removeListener(T),(y=ae(p))?(un(y,u),y.h==0&&(y.src=null,p[_r]=null)):zt(u)}}}function ne(u){return u in is?is[u]:is[u]="on"+u}function Z(u,p){if(u.da)u=!0;else{p=new Bt(p,this);var y=u.listener,T=u.ha||u.src;u.fa&&G(u),u=y.call(T,p)}return u}function ae(u){return u=u[_r],u instanceof Cn?u:null}var Te="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xe(u){return typeof u=="function"?u:(u[Te]||(u[Te]=function(p){return u.handleEvent(p)}),u[Te])}function Ne(){_e.call(this),this.i=new Cn(this),this.M=this,this.F=null}S(Ne,_e),Ne.prototype[It]=!0,Ne.prototype.removeEventListener=function(u,p,y,T){z(this,u,p,y,T)};function Je(u,p){var y,T=u.F;if(T)for(y=[];T;T=T.F)y.push(T);if(u=u.M,T=p.type||p,typeof p=="string")p=new Ge(p,u);else if(p instanceof Ge)p.target=p.target||u;else{var V=p;p=new Ge(T,u),N(p,V)}if(V=!0,y)for(var B=y.length-1;0<=B;B--){var ee=p.g=y[B];V=Jt(ee,T,!0,p)&&V}if(ee=p.g=u,V=Jt(ee,T,!0,p)&&V,V=Jt(ee,T,!1,p)&&V,y)for(B=0;B<y.length;B++)ee=p.g=y[B],V=Jt(ee,T,!1,p)&&V}Ne.prototype.N=function(){if(Ne.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var y=u.g[p],T=0;T<y.length;T++)zt(y[T]);delete u.g[p],u.h--}}this.F=null},Ne.prototype.K=function(u,p,y,T){return this.i.add(String(u),p,!1,y,T)},Ne.prototype.L=function(u,p,y,T){return this.i.add(String(u),p,!0,y,T)};function Jt(u,p,y,T){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var V=!0,B=0;B<p.length;++B){var ee=p[B];if(ee&&!ee.da&&ee.capture==y){var We=ee.listener,Ot=ee.ha||ee.src;ee.fa&&un(u.i,ee),V=We.call(Ot,T)!==!1&&V}}return V&&!T.defaultPrevented}function Gn(u,p,y){if(typeof u=="function")y&&(u=g(u,y));else if(u&&typeof u.handleEvent=="function")u=g(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function On(u){u.g=Gn(()=>{u.g=null,u.i&&(u.i=!1,On(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class ou extends _e{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:On(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sn(u){_e.call(this),this.h=u,this.g={}}S(Sn,_e);var $r=[];function ss(u){W(u.g,function(p,y){this.g.hasOwnProperty(y)&&G(p)},u),u.g={}}Sn.prototype.N=function(){Sn.aa.N.call(this),ss(this)},Sn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var os=a.JSON.stringify,au=a.JSON.parse,Wm=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function ho(){}ho.prototype.h=null;function ma(u){return u.h||(u.h=u.i())}function fo(){}var po={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zt(){Ge.call(this,"d")}S(Zt,Ge);function Kn(){Ge.call(this,"c")}S(Kn,Ge);var vi={},bn=null;function wi(){return bn=bn||new Ne}vi.La="serverreachability";function lu(u){Ge.call(this,vi.La,u)}S(lu,Ge);function as(u){const p=wi();Je(p,new lu(p))}vi.STAT_EVENT="statevent";function ke(u,p){Ge.call(this,vi.STAT_EVENT,u),this.stat=p}S(ke,Ge);function tt(u){const p=wi();Je(p,new ke(p,u))}vi.Ma="timingevent";function vr(u,p){Ge.call(this,vi.Ma,u),this.size=p}S(vr,Ge);function Qn(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function dt(){this.g=!0}dt.prototype.xa=function(){this.g=!1};function Wt(u,p,y,T,V,B){u.info(function(){if(u.g)if(B)for(var ee="",We=B.split("&"),Ot=0;Ot<We.length;Ot++){var Oe=We[Ot].split("=");if(1<Oe.length){var Dt=Oe[0];Oe=Oe[1];var Ht=Dt.split("_");ee=2<=Ht.length&&Ht[1]=="type"?ee+(Dt+"="+Oe+"&"):ee+(Dt+"=redacted&")}}else ee=null;else ee=B;return"XMLHTTP REQ ("+T+") [attempt "+V+"]: "+p+`
`+y+`
`+ee})}function uu(u,p,y,T,V,B,ee){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+V+"]: "+p+`
`+y+`
`+B+" "+ee})}function Ei(u,p,y,T){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+cn(u,y)+(T?" "+T:"")})}function mo(u,p){u.info(function(){return"TIMEOUT: "+p})}dt.prototype.info=function(){};function cn(u,p){if(!u.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var T=y[u];if(!(2>T.length)){var V=T[1];if(Array.isArray(V)&&!(1>V.length)){var B=V[0];if(B!="noop"&&B!="stop"&&B!="close")for(var ee=1;ee<V.length;ee++)V[ee]=""}}}}return os(y)}catch{return p}}var ga={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},cu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ya;function ls(){}S(ls,ho),ls.prototype.g=function(){return new XMLHttpRequest},ls.prototype.i=function(){return{}},ya=new ls;function jr(u,p,y,T){this.j=u,this.i=p,this.l=y,this.R=T||1,this.U=new Sn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new hu}function hu(){this.i=null,this.g="",this.h=!1}var Ah={},du={};function wr(u,p,y){u.L=1,u.v=Ci(Tr(p)),u.m=y,u.P=!0,xh(u,null)}function xh(u,p){u.F=Date.now(),_a(u),u.A=Tr(u.v);var y=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),jh(y.i,"t",T),u.C=0,y=u.j.J,u.h=new hu,u.g=Ai(u.j,y?p:null,!u.m),0<u.O&&(u.M=new ou(g(u.Y,u,u.g),u.O)),p=u.U,y=u.g,T=u.ca;var V="readystatechange";Array.isArray(V)||(V&&($r[0]=V.toString()),V=$r);for(var B=0;B<V.length;B++){var ee=_i(y,V[B],T||p.handleEvent,!1,p.h||p);if(!ee)break;p.g[ee.key]=ee}p=u.H?C(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),as(),Wt(u.i,u.u,u.A,u.l,u.R,u.m)}jr.prototype.ca=function(u){u=u.target;const p=this.M;p&&Ir(u)==3?p.j():this.Y(u)},jr.prototype.Y=function(u){try{if(u==this.g)e:{const Ht=Ir(this.g);var p=this.g.Ba();const Wr=this.g.Z();if(!(3>Ht)&&(Ht!=3||this.g&&(this.h.h||this.g.oa()||gu(this.g)))){this.J||Ht!=4||p==7||(p==8||0>=Wr?as(3):as(2)),go(this);var y=this.g.Z();this.X=y;t:if(Rh(this)){var T=gu(this.g);u="";var V=T.length,B=Ir(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ti(this),yo(this);var ee="";break t}this.h.i=new a.TextDecoder}for(p=0;p<V;p++)this.h.h=!0,u+=this.h.i.decode(T[p],{stream:!(B&&p==V-1)});T.length=0,this.h.g+=u,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=y==200,uu(this.i,this.u,this.A,this.l,this.R,Ht,y),this.o){if(this.T&&!this.K){t:{if(this.g){var We,Ot=this.g;if((We=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(We)){var Oe=We;break t}}Oe=null}if(y=Oe)Ei(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Er(this,y);else{this.o=!1,this.s=3,tt(12),Ti(this),yo(this);break e}}if(this.P){y=!0;let Dn;for(;!this.J&&this.C<ee.length;)if(Dn=Hm(this,ee),Dn==du){Ht==4&&(this.s=4,tt(14),y=!1),Ei(this.i,this.l,null,"[Incomplete Response]");break}else if(Dn==Ah){this.s=4,tt(15),Ei(this.i,this.l,ee,"[Invalid Chunk]"),y=!1;break}else Ei(this.i,this.l,Dn,null),Er(this,Dn);if(Rh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ht!=4||ee.length!=0||this.h.h||(this.s=1,tt(16),y=!1),this.o=this.o&&y,!y)Ei(this.i,this.l,ee,"[Invalid Chunked Response]"),Ti(this),yo(this);else if(0<ee.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),lr(Dt),Dt.M=!0,tt(11))}}else Ei(this.i,this.l,ee,null),Er(this,ee);Ht==4&&Ti(this),this.o&&!this.J&&(Ht==4?ms(this.j,this):(this.o=!1,_a(this)))}else Kh(this.g),y==400&&0<ee.indexOf("Unknown SID")?(this.s=3,tt(12)):(this.s=0,tt(13)),Ti(this),yo(this)}}}catch{}finally{}};function Rh(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Hm(u,p){var y=u.C,T=p.indexOf(`
`,y);return T==-1?du:(y=Number(p.substring(y,T)),isNaN(y)?Ah:(T+=1,T+y>p.length?du:(p=p.slice(T,T+y),u.C=T+y,p)))}jr.prototype.cancel=function(){this.J=!0,Ti(this)};function _a(u){u.S=Date.now()+u.I,Ph(u,u.I)}function Ph(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Qn(g(u.ba,u),p)}function go(u){u.B&&(a.clearTimeout(u.B),u.B=null)}jr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(mo(this.i,this.A),this.L!=2&&(as(),tt(17)),Ti(this),this.s=2,yo(this)):Ph(this,this.S-u)};function yo(u){u.j.G==0||u.J||ms(u.j,u)}function Ti(u){go(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,ss(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function Er(u,p){try{var y=u.j;if(y.G!=0&&(y.g==u||fu(y.h,u))){if(!u.K&&fu(y.h,u)&&y.G==3){try{var T=y.Da.g.parse(p)}catch{T=null}if(Array.isArray(T)&&T.length==3){var V=T;if(V[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)To(y),Ia(y);else break e;vu(y),tt(18)}}else y.za=V[1],0<y.za-y.T&&37500>V[2]&&y.F&&y.v==0&&!y.C&&(y.C=Qn(g(y.Za,y),6e3));if(1>=va(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else ki(y,11)}else if((u.K||y.g==u)&&To(y),!w(p))for(V=y.Da.g.parse(p),p=0;p<V.length;p++){let Oe=V[p];if(y.T=Oe[0],Oe=Oe[1],y.G==2)if(Oe[0]=="c"){y.K=Oe[1],y.ia=Oe[2];const Dt=Oe[3];Dt!=null&&(y.la=Dt,y.j.info("VER="+y.la));const Ht=Oe[4];Ht!=null&&(y.Aa=Ht,y.j.info("SVER="+y.Aa));const Wr=Oe[5];Wr!=null&&typeof Wr=="number"&&0<Wr&&(T=1.5*Wr,y.L=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const Dn=u.g;if(Dn){const Io=Dn.g?Dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Io){var B=T.h;B.g||Io.indexOf("spdy")==-1&&Io.indexOf("quic")==-1&&Io.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(pu(B,B.h),B.h=null))}if(T.D){const Co=Dn.g?Dn.g.getResponseHeader("X-HTTP-Session-Id"):null;Co&&(T.ya=Co,Qe(T.I,T.D,Co))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),T=y;var ee=u;if(T.qa=wu(T,T.J?T.ia:null,T.W),ee.K){Dh(T.h,ee);var We=ee,Ot=T.L;Ot&&(We.I=Ot),We.B&&(go(We),_a(We)),T.g=ee}else _u(T);0<y.i.length&&Ca(y)}else Oe[0]!="stop"&&Oe[0]!="close"||ki(y,7);else y.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?ki(y,7):yu(y):Oe[0]!="noop"&&y.l&&y.l.ta(Oe),y.v=0)}}as(4)}catch{}}var qm=class{constructor(u,p){this.g=u,this.map=p}};function Nh(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Oh(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function va(u){return u.h?1:u.g?u.g.size:0}function fu(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function pu(u,p){u.g?u.g.add(p):u.h=p}function Dh(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Nh.prototype.cancel=function(){if(this.i=Lh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Lh(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const y of u.g.values())p=p.concat(y.D);return p}return A(u.i)}function Gm(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var p=[],y=u.length,T=0;T<y;T++)p.push(u[T]);return p}p=[],y=0;for(T in u)p[y++]=u[T];return p}function Ke(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var p=[];u=u.length;for(var y=0;y<u;y++)p.push(y);return p}p=[],y=0;for(const T in u)p[y++]=T;return p}}}function Mh(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var y=Ke(u),T=Gm(u),V=T.length,B=0;B<V;B++)p.call(void 0,T[B],y&&y[B],u)}var Fh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Km(u,p){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var T=u[y].indexOf("="),V=null;if(0<=T){var B=u[y].substring(0,T);V=u[y].substring(T+1)}else B=u[y];p(B,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Ii(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ii){this.h=u.h,wa(this,u.j),this.o=u.o,this.g=u.g,us(this,u.s),this.l=u.l;var p=u.i,y=new hs;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),cs(this,y),this.m=u.m}else u&&(p=String(u).match(Fh))?(this.h=!1,wa(this,p[1]||"",!0),this.o=Ze(p[2]||""),this.g=Ze(p[3]||"",!0),us(this,p[4]),this.l=Ze(p[5]||"",!0),cs(this,p[6]||"",!0),this.m=Ze(p[7]||"")):(this.h=!1,this.i=new hs(null,this.h))}Ii.prototype.toString=function(){var u=[],p=this.j;p&&u.push(_o(p,Vh,!0),":");var y=this.g;return(y||p=="file")&&(u.push("//"),(p=this.o)&&u.push(_o(p,Vh,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(_o(y,y.charAt(0)=="/"?Ym:Uh,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",_o(y,Jm)),u.join("")};function Tr(u){return new Ii(u)}function wa(u,p,y){u.j=y?Ze(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function us(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function cs(u,p,y){p instanceof hs?(u.i=p,Zm(u.i,u.h)):(y||(p=_o(p,Xm)),u.i=new hs(p,u.h))}function Qe(u,p,y){u.i.set(p,y)}function Ci(u){return Qe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ze(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function _o(u,p,y){return typeof u=="string"?(u=encodeURI(u).replace(p,Qm),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Qm(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Vh=/[#\/\?@]/g,Uh=/[#\?:]/g,Ym=/[#\?]/g,Xm=/[#\?@]/g,Jm=/#/g;function hs(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Br(u){u.g||(u.g=new Map,u.h=0,u.i&&Km(u.i,function(p,y){u.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}t=hs.prototype,t.add=function(u,p){Br(this),this.i=null,u=ds(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(p),this.h+=1,this};function mu(u,p){Br(u),p=ds(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function $h(u,p){return Br(u),p=ds(u,p),u.g.has(p)}t.forEach=function(u,p){Br(this),this.g.forEach(function(y,T){y.forEach(function(V){u.call(p,V,T,this)},this)},this)},t.na=function(){Br(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let T=0;T<p.length;T++){const V=u[T];for(let B=0;B<V.length;B++)y.push(p[T])}return y},t.V=function(u){Br(this);let p=[];if(typeof u=="string")$h(this,u)&&(p=p.concat(this.g.get(ds(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)p=p.concat(u[y])}return p},t.set=function(u,p){return Br(this),this.i=null,u=ds(this,u),$h(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function jh(u,p,y){mu(u,p),0<y.length&&(u.i=null,u.g.set(ds(u,p),A(y)),u.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var T=p[y];const B=encodeURIComponent(String(T)),ee=this.V(T);for(T=0;T<ee.length;T++){var V=B;ee[T]!==""&&(V+="="+encodeURIComponent(String(ee[T]))),u.push(V)}}return this.i=u.join("&")};function ds(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function Zm(u,p){p&&!u.j&&(Br(u),u.i=null,u.g.forEach(function(y,T){var V=T.toLowerCase();T!=V&&(mu(this,T),jh(this,V,y))},u)),u.j=p}function eg(u,p){const y=new dt;if(a.Image){const T=new Image;T.onload=E(zr,y,"TestLoadImage: loaded",!0,p,T),T.onerror=E(zr,y,"TestLoadImage: error",!1,p,T),T.onabort=E(zr,y,"TestLoadImage: abort",!1,p,T),T.ontimeout=E(zr,y,"TestLoadImage: timeout",!1,p,T),a.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else p(!1)}function tg(u,p){const y=new dt,T=new AbortController,V=setTimeout(()=>{T.abort(),zr(y,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(V),B.ok?zr(y,"TestPingServer: ok",!0,p):zr(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(V),zr(y,"TestPingServer: error",!1,p)})}function zr(u,p,y,T,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),T(y)}catch{}}function Bh(){this.g=new Wm}function ng(u,p,y){const T=y||"";try{Mh(u,function(V,B){let ee=V;c(V)&&(ee=os(V)),p.push(T+B+"="+encodeURIComponent(ee))})}catch(V){throw p.push(T+"type="+encodeURIComponent("_badmap")),V}}function fs(u){this.l=u.Ub||null,this.j=u.eb||!1}S(fs,ho),fs.prototype.g=function(){return new Ea(this.l,this.j)},fs.prototype.i=function(u){return function(){return u}}({});function Ea(u,p){Ne.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Ea,Ne),t=Ea.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,ps(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ar(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ps(this)),this.g&&(this.readyState=3,ps(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zh(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function zh(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?ar(this):ps(this),this.readyState==3&&zh(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,ar(this))},t.Qa=function(u){this.g&&(this.response=u,ar(this))},t.ga=function(){this.g&&ar(this)};function ar(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ps(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=p.next();return u.join(`\r
`)};function ps(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ea.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Wh(u){let p="";return W(u,function(y,T){p+=T,p+=":",p+=y,p+=`\r
`}),p}function vo(u,p,y){e:{for(T in y){var T=!1;break e}T=!0}T||(y=Wh(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Qe(u,p,y))}function st(u){Ne.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(st,Ne);var rg=/^https?$/i,ig=["POST","PUT"];t=st.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ya.g(),this.v=this.o?ma(this.o):ma(ya),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(B){Hh(this,B);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var V in T)y.set(V,T[V]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())y.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(B=>B.toLowerCase()=="content-type"),V=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ig,p,void 0))||T||V||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ee]of y)this.g.setRequestHeader(B,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Si(this),this.u=!0,this.g.send(u),this.u=!1}catch(B){Hh(this,B)}};function Hh(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,qh(u),Ta(u)}function qh(u){u.A||(u.A=!0,Je(u,"complete"),Je(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Je(this,"complete"),Je(this,"abort"),Ta(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ta(this,!0)),st.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Gh(this):this.bb())},t.bb=function(){Gh(this)};function Gh(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Ir(u)!=4||u.Z()!=2)){if(u.u&&Ir(u)==4)Gn(u.Ea,0,u);else if(Je(u,"readystatechange"),Ir(u)==4){u.h=!1;try{const ee=u.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var T;if(T=ee===0){var V=String(u.D).match(Fh)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),T=!rg.test(V?V.toLowerCase():"")}y=T}if(y)Je(u,"complete"),Je(u,"success");else{u.m=6;try{var B=2<Ir(u)?u.g.statusText:""}catch{B=""}u.l=B+" ["+u.Z()+"]",qh(u)}}finally{Ta(u)}}}}function Ta(u,p){if(u.g){Si(u);const y=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||Je(u,"ready");try{y.onreadystatechange=T}catch{}}}function Si(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Ir(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Ir(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),au(p)}};function gu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Kh(u){const p={};u=(u.g&&2<=Ir(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var y=L(u[T]);const V=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const B=p[V]||[];p[V]=B,B.push(y)}I(p,function(T){return T.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wo(u,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||p}function Qh(u){this.Aa=0,this.i=[],this.j=new dt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wo("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wo("baseRetryDelayMs",5e3,u),this.cb=wo("retryDelaySeedMs",1e4,u),this.Wa=wo("forwardChannelMaxRetries",2,u),this.wa=wo("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Nh(u&&u.concurrentRequestLimit),this.Da=new Bh,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Qh.prototype,t.la=8,t.G=1,t.connect=function(u,p,y,T){tt(0),this.W=u,this.H=p||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.I=wu(this,null,this.W),Ca(this)};function yu(u){if(Yh(u),u.G==3){var p=u.U++,y=Tr(u.I);if(Qe(y,"SID",u.K),Qe(y,"RID",p),Qe(y,"TYPE","terminate"),Eo(u,y),p=new jr(u,u.j,p),p.L=2,p.v=Ci(Tr(y)),y=!1,a.navigator&&a.navigator.sendBeacon)try{y=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&a.Image&&(new Image().src=p.v,y=!0),y||(p.g=Ai(p.j,null),p.g.ea(p.v)),p.F=Date.now(),_a(p)}ed(u)}function Ia(u){u.g&&(lr(u),u.g.cancel(),u.g=null)}function Yh(u){Ia(u),u.u&&(a.clearTimeout(u.u),u.u=null),To(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Ca(u){if(!Oh(u.h)&&!u.s){u.s=!0;var p=u.Ga;je||ue(),re||(je(),re=!0),K.add(p,u),u.B=0}}function sg(u,p){return va(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Qn(g(u.Ga,u,p),Zh(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const V=new jr(this,this.j,u);let B=this.o;if(this.S&&(B?(B=C(B),N(B,this.S)):B=this.S),this.m!==null||this.O||(V.H=B,B=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(p+=T,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=Xh(this,V,p),y=Tr(this.I),Qe(y,"RID",u),Qe(y,"CVER",22),this.D&&Qe(y,"X-HTTP-Session-Id",this.D),Eo(this,y),B&&(this.O?p="headers="+encodeURIComponent(String(Wh(B)))+"&"+p:this.m&&vo(y,this.m,B)),pu(this.h,V),this.Ua&&Qe(y,"TYPE","init"),this.P?(Qe(y,"$req",p),Qe(y,"SID","null"),V.T=!0,wr(V,y,null)):wr(V,y,p),this.G=2}}else this.G==3&&(u?bi(this,u):this.i.length==0||Oh(this.h)||bi(this))};function bi(u,p){var y;p?y=p.l:y=u.U++;const T=Tr(u.I);Qe(T,"SID",u.K),Qe(T,"RID",y),Qe(T,"AID",u.T),Eo(u,T),u.m&&u.o&&vo(T,u.m,u.o),y=new jr(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),p&&(u.i=p.D.concat(u.i)),p=Xh(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),pu(u.h,y),wr(y,T,p)}function Eo(u,p){u.H&&W(u.H,function(y,T){Qe(p,T,y)}),u.l&&Mh({},function(y,T){Qe(p,T,y)})}function Xh(u,p,y){y=Math.min(u.i.length,y);var T=u.l?g(u.l.Na,u.l,u):null;e:{var V=u.i;let B=-1;for(;;){const ee=["count="+y];B==-1?0<y?(B=V[0].g,ee.push("ofs="+B)):B=0:ee.push("ofs="+B);let We=!0;for(let Ot=0;Ot<y;Ot++){let Oe=V[Ot].g;const Dt=V[Ot].map;if(Oe-=B,0>Oe)B=Math.max(0,V[Ot].g-100),We=!1;else try{ng(Dt,ee,"req"+Oe+"_")}catch{T&&T(Dt)}}if(We){T=ee.join("&");break e}}}return u=u.i.splice(0,y),p.D=u,T}function _u(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;je||ue(),re||(je(),re=!0),K.add(p,u),u.v=0}}function vu(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Qn(g(u.Fa,u),Zh(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Jh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Qn(g(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,tt(10),Ia(this),Jh(this))};function lr(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Jh(u){u.g=new jr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=Tr(u.qa);Qe(p,"RID","rpc"),Qe(p,"SID",u.K),Qe(p,"AID",u.T),Qe(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qe(p,"TO",u.ja),Qe(p,"TYPE","xmlhttp"),Eo(u,p),u.m&&u.o&&vo(p,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=Ci(Tr(p)),y.m=null,y.P=!0,xh(y,u)}t.Za=function(){this.C!=null&&(this.C=null,Ia(this),vu(this),tt(19))};function To(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function ms(u,p){var y=null;if(u.g==p){To(u),lr(u),u.g=null;var T=2}else if(fu(u.h,p))y=p.D,Dh(u.h,p),T=1;else return;if(u.G!=0){if(p.o)if(T==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var V=u.B;T=wi(),Je(T,new vr(T,y)),Ca(u)}else _u(u);else if(V=p.s,V==3||V==0&&0<p.X||!(T==1&&sg(u,p)||T==2&&vu(u)))switch(y&&0<y.length&&(p=u.h,p.i=p.i.concat(y)),V){case 1:ki(u,5);break;case 4:ki(u,10);break;case 3:ki(u,6);break;default:ki(u,2)}}}function Zh(u,p){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*p}function ki(u,p){if(u.j.info("Error code "+p),p==2){var y=g(u.fb,u),T=u.Xa;const V=!T;T=new Ii(T||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||wa(T,"https"),Ci(T),V?eg(T.toString(),y):tg(T.toString(),y)}else tt(2);u.G=0,u.l&&u.l.sa(p),ed(u),Yh(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),tt(2)):(this.j.info("Failed to ping google.com"),tt(1))};function ed(u){if(u.G=0,u.ka=[],u.l){const p=Lh(u.h);(p.length!=0||u.i.length!=0)&&(D(u.ka,p),D(u.ka,u.i),u.h.i.length=0,A(u.i),u.i.length=0),u.l.ra()}}function wu(u,p,y){var T=y instanceof Ii?Tr(y):new Ii(y);if(T.g!="")p&&(T.g=p+"."+T.g),us(T,T.s);else{var V=a.location;T=V.protocol,p=p?p+"."+V.hostname:V.hostname,V=+V.port;var B=new Ii(null);T&&wa(B,T),p&&(B.g=p),V&&us(B,V),y&&(B.l=y),T=B}return y=u.D,p=u.ya,y&&p&&Qe(T,y,p),Qe(T,"VER",u.la),Eo(u,T),T}function Ai(u,p,y){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new st(new fs({eb:y})):new st(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function td(){}t=td.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Sa(){}Sa.prototype.g=function(u,p){return new kn(u,p)};function kn(u,p){Ne.call(this),this.g=new Qh(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!w(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!w(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new gs(this)}S(kn,Ne),kn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},kn.prototype.close=function(){yu(this.g)},kn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=os(u),u=y);p.i.push(new qm(p.Ya++,u)),p.G==3&&Ca(p)},kn.prototype.N=function(){this.g.l=null,delete this.j,yu(this.g),delete this.g,kn.aa.N.call(this)};function nd(u){Zt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const y in p){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}S(nd,Zt);function rd(){Kn.call(this),this.status=1}S(rd,Kn);function gs(u){this.g=u}S(gs,td),gs.prototype.ua=function(){Je(this.g,"a")},gs.prototype.ta=function(u){Je(this.g,new nd(u))},gs.prototype.sa=function(u){Je(this.g,new rd)},gs.prototype.ra=function(){Je(this.g,"b")},Sa.prototype.createWebChannel=Sa.prototype.g,kn.prototype.send=kn.prototype.o,kn.prototype.open=kn.prototype.m,kn.prototype.close=kn.prototype.close,Ix=function(){return new Sa},Tx=function(){return wi()},Ex=vi,Y_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ga.NO_ERROR=0,ga.TIMEOUT=8,ga.HTTP_ERROR=6,pf=ga,cu.COMPLETE="complete",wx=cu,fo.EventType=po,po.OPEN="a",po.CLOSE="b",po.ERROR="c",po.MESSAGE="d",Ne.prototype.listen=Ne.prototype.K,Hu=fo,vx=fs,st.prototype.listenOnce=st.prototype.L,st.prototype.getLastError=st.prototype.Ka,st.prototype.getLastErrorCode=st.prototype.Ba,st.prototype.getStatus=st.prototype.Z,st.prototype.getResponseJson=st.prototype.Oa,st.prototype.getResponseText=st.prototype.oa,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Ha,_x=st}).apply(typeof Dd<"u"?Dd:typeof self<"u"?self:typeof window<"u"?window:{});const jI="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ru="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new mm("@firebase/firestore");function Mu(){return ra.logLevel}function le(t,...e){if(ra.logLevel<=Ae.DEBUG){const n=e.map(kw);ra.debug(`Firestore (${ru}): ${t}`,...n)}}function Yi(t,...e){if(ra.logLevel<=Ae.ERROR){const n=e.map(kw);ra.error(`Firestore (${ru}): ${t}`,...n)}}function Dl(t,...e){if(ra.logLevel<=Ae.WARN){const n=e.map(kw);ra.warn(`Firestore (${ru}): ${t}`,...n)}}function kw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(t="Unexpected state"){const e=`FIRESTORE (${ru}) INTERNAL ASSERTION FAILED: `+t;throw Yi(e),new Error(e)}function it(t,e){t||pe()}function ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends mi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(mn.UNAUTHENTICATED))}shutdown(){}}class oj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class aj{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Qs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Qs,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Qs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(it(typeof r.accessToken=="string"),new Cx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string"),new mn(e)}}class lj{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class uj{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new lj(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hj{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,le("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(it(typeof n.token=="string"),this.R=n.token,new cj(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=dj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ue(t,e){return t<e?-1:t>e?1:0}function Ll(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ce(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $t.fromMillis(Date.now())}static fromDate(e){return $t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new $t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new me(e)}static min(){return new me(new $t(0,0))}static max(){return new me(new $t(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n,r){n===void 0?n=0:n>e.length&&pe(),r===void 0?r=e.length-n:r>e.length-n&&pe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Kc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Kc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Et extends Kc{construct(e,n,r){return new Et(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Et(n)}static emptyPath(){return new Et([])}}const fj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Kc{construct(e,n,r){return new rn(e,n,r)}static isValidIdentifier(e){return fj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new rn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ce(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ce(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ce(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ce(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(n)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.path=e}static fromPath(e){return new he(Et.fromString(e))}static fromName(e){return new he(Et.fromString(e).popFirst(5))}static empty(){return new he(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new Et(e.slice()))}}function pj(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=me.fromTimestamp(r===1e9?new $t(n+1,0):new $t(n,r));return new to(i,he.empty(),e)}function mj(t){return new to(t.readTime,t.key,-1)}class to{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new to(me.min(),he.empty(),-1)}static max(){return new to(me.max(),he.empty(),-1)}}function gj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=he.comparator(t.documentKey,e.documentKey),n!==0?n:Ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _j{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eh(t){if(t.code!==Y.FAILED_PRECONDITION||t.message!==yj)throw t;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,r)=>{n(e)})}static reject(e){return new Q((n,r)=>{r(e)})}static waitFor(e){return new Q((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next(i=>i?Q.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Q((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new Q((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function vj(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Th(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Aw.oe=-1;function Am(t){return t==null}function kp(t){return t===0&&1/t==-1/0}function wj(t){return typeof t=="number"&&Number.isInteger(t)&&!kp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function bx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n){this.comparator=e,this.root=n||tn.EMPTY}insert(e,n){return new _t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ld(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ld(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ld(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ld(this.root,e,this.comparator,!0)}}class Ld{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??tn.RED,this.left=i??tn.EMPTY,this.right=s??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new tn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return tn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pe();const e=this.left.check();if(e!==this.right.check())throw pe();return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw pe()}get value(){throw pe()}get color(){throw pe()}get left(){throw pe()}get right(){throw pe()}copy(e,n,r,i,s){return this}insert(e,n,r){return new tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new zI(this.data.getIterator())}getIteratorFrom(e){return new zI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof on)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new on(this.comparator);return n.data=e,n}}class zI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new er([])}unionWith(e){let n=new on(rn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new er(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ll(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new kx("Invalid base64 string: "+s):s}}(e);return new Tn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tn.EMPTY_BYTE_STRING=new Tn("");const Ej=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function no(t){if(it(!!t),typeof t=="string"){let e=0;const n=Ej.exec(t);if(it(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xt(t.seconds),nanos:xt(t.nanos)}}function xt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ia(t){return typeof t=="string"?Tn.fromBase64String(t):Tn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Rw(t){const e=t.mapValue.fields.__previous_value__;return xw(e)?Rw(e):e}function Qc(t){const e=no(t.mapValue.fields.__local_write_time__.timestampValue);return new $t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Yc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Yc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Yc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function sa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?xw(t)?4:Ij(t)?9007199254740991:10:pe()}function di(t,e){if(t===e)return!0;const n=sa(t);if(n!==sa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qc(t).isEqual(Qc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=no(i.timestampValue),a=no(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ia(i.bytesValue).isEqual(ia(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return xt(i.geoPointValue.latitude)===xt(s.geoPointValue.latitude)&&xt(i.geoPointValue.longitude)===xt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return xt(i.integerValue)===xt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=xt(i.doubleValue),a=xt(s.doubleValue);return o===a?kp(o)===kp(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ll(t.arrayValue.values||[],e.arrayValue.values||[],di);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(BI(o)!==BI(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!di(o[l],a[l])))return!1;return!0}(t,e);default:return pe()}}function Xc(t,e){return(t.values||[]).find(n=>di(n,e))!==void 0}function Ml(t,e){if(t===e)return 0;const n=sa(t),r=sa(e);if(n!==r)return Ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=xt(s.integerValue||s.doubleValue),l=xt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return WI(t.timestampValue,e.timestampValue);case 4:return WI(Qc(t),Qc(e));case 5:return Ue(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ia(s),l=ia(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=Ue(a[c],l[c]);if(d!==0)return d}return Ue(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ue(xt(s.latitude),xt(o.latitude));return a!==0?a:Ue(xt(s.longitude),xt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const d=Ml(a[c],l[c]);if(d)return d}return Ue(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Md.mapValue&&o===Md.mapValue)return 0;if(s===Md.mapValue)return 1;if(o===Md.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let m=0;m<l.length&&m<d.length;++m){const g=Ue(l[m],d[m]);if(g!==0)return g;const E=Ml(a[l[m]],c[d[m]]);if(E!==0)return E}return Ue(l.length,d.length)}(t.mapValue,e.mapValue);default:throw pe()}}function WI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ue(t,e);const n=no(t),r=no(e),i=Ue(n.seconds,r.seconds);return i!==0?i:Ue(n.nanos,r.nanos)}function Fl(t){return X_(t)}function X_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=no(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ia(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return he.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=X_(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${X_(n.fields[o])}`;return i+"}"}(t.mapValue):pe()}function J_(t){return!!t&&"integerValue"in t}function Pw(t){return!!t&&"arrayValue"in t}function HI(t){return!!t&&"nullValue"in t}function qI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function mf(t){return!!t&&"mapValue"in t}function hc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return fa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=hc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=hc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Ij(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.value=e}static empty(){return new Vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!mf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=hc(n)}setAll(e){let n=rn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=hc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());mf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return di(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];mf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){fa(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Vn(hc(this.value))}}function Ax(t){const e=[];return fa(t.fields,(n,r)=>{const i=new rn([n]);if(mf(r)){const s=Ax(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new er(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new vn(e,0,me.min(),me.min(),me.min(),Vn.empty(),0)}static newFoundDocument(e,n,r,i){return new vn(e,1,n,me.min(),r,i,0)}static newNoDocument(e,n){return new vn(e,2,n,me.min(),me.min(),Vn.empty(),0)}static newUnknownDocument(e,n){return new vn(e,3,n,me.min(),me.min(),Vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,n){this.position=e,this.inclusive=n}}function GI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=he.comparator(he.fromName(o.referenceValue),n.key):r=Ml(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function KI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!di(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n="asc"){this.field=e,this.dir=n}}function Cj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{}class Vt extends xx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new bj(e,n,r):n==="array-contains"?new xj(e,r):n==="in"?new Rj(e,r):n==="not-in"?new Pj(e,r):n==="array-contains-any"?new Nj(e,r):new Vt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new kj(e,r):new Aj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ml(n,this.value)):n!==null&&sa(this.value)===sa(n)&&this.matchesComparison(Ml(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fi extends xx{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new fi(e,n)}matches(e){return Rx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Rx(t){return t.op==="and"}function Px(t){return Sj(t)&&Rx(t)}function Sj(t){for(const e of t.filters)if(e instanceof fi)return!1;return!0}function Z_(t){if(t instanceof Vt)return t.field.canonicalString()+t.op.toString()+Fl(t.value);if(Px(t))return t.filters.map(e=>Z_(e)).join(",");{const e=t.filters.map(n=>Z_(n)).join(",");return`${t.op}(${e})`}}function Nx(t,e){return t instanceof Vt?function(r,i){return i instanceof Vt&&r.op===i.op&&r.field.isEqual(i.field)&&di(r.value,i.value)}(t,e):t instanceof fi?function(r,i){return i instanceof fi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Nx(o,i.filters[a]),!0):!1}(t,e):void pe()}function Ox(t){return t instanceof Vt?function(n){return`${n.field.canonicalString()} ${n.op} ${Fl(n.value)}`}(t):t instanceof fi?function(n){return n.op.toString()+" {"+n.getFilters().map(Ox).join(" ,")+"}"}(t):"Filter"}class bj extends Vt{constructor(e,n,r){super(e,n,r),this.key=he.fromName(r.referenceValue)}matches(e){const n=he.comparator(e.key,this.key);return this.matchesComparison(n)}}class kj extends Vt{constructor(e,n){super(e,"in",n),this.keys=Dx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Aj extends Vt{constructor(e,n){super(e,"not-in",n),this.keys=Dx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Dx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>he.fromName(r.referenceValue))}class xj extends Vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Pw(n)&&Xc(n.arrayValue,this.value)}}class Rj extends Vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xc(this.value.arrayValue,n)}}class Pj extends Vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Xc(this.value.arrayValue,n)}}class Nj extends Vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Pw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Xc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function QI(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Oj(t,e,n,r,i,s,o)}function Nw(t){const e=ye(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Z_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Am(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Fl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Fl(r)).join(",")),e.ue=n}return e.ue}function Ow(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Cj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Nx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!KI(t.startAt,e.startAt)&&KI(t.endAt,e.endAt)}function ev(t){return he.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Dj(t,e,n,r,i,s,o,a){return new xm(t,e,n,r,i,s,o,a)}function Rm(t){return new xm(t)}function YI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Lj(t){return t.collectionGroup!==null}function dc(t){const e=ye(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new on(rn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new xp(s,r))}),n.has(rn.keyField().canonicalString())||e.ce.push(new xp(rn.keyField(),r))}return e.ce}function ai(t){const e=ye(t);return e.le||(e.le=Mj(e,dc(t))),e.le}function Mj(t,e){if(t.limitType==="F")return QI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new xp(i.field,s)});const n=t.endAt?new Ap(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ap(t.startAt.position,t.startAt.inclusive):null;return QI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function tv(t,e,n){return new xm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Pm(t,e){return Ow(ai(t),ai(e))&&t.limitType===e.limitType}function Lx(t){return`${Nw(ai(t))}|lt:${t.limitType}`}function Na(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Ox(i)).join(", ")}]`),Am(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Fl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Fl(i)).join(",")),`Target(${r})`}(ai(t))}; limitType=${t.limitType})`}function Nm(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):he.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of dc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=GI(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,dc(r),i)||r.endAt&&!function(o,a,l){const c=GI(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,dc(r),i))}(t,e)}function Fj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Mx(t){return(e,n)=>{let r=!1;for(const i of dc(t)){const s=Vj(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Vj(t,e,n){const r=t.field.isKeyField()?he.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Ml(l,c):pe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){fa(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return bx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj=new _t(he.comparator);function Xi(){return Uj}const Fx=new _t(he.comparator);function qu(...t){let e=Fx;for(const n of t)e=e.insert(n.key,n);return e}function Vx(t){let e=Fx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Vo(){return fc()}function Ux(){return fc()}function fc(){return new iu(t=>t.toString(),(t,e)=>t.isEqual(e))}const $j=new _t(he.comparator),jj=new on(he.comparator);function xe(...t){let e=jj;for(const n of t)e=e.add(n);return e}const Bj=new on(Ue);function zj(){return Bj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kp(e)?"-0":e}}function jx(t){return{integerValue:""+t}}function Wj(t,e){return wj(e)?jx(e):$x(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(){this._=void 0}}function Hj(t,e,n){return t instanceof Rp?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&xw(s)&&(s=Rw(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Vl?zx(t,e):t instanceof Jc?Wx(t,e):function(i,s){const o=Bx(i,s),a=XI(o)+XI(i.Pe);return J_(o)&&J_(i.Pe)?jx(a):$x(i.serializer,a)}(t,e)}function qj(t,e,n){return t instanceof Vl?zx(t,e):t instanceof Jc?Wx(t,e):n}function Bx(t,e){return t instanceof Pp?function(r){return J_(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Rp extends Om{}class Vl extends Om{constructor(e){super(),this.elements=e}}function zx(t,e){const n=Hx(e);for(const r of t.elements)n.some(i=>di(i,r))||n.push(r);return{arrayValue:{values:n}}}class Jc extends Om{constructor(e){super(),this.elements=e}}function Wx(t,e){let n=Hx(e);for(const r of t.elements)n=n.filter(i=>!di(i,r));return{arrayValue:{values:n}}}class Pp extends Om{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function XI(t){return xt(t.integerValue||t.doubleValue)}function Hx(t){return Pw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(e,n){this.field=e,this.transform=n}}function Kj(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Vl&&i instanceof Vl||r instanceof Jc&&i instanceof Jc?Ll(r.elements,i.elements,di):r instanceof Pp&&i instanceof Pp?di(r.Pe,i.Pe):r instanceof Rp&&i instanceof Rp}(t.transform,e.transform)}class Qj{constructor(e,n){this.version=e,this.transformResults=n}}class li{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new li}static exists(e){return new li(void 0,e)}static updateTime(e){return new li(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Dm{}function qx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Kx(t.key,li.none()):new Ih(t.key,t.data,li.none());{const n=t.data,r=Vn.empty();let i=new on(rn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new uo(t.key,r,new er(i.toArray()),li.none())}}function Yj(t,e,n){t instanceof Ih?function(i,s,o){const a=i.value.clone(),l=ZI(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof uo?function(i,s,o){if(!gf(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=ZI(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(Gx(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function pc(t,e,n,r){return t instanceof Ih?function(s,o,a,l){if(!gf(s.precondition,o))return a;const c=s.value.clone(),d=eC(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof uo?function(s,o,a,l){if(!gf(s.precondition,o))return a;const c=eC(s.fieldTransforms,l,o),d=o.data;return d.setAll(Gx(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(s,o,a){return gf(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Xj(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Bx(r.transform,i||null);s!=null&&(n===null&&(n=Vn.empty()),n.set(r.field,s))}return n||null}function JI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ll(r,i,(s,o)=>Kj(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ih extends Dm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class uo extends Dm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Gx(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function ZI(t,e,n){const r=new Map;it(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,qj(o,a,n[i]))}return r}function eC(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Hj(s,o,e))}return r}class Kx extends Dm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Jj extends Dm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Yj(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=pc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=pc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Ux();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=qx(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xe())}isEqual(e){return this.batchId===e.batchId&&Ll(this.mutations,e.mutations,(n,r)=>JI(n,r))&&Ll(this.baseMutations,e.baseMutations,(n,r)=>JI(n,r))}}class Dw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){it(e.mutations.length===r.length);let i=function(){return $j}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Dw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,De;function nB(t){switch(t){default:return pe();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}function Qx(t){if(t===void 0)return Yi("GRPC error has no .code"),Y.UNKNOWN;switch(t){case At.OK:return Y.OK;case At.CANCELLED:return Y.CANCELLED;case At.UNKNOWN:return Y.UNKNOWN;case At.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case At.INTERNAL:return Y.INTERNAL;case At.UNAVAILABLE:return Y.UNAVAILABLE;case At.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case At.NOT_FOUND:return Y.NOT_FOUND;case At.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case At.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case At.ABORTED:return Y.ABORTED;case At.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case At.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case At.DATA_LOSS:return Y.DATA_LOSS;default:return pe()}}(De=At||(At={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rB(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iB=new Wo([4294967295,4294967295],0);function tC(t){const e=rB().encode(t),n=new yx;return n.update(e),new Uint8Array(n.digest())}function nC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Wo([n,r],0),new Wo([i,s],0)]}class Lw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Gu(`Invalid padding: ${n}`);if(r<0)throw new Gu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Gu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Gu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Wo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Wo.fromNumber(r)));return i.compare(iB)===1&&(i=new Wo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=tC(e),[r,i]=nC(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Lw(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=tC(e),[r,i]=nC(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Gu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ch.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Lm(me.min(),i,new _t(Ue),Xi(),xe())}}class Ch{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ch(r,n,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class Yx{constructor(e,n){this.targetId=e,this.me=n}}class Xx{constructor(e,n,r=Tn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class rC{constructor(){this.fe=0,this.ge=sC(),this.pe=Tn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=xe(),n=xe(),r=xe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:pe()}}),new Ch(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=sC()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,it(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class sB{constructor(e){this.Le=e,this.Be=new Map,this.ke=Xi(),this.qe=iC(),this.Qe=new _t(Ue)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:pe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(ev(s))if(r===0){const o=new he(s.path);this.Ue(n,o,vn.newNoDocument(o,me.min()))}else it(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ia(r).toUint8Array()}catch(l){if(l instanceof kx)return Dl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Lw(o,i,s)}catch(l){return Dl(l instanceof Gu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&ev(a.target)){const l=new he(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,vn.newNoDocument(l,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=xe();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Lm(e,n,this.Qe,this.ke,r);return this.ke=Xi(),this.qe=iC(),this.Qe=new _t(Ue),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new rC,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new on(Ue),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new rC),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function iC(){return new _t(he.comparator)}function sC(){return new _t(he.comparator)}const oB=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),aB=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),lB=(()=>({and:"AND",or:"OR"}))();class uB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function nv(t,e){return t.useProto3Json||Am(e)?e:{value:e}}function Np(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Jx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function cB(t,e){return Np(t,e.toTimestamp())}function ui(t){return it(!!t),me.fromTimestamp(function(n){const r=no(n);return new $t(r.seconds,r.nanos)}(t))}function Mw(t,e){return rv(t,e).canonicalString()}function rv(t,e){const n=function(i){return new Et(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Zx(t){const e=Et.fromString(t);return it(iR(e)),e}function iv(t,e){return Mw(t.databaseId,e.path)}function ay(t,e){const n=Zx(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new he(tR(n))}function eR(t,e){return Mw(t.databaseId,e)}function hB(t){const e=Zx(t);return e.length===4?Et.emptyPath():tR(e)}function sv(t){return new Et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function tR(t){return it(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function oC(t,e,n){return{name:iv(t,e),fields:n.value.mapValue.fields}}function dB(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:pe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(it(d===void 0||typeof d=="string"),Tn.fromBase64String(d||"")):(it(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Tn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?Y.UNKNOWN:Qx(c.code);return new ce(d,c.message||"")}(o);n=new Xx(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ay(t,r.document.name),s=ui(r.document.updateTime),o=r.document.createTime?ui(r.document.createTime):me.min(),a=new Vn({mapValue:{fields:r.document.fields}}),l=vn.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new yf(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ay(t,r.document),s=r.readTime?ui(r.readTime):me.min(),o=vn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new yf([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ay(t,r.document),s=r.removedTargetIds||[];n=new yf([],s,i,null)}else{if(!("filter"in e))return pe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new tB(i,s),a=r.targetId;n=new Yx(a,o)}}return n}function fB(t,e){let n;if(e instanceof Ih)n={update:oC(t,e.key,e.value)};else if(e instanceof Kx)n={delete:iv(t,e.key)};else if(e instanceof uo)n={update:oC(t,e.key,e.data),updateMask:TB(e.fieldMask)};else{if(!(e instanceof Jj))return pe();n={verify:iv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Rp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Vl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Jc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Pp)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw pe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:cB(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:pe()}(t,e.precondition)),n}function pB(t,e){return t&&t.length>0?(it(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?ui(i.updateTime):ui(s);return o.isEqual(me.min())&&(o=ui(s)),new Qj(o,i.transformResults||[])}(n,e))):[]}function mB(t,e){return{documents:[eR(t,e.path)]}}function gB(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=eR(t,i);const s=function(c){if(c.length!==0)return rR(fi.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(g){return{field:Oa(g.field),direction:vB(g.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=nv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function yB(t){let e=hB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){it(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(m){const g=nR(m);return g instanceof fi&&Px(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(g=>function(S){return new xp(Da(S.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(m){let g;return g=typeof m=="object"?m.value:m,Am(g)?null:g}(n.limit));let l=null;n.startAt&&(l=function(m){const g=!!m.before,E=m.values||[];return new Ap(E,g)}(n.startAt));let c=null;return n.endAt&&(c=function(m){const g=!m.before,E=m.values||[];return new Ap(E,g)}(n.endAt)),Dj(e,i,o,s,a,"F",l,c)}function _B(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function nR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Da(n.unaryFilter.field);return Vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Da(n.unaryFilter.field);return Vt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Da(n.unaryFilter.field);return Vt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Da(n.unaryFilter.field);return Vt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return pe()}}(t):t.fieldFilter!==void 0?function(n){return Vt.create(Da(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return fi.create(n.compositeFilter.filters.map(r=>nR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return pe()}}(n.compositeFilter.op))}(t):pe()}function vB(t){return oB[t]}function wB(t){return aB[t]}function EB(t){return lB[t]}function Oa(t){return{fieldPath:t.canonicalString()}}function Da(t){return rn.fromServerFormat(t.fieldPath)}function rR(t){return t instanceof Vt?function(n){if(n.op==="=="){if(qI(n.value))return{unaryFilter:{field:Oa(n.field),op:"IS_NAN"}};if(HI(n.value))return{unaryFilter:{field:Oa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(qI(n.value))return{unaryFilter:{field:Oa(n.field),op:"IS_NOT_NAN"}};if(HI(n.value))return{unaryFilter:{field:Oa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oa(n.field),op:wB(n.op),value:n.value}}}(t):t instanceof fi?function(n){const r=n.getFilters().map(i=>rR(i));return r.length===1?r[0]:{compositeFilter:{op:EB(n.op),filters:r}}}(t):pe()}function TB(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function iR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,n,r,i,s=me.min(),o=me.min(),a=Tn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ds(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{constructor(e){this.ct=e}}function CB(t){const e=yB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?tv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{constructor(){this._n=new bB}addToCollectionParentIndex(e,n){return this._n.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(to.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(to.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class bB{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new on(Et.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new on(Et.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Ul(0)}static Ln(){return new Ul(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(){this.changes=new iu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&pc(r.mutation,i,er.empty(),$t.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,xe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=xe()){const i=Vo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=qu();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Vo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,xe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Xi();const o=fc(),a=function(){return fc()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof uo)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),pc(d.mutation,c,d.mutation.getFieldMask(),$t.now())):o.set(c.key,er.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var m;return a.set(c,new AB(d,(m=o.get(c))!==null&&m!==void 0?m:null))}),a))}recalculateAndSaveOverlays(e,n){const r=fc();let i=new _t((o,a)=>o-a),s=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||er.empty();d=a.applyToLocalView(c,d),r.set(l,d);const m=(i.get(a.batchId)||xe()).add(l);i=i.insert(a.batchId,m)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,m=Ux();d.forEach(g=>{if(!s.has(g)){const E=qx(n.get(g),r.get(g));E!==null&&m.set(g,E),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,m))}return Q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return he.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Lj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Q.resolve(Vo());let a=-1,l=s;return o.next(c=>Q.forEach(c,(d,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),s.get(d)?Q.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{l=l.insert(d,g)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,xe())).next(d=>({batchId:a,changes:Vx(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new he(n)).next(r=>{let i=qu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=qu();return this.indexManager.getCollectionParents(e,s).next(a=>Q.forEach(a,l=>{const c=function(m,g){return new xm(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((m,g)=>{o=o.insert(m,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,vn.newInvalidDocument(d)))});let a=qu();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&pc(d.mutation,c,er.empty(),$t.now()),Nm(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RB{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return Q.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ui(i.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:CB(i.bundledQuery),readTime:ui(i.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(){this.overlays=new _t(he.comparator),this.hr=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Vo();return Q.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),Q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const i=Vo(),s=n.length+1,o=new he(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new _t((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=Vo(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Vo(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return Q.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new eB(n,r));let s=this.hr.get(n);s===void 0&&(s=xe(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(){this.Pr=new on(Gt.Ir),this.Tr=new on(Gt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Gt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Gt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new he(new Et([])),r=new Gt(n,e),i=new Gt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new he(new Et([])),r=new Gt(n,e),i=new Gt(n,e+1);let s=xe();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Gt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Gt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return he.comparator(e.key,n.key)||Ue(e.pr,n.pr)}static Er(e,n){return Ue(e.pr,n.pr)||he.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new on(Gt.Ir)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Zj(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new Gt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Q.resolve(o)}lookupMutationBatch(e,n){return Q.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return Q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Gt(n,0),i=new Gt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),Q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new on(Ue);return n.forEach(i=>{const s=new Gt(i,0),o=new Gt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),Q.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;he.isDocumentKey(s)||(s=s.child(""));const o=new Gt(new he(s),0);let a=new on(Ue);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.pr)),!0)},o),Q.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){it(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return Q.forEach(n.mutations,i=>{const s=new Gt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Gt(n,0),i=this.wr.firstAfterOrEqual(r);return Q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(e){this.vr=e,this.docs=function(){return new _t(he.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():vn.newInvalidDocument(n))}getEntries(e,n){let r=Xi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():vn.newInvalidDocument(i))}),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Xi();const o=n.path,a=new he(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||gj(mj(d),r)<=0||(i.has(d.key)||Nm(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return Q.resolve(s)}getAllFromCollectionGroup(e,n,r,i){pe()}Fr(e,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new DB(this)}getSize(e){return Q.resolve(this.size)}}class DB extends kB{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),Q.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LB{constructor(e){this.persistence=e,this.Mr=new iu(n=>Nw(n),Ow),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Fw,this.targetCount=0,this.Lr=Ul.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),Q.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Ul(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.qn(n),Q.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Q.waitFor(s).next(()=>i)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Q.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(e,n){this.Br={},this.overlays={},this.kr=new Aw(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new LB(this),this.indexManager=new SB,this.remoteDocumentCache=function(i){return new OB(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new IB(n),this.$r=new RB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new PB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new NB(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){le("MemoryPersistence","Starting transaction:",e);const i=new FB(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return Q.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class FB extends _j{constructor(e){super(),this.currentSequenceNumber=e}}class Vw{constructor(e){this.persistence=e,this.zr=new Fw,this.jr=null}static Hr(e){return new Vw(e)}get Jr(){if(this.jr)return this.jr;throw pe()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),Q.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Jr,r=>{const i=he.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,me.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return Q.or([()=>Q.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=xe(),i=xe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Uw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return gV()?8:vj(ln())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new VB;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Mu()<=Ae.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Na(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Q.resolve()):(Mu()<=Ae.DEBUG&&le("QueryEngine","Query:",Na(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Mu()<=Ae.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Na(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ai(n))):Q.resolve())}ji(e,n){if(YI(n))return Q.resolve(null);let r=ai(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=tv(n,null,"F"),r=ai(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=xe(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Zi(n,a);return this.Xi(n,c,o,l.readTime)?this.ji(e,tv(n,null,"F")):this.es(e,c,n,l)}))})))}Hi(e,n,r,i){return YI(n)||i.isEqual(me.min())?Q.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?Q.resolve(null):(Mu()<=Ae.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Na(n)),this.es(e,o,n,pj(i,-1)).next(a=>a))})}Zi(e,n){let r=new on(Mx(e));return n.forEach((i,s)=>{Nm(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Mu()<=Ae.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Na(n)),this.zi.getDocumentsMatchingQuery(e,n,to.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new _t(Ue),this.rs=new iu(s=>Nw(s),Ow),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xB(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function jB(t,e,n,r){return new $B(t,e,n,r)}async function sR(t,e){const n=ye(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=xe();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function BB(t,e){const n=ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const m=c.batch,g=m.keys();let E=Q.resolve();return g.forEach(S=>{E=E.next(()=>d.getEntry(l,S)).next(A=>{const D=c.docVersions.get(S);it(D!==null),A.version.compareTo(D)<0&&(m.applyToRemoteDocument(A,c),A.isValidDocument()&&(A.setReadTime(c.commitVersion),d.addEntry(A)))})}),E.next(()=>a.mutationQueue.removeMutationBatch(l,m))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=xe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function oR(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function zB(t,e){const n=ye(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((d,m)=>{const g=i.get(m);if(!g)return;a.push(n.Qr.removeMatchingKeys(s,d.removedDocuments,m).next(()=>n.Qr.addMatchingKeys(s,d.addedDocuments,m)));let E=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?E=E.withResumeToken(Tn.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):d.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(d.resumeToken,r)),i=i.insert(m,E),function(A,D,b){return A.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(g,E,d)&&a.push(n.Qr.updateTargetData(s,E))});let l=Xi(),c=xe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(WB(s,o,e.documentUpdates).next(d=>{l=d.cs,c=d.ls})),!r.isEqual(me.min())){const d=n.Qr.getLastRemoteSnapshotVersion(s).next(m=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return Q.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ns=i,s))}function WB(t,e,n){let r=xe(),i=xe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Xi();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(me.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):le("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:o,ls:i}})}function HB(t,e){const n=ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function qB(t,e){const n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,Q.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new Ds(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function ov(t,e,n){const r=ye(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Th(o))throw o;le("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function aC(t,e,n){const r=ye(t);let i=me.min(),s=xe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const m=ye(l),g=m.rs.get(d);return g!==void 0?Q.resolve(m.ns.get(g)):m.Qr.getTargetData(c,d)}(r,o,ai(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:me.min(),n?s:xe())).next(a=>(GB(r,Fj(e),a),{documents:a,hs:s})))}function GB(t,e,n){let r=t.ss.get(e)||me.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class lC{constructor(){this.activeTargetIds=zj()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KB{constructor(){this.no=new lC,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new lC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fd=null;function ly(){return Fd===null?Fd=function(){return 268435456+Math.round(2147483648*Math.random())}():Fd++,"0x"+Fd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn="WebChannelConnection";class JB extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){const a=ly(),l=this.vo(n,r.toUriEncodedString());le("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(c,s,o),this.Mo(n,l,c,i).then(d=>(le("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Dl("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}xo(n,r,i,s,o,a){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ru}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){const i=YB[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const s=ly();return new Promise((o,a)=>{const l=new _x;l.setWithCredentials(!0),l.listenOnce(wx.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case pf.NO_ERROR:const d=l.getResponseJson();le(fn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case pf.TIMEOUT:le(fn,`RPC '${e}' ${s} timed out`),a(new ce(Y.DEADLINE_EXCEEDED,"Request time out"));break;case pf.HTTP_ERROR:const m=l.getStatus();if(le(fn,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);const E=g==null?void 0:g.error;if(E&&E.status&&E.message){const S=function(D){const b=D.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(b)>=0?b:Y.UNKNOWN}(E.status);a(new ce(S,E.message))}else a(new ce(Y.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ce(Y.UNAVAILABLE,"Connection failed."));break;default:pe()}}finally{le(fn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);le(fn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Oo(e,n,r){const i=ly(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Ix(),a=Tx(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new vx({})),this.Fo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");le(fn,`Creating RPC '${e}' stream ${i}: ${d}`,l);const m=o.createWebChannel(d,l);let g=!1,E=!1;const S=new XB({lo:D=>{E?le(fn,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(g||(le(fn,`Opening RPC '${e}' stream ${i} transport.`),m.open(),g=!0),le(fn,`RPC '${e}' stream ${i} sending:`,D),m.send(D))},ho:()=>m.close()}),A=(D,b,w)=>{D.listen(b,k=>{try{w(k)}catch(F){setTimeout(()=>{throw F},0)}})};return A(m,Hu.EventType.OPEN,()=>{E||(le(fn,`RPC '${e}' stream ${i} transport opened.`),S.mo())}),A(m,Hu.EventType.CLOSE,()=>{E||(E=!0,le(fn,`RPC '${e}' stream ${i} transport closed`),S.po())}),A(m,Hu.EventType.ERROR,D=>{E||(E=!0,Dl(fn,`RPC '${e}' stream ${i} transport errored:`,D),S.po(new ce(Y.UNAVAILABLE,"The operation could not be completed")))}),A(m,Hu.EventType.MESSAGE,D=>{var b;if(!E){const w=D.data[0];it(!!w);const k=w,F=k.error||((b=k[0])===null||b===void 0?void 0:b.error);if(F){le(fn,`RPC '${e}' stream ${i} received error:`,F);const j=F.status;let W=function(x){const N=At[x];if(N!==void 0)return Qx(N)}(j),I=F.message;W===void 0&&(W=Y.INTERNAL,I="Unknown error status: "+j+" with message "+F.message),E=!0,S.po(new ce(W,I)),m.close()}else le(fn,`RPC '${e}' stream ${i} received:`,w),S.yo(w)}}),A(a,Ex.STAT_EVENT,D=>{D.stat===Y_.PROXY?le(fn,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===Y_.NOPROXY&&le(fn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.fo()},0),S}}function uy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(t){return new uB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new aR(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(Yi(n.toString()),Yi("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new ce(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZB extends lR{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=dB(this.serializer,e),r=function(s){if(!("targetChange"in s))return me.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?me.min():o.readTime?ui(o.readTime):me.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=sv(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=ev(l)?{documents:mB(s,l)}:{query:gB(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Jx(s,o.resumeToken);const c=nv(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(me.min())>0){a.readTime=Np(s,o.snapshotVersion.toTimestamp());const c=nv(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=_B(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=sv(this.serializer),n.removeTarget=e,this.i_(n)}}class e8 extends lR{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(it(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=pB(e.writeResults,e.commitTime),r=ui(e.commitTime);return this.listener.A_(r,n)}return it(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=sv(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>fB(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new ce(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,rv(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ce(Y.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,rv(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ce(Y.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class n8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Yi(n),this.y_=!1):le("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(async()=>{pa(this)&&(le("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ye(l);c.M_.add(4),await Sh(c),c.N_.set("Unknown"),c.M_.delete(4),await Fm(c)}(this))})}),this.N_=new n8(r,i)}}async function Fm(t){if(pa(t))for(const e of t.x_)await e(!0)}async function Sh(t){for(const e of t.x_)await e(!1)}function uR(t,e){const n=ye(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),zw(n)?Bw(n):su(n).Xo()&&jw(n,e))}function $w(t,e){const n=ye(t),r=su(n);n.F_.delete(e),r.Xo()&&cR(n,e),n.F_.size===0&&(r.Xo()?r.n_():pa(n)&&n.N_.set("Unknown"))}function jw(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}su(t).P_(e)}function cR(t,e){t.L_.xe(e),su(t).I_(e)}function Bw(t){t.L_=new sB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),su(t).start(),t.N_.w_()}function zw(t){return pa(t)&&!su(t).Zo()&&t.F_.size>0}function pa(t){return ye(t).M_.size===0}function hR(t){t.L_=void 0}async function i8(t){t.N_.set("Online")}async function s8(t){t.F_.forEach((e,n)=>{jw(t,e)})}async function o8(t,e){hR(t),zw(t)?(t.N_.D_(e),Bw(t)):t.N_.set("Unknown")}async function a8(t,e,n){if(t.N_.set("Online"),e instanceof Xx&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.F_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.F_.delete(a),i.L_.removeTarget(a))}(t,e)}catch(r){le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Op(t,r)}else if(e instanceof yf?t.L_.Ke(e):e instanceof Yx?t.L_.He(e):t.L_.We(e),!n.isEqual(me.min()))try{const r=await oR(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.L_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.F_.get(c);d&&s.F_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.F_.get(l);if(!d)return;s.F_.set(l,d.withResumeToken(Tn.EMPTY_BYTE_STRING,d.snapshotVersion)),cR(s,l);const m=new Ds(d.target,l,c,d.sequenceNumber);jw(s,m)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){le("RemoteStore","Failed to raise snapshot:",r),await Op(t,r)}}async function Op(t,e,n){if(!Th(e))throw e;t.M_.add(1),await Sh(t),t.N_.set("Offline"),n||(n=()=>oR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{le("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await Fm(t)})}function dR(t,e){return e().catch(n=>Op(t,n,e))}async function Vm(t){const e=ye(t),n=ro(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;l8(e);)try{const i=await HB(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,u8(e,i)}catch(i){await Op(e,i)}fR(e)&&pR(e)}function l8(t){return pa(t)&&t.v_.length<10}function u8(t,e){t.v_.push(e);const n=ro(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function fR(t){return pa(t)&&!ro(t).Zo()&&t.v_.length>0}function pR(t){ro(t).start()}async function c8(t){ro(t).V_()}async function h8(t){const e=ro(t);for(const n of t.v_)e.d_(n.mutations)}async function d8(t,e,n){const r=t.v_.shift(),i=Dw.from(r,e,n);await dR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Vm(t)}async function f8(t,e){e&&ro(t).E_&&await async function(r,i){if(function(o){return nB(o)&&o!==Y.ABORTED}(i.code)){const s=r.v_.shift();ro(r).t_(),await dR(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Vm(r)}}(t,e),fR(t)&&pR(t)}async function cC(t,e){const n=ye(t);n.asyncQueue.verifyOperationInProgress(),le("RemoteStore","RemoteStore received new credentials");const r=pa(n);n.M_.add(3),await Sh(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await Fm(n)}async function p8(t,e){const n=ye(t);e?(n.M_.delete(2),await Fm(n)):e||(n.M_.add(2),await Sh(n),n.N_.set("Unknown"))}function su(t){return t.B_||(t.B_=function(n,r,i){const s=ye(n);return s.f_(),new ZB(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:i8.bind(null,t),To:s8.bind(null,t),Ao:o8.bind(null,t),h_:a8.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),zw(t)?Bw(t):t.N_.set("Unknown")):(await t.B_.stop(),hR(t))})),t.B_}function ro(t){return t.k_||(t.k_=function(n,r,i){const s=ye(n);return s.f_(),new e8(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:c8.bind(null,t),Ao:f8.bind(null,t),R_:h8.bind(null,t),A_:d8.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await Vm(t)):(await t.k_.stop(),t.v_.length>0&&(le("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Qs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Ww(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hw(t,e){if(Yi("AsyncQueue",`${e}: ${t}`),Th(t))return new ce(Y.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||he.comparator(n.key,r.key):(n,r)=>he.comparator(n.key,r.key),this.keyedMap=qu(),this.sortedSet=new _t(this.comparator)}static emptySet(e){return new pl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof pl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new pl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(){this.q_=new _t(he.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):pe():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class $l{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new $l(e,n,pl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class g8{constructor(){this.queries=new iu(e=>Lx(e),Pm),this.onlineState="Unknown",this.z_=new Set}}async function mR(t,e){const n=ye(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new m8,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Hw(o,`Initialization of query '${Na(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&qw(n)}async function gR(t,e){const n=ye(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function y8(t,e){const n=ye(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.U_)a.H_(i)&&(r=!0);o.K_=i}}r&&qw(n)}function _8(t,e,n){const r=ye(t),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(e)}function qw(t){t.z_.forEach(e=>{e.next()})}var av,dC;(dC=av||(av={})).J_="default",dC.Cache="cache";class yR{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new $l(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=$l.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==av.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.key=e}}class vR{constructor(e){this.key=e}}class v8{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=xe(),this.mutatedKeys=xe(),this.Ia=Mx(e),this.Ta=new pl(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new hC,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,m)=>{const g=i.get(d),E=Nm(this.query,m)?m:null,S=!!g&&this.mutatedKeys.has(g.key),A=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let D=!1;g&&E?g.data.isEqual(E.data)?S!==A&&(r.track({type:3,doc:E}),D=!0):this.Ra(g,E)||(r.track({type:2,doc:E}),D=!0,(l&&this.Ia(E,l)>0||c&&this.Ia(E,c)<0)&&(a=!0)):!g&&E?(r.track({type:0,doc:E}),D=!0):g&&!E&&(r.track({type:1,doc:g}),D=!0,(l||c)&&(a=!0)),D&&(E?(o=o.add(E),s=A?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ta:o,Aa:r,Xi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((d,m)=>function(E,S){const A=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe()}};return A(E)-A(S)}(d.type,m.type)||this.Ia(d.doc,m.doc)),this.Va(r),i=i!=null&&i;const a=n&&!i?this.ma():[],l=this.Pa.size===0&&this.current&&!i?1:0,c=l!==this.ha;return this.ha=l,o.length!==0||c?{snapshot:new $l(this.query,e.Ta,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new hC,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=xe(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new vR(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new _R(r))}),n}pa(e){this.la=e.hs,this.Pa=xe();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return $l.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class w8{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class E8{constructor(e){this.key=e,this.wa=!1}}class T8{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new iu(a=>Lx(a),Pm),this.Da=new Map,this.Ca=new Set,this.va=new _t(he.comparator),this.Fa=new Map,this.Ma=new Fw,this.xa={},this.Oa=new Map,this.Na=Ul.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function I8(t,e,n=!0){const r=SR(t);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await wR(r,e,n,!0),i}async function C8(t,e){const n=SR(t);await wR(n,e,!0,!1)}async function wR(t,e,n,r){const i=await qB(t.localStore,ai(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await S8(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&uR(t.remoteStore,i),a}async function S8(t,e,n,r,i){t.Ba=(m,g,E)=>async function(A,D,b,w){let k=D.view.da(b);k.Xi&&(k=await aC(A.localStore,D.query,!1).then(({documents:I})=>D.view.da(I,k)));const F=w&&w.targetChanges.get(D.targetId),j=w&&w.targetMismatches.get(D.targetId)!=null,W=D.view.applyChanges(k,A.isPrimaryClient,F,j);return pC(A,D.targetId,W.fa),W.snapshot}(t,m,g,E);const s=await aC(t.localStore,e,!0),o=new v8(e,s.hs),a=o.da(s.documents),l=Ch.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);pC(t,n,c.fa);const d=new w8(e,n,o);return t.ba.set(e,d),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),c.snapshot}async function b8(t,e,n){const r=ye(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!Pm(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ov(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&$w(r.remoteStore,i.targetId),lv(r,i.targetId)}).catch(Eh)):(lv(r,i.targetId),await ov(r.localStore,i.targetId,!0))}async function k8(t,e){const n=ye(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),$w(n.remoteStore,r.targetId))}async function A8(t,e,n){const r=L8(t);try{const i=await function(o,a){const l=ye(o),c=$t.now(),d=a.reduce((E,S)=>E.add(S.key),xe());let m,g;return l.persistence.runTransaction("Locally write mutations","readwrite",E=>{let S=Xi(),A=xe();return l.os.getEntries(E,d).next(D=>{S=D,S.forEach((b,w)=>{w.isValidDocument()||(A=A.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(E,S)).next(D=>{m=D;const b=[];for(const w of a){const k=Xj(w,m.get(w.key).overlayedDocument);k!=null&&b.push(new uo(w.key,k,Ax(k.value.mapValue),li.exists(!0)))}return l.mutationQueue.addMutationBatch(E,c,b,a)}).next(D=>{g=D;const b=D.applyToLocalDocumentSet(m,A);return l.documentOverlayCache.saveOverlays(E,D.batchId,b)})}).then(()=>({batchId:g.batchId,changes:Vx(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.xa[o.currentUser.toKey()];c||(c=new _t(Ue)),c=c.insert(a,l),o.xa[o.currentUser.toKey()]=c}(r,i.batchId,n),await bh(r,i.changes),await Vm(r.remoteStore)}catch(i){const s=Hw(i,"Failed to persist write");n.reject(s)}}async function ER(t,e){const n=ye(t);try{const r=await zB(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Fa.get(s);o&&(it(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?it(o.wa):i.removedDocuments.size>0&&(it(o.wa),o.wa=!1))}),await bh(n,r,e)}catch(r){await Eh(r)}}function fC(t,e,n){const r=ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((s,o)=>{const a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ye(o);l.onlineState=a;let c=!1;l.queries.forEach((d,m)=>{for(const g of m.U_)g.j_(a)&&(c=!0)}),c&&qw(l)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function x8(t,e,n){const r=ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),s=i&&i.key;if(s){let o=new _t(he.comparator);o=o.insert(s,vn.newNoDocument(s,me.min()));const a=xe().add(s),l=new Lm(me.min(),new Map,new _t(Ue),o,a);await ER(r,l),r.va=r.va.remove(s),r.Fa.delete(e),Gw(r)}else await ov(r.localStore,e,!1).then(()=>lv(r,e,n)).catch(Eh)}async function R8(t,e){const n=ye(t),r=e.batch.batchId;try{const i=await BB(n.localStore,e);IR(n,r,null),TR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bh(n,i)}catch(i){await Eh(i)}}async function P8(t,e,n){const r=ye(t);try{const i=await function(o,a){const l=ye(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(m=>(it(m!==null),d=m.keys(),l.mutationQueue.removeMutationBatch(c,m))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);IR(r,e,n),TR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await bh(r,i)}catch(i){await Eh(i)}}function TR(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function IR(t,e,n){const r=ye(t);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function lv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||CR(t,r)})}function CR(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&($w(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),Gw(t))}function pC(t,e,n){for(const r of n)r instanceof _R?(t.Ma.addReference(r.key,e),N8(t,r)):r instanceof vR?(le("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||CR(t,r.key)):pe()}function N8(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(le("SyncEngine","New document in limbo: "+n),t.Ca.add(r),Gw(t))}function Gw(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new he(Et.fromString(e)),r=t.Na.next();t.Fa.set(r,new E8(n)),t.va=t.va.insert(n,r),uR(t.remoteStore,new Ds(ai(Rm(n.path)),r,"TargetPurposeLimboResolution",Aw.oe))}}async function bh(t,e,n){const r=ye(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,l)=>{o.push(r.Ba(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient){const d=c&&!c.fromCache;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=Uw.Ki(l.targetId,c);s.push(d)}}))}),await Promise.all(o),r.Sa.h_(i),await async function(l,c){const d=ye(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>Q.forEach(c,g=>Q.forEach(g.qi,E=>d.persistence.referenceDelegate.addReference(m,g.targetId,E)).next(()=>Q.forEach(g.Qi,E=>d.persistence.referenceDelegate.removeReference(m,g.targetId,E)))))}catch(m){if(!Th(m))throw m;le("LocalStore","Failed to update sequence numbers: "+m)}for(const m of c){const g=m.targetId;if(!m.fromCache){const E=d.ns.get(g),S=E.snapshotVersion,A=E.withLastLimboFreeSnapshotVersion(S);d.ns=d.ns.insert(g,A)}}}(r.localStore,s))}async function O8(t,e){const n=ye(t);if(!n.currentUser.isEqual(e)){le("SyncEngine","User change. New user:",e.toKey());const r=await sR(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(l=>{l.reject(new ce(Y.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bh(n,r.us)}}function D8(t,e){const n=ye(t),r=n.Fa.get(e);if(r&&r.wa)return xe().add(r.key);{let i=xe();const s=n.Da.get(e);if(!s)return i;for(const o of s){const a=n.ba.get(o);i=i.unionWith(a.view.Ea)}return i}}function SR(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ER.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=D8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=x8.bind(null,e),e.Sa.h_=y8.bind(null,e.eventManager),e.Sa.ka=_8.bind(null,e.eventManager),e}function L8(t){const e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=R8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=P8.bind(null,e),e}class mC{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Mm(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return jB(this.persistence,new UB,e.initialUser,this.serializer)}createPersistence(e){return new MB(Vw.Hr,this.serializer)}createSharedClientState(e){return new KB}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class M8{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>fC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=O8.bind(null,this.syncEngine),await p8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new g8}()}createDatastore(e){const n=Mm(e.databaseInfo.databaseId),r=function(s){return new JB(s)}(e.databaseInfo);return function(s,o,a,l){return new t8(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new r8(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>fC(this.syncEngine,n,0),function(){return uC.D()?new uC:new QB}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,d){const m=new T8(i,s,o,a,l,c);return d&&(m.La=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=ye(r);le("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await Sh(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Yi("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F8{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=mn.UNAUTHENTICATED,this.clientId=Sx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{le("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(le("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ce(Y.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Hw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function cy(t,e){t.asyncQueue.verifyOperationInProgress(),le("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await sR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function gC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await U8(t);le("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>cC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>cC(e.remoteStore,i)),t._onlineComponents=e}function V8(t){return t.name==="FirebaseError"?t.code===Y.FAILED_PRECONDITION||t.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function U8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){le("FirestoreClient","Using user provided OfflineComponentProvider");try{await cy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!V8(n))throw n;Dl("Error using user provided cache. Falling back to memory cache: "+n),await cy(t,new mC)}}else le("FirestoreClient","Using default OfflineComponentProvider"),await cy(t,new mC);return t._offlineComponents}async function kR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(le("FirestoreClient","Using user provided OnlineComponentProvider"),await gC(t,t._uninitializedComponentsProvider._online)):(le("FirestoreClient","Using default OnlineComponentProvider"),await gC(t,new M8))),t._onlineComponents}function $8(t){return kR(t).then(e=>e.syncEngine)}async function uv(t){const e=await kR(t),n=e.eventManager;return n.onListen=I8.bind(null,e.syncEngine),n.onUnlisten=b8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=C8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=k8.bind(null,e.syncEngine),n}function j8(t,e,n={}){const r=new Qs;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new bR({next:g=>{o.enqueueAndForget(()=>gR(s,m));const E=g.docs.has(a);!E&&g.fromCache?c.reject(new ce(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&g.fromCache&&l&&l.source==="server"?c.reject(new ce(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(g)},error:g=>c.reject(g)}),m=new yR(Rm(a.path),d,{includeMetadataChanges:!0,ra:!0});return mR(s,m)}(await uv(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B8(t,e,n){if(!n)throw new ce(Y.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function z8(t,e,n,r){if(e===!0&&r===!0)throw new ce(Y.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _C(t){if(!he.isDocumentKey(t))throw new ce(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Kw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":pe()}function ci(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kw(t);throw new ce(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ce(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}z8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ce(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ce(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ce(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qw{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vC({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ce(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ce(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vC(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new sj;switch(r.type){case"firstParty":return new uj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=yC.get(n);r&&(le("ComponentProvider","Removing Datastore"),yC.delete(n),r.terminate())}(this),Promise.resolve()}}function W8(t,e,n,r={}){var i;const s=(t=ci(t,Qw))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Dl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=mn.MOCK_USER;else{a=U0(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ce(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new mn(c)}t._authCredentials=new oj(new Cx(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Um(this.firestore,e,this._query)}}class Wn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wn(this.firestore,e,this._key)}}class Zc extends Um{constructor(e,n,r){super(e,n,Rm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wn(this.firestore,null,new he(e))}withConverter(e){return new Zc(this.firestore,e,this._path)}}function H8(t,e,...n){if(t=yt(t),arguments.length===1&&(e=Sx.newId()),B8("doc","path",e),t instanceof Qw){const r=Et.fromString(e,...n);return _C(r),new Wn(t,null,new he(r))}{if(!(t instanceof Wn||t instanceof Zc))throw new ce(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Et.fromString(e,...n));return _C(r),new Wn(t.firestore,t instanceof Zc?t.converter:null,new he(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q8{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new aR(this,"async_queue_retry"),this.hu=()=>{const n=uy();n&&le("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=uy();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=uy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Qs;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Th(e))throw e;le("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Yi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=Ww.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&pe()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}function wC(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class jl extends Qw{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new q8}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||xR(this),this._firestoreClient.terminate()}}function G8(t,e){const n=typeof t=="object"?t:gm(),r=typeof t=="string"?t:e||"(default)",i=ch(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=F0("firestore");s&&W8(i,...s)}return i}function Yw(t){return t._firestoreClient||xR(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function xR(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,d){return new Tj(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,AR(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new F8(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bl(Tn.fromBase64String(e))}catch(n){throw new ce(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bl(Tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K8=/^__.*__$/;class Q8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new uo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ih(e,this.data,n,this.fieldTransforms)}}class RR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new uo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function PR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pe()}}class Bm{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Bm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Dp(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(PR(this.fu)&&K8.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class Y8{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Mm(e)}Fu(e,n,r,i=!1){return new Bm({fu:e,methodName:n,vu:r,path:rn.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function NR(t){const e=t._freezeSettings(),n=Mm(t._databaseId);return new Y8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function X8(t,e,n,r,i,s={}){const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);Zw("Data must be an object, but it was:",o,r);const a=OR(r,o);let l,c;if(s.merge)l=new er(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const m of s.mergeFields){const g=cv(e,m,n);if(!o.contains(g))throw new ce(Y.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);LR(d,g)||d.push(g)}l=new er(d),c=o.fieldTransforms.filter(m=>l.covers(m.field))}else l=null,c=o.fieldTransforms;return new Q8(new Vn(a),l,c)}class zm extends jm{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zm}}function J8(t,e,n){return new Bm({fu:3,vu:e.settings.vu,methodName:t._methodName,yu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Jw extends jm{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){const n=J8(this,e,!0),r=this.Mu.map(s=>kh(s,n)),i=new Vl(r);return new Gj(e.path,i)}isEqual(e){return e instanceof Jw&&Vc(this.Mu,e.Mu)}}function Z8(t,e,n,r){const i=t.Fu(1,e,n);Zw("Data must be an object, but it was:",i,r);const s=[],o=Vn.empty();fa(r,(l,c)=>{const d=eE(e,l,n);c=yt(c);const m=i.Su(d);if(c instanceof zm)s.push(d);else{const g=kh(c,m);g!=null&&(s.push(d),o.set(d,g))}});const a=new er(s);return new RR(o,a,i.fieldTransforms)}function ez(t,e,n,r,i,s){const o=t.Fu(1,e,n),a=[cv(e,r,n)],l=[i];if(s.length%2!=0)throw new ce(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)a.push(cv(e,s[g])),l.push(s[g+1]);const c=[],d=Vn.empty();for(let g=a.length-1;g>=0;--g)if(!LR(c,a[g])){const E=a[g];let S=l[g];S=yt(S);const A=o.Su(E);if(S instanceof zm)c.push(E);else{const D=kh(S,A);D!=null&&(c.push(E),d.set(E,D))}}const m=new er(c);return new RR(d,m,o.fieldTransforms)}function kh(t,e){if(DR(t=yt(t)))return Zw("Unsupported field value:",e,t),OR(t,e);if(t instanceof jm)return function(r,i){if(!PR(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=kh(a,i.bu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Wj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=$t.fromDate(r);return{timestampValue:Np(i.serializer,s)}}if(r instanceof $t){const s=new $t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Np(i.serializer,s)}}if(r instanceof Xw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bl)return{bytesValue:Jx(i.serializer,r._byteString)};if(r instanceof Wn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Mw(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${Kw(r)}`)}(t,e)}function OR(t,e){const n={};return bx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fa(t,(r,i)=>{const s=kh(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function DR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $t||t instanceof Xw||t instanceof Bl||t instanceof Wn||t instanceof jm)}function Zw(t,e,n){if(!DR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Kw(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function cv(t,e,n){if((e=yt(e))instanceof $m)return e._internalPath;if(typeof e=="string")return eE(t,e);throw Dp("Field path arguments must be of type string or ",t,!1,void 0,n)}const tz=new RegExp("[~\\*/\\[\\]]");function eE(t,e,n){if(e.search(tz)>=0)throw Dp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $m(...e.split("."))._internalPath}catch{throw Dp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Dp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ce(Y.INVALID_ARGUMENT,a+t+l)}function LR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(FR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class nz extends MR{data(){return super.data()}}function FR(t,e){return typeof e=="string"?eE(t,e):e instanceof $m?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class iz{convertValue(e,n="none"){switch(sa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ia(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw pe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return fa(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Xw(xt(e.latitude),xt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Rw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Qc(e));default:return null}}convertTimestamp(e){const n=no(e);return new $t(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Et.fromString(e);it(iR(r));const i=new Yc(r.get(1),r.get(3)),s=new he(r.popFirst(5));return i.isEqual(n)||Yi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sz(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class VR extends MR{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _f(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(FR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class _f extends VR{data(e={}){return super.data(e)}}class oz{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ku(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new _f(this._firestore,this._userDataWriter,r.key,r,new Ku(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new _f(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ku(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new _f(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ku(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:az(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function az(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O7(t){t=ci(t,Wn);const e=ci(t.firestore,jl);return j8(Yw(e),t._key).then(n=>jR(e,t,n))}class UR extends iz{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wn(this.firestore,null,n)}}function lz(t,e,n){t=ci(t,Wn);const r=ci(t.firestore,jl),i=sz(t.converter,e,n);return $R(r,[X8(NR(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,li.none())])}function D7(t,e,n,...r){t=ci(t,Wn);const i=ci(t.firestore,jl),s=NR(i);let o;return o=typeof(e=yt(e))=="string"||e instanceof $m?ez(s,"updateDoc",t._key,e,n,r):Z8(s,"updateDoc",t._key,e),$R(i,[o.toMutation(t._key,li.exists(!0))])}function L7(t,...e){var n,r,i;t=yt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||wC(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(wC(e[o])){const m=e[o];e[o]=(n=m.next)===null||n===void 0?void 0:n.bind(m),e[o+1]=(r=m.error)===null||r===void 0?void 0:r.bind(m),e[o+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let l,c,d;if(t instanceof Wn)c=ci(t.firestore,jl),d=Rm(t._key.path),l={next:m=>{e[o]&&e[o](jR(c,t,m))},error:e[o+1],complete:e[o+2]};else{const m=ci(t,Um);c=ci(m.firestore,jl),d=m._query;const g=new UR(c);l={next:E=>{e[o]&&e[o](new oz(c,g,m,E))},error:e[o+1],complete:e[o+2]},rz(t._query)}return function(g,E,S,A){const D=new bR(A),b=new yR(E,D,S);return g.asyncQueue.enqueueAndForget(async()=>mR(await uv(g),b)),()=>{D.$a(),g.asyncQueue.enqueueAndForget(async()=>gR(await uv(g),b))}}(Yw(c),d,a,l)}function $R(t,e){return function(r,i){const s=new Qs;return r.asyncQueue.enqueueAndForget(async()=>A8(await $8(r),i,s)),s.promise}(Yw(t),e)}function jR(t,e,n){const r=n.docs.get(e._key),i=new UR(t);return new VR(t,i,e._key,r,new Ku(n.hasPendingWrites,n.fromCache),e.converter)}function M7(...t){return new Jw("arrayUnion",t)}(function(e,n=!0){(function(i){ru=i})(ao),Js(new Gi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new jl(new aj(r.getProvider("auth-internal")),new hj(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ce(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yc(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),pr(jI,"4.6.3",e),pr(jI,"4.6.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR="firebasestorage.googleapis.com",uz="storageBucket",cz=2*60*1e3,hz=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends mi{constructor(e,n,r=0){super(hy(e),`Firebase Storage: ${n} (${hy(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return hy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var pi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(pi||(pi={}));function hy(t){return"storage/"+t}function dz(){const t="An unknown error occurred, please check the error payload for server response.";return new gi(pi.UNKNOWN,t)}function fz(){return new gi(pi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function pz(){return new gi(pi.CANCELED,"User canceled the upload/download.")}function mz(t){return new gi(pi.INVALID_URL,"Invalid URL '"+t+"'.")}function gz(t){return new gi(pi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function EC(t){return new gi(pi.INVALID_ARGUMENT,t)}function zR(){return new gi(pi.APP_DELETED,"The Firebase app was deleted.")}function yz(t){return new gi(pi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Or.makeFromUrl(e,n)}catch{return new Or(e,"")}if(r.path==="")return r;throw gz(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(F){F.path.charAt(F.path.length-1)==="/"&&(F.path_=F.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(F){F.path_=decodeURIComponent(F.path)}const d="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",E=new RegExp(`^https?://${m}/${d}/b/${i}/o${g}`,"i"),S={bucket:1,path:3},A=n===BR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,D="([^?#]*)",b=new RegExp(`^https?://${A}/${i}/${D}`,"i"),k=[{regex:a,indices:l,postModify:s},{regex:E,indices:S,postModify:c},{regex:b,indices:{bucket:1,path:2},postModify:c}];for(let F=0;F<k.length;F++){const j=k[F],W=j.regex.exec(e);if(W){const I=W[j.indices.bucket];let C=W[j.indices.path];C||(C=""),r=new Or(I,C),j.postModify(r);break}}if(r==null)throw mz(e);return r}}class _z{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vz(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function d(...D){c||(c=!0,e.apply(null,D))}function m(D){i=setTimeout(()=>{i=null,t(E,l())},D)}function g(){s&&clearTimeout(s)}function E(D,...b){if(c){g();return}if(D){g(),d.call(null,D,...b);return}if(l()||o){g(),d.call(null,D,...b);return}r<64&&(r*=2);let k;a===1?(a=2,k=0):k=(r+Math.random())*1e3,m(k)}let S=!1;function A(D){S||(S=!0,g(),!c&&(i!==null?(D||(a=2),clearTimeout(i),m(0)):D||(a=1)))}return m(0),s=setTimeout(()=>{o=!0,A(!0)},n),A}function wz(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ez(t){return t!==void 0}function TC(t,e,n,r){if(r<e)throw EC(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw EC(`Invalid value for '${t}'. Expected ${n} or less.`)}function Tz(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lp;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Lp||(Lp={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iz(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cz{constructor(e,n,r,i,s,o,a,l,c,d,m,g=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=m,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,S)=>{this.resolve_=E,this.reject_=S,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Vd(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Lp.NO_ERROR,l=s.getStatus();if(!a||Iz(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===Lp.ABORT;r(!1,new Vd(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Vd(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Ez(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=dz();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?zR():pz();o(l)}else{const l=fz();o(l)}};this.canceled_?n(!1,new Vd(!1,null,!0)):this.backoffId_=vz(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&wz(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Vd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Sz(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function bz(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function kz(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Az(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function xz(t,e,n,r,i,s,o=!0){const a=Tz(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return kz(c,e),Sz(c,n),bz(c,s),Az(c,r),new Cz(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rz(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Pz(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,n){this._service=e,n instanceof Or?this._location=n:this._location=Or.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Mp(e,n)}get root(){const e=new Or(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Pz(this._location.path)}get storage(){return this._service}get parent(){const e=Rz(this._location.path);if(e===null)return null;const n=new Or(this._location.bucket,e);return new Mp(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw yz(e)}}function IC(t,e){const n=e==null?void 0:e[uz];return n==null?null:Or.makeFromBucketSpec(n,t)}function Nz(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:U0(i,t.app.options.projectId))}class Oz{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=BR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=cz,this._maxUploadRetryTime=hz,this._requests=new Set,i!=null?this._bucket=Or.makeFromBucketSpec(i,this._host):this._bucket=IC(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Or.makeFromBucketSpec(this._url,e):this._bucket=IC(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){TC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){TC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Mp(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new _z(zR());{const o=xz(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const CC="@firebase/storage",SC="0.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR="storage";function Dz(t=gm(),e){t=yt(t);const r=ch(t,WR).getImmediate({identifier:e}),i=F0("storage");return i&&Lz(r,...i),r}function Lz(t,e,n,r={}){Nz(t,e,n,r)}function Mz(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Oz(n,r,i,e,ao)}function Fz(){Js(new Gi(WR,Mz,"PUBLIC").setMultipleInstances(!0)),pr(CC,SC,""),pr(CC,SC,"esm2017")}Fz();const Vz={apiKey:{}.VITE_FIREBASE_API_KEY,authDomain:{}.VITE_FIREBASE_AUTH_DOMAIN,projectId:{}.VITE_FIREBASE_PROJECT_ID,storageBucket:{}.VITE_FIREBASE_STORAGE_BUCKET,databaseURL:{}.VITE_FIREBASE_DATABASE_URL,messagingSenderId:{}.VITE_FIREBASE_MESSAGING_SENDER_ID,appId:{}.VITE_FIREBASE_APP_ID},Uz=vk(Vz),Ud=Y0(Uz),F7=nj();Dz();const $z=G8(),HR=J.createContext(),jz=({children:t})=>{const[e,n]=J.useState(null),r=(o,a)=>O3(Ud,o,a),i=(o,a)=>D3(Ud,o,a),s=()=>$3(Ud);return J.useEffect(()=>U3(Ud,a=>{n(a)}),[]),q.jsx(HR.Provider,{value:{currentUser:e,signup:r,login:i,logout:s},children:t})},tE=()=>J.useContext(HR);var qR={exports:{}};/*!
* sweetalert2 v11.12.1
* Released under the MIT License.
*/(function(t,e){(function(n,r){t.exports=r()})(ys,function(){function n(v,h){(h==null||h>v.length)&&(h=v.length);for(var f=0,_=Array(h);f<h;f++)_[f]=v[f];return _}function r(v){if(Array.isArray(v))return v}function i(v){if(Array.isArray(v))return n(v)}function s(v,h,f){if(typeof v=="function"?v===h:v.has(h))return arguments.length<3?h:f;throw new TypeError("Private element is not present on this object")}function o(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function a(v,h,f){return h=w(h),x(v,F()?Reflect.construct(h,f||[],w(v).constructor):h.apply(v,f))}function l(v,h){if(h.has(v))throw new TypeError("Cannot initialize the same private elements twice on an object")}function c(v,h){if(!(v instanceof h))throw new TypeError("Cannot call a class as a function")}function d(v,h){return v.get(s(v,h))}function m(v,h,f){l(v,h),h.set(v,f)}function g(v,h,f){return v.set(s(v,h),f),f}function E(v,h,f){if(F())return Reflect.construct.apply(null,arguments);var _=[null];_.push.apply(_,h);var P=new(v.bind.apply(v,_));return P}function S(v,h){for(var f=0;f<h.length;f++){var _=h[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(v,qe(_.key),_)}}function A(v,h,f){return h&&S(v.prototype,h),Object.defineProperty(v,"prototype",{writable:!1}),v}function D(v,h){var f=typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(!f){if(Array.isArray(v)||(f=je(v))||h){f&&(v=f);var _=0,P=function(){};return{s:P,n:function(){return _>=v.length?{done:!0}:{done:!1,value:v[_++]}},e:function(ge){throw ge},f:P}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var H,ie=!0,ve=!1;return{s:function(){f=f.call(v)},n:function(){var ge=f.next();return ie=ge.done,ge},e:function(ge){ve=!0,H=ge},f:function(){try{ie||f.return==null||f.return()}finally{if(ve)throw H}}}}function b(){return b=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(v,h,f){var _=M(v,h);if(_){var P=Object.getOwnPropertyDescriptor(_,h);return P.get?P.get.call(arguments.length<3?v:f):P.value}},b.apply(null,arguments)}function w(v){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)},w(v)}function k(v,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(h&&h.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),h&&N(v,h)}function F(){try{var v=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F=function(){return!!v})()}function j(v){if(typeof Symbol<"u"&&v[Symbol.iterator]!=null||v["@@iterator"]!=null)return Array.from(v)}function W(v,h){var f=v==null?null:typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(f!=null){var _,P,H,ie,ve=[],ge=!0,vt=!1;try{if(H=(f=f.call(v)).next,h!==0)for(;!(ge=(_=H.call(f)).done)&&(ve.push(_.value),ve.length!==h);ge=!0);}catch(Eu){vt=!0,P=Eu}finally{try{if(!ge&&f.return!=null&&(ie=f.return(),Object(ie)!==ie))return}finally{if(vt)throw P}}return ve}}function I(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x(v,h){if(h&&(typeof h=="object"||typeof h=="function"))return h;if(h!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o(v)}function N(v,h){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,_){return f.__proto__=_,f},N(v,h)}function L(v,h){return r(v)||W(v,h)||je(v,h)||I()}function M(v,h){for(;!{}.hasOwnProperty.call(v,h)&&(v=w(v))!==null;);return v}function R(v){return i(v)||j(v)||je(v)||C()}function Ee(v,h){if(typeof v!="object"||!v)return v;var f=v[Symbol.toPrimitive];if(f!==void 0){var _=f.call(v,h);if(typeof _!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(v)}function qe(v){var h=Ee(v,"string");return typeof h=="symbol"?h:h+""}function Ce(v){"@babel/helpers - typeof";return Ce=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},Ce(v)}function je(v,h){if(v){if(typeof v=="string")return n(v,h);var f={}.toString.call(v).slice(8,-1);return f==="Object"&&v.constructor&&(f=v.constructor.name),f==="Map"||f==="Set"?Array.from(v):f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f)?n(v,h):void 0}}var re=100,K={},ue=function(){K.previousActiveElement instanceof HTMLElement?(K.previousActiveElement.focus(),K.previousActiveElement=null):document.body&&document.body.focus()},Pe=function(h){return new Promise(function(f){if(!h)return f();var _=window.scrollX,P=window.scrollY;K.restoreFocusTimeout=setTimeout(function(){ue(),f()},re),window.scrollTo(_,P)})},_e="swal2-",Ge=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"],$=Ge.reduce(function(v,h){return v[h]=_e+h,v},{}),Bt=["success","warning","info","question","error"],ht=Bt.reduce(function(v,h){return v[h]=_e+h,v},{}),It="SweetAlert2:",In=function(h){return h.charAt(0).toUpperCase()+h.slice(1)},Ye=function(h){console.warn("".concat(It," ").concat(Ce(h)==="object"?h.join(" "):h))},zt=function(h){console.error("".concat(It," ").concat(h))},Cn=[],un=function(h){Cn.includes(h)||(Cn.push(h),Ye(h))},yi=function(h){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;un('"'.concat(h,'" is deprecated and will be removed in the next major release.').concat(f?' Use "'.concat(f,'" instead.'):""))},_r=function(h){return typeof h=="function"?h():h},is=function(h){return h&&typeof h.toPromise=="function"},_i=function(h){return is(h)?h.toPromise():Promise.resolve(h)},co=function(h){return h&&Promise.resolve(h)===h},O=function(){return document.body.querySelector(".".concat($.container))},U=function(h){var f=O();return f?f.querySelector(h):null},z=function(h){return U(".".concat(h))},G=function(){return z($.popup)},ne=function(){return z($.icon)},Z=function(){return z($["icon-content"])},ae=function(){return z($.title)},Te=function(){return z($["html-container"])},Xe=function(){return z($.image)},Ne=function(){return z($["progress-steps"])},Je=function(){return z($["validation-message"])},Jt=function(){return U(".".concat($.actions," .").concat($.confirm))},Gn=function(){return U(".".concat($.actions," .").concat($.cancel))},On=function(){return U(".".concat($.actions," .").concat($.deny))},ou=function(){return z($["input-label"])},Sn=function(){return U(".".concat($.loader))},$r=function(){return z($.actions)},ss=function(){return z($.footer)},os=function(){return z($["timer-progress-bar"])},au=function(){return z($.close)},Wm=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,ho=function(){var h=G();if(!h)return[];var f=h.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),_=Array.from(f).sort(function(ie,ve){var ge=parseInt(ie.getAttribute("tabindex")||"0"),vt=parseInt(ve.getAttribute("tabindex")||"0");return ge>vt?1:ge<vt?-1:0}),P=h.querySelectorAll(Wm),H=Array.from(P).filter(function(ie){return ie.getAttribute("tabindex")!=="-1"});return R(new Set(_.concat(H))).filter(function(ie){return cn(ie)})},ma=function(){return Kn(document.body,$.shown)&&!Kn(document.body,$["toast-shown"])&&!Kn(document.body,$["no-backdrop"])},fo=function(){var h=G();return h?Kn(h,$.toast):!1},po=function(){var h=G();return h?h.hasAttribute("data-loading"):!1},Zt=function(h,f){if(h.textContent="",f){var _=new DOMParser,P=_.parseFromString(f,"text/html"),H=P.querySelector("head");H&&Array.from(H.childNodes).forEach(function(ve){h.appendChild(ve)});var ie=P.querySelector("body");ie&&Array.from(ie.childNodes).forEach(function(ve){ve instanceof HTMLVideoElement||ve instanceof HTMLAudioElement?h.appendChild(ve.cloneNode(!0)):h.appendChild(ve)})}},Kn=function(h,f){if(!f)return!1;for(var _=f.split(/\s+/),P=0;P<_.length;P++)if(!h.classList.contains(_[P]))return!1;return!0},vi=function(h,f){Array.from(h.classList).forEach(function(_){!Object.values($).includes(_)&&!Object.values(ht).includes(_)&&!Object.values(f.showClass||{}).includes(_)&&h.classList.remove(_)})},bn=function(h,f,_){if(vi(h,f),!!f.customClass){var P=f.customClass[_];if(P){if(typeof P!="string"&&!P.forEach){Ye("Invalid type of customClass.".concat(_,'! Expected string or iterable object, got "').concat(Ce(P),'"'));return}ke(h,P)}}},wi=function(h,f){if(!f)return null;switch(f){case"select":case"textarea":case"file":return h.querySelector(".".concat($.popup," > .").concat($[f]));case"checkbox":return h.querySelector(".".concat($.popup," > .").concat($.checkbox," input"));case"radio":return h.querySelector(".".concat($.popup," > .").concat($.radio," input:checked"))||h.querySelector(".".concat($.popup," > .").concat($.radio," input:first-child"));case"range":return h.querySelector(".".concat($.popup," > .").concat($.range," input"));default:return h.querySelector(".".concat($.popup," > .").concat($.input))}},lu=function(h){if(h.focus(),h.type!=="file"){var f=h.value;h.value="",h.value=f}},as=function(h,f,_){!h||!f||(typeof f=="string"&&(f=f.split(/\s+/).filter(Boolean)),f.forEach(function(P){Array.isArray(h)?h.forEach(function(H){_?H.classList.add(P):H.classList.remove(P)}):_?h.classList.add(P):h.classList.remove(P)}))},ke=function(h,f){as(h,f,!0)},tt=function(h,f){as(h,f,!1)},vr=function(h,f){for(var _=Array.from(h.children),P=0;P<_.length;P++){var H=_[P];if(H instanceof HTMLElement&&Kn(H,f))return H}},Qn=function(h,f,_){_==="".concat(parseInt(_))&&(_=parseInt(_)),_||parseInt(_)===0?h.style.setProperty(f,typeof _=="number"?"".concat(_,"px"):_):h.style.removeProperty(f)},dt=function(h){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";h&&(h.style.display=f)},Wt=function(h){h&&(h.style.display="none")},uu=function(h){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";h&&new MutationObserver(function(){mo(h,h.innerHTML,f)}).observe(h,{childList:!0,subtree:!0})},Ei=function(h,f,_,P){var H=h.querySelector(f);H&&H.style.setProperty(_,P)},mo=function(h,f){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";f?dt(h,_):Wt(h)},cn=function(h){return!!(h&&(h.offsetWidth||h.offsetHeight||h.getClientRects().length))},ga=function(){return!cn(Jt())&&!cn(On())&&!cn(Gn())},cu=function(h){return h.scrollHeight>h.clientHeight},ya=function(h){var f=window.getComputedStyle(h),_=parseFloat(f.getPropertyValue("animation-duration")||"0"),P=parseFloat(f.getPropertyValue("transition-duration")||"0");return _>0||P>0},ls=function(h){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,_=os();_&&cn(_)&&(f&&(_.style.transition="none",_.style.width="100%"),setTimeout(function(){_.style.transition="width ".concat(h/1e3,"s linear"),_.style.width="0%"},10))},jr=function(){var h=os();if(h){var f=parseInt(window.getComputedStyle(h).width);h.style.removeProperty("transition"),h.style.width="100%";var _=parseInt(window.getComputedStyle(h).width),P=f/_*100;h.style.width="".concat(P,"%")}},hu=function(){return typeof window>"u"||typeof document>"u"},Ah=`
 <div aria-labelledby="`.concat($.title,'" aria-describedby="').concat($["html-container"],'" class="').concat($.popup,`" tabindex="-1">
   <button type="button" class="`).concat($.close,`"></button>
   <ul class="`).concat($["progress-steps"],`"></ul>
   <div class="`).concat($.icon,`"></div>
   <img class="`).concat($.image,`" />
   <h2 class="`).concat($.title,'" id="').concat($.title,`"></h2>
   <div class="`).concat($["html-container"],'" id="').concat($["html-container"],`"></div>
   <input class="`).concat($.input,'" id="').concat($.input,`" />
   <input type="file" class="`).concat($.file,`" />
   <div class="`).concat($.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat($.select,'" id="').concat($.select,`"></select>
   <div class="`).concat($.radio,`"></div>
   <label class="`).concat($.checkbox,`">
     <input type="checkbox" id="`).concat($.checkbox,`" />
     <span class="`).concat($.label,`"></span>
   </label>
   <textarea class="`).concat($.textarea,'" id="').concat($.textarea,`"></textarea>
   <div class="`).concat($["validation-message"],'" id="').concat($["validation-message"],`"></div>
   <div class="`).concat($.actions,`">
     <div class="`).concat($.loader,`"></div>
     <button type="button" class="`).concat($.confirm,`"></button>
     <button type="button" class="`).concat($.deny,`"></button>
     <button type="button" class="`).concat($.cancel,`"></button>
   </div>
   <div class="`).concat($.footer,`"></div>
   <div class="`).concat($["timer-progress-bar-container"],`">
     <div class="`).concat($["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),du=function(){var h=O();return h?(h.remove(),tt([document.documentElement,document.body],[$["no-backdrop"],$["toast-shown"],$["has-column"]]),!0):!1},wr=function(){K.currentInstance.resetValidationMessage()},xh=function(){var h=G(),f=vr(h,$.input),_=vr(h,$.file),P=h.querySelector(".".concat($.range," input")),H=h.querySelector(".".concat($.range," output")),ie=vr(h,$.select),ve=h.querySelector(".".concat($.checkbox," input")),ge=vr(h,$.textarea);f.oninput=wr,_.onchange=wr,ie.onchange=wr,ve.onchange=wr,ge.oninput=wr,P.oninput=function(){wr(),H.value=P.value},P.onchange=function(){wr(),H.value=P.value}},Rh=function(h){return typeof h=="string"?document.querySelector(h):h},Hm=function(h){var f=G();f.setAttribute("role",h.toast?"alert":"dialog"),f.setAttribute("aria-live",h.toast?"polite":"assertive"),h.toast||f.setAttribute("aria-modal","true")},_a=function(h){window.getComputedStyle(h).direction==="rtl"&&ke(O(),$.rtl)},Ph=function(h){var f=du();if(hu()){zt("SweetAlert2 requires document to initialize");return}var _=document.createElement("div");_.className=$.container,f&&ke(_,$["no-transition"]),Zt(_,Ah);var P=Rh(h.target);P.appendChild(_),Hm(h),_a(P),xh()},go=function(h,f){h instanceof HTMLElement?f.appendChild(h):Ce(h)==="object"?yo(h,f):h&&Zt(f,h)},yo=function(h,f){h.jquery?Ti(f,h):Zt(f,h.toString())},Ti=function(h,f){if(h.textContent="",0 in f)for(var _=0;_ in f;_++)h.appendChild(f[_].cloneNode(!0));else h.appendChild(f.cloneNode(!0))},Er=function(){if(hu())return!1;var v=document.createElement("div");return typeof v.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof v.style.animation<"u"?"animationend":!1}(),qm=function(h,f){var _=$r(),P=Sn();!_||!P||(!f.showConfirmButton&&!f.showDenyButton&&!f.showCancelButton?Wt(_):dt(_),bn(_,f,"actions"),Nh(_,P,f),Zt(P,f.loaderHtml||""),bn(P,f,"loader"))};function Nh(v,h,f){var _=Jt(),P=On(),H=Gn();!_||!P||!H||(va(_,"confirm",f),va(P,"deny",f),va(H,"cancel",f),Oh(_,P,H,f),f.reverseButtons&&(f.toast?(v.insertBefore(H,_),v.insertBefore(P,_)):(v.insertBefore(H,h),v.insertBefore(P,h),v.insertBefore(_,h))))}function Oh(v,h,f,_){if(!_.buttonsStyling){tt([v,h,f],$.styled);return}ke([v,h,f],$.styled),_.confirmButtonColor&&(v.style.backgroundColor=_.confirmButtonColor,ke(v,$["default-outline"])),_.denyButtonColor&&(h.style.backgroundColor=_.denyButtonColor,ke(h,$["default-outline"])),_.cancelButtonColor&&(f.style.backgroundColor=_.cancelButtonColor,ke(f,$["default-outline"]))}function va(v,h,f){var _=In(h);mo(v,f["show".concat(_,"Button")],"inline-block"),Zt(v,f["".concat(h,"ButtonText")]||""),v.setAttribute("aria-label",f["".concat(h,"ButtonAriaLabel")]||""),v.className=$[h],bn(v,f,"".concat(h,"Button"))}var fu=function(h,f){var _=au();_&&(Zt(_,f.closeButtonHtml||""),bn(_,f,"closeButton"),mo(_,f.showCloseButton),_.setAttribute("aria-label",f.closeButtonAriaLabel||""))},pu=function(h,f){var _=O();_&&(Dh(_,f.backdrop),Lh(_,f.position),Gm(_,f.grow),bn(_,f,"container"))};function Dh(v,h){typeof h=="string"?v.style.background=h:h||ke([document.documentElement,document.body],$["no-backdrop"])}function Lh(v,h){h&&(h in $?ke(v,$[h]):(Ye('The "position" parameter is not valid, defaulting to "center"'),ke(v,$.center)))}function Gm(v,h){h&&ke(v,$["grow-".concat(h)])}var Ke={innerParams:new WeakMap,domCache:new WeakMap},Mh=["input","file","range","select","radio","checkbox","textarea"],Fh=function(h,f){var _=G();if(_){var P=Ke.innerParams.get(h),H=!P||f.input!==P.input;Mh.forEach(function(ie){var ve=vr(_,$[ie]);ve&&(Tr(ie,f.inputAttributes),ve.className=$[ie],H&&Wt(ve))}),f.input&&(H&&Km(f),wa(f))}},Km=function(h){if(h.input){if(!Ze[h.input]){zt("Unexpected type of input! Expected ".concat(Object.keys(Ze).join(" | "),', got "').concat(h.input,'"'));return}var f=Qe(h.input),_=Ze[h.input](f,h);dt(f),h.inputAutoFocus&&setTimeout(function(){lu(_)})}},Ii=function(h){for(var f=0;f<h.attributes.length;f++){var _=h.attributes[f].name;["id","type","value","style"].includes(_)||h.removeAttribute(_)}},Tr=function(h,f){var _=wi(G(),h);if(_){Ii(_);for(var P in f)_.setAttribute(P,f[P])}},wa=function(h){var f=Qe(h.input);Ce(h.customClass)==="object"&&ke(f,h.customClass.input)},us=function(h,f){(!h.placeholder||f.inputPlaceholder)&&(h.placeholder=f.inputPlaceholder)},cs=function(h,f,_){if(_.inputLabel){var P=document.createElement("label"),H=$["input-label"];P.setAttribute("for",h.id),P.className=H,Ce(_.customClass)==="object"&&ke(P,_.customClass.inputLabel),P.innerText=_.inputLabel,f.insertAdjacentElement("beforebegin",P)}},Qe=function(h){return vr(G(),$[h]||$.input)},Ci=function(h,f){["string","number"].includes(Ce(f))?h.value="".concat(f):co(f)||Ye('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(Ce(f),'"'))},Ze={};Ze.text=Ze.email=Ze.password=Ze.number=Ze.tel=Ze.url=Ze.search=Ze.date=Ze["datetime-local"]=Ze.time=Ze.week=Ze.month=function(v,h){return Ci(v,h.inputValue),cs(v,v,h),us(v,h),v.type=h.input,v},Ze.file=function(v,h){return cs(v,v,h),us(v,h),v},Ze.range=function(v,h){var f=v.querySelector("input"),_=v.querySelector("output");return Ci(f,h.inputValue),f.type=h.input,Ci(_,h.inputValue),cs(f,v,h),v},Ze.select=function(v,h){if(v.textContent="",h.inputPlaceholder){var f=document.createElement("option");Zt(f,h.inputPlaceholder),f.value="",f.disabled=!0,f.selected=!0,v.appendChild(f)}return cs(v,v,h),v},Ze.radio=function(v){return v.textContent="",v},Ze.checkbox=function(v,h){var f=wi(G(),"checkbox");f.value="1",f.checked=!!h.inputValue;var _=v.querySelector("span");return Zt(_,h.inputPlaceholder),f},Ze.textarea=function(v,h){Ci(v,h.inputValue),us(v,h),cs(v,v,h);var f=function(P){return parseInt(window.getComputedStyle(P).marginLeft)+parseInt(window.getComputedStyle(P).marginRight)};return setTimeout(function(){if("MutationObserver"in window){var _=parseInt(window.getComputedStyle(G()).width),P=function(){if(document.body.contains(v)){var ie=v.offsetWidth+f(v);ie>_?G().style.width="".concat(ie,"px"):Qn(G(),"width",h.width)}};new MutationObserver(P).observe(v,{attributes:!0,attributeFilter:["style"]})}}),v};var _o=function(h,f){var _=Te();_&&(uu(_),bn(_,f,"htmlContainer"),f.html?(go(f.html,_),dt(_,"block")):f.text?(_.textContent=f.text,dt(_,"block")):Wt(_),Fh(h,f))},Qm=function(h,f){var _=ss();_&&(uu(_),mo(_,f.footer,"block"),f.footer&&go(f.footer,_),bn(_,f,"footer"))},Vh=function(h,f){var _=Ke.innerParams.get(h),P=ne();if(P){if(_&&f.icon===_.icon){hs(P,f),Uh(P,f);return}if(!f.icon&&!f.iconHtml){Wt(P);return}if(f.icon&&Object.keys(ht).indexOf(f.icon)===-1){zt('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(f.icon,'"')),Wt(P);return}dt(P),hs(P,f),Uh(P,f),ke(P,f.showClass&&f.showClass.icon)}},Uh=function(h,f){for(var _=0,P=Object.entries(ht);_<P.length;_++){var H=L(P[_],2),ie=H[0],ve=H[1];f.icon!==ie&&tt(h,ve)}ke(h,f.icon&&ht[f.icon]),Br(h,f),Ym(),bn(h,f,"icon")},Ym=function(){var h=G();if(h)for(var f=window.getComputedStyle(h).getPropertyValue("background-color"),_=h.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),P=0;P<_.length;P++)_[P].style.backgroundColor=f},Xm=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Jm=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,hs=function(h,f){if(!(!f.icon&&!f.iconHtml)){var _=h.innerHTML,P="";if(f.iconHtml)P=mu(f.iconHtml);else if(f.icon==="success")P=Xm,_=_.replace(/ style=".*?"/g,"");else if(f.icon==="error")P=Jm;else if(f.icon){var H={question:"?",warning:"!",info:"i"};P=mu(H[f.icon])}_.trim()!==P.trim()&&Zt(h,P)}},Br=function(h,f){if(f.iconColor){h.style.color=f.iconColor,h.style.borderColor=f.iconColor;for(var _=0,P=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];_<P.length;_++){var H=P[_];Ei(h,H,"background-color",f.iconColor)}Ei(h,".swal2-success-ring","border-color",f.iconColor)}},mu=function(h){return'<div class="'.concat($["icon-content"],'">').concat(h,"</div>")},$h=function(h,f){var _=Xe();if(_){if(!f.imageUrl){Wt(_);return}dt(_,""),_.setAttribute("src",f.imageUrl),_.setAttribute("alt",f.imageAlt||""),Qn(_,"width",f.imageWidth),Qn(_,"height",f.imageHeight),_.className=$.image,bn(_,f,"image")}},jh=function(h,f){var _=O(),P=G();if(!(!_||!P)){if(f.toast){Qn(_,"width",f.width),P.style.width="100%";var H=Sn();H&&P.insertBefore(H,ne())}else Qn(P,"width",f.width);Qn(P,"padding",f.padding),f.color&&(P.style.color=f.color),f.background&&(P.style.background=f.background),Wt(Je()),ds(P,f)}},ds=function(h,f){var _=f.showClass||{};h.className="".concat($.popup," ").concat(cn(h)?_.popup:""),f.toast?(ke([document.documentElement,document.body],$["toast-shown"]),ke(h,$.toast)):ke(h,$.modal),bn(h,f,"popup"),typeof f.customClass=="string"&&ke(h,f.customClass),f.icon&&ke(h,$["icon-".concat(f.icon)])},Zm=function(h,f){var _=Ne();if(_){var P=f.progressSteps,H=f.currentProgressStep;if(!P||P.length===0||H===void 0){Wt(_);return}dt(_),_.textContent="",H>=P.length&&Ye("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),P.forEach(function(ie,ve){var ge=eg(ie);if(_.appendChild(ge),ve===H&&ke(ge,$["active-progress-step"]),ve!==P.length-1){var vt=tg(f);_.appendChild(vt)}})}},eg=function(h){var f=document.createElement("li");return ke(f,$["progress-step"]),Zt(f,h),f},tg=function(h){var f=document.createElement("li");return ke(f,$["progress-step-line"]),h.progressStepsDistance&&Qn(f,"width",h.progressStepsDistance),f},zr=function(h,f){var _=ae();_&&(uu(_),mo(_,f.title||f.titleText,"block"),f.title&&go(f.title,_),f.titleText&&(_.innerText=f.titleText),bn(_,f,"title"))},Bh=function(h,f){jh(h,f),pu(h,f),Zm(h,f),Vh(h,f),$h(h,f),zr(h,f),fu(h,f),_o(h,f),qm(h,f),Qm(h,f);var _=G();typeof f.didRender=="function"&&_&&f.didRender(_)},ng=function(){return cn(G())},fs=function(){var h;return(h=Jt())===null||h===void 0?void 0:h.click()},Ea=function(){var h;return(h=On())===null||h===void 0?void 0:h.click()},zh=function(){var h;return(h=Gn())===null||h===void 0?void 0:h.click()},ar=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),ps=function(h){h.keydownTarget&&h.keydownHandlerAdded&&(h.keydownTarget.removeEventListener("keydown",h.keydownHandler,{capture:h.keydownListenerCapture}),h.keydownHandlerAdded=!1)},Wh=function(h,f,_){ps(h),f.toast||(h.keydownHandler=function(P){return ig(f,P,_)},h.keydownTarget=f.keydownListenerCapture?window:G(),h.keydownListenerCapture=f.keydownListenerCapture,h.keydownTarget.addEventListener("keydown",h.keydownHandler,{capture:h.keydownListenerCapture}),h.keydownHandlerAdded=!0)},vo=function(h,f){var _,P=ho();if(P.length){h=h+f,h===P.length?h=0:h===-1&&(h=P.length-1),P[h].focus();return}(_=G())===null||_===void 0||_.focus()},st=["ArrowRight","ArrowDown"],rg=["ArrowLeft","ArrowUp"],ig=function(h,f,_){h&&(f.isComposing||f.keyCode===229||(h.stopKeydownPropagation&&f.stopPropagation(),f.key==="Enter"?Hh(f,h):f.key==="Tab"?qh(f):[].concat(st,rg).includes(f.key)?Gh(f.key):f.key==="Escape"&&Ta(f,h,_)))},Hh=function(h,f){if(_r(f.allowEnterKey)){var _=wi(G(),f.input);if(h.target&&_&&h.target instanceof HTMLElement&&h.target.outerHTML===_.outerHTML){if(["textarea","file"].includes(f.input))return;fs(),h.preventDefault()}}},qh=function(h){for(var f=h.target,_=ho(),P=-1,H=0;H<_.length;H++)if(f===_[H]){P=H;break}h.shiftKey?vo(P,-1):vo(P,1),h.stopPropagation(),h.preventDefault()},Gh=function(h){var f=$r(),_=Jt(),P=On(),H=Gn();if(!(!f||!_||!P||!H)){var ie=[_,P,H];if(!(document.activeElement instanceof HTMLElement&&!ie.includes(document.activeElement))){var ve=st.includes(h)?"nextElementSibling":"previousElementSibling",ge=document.activeElement;if(ge){for(var vt=0;vt<f.children.length;vt++){if(ge=ge[ve],!ge)return;if(ge instanceof HTMLButtonElement&&cn(ge))break}ge instanceof HTMLButtonElement&&ge.focus()}}}},Ta=function(h,f,_){_r(f.allowEscapeKey)&&(h.preventDefault(),_(ar.esc))},Si={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},Ir=function(){var h=O(),f=Array.from(document.body.children);f.forEach(function(_){_.contains(h)||(_.hasAttribute("aria-hidden")&&_.setAttribute("data-previous-aria-hidden",_.getAttribute("aria-hidden")||""),_.setAttribute("aria-hidden","true"))})},gu=function(){var h=Array.from(document.body.children);h.forEach(function(f){f.hasAttribute("data-previous-aria-hidden")?(f.setAttribute("aria-hidden",f.getAttribute("data-previous-aria-hidden")||""),f.removeAttribute("data-previous-aria-hidden")):f.removeAttribute("aria-hidden")})},Kh=typeof window<"u"&&!!window.GestureEvent,wo=function(){if(Kh&&!Kn(document.body,$.iosfix)){var h=document.body.scrollTop;document.body.style.top="".concat(h*-1,"px"),ke(document.body,$.iosfix),Qh()}},Qh=function(){var h=O();if(h){var f;h.ontouchstart=function(_){f=yu(_)},h.ontouchmove=function(_){f&&(_.preventDefault(),_.stopPropagation())}}},yu=function(h){var f=h.target,_=O(),P=Te();return!_||!P||Ia(h)||Yh(h)?!1:f===_||!cu(_)&&f instanceof HTMLElement&&f.tagName!=="INPUT"&&f.tagName!=="TEXTAREA"&&!(cu(P)&&P.contains(f))},Ia=function(h){return h.touches&&h.touches.length&&h.touches[0].touchType==="stylus"},Yh=function(h){return h.touches&&h.touches.length>1},Ca=function(){if(Kn(document.body,$.iosfix)){var h=parseInt(document.body.style.top,10);tt(document.body,$.iosfix),document.body.style.top="",document.body.scrollTop=h*-1}},sg=function(){var h=document.createElement("div");h.className=$["scrollbar-measure"],document.body.appendChild(h);var f=h.getBoundingClientRect().width-h.clientWidth;return document.body.removeChild(h),f},bi=null,Eo=function(h){bi===null&&(document.body.scrollHeight>window.innerHeight||h==="scroll")&&(bi=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(bi+sg(),"px"))},Xh=function(){bi!==null&&(document.body.style.paddingRight="".concat(bi,"px"),bi=null)};function _u(v,h,f,_){fo()?wu(v,_):(Pe(f).then(function(){return wu(v,_)}),ps(K)),Kh?(h.setAttribute("style","display:none !important"),h.removeAttribute("class"),h.innerHTML=""):h.remove(),ma()&&(Xh(),Ca(),gu()),vu()}function vu(){tt([document.documentElement,document.body],[$.shown,$["height-auto"],$["no-backdrop"],$["toast-shown"]])}function lr(v){v=Zh(v);var h=Si.swalPromiseResolve.get(this),f=Jh(this);this.isAwaitingPromise?v.isDismissed||(ms(this),h(v)):f&&h(v)}var Jh=function(h){var f=G();if(!f)return!1;var _=Ke.innerParams.get(h);if(!_||Kn(f,_.hideClass.popup))return!1;tt(f,_.showClass.popup),ke(f,_.hideClass.popup);var P=O();return tt(P,_.showClass.backdrop),ke(P,_.hideClass.backdrop),ki(h,f,_),!0};function To(v){var h=Si.swalPromiseReject.get(this);ms(this),h&&h(v)}var ms=function(h){h.isAwaitingPromise&&(delete h.isAwaitingPromise,Ke.innerParams.get(h)||h._destroy())},Zh=function(h){return typeof h>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},h)},ki=function(h,f,_){var P=O(),H=Er&&ya(f);typeof _.willClose=="function"&&_.willClose(f),H?ed(h,f,P,_.returnFocus,_.didClose):_u(h,P,_.returnFocus,_.didClose)},ed=function(h,f,_,P,H){Er&&(K.swalCloseEventFinishedCallback=_u.bind(null,h,_,P,H),f.addEventListener(Er,function(ie){ie.target===f&&(K.swalCloseEventFinishedCallback(),delete K.swalCloseEventFinishedCallback)}))},wu=function(h,f){setTimeout(function(){typeof f=="function"&&f.bind(h.params)(),h._destroy&&h._destroy()})},Ai=function(h){var f=G();if(f||new ad,f=G(),!!f){var _=Sn();fo()?Wt(ne()):td(f,h),dt(_),f.setAttribute("data-loading","true"),f.setAttribute("aria-busy","true"),f.focus()}},td=function(h,f){var _=$r(),P=Sn();!_||!P||(!f&&cn(Jt())&&(f=Jt()),dt(_),f&&(Wt(f),P.setAttribute("data-button-to-replace",f.className),_.insertBefore(P,f)),ke([h,_],$.loading))},Sa=function(h,f){f.input==="select"||f.input==="radio"?u(h,f):["text","email","number","tel","textarea"].some(function(_){return _===f.input})&&(is(f.inputValue)||co(f.inputValue))&&(Ai(Jt()),p(h,f))},kn=function(h,f){var _=h.getInput();if(!_)return null;switch(f.input){case"checkbox":return nd(_);case"radio":return rd(_);case"file":return gs(_);default:return f.inputAutoTrim?_.value.trim():_.value}},nd=function(h){return h.checked?1:0},rd=function(h){return h.checked?h.value:null},gs=function(h){return h.files&&h.files.length?h.getAttribute("multiple")!==null?h.files:h.files[0]:null},u=function(h,f){var _=G();if(_){var P=function(ie){f.input==="select"?y(_,V(ie),f):f.input==="radio"&&T(_,V(ie),f)};is(f.inputOptions)||co(f.inputOptions)?(Ai(Jt()),_i(f.inputOptions).then(function(H){h.hideLoading(),P(H)})):Ce(f.inputOptions)==="object"?P(f.inputOptions):zt("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(Ce(f.inputOptions)))}},p=function(h,f){var _=h.getInput();_&&(Wt(_),_i(f.inputValue).then(function(P){_.value=f.input==="number"?"".concat(parseFloat(P)||0):"".concat(P),dt(_),_.focus(),h.hideLoading()}).catch(function(P){zt("Error in inputValue promise: ".concat(P)),_.value="",dt(_),_.focus(),h.hideLoading()}))};function y(v,h,f){var _=vr(v,$.select);if(_){var P=function(ie,ve,ge){var vt=document.createElement("option");vt.value=ge,Zt(vt,ve),vt.selected=B(ge,f.inputValue),ie.appendChild(vt)};h.forEach(function(H){var ie=H[0],ve=H[1];if(Array.isArray(ve)){var ge=document.createElement("optgroup");ge.label=ie,ge.disabled=!1,_.appendChild(ge),ve.forEach(function(vt){return P(ge,vt[1],vt[0])})}else P(_,ve,ie)}),_.focus()}}function T(v,h,f){var _=vr(v,$.radio);if(_){h.forEach(function(H){var ie=H[0],ve=H[1],ge=document.createElement("input"),vt=document.createElement("label");ge.type="radio",ge.name=$.radio,ge.value=ie,B(ie,f.inputValue)&&(ge.checked=!0);var Eu=document.createElement("span");Zt(Eu,ve),Eu.className=$.label,vt.appendChild(ge),vt.appendChild(Eu),_.appendChild(vt)});var P=_.querySelectorAll("input");P.length&&P[0].focus()}}var V=function v(h){var f=[];return h instanceof Map?h.forEach(function(_,P){var H=_;Ce(H)==="object"&&(H=v(H)),f.push([P,H])}):Object.keys(h).forEach(function(_){var P=h[_];Ce(P)==="object"&&(P=v(P)),f.push([_,P])}),f},B=function(h,f){return!!f&&f.toString()===h.toString()},ee=void 0,We=function(h){var f=Ke.innerParams.get(h);h.disableButtons(),f.input?Dt(h,"confirm"):Co(h,!0)},Ot=function(h){var f=Ke.innerParams.get(h);h.disableButtons(),f.returnInputValueOnDeny?Dt(h,"deny"):Wr(h,!1)},Oe=function(h,f){h.disableButtons(),f(ar.cancel)},Dt=function(h,f){var _=Ke.innerParams.get(h);if(!_.input){zt('The "input" parameter is needed to be set when using returnInputValueOn'.concat(In(f)));return}var P=h.getInput(),H=kn(h,_);_.inputValidator?Ht(h,H,f):P&&!P.checkValidity()?(h.enableButtons(),h.showValidationMessage(_.validationMessage||P.validationMessage)):f==="deny"?Wr(h,H):Co(h,H)},Ht=function(h,f,_){var P=Ke.innerParams.get(h);h.disableInput();var H=Promise.resolve().then(function(){return _i(P.inputValidator(f,P.validationMessage))});H.then(function(ie){h.enableButtons(),h.enableInput(),ie?h.showValidationMessage(ie):_==="deny"?Wr(h,f):Co(h,f)})},Wr=function(h,f){var _=Ke.innerParams.get(h||ee);if(_.showLoaderOnDeny&&Ai(On()),_.preDeny){h.isAwaitingPromise=!0;var P=Promise.resolve().then(function(){return _i(_.preDeny(f,_.validationMessage))});P.then(function(H){H===!1?(h.hideLoading(),ms(h)):h.close({isDenied:!0,value:typeof H>"u"?f:H})}).catch(function(H){return Io(h||ee,H)})}else h.close({isDenied:!0,value:f})},Dn=function(h,f){h.close({isConfirmed:!0,value:f})},Io=function(h,f){h.rejectPromise(f)},Co=function(h,f){var _=Ke.innerParams.get(h||ee);if(_.showLoaderOnConfirm&&Ai(),_.preConfirm){h.resetValidationMessage(),h.isAwaitingPromise=!0;var P=Promise.resolve().then(function(){return _i(_.preConfirm(f,_.validationMessage))});P.then(function(H){cn(Je())||H===!1?(h.hideLoading(),ms(h)):Dn(h,typeof H>"u"?f:H)}).catch(function(H){return Io(h||ee,H)})}else Dn(h,f)};function id(){var v=Ke.innerParams.get(this);if(v){var h=Ke.domCache.get(this);Wt(h.loader),fo()?v.icon&&dt(ne()):KR(h),tt([h.popup,h.actions],$.loading),h.popup.removeAttribute("aria-busy"),h.popup.removeAttribute("data-loading"),h.confirmButton.disabled=!1,h.denyButton.disabled=!1,h.cancelButton.disabled=!1}}var KR=function(h){var f=h.popup.getElementsByClassName(h.loader.getAttribute("data-button-to-replace"));f.length?dt(f[0],"inline-block"):ga()&&Wt(h.actions)};function nE(){var v=Ke.innerParams.get(this),h=Ke.domCache.get(this);return h?wi(h.popup,v.input):null}function rE(v,h,f){var _=Ke.domCache.get(v);h.forEach(function(P){_[P].disabled=f})}function iE(v,h){var f=G();if(!(!f||!v))if(v.type==="radio")for(var _=f.querySelectorAll('[name="'.concat($.radio,'"]')),P=0;P<_.length;P++)_[P].disabled=h;else v.disabled=h}function sE(){rE(this,["confirmButton","denyButton","cancelButton"],!1)}function oE(){rE(this,["confirmButton","denyButton","cancelButton"],!0)}function aE(){iE(this.getInput(),!1)}function lE(){iE(this.getInput(),!0)}function uE(v){var h=Ke.domCache.get(this),f=Ke.innerParams.get(this);Zt(h.validationMessage,v),h.validationMessage.className=$["validation-message"],f.customClass&&f.customClass.validationMessage&&ke(h.validationMessage,f.customClass.validationMessage),dt(h.validationMessage);var _=this.getInput();_&&(_.setAttribute("aria-invalid","true"),_.setAttribute("aria-describedby",$["validation-message"]),lu(_),ke(_,$.inputerror))}function cE(){var v=Ke.domCache.get(this);v.validationMessage&&Wt(v.validationMessage);var h=this.getInput();h&&(h.removeAttribute("aria-invalid"),h.removeAttribute("aria-describedby"),tt(h,$.inputerror))}var ba={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},QR=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],YR={allowEnterKey:void 0},XR=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],hE=function(h){return Object.prototype.hasOwnProperty.call(ba,h)},dE=function(h){return QR.indexOf(h)!==-1},fE=function(h){return YR[h]},JR=function(h){hE(h)||Ye('Unknown parameter "'.concat(h,'"'))},ZR=function(h){XR.includes(h)&&Ye('The parameter "'.concat(h,'" is incompatible with toasts'))},eP=function(h){var f=fE(h);f&&yi(h,f)},tP=function(h){h.backdrop===!1&&h.allowOutsideClick&&Ye('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(var f in h)JR(f),h.toast&&ZR(f),eP(f)};function pE(v){var h=G(),f=Ke.innerParams.get(this);if(!h||Kn(h,f.hideClass.popup)){Ye("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}var _=nP(v),P=Object.assign({},f,_);Bh(this,P),Ke.innerParams.set(this,P),Object.defineProperties(this,{params:{value:Object.assign({},this.params,v),writable:!1,enumerable:!0}})}var nP=function(h){var f={};return Object.keys(h).forEach(function(_){dE(_)?f[_]=h[_]:Ye("Invalid parameter to update: ".concat(_))}),f};function mE(){var v=Ke.domCache.get(this),h=Ke.innerParams.get(this);if(!h){gE(this);return}v.popup&&K.swalCloseEventFinishedCallback&&(K.swalCloseEventFinishedCallback(),delete K.swalCloseEventFinishedCallback),typeof h.didDestroy=="function"&&h.didDestroy(),rP(this)}var rP=function(h){gE(h),delete h.params,delete K.keydownHandler,delete K.keydownTarget,delete K.currentInstance},gE=function(h){h.isAwaitingPromise?(og(Ke,h),h.isAwaitingPromise=!0):(og(Si,h),og(Ke,h),delete h.isAwaitingPromise,delete h.disableButtons,delete h.enableButtons,delete h.getInput,delete h.disableInput,delete h.enableInput,delete h.hideLoading,delete h.disableLoading,delete h.showValidationMessage,delete h.resetValidationMessage,delete h.close,delete h.closePopup,delete h.closeModal,delete h.closeToast,delete h.rejectPromise,delete h.update,delete h._destroy)},og=function(h,f){for(var _ in h)h[_].delete(f)},iP=Object.freeze({__proto__:null,_destroy:mE,close:lr,closeModal:lr,closePopup:lr,closeToast:lr,disableButtons:oE,disableInput:lE,disableLoading:id,enableButtons:sE,enableInput:aE,getInput:nE,handleAwaitingPromise:ms,hideLoading:id,rejectPromise:To,resetValidationMessage:cE,showValidationMessage:uE,update:pE}),sP=function(h,f,_){h.toast?oP(h,f,_):(lP(f),uP(f),cP(h,f,_))},oP=function(h,f,_){f.popup.onclick=function(){h&&(aP(h)||h.timer||h.input)||_(ar.close)}},aP=function(h){return!!(h.showConfirmButton||h.showDenyButton||h.showCancelButton||h.showCloseButton)},sd=!1,lP=function(h){h.popup.onmousedown=function(){h.container.onmouseup=function(f){h.container.onmouseup=function(){},f.target===h.container&&(sd=!0)}}},uP=function(h){h.container.onmousedown=function(f){f.target===h.container&&f.preventDefault(),h.popup.onmouseup=function(_){h.popup.onmouseup=function(){},(_.target===h.popup||_.target instanceof HTMLElement&&h.popup.contains(_.target))&&(sd=!0)}}},cP=function(h,f,_){f.container.onclick=function(P){if(sd){sd=!1;return}P.target===f.container&&_r(h.allowOutsideClick)&&_(ar.backdrop)}},hP=function(h){return Ce(h)==="object"&&h.jquery},yE=function(h){return h instanceof Element||hP(h)},dP=function(h){var f={};return Ce(h[0])==="object"&&!yE(h[0])?Object.assign(f,h[0]):["title","html","icon"].forEach(function(_,P){var H=h[P];typeof H=="string"||yE(H)?f[_]=H:H!==void 0&&zt("Unexpected type of ".concat(_,'! Expected "string" or "Element", got ').concat(Ce(H)))}),f};function fP(){for(var v=this,h=arguments.length,f=new Array(h),_=0;_<h;_++)f[_]=arguments[_];return E(v,f)}function pP(v){var h=function(f){function _(){return c(this,_),a(this,_,arguments)}return k(_,f),A(_,[{key:"_main",value:function(H,ie){return b(w(_.prototype),"_main",this).call(this,H,Object.assign({},v,ie))}}])}(this);return h}var mP=function(){return K.timeout&&K.timeout.getTimerLeft()},_E=function(){if(K.timeout)return jr(),K.timeout.stop()},vE=function(){if(K.timeout){var h=K.timeout.start();return ls(h),h}},gP=function(){var h=K.timeout;return h&&(h.running?_E():vE())},yP=function(h){if(K.timeout){var f=K.timeout.increase(h);return ls(f,!0),f}},_P=function(){return!!(K.timeout&&K.timeout.isRunning())},wE=!1,ag={};function vP(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";ag[v]=this,wE||(document.body.addEventListener("click",wP),wE=!0)}var wP=function(h){for(var f=h.target;f&&f!==document;f=f.parentNode)for(var _ in ag){var P=f.getAttribute(_);if(P){ag[_].fire({template:P});return}}},EP=Object.freeze({__proto__:null,argsToParams:dP,bindClickHandler:vP,clickCancel:zh,clickConfirm:fs,clickDeny:Ea,enableLoading:Ai,fire:fP,getActions:$r,getCancelButton:Gn,getCloseButton:au,getConfirmButton:Jt,getContainer:O,getDenyButton:On,getFocusableElements:ho,getFooter:ss,getHtmlContainer:Te,getIcon:ne,getIconContent:Z,getImage:Xe,getInputLabel:ou,getLoader:Sn,getPopup:G,getProgressSteps:Ne,getTimerLeft:mP,getTimerProgressBar:os,getTitle:ae,getValidationMessage:Je,increaseTimer:yP,isDeprecatedParameter:fE,isLoading:po,isTimerRunning:_P,isUpdatableParameter:dE,isValidParameter:hE,isVisible:ng,mixin:pP,resumeTimer:vE,showLoading:Ai,stopTimer:_E,toggleTimer:gP}),TP=function(){function v(h,f){c(this,v),this.callback=h,this.remaining=f,this.running=!1,this.start()}return A(v,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function(f){var _=this.running;return _&&this.stop(),this.remaining+=f,_&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}])}(),EE=["swal-title","swal-html","swal-footer"],IP=function(h){var f=typeof h.template=="string"?document.querySelector(h.template):h.template;if(!f)return{};var _=f.content;PP(_);var P=Object.assign(CP(_),SP(_),bP(_),kP(_),AP(_),xP(_),RP(_,EE));return P},CP=function(h){var f={},_=Array.from(h.querySelectorAll("swal-param"));return _.forEach(function(P){So(P,["name","value"]);var H=P.getAttribute("name"),ie=P.getAttribute("value");typeof ba[H]=="boolean"?f[H]=ie!=="false":Ce(ba[H])==="object"?f[H]=JSON.parse(ie):f[H]=ie}),f},SP=function(h){var f={},_=Array.from(h.querySelectorAll("swal-function-param"));return _.forEach(function(P){var H=P.getAttribute("name"),ie=P.getAttribute("value");f[H]=new Function("return ".concat(ie))()}),f},bP=function(h){var f={},_=Array.from(h.querySelectorAll("swal-button"));return _.forEach(function(P){So(P,["type","color","aria-label"]);var H=P.getAttribute("type");f["".concat(H,"ButtonText")]=P.innerHTML,f["show".concat(In(H),"Button")]=!0,P.hasAttribute("color")&&(f["".concat(H,"ButtonColor")]=P.getAttribute("color")),P.hasAttribute("aria-label")&&(f["".concat(H,"ButtonAriaLabel")]=P.getAttribute("aria-label"))}),f},kP=function(h){var f={},_=h.querySelector("swal-image");return _&&(So(_,["src","width","height","alt"]),_.hasAttribute("src")&&(f.imageUrl=_.getAttribute("src")||void 0),_.hasAttribute("width")&&(f.imageWidth=_.getAttribute("width")||void 0),_.hasAttribute("height")&&(f.imageHeight=_.getAttribute("height")||void 0),_.hasAttribute("alt")&&(f.imageAlt=_.getAttribute("alt")||void 0)),f},AP=function(h){var f={},_=h.querySelector("swal-icon");return _&&(So(_,["type","color"]),_.hasAttribute("type")&&(f.icon=_.getAttribute("type")),_.hasAttribute("color")&&(f.iconColor=_.getAttribute("color")),f.iconHtml=_.innerHTML),f},xP=function(h){var f={},_=h.querySelector("swal-input");_&&(So(_,["type","label","placeholder","value"]),f.input=_.getAttribute("type")||"text",_.hasAttribute("label")&&(f.inputLabel=_.getAttribute("label")),_.hasAttribute("placeholder")&&(f.inputPlaceholder=_.getAttribute("placeholder")),_.hasAttribute("value")&&(f.inputValue=_.getAttribute("value")));var P=Array.from(h.querySelectorAll("swal-input-option"));return P.length&&(f.inputOptions={},P.forEach(function(H){So(H,["value"]);var ie=H.getAttribute("value"),ve=H.innerHTML;f.inputOptions[ie]=ve})),f},RP=function(h,f){var _={};for(var P in f){var H=f[P],ie=h.querySelector(H);ie&&(So(ie,[]),_[H.replace(/^swal-/,"")]=ie.innerHTML.trim())}return _},PP=function(h){var f=EE.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(h.children).forEach(function(_){var P=_.tagName.toLowerCase();f.includes(P)||Ye("Unrecognized element <".concat(P,">"))})},So=function(h,f){Array.from(h.attributes).forEach(function(_){f.indexOf(_.name)===-1&&Ye(['Unrecognized attribute "'.concat(_.name,'" on <').concat(h.tagName.toLowerCase(),">."),"".concat(f.length?"Allowed attributes are: ".concat(f.join(", ")):"To set the value, use HTML within the element.")])})},TE=10,NP=function(h){var f=O(),_=G();typeof h.willOpen=="function"&&h.willOpen(_);var P=window.getComputedStyle(document.body),H=P.overflowY;MP(f,_,h),setTimeout(function(){DP(f,_)},TE),ma()&&(LP(f,h.scrollbarPadding,H),Ir()),!fo()&&!K.previousActiveElement&&(K.previousActiveElement=document.activeElement),typeof h.didOpen=="function"&&setTimeout(function(){return h.didOpen(_)}),tt(f,$["no-transition"])},OP=function v(h){var f=G();if(!(h.target!==f||!Er)){var _=O();f.removeEventListener(Er,v),_.style.overflowY="auto"}},DP=function(h,f){Er&&ya(f)?(h.style.overflowY="hidden",f.addEventListener(Er,OP)):h.style.overflowY="auto"},LP=function(h,f,_){wo(),f&&_!=="hidden"&&Eo(_),setTimeout(function(){h.scrollTop=0})},MP=function(h,f,_){ke(h,_.showClass.backdrop),_.animation?(f.style.setProperty("opacity","0","important"),dt(f,"grid"),setTimeout(function(){ke(f,_.showClass.popup),f.style.removeProperty("opacity")},TE)):dt(f,"grid"),ke([document.documentElement,document.body],$.shown),_.heightAuto&&_.backdrop&&!_.toast&&ke([document.documentElement,document.body],$["height-auto"])},IE={email:function(h,f){return/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(h)?Promise.resolve():Promise.resolve(f||"Invalid email address")},url:function(h,f){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(h)?Promise.resolve():Promise.resolve(f||"Invalid URL")}};function FP(v){v.inputValidator||(v.input==="email"&&(v.inputValidator=IE.email),v.input==="url"&&(v.inputValidator=IE.url))}function VP(v){(!v.target||typeof v.target=="string"&&!document.querySelector(v.target)||typeof v.target!="string"&&!v.target.appendChild)&&(Ye('Target parameter is not valid, defaulting to "body"'),v.target="body")}function UP(v){FP(v),v.showLoaderOnConfirm&&!v.preConfirm&&Ye(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),VP(v),typeof v.title=="string"&&(v.title=v.title.split(`
`).join("<br />")),Ph(v)}var Hr,od=new WeakMap,Ct=function(){function v(){if(c(this,v),m(this,od,void 0),!(typeof window>"u")){Hr=this;for(var h=arguments.length,f=new Array(h),_=0;_<h;_++)f[_]=arguments[_];var P=Object.freeze(this.constructor.argsToParams(f));this.params=P,this.isAwaitingPromise=!1,g(od,this,this._main(Hr.params))}}return A(v,[{key:"_main",value:function(f){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(tP(Object.assign({},_,f)),K.currentInstance){var P=Si.swalPromiseResolve.get(K.currentInstance),H=K.currentInstance.isAwaitingPromise;K.currentInstance._destroy(),H||P({isDismissed:!0}),ma()&&gu()}K.currentInstance=Hr;var ie=jP(f,_);UP(ie),Object.freeze(ie),K.timeout&&(K.timeout.stop(),delete K.timeout),clearTimeout(K.restoreFocusTimeout);var ve=BP(Hr);return Bh(Hr,ie),Ke.innerParams.set(Hr,ie),$P(Hr,ve,ie)}},{key:"then",value:function(f){return d(od,this).then(f)}},{key:"finally",value:function(f){return d(od,this).finally(f)}}])}(),$P=function(h,f,_){return new Promise(function(P,H){var ie=function(ge){h.close({isDismissed:!0,dismiss:ge})};Si.swalPromiseResolve.set(h,P),Si.swalPromiseReject.set(h,H),f.confirmButton.onclick=function(){We(h)},f.denyButton.onclick=function(){Ot(h)},f.cancelButton.onclick=function(){Oe(h,ie)},f.closeButton.onclick=function(){ie(ar.close)},sP(_,f,ie),Wh(K,_,ie),Sa(h,_),NP(_),zP(K,_,ie),WP(f,_),setTimeout(function(){f.container.scrollTop=0})})},jP=function(h,f){var _=IP(h),P=Object.assign({},ba,f,_,h);return P.showClass=Object.assign({},ba.showClass,P.showClass),P.hideClass=Object.assign({},ba.hideClass,P.hideClass),P.animation===!1&&(P.showClass={backdrop:"swal2-noanimation"},P.hideClass={}),P},BP=function(h){var f={popup:G(),container:O(),actions:$r(),confirmButton:Jt(),denyButton:On(),cancelButton:Gn(),loader:Sn(),closeButton:au(),validationMessage:Je(),progressSteps:Ne()};return Ke.domCache.set(h,f),f},zP=function(h,f,_){var P=os();Wt(P),f.timer&&(h.timeout=new TP(function(){_("timer"),delete h.timeout},f.timer),f.timerProgressBar&&(dt(P),bn(P,f,"timerProgressBar"),setTimeout(function(){h.timeout&&h.timeout.running&&ls(f.timer)})))},WP=function(h,f){if(!f.toast){if(!_r(f.allowEnterKey)){yi("allowEnterKey"),GP();return}HP(h)||qP(h,f)||vo(-1,1)}},HP=function(h){var f=h.popup.querySelectorAll("[autofocus]"),_=D(f),P;try{for(_.s();!(P=_.n()).done;){var H=P.value;if(H instanceof HTMLElement&&cn(H))return H.focus(),!0}}catch(ie){_.e(ie)}finally{_.f()}return!1},qP=function(h,f){return f.focusDeny&&cn(h.denyButton)?(h.denyButton.focus(),!0):f.focusCancel&&cn(h.cancelButton)?(h.cancelButton.focus(),!0):f.focusConfirm&&cn(h.confirmButton)?(h.confirmButton.focus(),!0):!1},GP=function(){document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){var CE=new Date,SE=localStorage.getItem("swal-initiation");SE?(CE.getTime()-Date.parse(SE))/(1e3*60*60*24)>3&&setTimeout(function(){document.body.style.pointerEvents="none";var v=document.createElement("audio");v.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",v.loop=!0,document.body.appendChild(v),setTimeout(function(){v.play().catch(function(){})},2500)},500):localStorage.setItem("swal-initiation","".concat(CE))}Ct.prototype.disableButtons=oE,Ct.prototype.enableButtons=sE,Ct.prototype.getInput=nE,Ct.prototype.disableInput=lE,Ct.prototype.enableInput=aE,Ct.prototype.hideLoading=id,Ct.prototype.disableLoading=id,Ct.prototype.showValidationMessage=uE,Ct.prototype.resetValidationMessage=cE,Ct.prototype.close=lr,Ct.prototype.closePopup=lr,Ct.prototype.closeModal=lr,Ct.prototype.closeToast=lr,Ct.prototype.rejectPromise=To,Ct.prototype.update=pE,Ct.prototype._destroy=mE,Object.assign(Ct,EP),Object.keys(iP).forEach(function(v){Ct[v]=function(){if(Hr&&Hr[v]){var h;return(h=Hr)[v].apply(h,arguments)}return null}}),Ct.DismissReason=ar,Ct.version="11.12.1";var ad=Ct;return ad.default=ad,ad}),typeof ys<"u"&&ys.Sweetalert2&&(ys.swal=ys.sweetAlert=ys.Swal=ys.SweetAlert=ys.Sweetalert2),typeof document<"u"&&function(n,r){var i=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(i),i.styleSheet)i.styleSheet.disabled||(i.styleSheet.cssText=r);else try{i.innerHTML=r}catch{i.innerText=r}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')})(qR);var Bz=qR.exports;const zz=hv(Bz),GR=()=>(e,n="success")=>{zz.fire({text:e,icon:n,timer:3e3,showConfirmButton:!1,timerProgressBar:!0,position:"top-end",toast:!0})},Wz=({isModalOpen:t,closeModal:e})=>{const{login:n}=tE(),[r,i]=J.useState(!1),s=GR(),o=L0().shape({email:ol().email("Invalid email. Please enter a valid email").matches(/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/,"Invalid email").required("Email is required"),password:ol().min(6,"Password must be at least 6 characters").required("Password is required")}),{register:a,handleSubmit:l,formState:{errors:c}}=z2({resolver:H2(o),mode:"onChange"}),d=async({email:g,password:E},S)=>{S.preventDefault();try{await n(g,E),e(),s("Welcome back","success")}catch(A){console.error("Error logging in:",A),s(`Something went wrong: ${A.message}`,"error")}},m=()=>{i(g=>!g)};return t?q.jsx(q.Fragment,{children:t&&q.jsx(nk,{onClose:e,children:q.jsxs(Z4,{children:[q.jsx(eV,{onClick:e,children:q.jsx(sk,{size:32})}),q.jsxs(tV,{children:[q.jsx("h2",{children:"Log In"}),q.jsx("p",{children:"Welcome back! Please enter your credentials to access your account and continue your search for an teacher."})]}),q.jsxs(nV,{onSubmit:l(d),noValidate:!0,children:[q.jsxs(xT,{children:[q.jsx("input",{type:"email",...a("email"),className:c.email?"error":"",placeholder:" "}),q.jsx("label",{className:c.email?"error":"",children:"Email"}),c.email&&q.jsx(RT,{children:c.email.message})]})," ",q.jsxs(xT,{children:[q.jsx("input",{type:r?"text":"password",...a("password"),className:c.password?"error":"",placeholder:" "}),q.jsx("label",{className:c.password?"error":"",children:"Password"}),q.jsx(iV,{type:"button",onClick:m,children:r?q.jsx(ik,{size:20}):q.jsx(rk,{size:20})}),c.password&&q.jsx(RT,{children:c.password.message})]}),q.jsx(rV,{type:"submit",children:"Log In"})]})]})})}):null},Hz=Me.div`
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 600px;
  max-height: 100dvh;
  display: flex;
  flex-direction: column;
  justify-content: start;
  align-items: start;
  gap: 40px;
  background-color: #fff;
  border-radius: 30px;
  padding: 64px;
  margin: 0;
`,qz=Me.button`
  position: absolute;
  top: 28px;
  right: 28px;
  background-color: transparent;
  border: none;
  cursor: pointer;
`,Gz=Me.div`
  display: flex;
  flex-direction: column;
  justify-content: start;
  align-items: start;
  width: 100%;
  gap: 20px;
  padding: 0;
  margin: 0;

  h2 {
    font-family: 'Roboto-Medium', sans-serif;
    font-size: 48px;
    line-height: 48px;
    letter-spacing: -0.02em;
    margin: 0;
  }

  p {
    font-family: 'Roboto-Regular', sans-serif;
    font-size: 16px;
    line-height: 22px;
    margin: 0;
  }
`,Kz=Me.form`
  display: flex;
  flex-direction: column;
  justify-content: start;
  align-items: start;
  gap: 40px;
  width: 100%;
  padding: 8px 0;
  margin: 0;
  overflow-y: auto;
`,dy=Me.div`
  position: relative;
  width: 100%;
  display: flex;
  flex-direction: column;
  justify-content: start;
  align-items: start;
  gap: 8px;
  width: 100%;
  padding: 0;
  margin: 0;

  label {
    position: absolute;
    top: 50%;
    left: 18px;
    transform: translateY(-50%);
    font-size: 16px;
    line-height: 22px;
    color: var(--primary-text-color);

    padding: 0 4px;
    margin: 0;
    pointer-events: none;
    transition: top 0.2s ease;
  }

  input {
    border: 1px solid rgba(18, 20, 23, 0.1);
    border-radius: 12px;
    font-size: 16px;
    line-height: 22px;
    width: 100%;
    padding: 16px 18px;
    background-color: #fff;
    margin: 0;
    outline: none;

    &:focus + label,
    &:not(:placeholder-shown) + label {
      top: 0;
      color: var(--btn-color);
      background-color: #fff;
    }

    &:focus {
      border: 1px solid var(--btn-color);
    }

    &.error + label {
      color: red;
    }

    &.error {
      border-color: red;
    }
  }
`,fy=Me.p`
  position: absolute;
  bottom: -25px;
  right: 0;
  font-size: 12px;
  color: red;
`,Qz=Me.button`
  width: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 16px 48px;
  font-family: 'Roboto-Bold', sans-serif;
  font-size: 18px;
  line-height: 28px;
  letter-spacing: 0.02em;
  color: var(--primary-text-color);
  border: none;
  background-color: var(--btn-color);
  border-radius: 12px;
  transition: background-color 0.3s ease-in-out;

  &:hover,
  &:focus {
    background-color: var(--btn-hover-color);
  }
`,Yz=Me.button`
  position: absolute;
  top: 50%;
  right: 17px;
  transform: translateY(-50%);
  background-color: transparent;
  border: none;
  padding: 0;
  margin: 0;
  cursor: pointer;

  &:hover {
    color: var(--btn-color);
  }
`,Xz=({isModalOpen:t,closeModal:e})=>{const{signup:n}=tE(),[r,i]=J.useState(!1),s=GR(),o=L0().shape({name:ol().min(2,"Name must be at least 2 characters").required("Name is required"),email:ol().email("Invalid email. Please enter a valid email").matches(/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/,"Invalid email").required("Email is required"),password:ol().min(6,"Password must be at least 6 characters").required("Password is required")}),{register:a,handleSubmit:l,formState:{errors:c}}=z2({resolver:H2(o),mode:"onChange"}),d=async({name:g,email:E,password:S},A)=>{A.preventDefault();try{await n(E,S);const b=Y0().currentUser;await M3(b,{displayName:g}),await lz(H8($z,"users",b.uid),{email:b.email,name:b.displayName,id:b.uid,favorites:[]}),e(),s("Registration successful! Welcome to our platform!","success")}catch(D){console.error("Error signing up:",D),s(`Sorry, something went wrong. ${D.message}`,"error")}},m=()=>{i(g=>!g)};return t?q.jsx(q.Fragment,{children:t&&q.jsx(nk,{onClose:e,children:q.jsxs(Hz,{children:[q.jsx(qz,{onClick:e,children:q.jsx(sk,{size:32})}),q.jsxs(Gz,{children:[q.jsx("h2",{children:"Sign Up"}),q.jsx("p",{children:"Welcome back! Please enter your credentials to access your account and continue your search for an teacher."})]}),q.jsxs(Kz,{onSubmit:l(d),noValidate:!0,children:[q.jsxs(dy,{children:[q.jsx("input",{type:"text",...a("name"),className:c.name?"error":"",placeholder:" "}),q.jsx("label",{className:c.name?"error":"",children:"Name"}),c.name&&q.jsx(fy,{children:c.name.message})]}),q.jsxs(dy,{children:[q.jsx("input",{type:"email",...a("email"),className:c.email?"error":"",placeholder:" "}),q.jsx("label",{className:c.email?"error":"",children:"Email"}),c.email&&q.jsx(fy,{children:c.email.message})]}),q.jsxs(dy,{children:[q.jsx("input",{type:r?"text":"password",...a("password"),className:c.password?"error":"",placeholder:" "}),q.jsx("label",{className:c.password?"error":"",children:"Password"}),q.jsx(Yz,{type:"button",onClick:m,children:r?q.jsx(ik,{size:20}):q.jsx(rk,{size:20})}),c.password&&q.jsx(fy,{children:c.password.message})]}),q.jsx(Qz,{type:"submit",children:"Sing Up"})]})]})})}):null},Jz=()=>{const[t,e]=J.useState(!1),[n,r]=J.useState(!1),i=Gl(),s=Ev(),{currentUser:o,logout:a}=tE(),l=()=>{e(!0)},c=()=>{e(!1)},d=()=>{r(!0)},m=()=>{r(!1)},g=()=>{a(),s("/")},E=S=>i.pathname===S;return q.jsxs(yF,{children:[q.jsxs(_F,{to:"/",children:[q.jsx("img",{src:TF,alt:"Logo",width:28,height:28}),q.jsx("span",{children:"LearnLingo"})]}),q.jsxs(vF,{children:[q.jsx(Ad,{to:"/",className:E("/")?"active":"",children:"Home"}),q.jsx(Ad,{to:"/teachers",className:E("/teachers")?"active":"",children:"Teachers"}),o?q.jsx(Ad,{to:"/favorites",className:E("/favorites")?"active":"",children:"Favorites"}):q.jsx(Ad,{to:"/favorites",style:{pointerEvents:"none",cursor:"default",color:"var(--subtitle-text-color)"},children:"Favorites"})]}),q.jsx(wF,{children:o?q.jsxs(q.Fragment,{children:[q.jsx("span",{children:o.displayName?o.displayName:o.email}),q.jsx(uT,{onClick:g,children:q.jsx(PF,{size:20,color:"#f4c550"})})]}):q.jsxs(q.Fragment,{children:[q.jsxs(uT,{onClick:l,children:[q.jsx(RF,{size:20,color:"#f4c550"}),q.jsx("span",{children:"Login"})]}),t&&q.jsx(Wz,{isModalOpen:t,closeModal:c}),q.jsx(EF,{onClick:d,children:"Registration"}),n&&q.jsx(Xz,{isModalOpen:n,closeModal:m})]})})]})},Zz=Me.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding: 0 64px;
  width: 100%;
  margin: 0 auto;

  @media screen and (min-width: 768px) {
    width: 768px;
  }

  @media screen and (min-width: 1440px) {
    width: 1440px;
  }

  @media screen and (min-width: 1920px) {
    width: 1920px;
  }
`,e7=({children:t})=>q.jsx(Zz,{children:t}),t7={"aria-busy":!0,role:"progressbar"};Me.div`
  display: ${t=>t.$visible?"flex":"none"};
`;const n7="http://www.w3.org/2000/svg",Sr=242.776657104492,r7=1.6,i7=S0`
12.5% {
  stroke-dasharray: ${Sr*.14}px, ${Sr}px;
  stroke-dashoffset: -${Sr*.11}px;
}
43.75% {
  stroke-dasharray: ${Sr*.35}px, ${Sr}px;
  stroke-dashoffset: -${Sr*.35}px;
}
100% {
  stroke-dasharray: ${Sr*.01}px, ${Sr}px;
  stroke-dashoffset: -${Sr*.99}px;
}
`;Me.path`
  stroke-dasharray: ${Sr*.01}px, ${Sr};
  stroke-dashoffset: 0;
  animation: ${i7} ${r7}s linear infinite;
`;const s7=S0`
to {
   transform: rotate(360deg);
 }
`;Me.svg`
  animation: ${s7} 0.75s steps(12, end) infinite;
  animation-duration: 0.75s;
`;Me.polyline`
  stroke-width: ${t=>t.width}px;
  stroke-linecap: round;

  &:nth-child(12n + 0) {
    stroke-opacity: 0.08;
  }

  &:nth-child(12n + 1) {
    stroke-opacity: 0.17;
  }

  &:nth-child(12n + 2) {
    stroke-opacity: 0.25;
  }

  &:nth-child(12n + 3) {
    stroke-opacity: 0.33;
  }

  &:nth-child(12n + 4) {
    stroke-opacity: 0.42;
  }

  &:nth-child(12n + 5) {
    stroke-opacity: 0.5;
  }

  &:nth-child(12n + 6) {
    stroke-opacity: 0.58;
  }

  &:nth-child(12n + 7) {
    stroke-opacity: 0.66;
  }

  &:nth-child(12n + 8) {
    stroke-opacity: 0.75;
  }

  &:nth-child(12n + 9) {
    stroke-opacity: 0.83;
  }

  &:nth-child(12n + 11) {
    stroke-opacity: 0.92;
  }
`;const o7=S0`
to {
   stroke-dashoffset: 136;
 }
`;Me.polygon`
  stroke-dasharray: 17;
  animation: ${o7} 2.5s cubic-bezier(0.35, 0.04, 0.63, 0.95) infinite;
`;Me.svg`
  transform-origin: 50% 65%;
`;const a7=({visible:t=!0,height:e="80",width:n="80",ariaLabel:r="vortex-loading",wrapperStyle:i,wrapperClass:s,colors:o=["#1B5299","#EF8354","#DB5461","#1B5299","#EF8354","#DB5461"]})=>t?q.jsx("svg",{height:e,width:n,xmlns:n7,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid","data-testid":"vortex-svg","aria-label":r,style:i,className:s,...t7,children:q.jsx("g",{transform:"translate(50,50)",children:q.jsx("g",{transform:"scale(0.7)",children:q.jsx("g",{transform:"translate(-50,-50)",children:q.jsxs("g",{transform:"rotate(137.831 50 50)",children:[q.jsx("animateTransform",{attributeName:"transform",type:"rotate",repeatCount:"indefinite",values:"360 50 50;0 50 50",keyTimes:"0;1",dur:"1",keySplines:"0.5 0.5 0.5 0.5",calcMode:"spline"}),q.jsx("path",{fill:o[0],d:"M30.4,9.7c-7.4,10.9-11.8,23.8-12.3,37.9c0.2,1,0.5,1.9,0.7,2.8c1.4-5.2,3.4-10.3,6.2-15.1 c2.6-4.4,5.6-8.4,9-12c0.7-0.7,1.4-1.4,2.1-2.1c7.4-7,16.4-12,26-14.6C51.5,3.6,40.2,4.9,30.4,9.7z"}),q.jsx("path",{fill:o[1],d:"M24.8,64.2c-2.6-4.4-4.5-9.1-5.9-13.8c-0.3-0.9-0.5-1.9-0.7-2.8c-2.4-9.9-2.2-20.2,0.4-29.8 C10.6,25.5,6,36,5.3,46.8C11,58.6,20,68.9,31.9,76.3c0.9,0.3,1.9,0.5,2.8,0.8C31,73.3,27.6,69,24.8,64.2z"}),q.jsx("path",{fill:o[2],d:"M49.6,78.9c-5.1,0-10.1-0.6-14.9-1.8c-1-0.2-1.9-0.5-2.8-0.8c-9.8-2.9-18.5-8.2-25.6-15.2 c2.8,10.8,9.5,20,18.5,26c13.1,0.9,26.6-1.7,38.9-8.3c0.7-0.7,1.4-1.4,2.1-2.1C60.7,78.2,55.3,78.9,49.6,78.9z"}),q.jsx("path",{fill:o[3],d:"M81.1,49.6c-1.4,5.2-3.4,10.3-6.2,15.1c-2.6,4.4-5.6,8.4-9,12c-0.7,0.7-1.4,1.4-2.1,2.1 c-7.4,7-16.4,12-26,14.6c10.7,3,22.1,1.7,31.8-3.1c7.4-10.9,11.8-23.8,12.3-37.9C81.6,51.5,81.4,50.6,81.1,49.6z"}),q.jsx("path",{fill:o[4],d:"M75.2,12.9c-13.1-0.9-26.6,1.7-38.9,8.3c-0.7,0.7-1.4,1.4-2.1,2.1c5.2-1.4,10.6-2.2,16.2-2.2 c5.1,0,10.1,0.6,14.9,1.8c1,0.2,1.9,0.5,2.8,0.8c9.8,2.9,18.5,8.2,25.6,15.2C90.9,28.1,84.2,18.9,75.2,12.9z"}),q.jsx("path",{fill:o[5],d:"M94.7,53.2C89,41.4,80,31.1,68.1,23.7c-0.9-0.3-1.9-0.5-2.8-0.8c3.8,3.8,7.2,8.1,10,13 c2.6,4.4,4.5,9.1,5.9,13.8c0.3,0.9,0.5,1.9,0.7,2.8c2.4,9.9,2.2,20.2-0.4,29.8C89.4,74.5,94,64,94.7,53.2z"})]})})})})}):null,l7=Me.div`
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  justify-content: center;
  align-items: center;
`,u7=()=>q.jsx(l7,{children:q.jsx(a7,{visible:!0,height:"40%",width:"40%",ariaLabel:"vortex-loading",wrapperStyle:{},wrapperClass:"vortex-wrapper",colors:["red","green","blue","yellow","orange","purple"]})}),c7=()=>q.jsxs(e7,{children:[q.jsx(Jz,{}),q.jsx("main",{children:q.jsx(J.Suspense,{fallback:q.jsx(u7,{}),children:q.jsx(WC,{})})})]}),h7=()=>Y0().currentUser?q.jsx(WC,{}):q.jsx(iO,{to:"/",replace:!0}),d7=J.lazy(()=>em(()=>import("./HomePage-80b0084b.js"),[],import.meta.url)),f7=J.lazy(()=>em(()=>import("./TeachersPage-c9d3b81f.js"),["./TeachersPage-c9d3b81f.js","./TeacherCard-ee779396.js"],import.meta.url)),p7=J.lazy(()=>em(()=>import("./FavoritesPage-5b118377.js"),["./FavoritesPage-5b118377.js","./TeacherCard-ee779396.js"],import.meta.url)),m7=J.lazy(()=>em(()=>import("./ErrorPage-fcd71ef1.js"),[],import.meta.url));function g7(){return q.jsx(yM,{children:q.jsx(oO,{children:q.jsxs(bo,{path:"/",element:q.jsx(c7,{}),children:[q.jsx(bo,{index:!0,element:q.jsx(d7,{})}),q.jsx(bo,{path:"teachers",element:q.jsx(f7,{})}),q.jsx(bo,{element:q.jsx(h7,{}),children:q.jsx(bo,{path:"favorites",element:q.jsx(p7,{})})}),q.jsx(bo,{path:"*",element:q.jsx(m7,{})})]})})})}const y7=""+new URL("Roboto-Bold-ec685a46.ttf",import.meta.url).href,_7=""+new URL("Roboto-Medium-9d0d55a3.ttf",import.meta.url).href,v7=""+new URL("Roboto-Regular-4e147ab6.ttf",import.meta.url).href,w7=gF`
:root {
  --primary-text-color: #121417;
  --secondary-text-color: #757575;
  --subtitle-text-color: #8a8a89;
  --bg-color: #f8f8f8;
  --btn-color: #f4c550;
  --btn-hover-color: #ffdc86;
  --bg-secondary-color: #fbe9ba;
}

::-webkit-scrollbar-thumb {
  background-color: var(--btn-color);
  border-radius: 8px;
}

::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background-color: var(--bg-secondary-color);
}

@font-face {
  font-family: 'Roboto-Bold';
  font-weight: 700;
  font-style: normal;
  src: url(${y7}) format('truetype');
}
@font-face {
  font-family: 'Roboto-Medium';
  font-weight: 600;
  font-style: normal;
  src: url(${_7}) format('truetype');
}
@font-face {
  font-family: 'Roboto-Regular';
  font-weight: 400;
  font-style: normal;
  src: url(${v7}) format('truetype');
}

body {
  background-color: var(--bg-color);
  background-size: auto 100%;
  background-position: center center;
  background-repeat: no-repeat;
  font-family: 'Roboto-Regular', sans-serif;
  font-weight: 400;
  font-style: normal;
  color: var(--primary-text-color);
  width: 100%;
  height: 100vh;
  margin: 0;
}
h1,
h2,
h3,
h4,
h5,
h6,
p {
  margin-top: 0;
}
a {
  text-decoration: none;
}
ul {
  list-style: none;
  padding: 0;
  margin: 0;
}
img {
  display: block;
}
button {
  cursor: pointer;
}
`;_y.createRoot(document.getElementById("root")).render(q.jsx(ze.StrictMode,{children:q.jsx(dO,{basename:"/",children:q.jsxs(jz,{children:[q.jsx(w7,{}),q.jsx(g7,{})]})})}));export{I7 as F,es as G,sk as I,HC as L,nk as M,zz as S,A7 as a,Y0 as b,U3 as c,F7 as d,H8 as e,$z as f,E7 as g,L7 as h,L0 as i,q as j,ol as k,H2 as l,GR as m,Gl as n,x7 as o,Me as p,C7 as q,J as r,b7 as s,S7 as t,z2 as u,O7 as v,D7 as w,M7 as x,p_ as y};

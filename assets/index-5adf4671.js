function VP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ms=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function s7(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var vC={exports:{}},Op={},wC={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zc=Symbol.for("react.element"),UP=Symbol.for("react.portal"),$P=Symbol.for("react.fragment"),jP=Symbol.for("react.strict_mode"),BP=Symbol.for("react.profiler"),zP=Symbol.for("react.provider"),WP=Symbol.for("react.context"),HP=Symbol.for("react.forward_ref"),qP=Symbol.for("react.suspense"),GP=Symbol.for("react.memo"),KP=Symbol.for("react.lazy"),vE=Symbol.iterator;function QP(t){return t===null||typeof t!="object"?null:(t=vE&&t[vE]||t["@@iterator"],typeof t=="function"?t:null)}var EC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},TC=Object.assign,IC={};function jl(t,e,n){this.props=t,this.context=e,this.refs=IC,this.updater=n||EC}jl.prototype.isReactComponent={};jl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};jl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function CC(){}CC.prototype=jl.prototype;function uv(t,e,n){this.props=t,this.context=e,this.refs=IC,this.updater=n||EC}var cv=uv.prototype=new CC;cv.constructor=uv;TC(cv,jl.prototype);cv.isPureReactComponent=!0;var wE=Array.isArray,SC=Object.prototype.hasOwnProperty,hv={current:null},bC={key:!0,ref:!0,__self:!0,__source:!0};function kC(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)SC.call(e,r)&&!bC.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Zc,type:t,key:s,ref:o,props:i,_owner:hv.current}}function YP(t,e){return{$$typeof:Zc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function dv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zc}function XP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var EE=/\/+/g;function rg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?XP(""+t.key):e.toString(36)}function Vd(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Zc:case UP:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+rg(o,0):r,wE(i)?(n="",t!=null&&(n=t.replace(EE,"$&/")+"/"),Vd(i,e,n,"",function(c){return c})):i!=null&&(dv(i)&&(i=YP(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(EE,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",wE(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+rg(s,a);o+=Vd(s,e,n,l,i)}else if(l=QP(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+rg(s,a++),o+=Vd(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ad(t,e,n){if(t==null)return t;var r=[],i=0;return Vd(t,r,"","",function(s){return e.call(n,s,i++)}),r}function JP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var An={current:null},Ud={transition:null},ZP={ReactCurrentDispatcher:An,ReactCurrentBatchConfig:Ud,ReactCurrentOwner:hv};Re.Children={map:ad,forEach:function(t,e,n){ad(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ad(t,function(){e++}),e},toArray:function(t){return ad(t,function(e){return e})||[]},only:function(t){if(!dv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Re.Component=jl;Re.Fragment=$P;Re.Profiler=BP;Re.PureComponent=uv;Re.StrictMode=jP;Re.Suspense=qP;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZP;Re.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=TC({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=hv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)SC.call(e,l)&&!bC.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Zc,type:t.type,key:i,ref:s,props:r,_owner:o}};Re.createContext=function(t){return t={$$typeof:WP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:zP,_context:t},t.Consumer=t};Re.createElement=kC;Re.createFactory=function(t){var e=kC.bind(null,t);return e.type=t,e};Re.createRef=function(){return{current:null}};Re.forwardRef=function(t){return{$$typeof:HP,render:t}};Re.isValidElement=dv;Re.lazy=function(t){return{$$typeof:KP,_payload:{_status:-1,_result:t},_init:JP}};Re.memo=function(t,e){return{$$typeof:GP,type:t,compare:e===void 0?null:e}};Re.startTransition=function(t){var e=Ud.transition;Ud.transition={};try{t()}finally{Ud.transition=e}};Re.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Re.useCallback=function(t,e){return An.current.useCallback(t,e)};Re.useContext=function(t){return An.current.useContext(t)};Re.useDebugValue=function(){};Re.useDeferredValue=function(t){return An.current.useDeferredValue(t)};Re.useEffect=function(t,e){return An.current.useEffect(t,e)};Re.useId=function(){return An.current.useId()};Re.useImperativeHandle=function(t,e,n){return An.current.useImperativeHandle(t,e,n)};Re.useInsertionEffect=function(t,e){return An.current.useInsertionEffect(t,e)};Re.useLayoutEffect=function(t,e){return An.current.useLayoutEffect(t,e)};Re.useMemo=function(t,e){return An.current.useMemo(t,e)};Re.useReducer=function(t,e,n){return An.current.useReducer(t,e,n)};Re.useRef=function(t){return An.current.useRef(t)};Re.useState=function(t){return An.current.useState(t)};Re.useSyncExternalStore=function(t,e,n){return An.current.useSyncExternalStore(t,e,n)};Re.useTransition=function(){return An.current.useTransition()};Re.version="18.2.0";wC.exports=Re;var J=wC.exports;const ze=lv(J),cy=VP({__proto__:null,default:ze},[J]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eN=J,tN=Symbol.for("react.element"),nN=Symbol.for("react.fragment"),rN=Object.prototype.hasOwnProperty,iN=eN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sN={key:!0,ref:!0,__self:!0,__source:!0};function AC(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)rN.call(e,r)&&!sN.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:tN,type:t,key:s,ref:o,props:i,_owner:iN.current}}Op.Fragment=nN;Op.jsx=AC;Op.jsxs=AC;vC.exports=Op;var G=vC.exports;/**
 * @remix-run/router v1.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fc(){return fc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fc.apply(this,arguments)}var As;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(As||(As={}));const TE="popstate";function oN(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return hy("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:gf(i)}return lN(e,n,null,t)}function At(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aN(){return Math.random().toString(36).substr(2,8)}function IE(t,e){return{usr:t.state,key:t.key,idx:e}}function hy(t,e,n,r){return n===void 0&&(n=null),fc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Bl(e):e,{state:n,key:e&&e.key||r||aN()})}function gf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Bl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function lN(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=As.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(fc({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function m(){a=As.Pop;let D=d(),b=D==null?null:D-c;c=D,l&&l({action:a,location:A.location,delta:b})}function g(D,b){a=As.Push;let w=hy(A.location,D,b);n&&n(w,D),c=d()+1;let k=IE(w,c),F=A.createHref(w);try{o.pushState(k,"",F)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(F)}s&&l&&l({action:a,location:A.location,delta:1})}function E(D,b){a=As.Replace;let w=hy(A.location,D,b);n&&n(w,D),c=d();let k=IE(w,c),F=A.createHref(w);o.replaceState(k,"",F),s&&l&&l({action:a,location:A.location,delta:0})}function S(D){let b=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof D=="string"?D:gf(D);return At(b,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,b)}let A={get action(){return a},get location(){return t(i,o)},listen(D){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(TE,m),l=D,()=>{i.removeEventListener(TE,m),l=null}},createHref(D){return e(i,D)},createURL:S,encodeLocation(D){let b=S(D);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:g,replace:E,go(D){return o.go(D)}};return A}var CE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(CE||(CE={}));function uN(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Bl(e):e,i=pv(r.pathname||"/",n);if(i==null)return null;let s=xC(t);cN(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=vN(s[a],TN(i));return o}function xC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(At(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Os([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(At(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),xC(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:yN(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of RC(s.path))i(s,o,l)}),e}function RC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=RC(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function cN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:_N(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const hN=/^:\w+$/,dN=3,fN=2,pN=1,mN=10,gN=-2,SE=t=>t==="*";function yN(t,e){let n=t.split("/"),r=n.length;return n.some(SE)&&(r+=gN),e&&(r+=fN),n.filter(i=>!SE(i)).reduce((i,s)=>i+(hN.test(s)?dN:s===""?pN:mN),r)}function _N(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function vN(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",d=wN({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!d)return null;Object.assign(r,d.params);let m=a.route;s.push({params:r,pathname:Os([i,d.pathname]),pathnameBase:bN(Os([i,d.pathnameBase])),route:m}),d.pathnameBase!=="/"&&(i=Os([i,d.pathnameBase]))}return s}function wN(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=EN(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,m)=>{if(d==="*"){let g=a[m]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}return c[d]=IN(a[m]||"",d),c},{}),pathname:s,pathnameBase:o,pattern:t}}function EN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),fv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function TN(t){try{return decodeURI(t)}catch(e){return fv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function IN(t,e){try{return decodeURIComponent(t)}catch(n){return fv(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function pv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function CN(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Bl(t):t;return{pathname:n?n.startsWith("/")?n:SN(n,e):e,search:kN(r),hash:AN(i)}}function SN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ig(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mv(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function gv(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Bl(t):(i=fc({},t),At(!i.pathname||!i.pathname.includes("?"),ig("?","pathname","search",i)),At(!i.pathname||!i.pathname.includes("#"),ig("#","pathname","hash",i)),At(!i.search||!i.search.includes("#"),ig("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let m=e.length-1;if(o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}a=m>=0?e[m]:"/"}let l=CN(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Os=t=>t.join("/").replace(/\/\/+/g,"/"),bN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),kN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,AN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function xN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const PC=["post","put","patch","delete"];new Set(PC);const RN=["get",...PC];new Set(RN);/**
 * React Router v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yf(){return yf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yf.apply(this,arguments)}const yv=J.createContext(null),PN=J.createContext(null),zl=J.createContext(null),Dp=J.createContext(null),Yi=J.createContext({outlet:null,matches:[],isDataRoute:!1}),NC=J.createContext(null);function NN(t,e){let{relative:n}=e===void 0?{}:e;Wl()||At(!1);let{basename:r,navigator:i}=J.useContext(zl),{hash:s,pathname:o,search:a}=DC(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Os([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Wl(){return J.useContext(Dp)!=null}function Hl(){return Wl()||At(!1),J.useContext(Dp).location}function OC(t){J.useContext(zl).static||J.useLayoutEffect(t)}function _v(){let{isDataRoute:t}=J.useContext(Yi);return t?GN():ON()}function ON(){Wl()||At(!1);let t=J.useContext(yv),{basename:e,navigator:n}=J.useContext(zl),{matches:r}=J.useContext(Yi),{pathname:i}=Hl(),s=JSON.stringify(mv(r).map(l=>l.pathnameBase)),o=J.useRef(!1);return OC(()=>{o.current=!0}),J.useCallback(function(l,c){if(c===void 0&&(c={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=gv(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Os([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,s,i,t])}const DN=J.createContext(null);function LN(t){let e=J.useContext(Yi).outlet;return e&&J.createElement(DN.Provider,{value:t},e)}function DC(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=J.useContext(Yi),{pathname:i}=Hl(),s=JSON.stringify(mv(r).map(o=>o.pathnameBase));return J.useMemo(()=>gv(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function MN(t,e){return FN(t,e)}function FN(t,e,n){Wl()||At(!1);let{navigator:r}=J.useContext(zl),{matches:i}=J.useContext(Yi),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Hl(),c;if(e){var d;let A=typeof e=="string"?Bl(e):e;a==="/"||(d=A.pathname)!=null&&d.startsWith(a)||At(!1),c=A}else c=l;let m=c.pathname||"/",g=a==="/"?m:m.slice(a.length)||"/",E=uN(t,{pathname:g}),S=BN(E&&E.map(A=>Object.assign({},A,{params:Object.assign({},o,A.params),pathname:Os([a,r.encodeLocation?r.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?a:Os([a,r.encodeLocation?r.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),i,n);return e&&S?J.createElement(Dp.Provider,{value:{location:yf({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:As.Pop}},S):S}function VN(){let t=qN(),e=xN(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return J.createElement(J.Fragment,null,J.createElement("h2",null,"Unexpected Application Error!"),J.createElement("h3",{style:{fontStyle:"italic"}},e),n?J.createElement("pre",{style:i},n):null,s)}const UN=J.createElement(VN,null);class $N extends J.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?J.createElement(Yi.Provider,{value:this.props.routeContext},J.createElement(NC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function jN(t){let{routeContext:e,match:n,children:r}=t,i=J.useContext(yv);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),J.createElement(Yi.Provider,{value:e},r)}function BN(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||At(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,c)=>{let d=l.route.id?o==null?void 0:o[l.route.id]:null,m=null;n&&(m=l.route.errorElement||UN);let g=e.concat(s.slice(0,c+1)),E=()=>{let S;return d?S=m:l.route.Component?S=J.createElement(l.route.Component,null):l.route.element?S=l.route.element:S=a,J.createElement(jN,{match:l,routeContext:{outlet:a,matches:g,isDataRoute:n!=null},children:S})};return n&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?J.createElement($N,{location:n.location,revalidation:n.revalidation,component:m,error:d,children:E(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):E()},null)}var LC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(LC||{}),_f=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(_f||{});function zN(t){let e=J.useContext(yv);return e||At(!1),e}function WN(t){let e=J.useContext(PN);return e||At(!1),e}function HN(t){let e=J.useContext(Yi);return e||At(!1),e}function MC(t){let e=HN(),n=e.matches[e.matches.length-1];return n.route.id||At(!1),n.route.id}function qN(){var t;let e=J.useContext(NC),n=WN(_f.UseRouteError),r=MC(_f.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function GN(){let{router:t}=zN(LC.UseNavigateStable),e=MC(_f.UseNavigateStable),n=J.useRef(!1);return OC(()=>{n.current=!0}),J.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,yf({fromRouteId:e},s)))},[t,e])}function KN(t){let{to:e,replace:n,state:r,relative:i}=t;Wl()||At(!1);let{matches:s}=J.useContext(Yi),{pathname:o}=Hl(),a=_v(),l=gv(e,mv(s).map(d=>d.pathnameBase),o,i==="path"),c=JSON.stringify(l);return J.useEffect(()=>a(JSON.parse(c),{replace:n,state:r,relative:i}),[a,c,i,n,r]),null}function FC(t){return LN(t.context)}function So(t){At(!1)}function QN(t){let{basename:e="/",children:n=null,location:r,navigationType:i=As.Pop,navigator:s,static:o=!1}=t;Wl()&&At(!1);let a=e.replace(/^\/*/,"/"),l=J.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Bl(r));let{pathname:c="/",search:d="",hash:m="",state:g=null,key:E="default"}=r,S=J.useMemo(()=>{let A=pv(c,a);return A==null?null:{location:{pathname:A,search:d,hash:m,state:g,key:E},navigationType:i}},[a,c,d,m,g,E,i]);return S==null?null:J.createElement(zl.Provider,{value:l},J.createElement(Dp.Provider,{children:n,value:S}))}function YN(t){let{children:e,location:n}=t;return MN(dy(e),n)}new Promise(()=>{});function dy(t,e){e===void 0&&(e=[]);let n=[];return J.Children.forEach(t,(r,i)=>{if(!J.isValidElement(r))return;let s=[...e,i];if(r.type===J.Fragment){n.push.apply(n,dy(r.props.children,s));return}r.type!==So&&At(!1),!r.props.index||!r.props.children||At(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=dy(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fy(){return fy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fy.apply(this,arguments)}function XN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function JN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ZN(t,e){return t.button===0&&(!e||e==="_self")&&!JN(t)}const eO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],tO="startTransition",bE=cy[tO];function nO(t){let{basename:e,children:n,future:r,window:i}=t,s=J.useRef();s.current==null&&(s.current=oN({window:i,v5Compat:!0}));let o=s.current,[a,l]=J.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=J.useCallback(m=>{c&&bE?bE(()=>l(m)):l(m)},[l,c]);return J.useLayoutEffect(()=>o.listen(d),[o,d]),J.createElement(QN,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o})}const rO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,VC=J.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d}=e,m=XN(e,eO),{basename:g}=J.useContext(zl),E,S=!1;if(typeof c=="string"&&iO.test(c)&&(E=c,rO))try{let w=new URL(window.location.href),k=c.startsWith("//")?new URL(w.protocol+c):new URL(c),F=pv(k.pathname,g);k.origin===w.origin&&F!=null?c=F+k.search+k.hash:S=!0}catch{}let A=NN(c,{relative:i}),D=sO(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i});function b(w){r&&r(w),w.defaultPrevented||D(w)}return J.createElement("a",fy({},m,{href:E||A,onClick:S||s?r:b,ref:n,target:l}))});var kE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(kE||(kE={}));var AE;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(AE||(AE={}));function sO(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=_v(),l=Hl(),c=DC(t,{relative:o});return J.useCallback(d=>{if(ZN(d,n)){d.preventDefault();let m=r!==void 0?r:gf(l)===gf(c);a(t,{replace:m,state:i,preventScrollReset:s,relative:o})}},[l,a,c,r,i,n,t,s,o])}var py={},UC={exports:{}},rr={},$C={exports:{}},jC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(re,K){var ue=re.length;re.push(K);e:for(;0<ue;){var Me=ue-1>>>1,Ce=re[Me];if(0<i(Ce,K))re[Me]=K,re[ue]=Ce,ue=Me;else break e}}function n(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var K=re[0],ue=re.pop();if(ue!==K){re[0]=ue;e:for(var Me=0,Ce=re.length,je=Ce>>>1;Me<je;){var U=2*(Me+1)-1,zt=re[U],ct=U+1,ht=re[ct];if(0>i(zt,ue))ct<Ce&&0>i(ht,zt)?(re[Me]=ht,re[ct]=ue,Me=ct):(re[Me]=zt,re[U]=ue,Me=U);else if(ct<Ce&&0>i(ht,ue))re[Me]=ht,re[ct]=ue,Me=ct;else break e}}return K}function i(re,K){var ue=re.sortIndex-K.sortIndex;return ue!==0?ue:re.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,m=null,g=3,E=!1,S=!1,A=!1,D=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(re){for(var K=n(c);K!==null;){if(K.callback===null)r(c);else if(K.startTime<=re)r(c),K.sortIndex=K.expirationTime,e(l,K);else break;K=n(c)}}function F(re){if(A=!1,k(re),!S)if(n(l)!==null)S=!0,Ee(j);else{var K=n(c);K!==null&&Pe(F,K.startTime-re)}}function j(re,K){S=!1,A&&(A=!1,b(I),I=-1),E=!0;var ue=g;try{for(k(K),m=n(l);m!==null&&(!(m.expirationTime>K)||re&&!L());){var Me=m.callback;if(typeof Me=="function"){m.callback=null,g=m.priorityLevel;var Ce=Me(m.expirationTime<=K);K=t.unstable_now(),typeof Ce=="function"?m.callback=Ce:m===n(l)&&r(l),k(K)}else r(l);m=n(l)}if(m!==null)var je=!0;else{var U=n(c);U!==null&&Pe(F,U.startTime-K),je=!1}return je}finally{m=null,g=ue,E=!1}}var W=!1,C=null,I=-1,R=5,P=-1;function L(){return!(t.unstable_now()-P<R)}function M(){if(C!==null){var re=t.unstable_now();P=re;var K=!0;try{K=C(!0,re)}finally{K?x():(W=!1,C=null)}}else W=!1}var x;if(typeof w=="function")x=function(){w(M)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,qe=we.port2;we.port1.onmessage=M,x=function(){qe.postMessage(null)}}else x=function(){D(M,0)};function Ee(re){C=re,W||(W=!0,x())}function Pe(re,K){I=D(function(){re(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(re){re.callback=null},t.unstable_continueExecution=function(){S||E||(S=!0,Ee(j))},t.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<re?Math.floor(1e3/re):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(re){switch(g){case 1:case 2:case 3:var K=3;break;default:K=g}var ue=g;g=K;try{return re()}finally{g=ue}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(re,K){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ue=g;g=re;try{return K()}finally{g=ue}},t.unstable_scheduleCallback=function(re,K,ue){var Me=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Me+ue:Me):ue=Me,re){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=ue+Ce,re={id:d++,callback:K,priorityLevel:re,startTime:ue,expirationTime:Ce,sortIndex:-1},ue>Me?(re.sortIndex=ue,e(c,re),n(l)===null&&re===n(c)&&(A?(b(I),I=-1):A=!0,Pe(F,ue-Me))):(re.sortIndex=Ce,e(l,re),S||E||(S=!0,Ee(j))),re},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(re){var K=g;return function(){var ue=g;g=K;try{return re.apply(this,arguments)}finally{g=ue}}}})(jC);$C.exports=jC;var oO=$C.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BC=J,nr=oO;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zC=new Set,pc={};function sa(t,e){pl(t,e),pl(t+"Capture",e)}function pl(t,e){for(pc[t]=e,t=0;t<e.length;t++)zC.add(e[t])}var ji=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),my=Object.prototype.hasOwnProperty,aO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xE={},RE={};function lO(t){return my.call(RE,t)?!0:my.call(xE,t)?!1:aO.test(t)?RE[t]=!0:(xE[t]=!0,!1)}function uO(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function cO(t,e,n,r){if(e===null||typeof e>"u"||uO(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var an={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){an[t]=new xn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];an[e]=new xn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){an[t]=new xn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){an[t]=new xn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){an[t]=new xn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){an[t]=new xn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){an[t]=new xn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){an[t]=new xn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){an[t]=new xn(t,5,!1,t.toLowerCase(),null,!1,!1)});var vv=/[\-:]([a-z])/g;function wv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(vv,wv);an[e]=new xn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(vv,wv);an[e]=new xn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(vv,wv);an[e]=new xn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){an[t]=new xn(t,1,!1,t.toLowerCase(),null,!1,!1)});an.xlinkHref=new xn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){an[t]=new xn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ev(t,e,n,r){var i=an.hasOwnProperty(e)?an[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(cO(e,n,i,r)&&(n=null),r||i===null?lO(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Xi=BC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ld=Symbol.for("react.element"),Da=Symbol.for("react.portal"),La=Symbol.for("react.fragment"),Tv=Symbol.for("react.strict_mode"),gy=Symbol.for("react.profiler"),WC=Symbol.for("react.provider"),HC=Symbol.for("react.context"),Iv=Symbol.for("react.forward_ref"),yy=Symbol.for("react.suspense"),_y=Symbol.for("react.suspense_list"),Cv=Symbol.for("react.memo"),vs=Symbol.for("react.lazy"),qC=Symbol.for("react.offscreen"),PE=Symbol.iterator;function wu(t){return t===null||typeof t!="object"?null:(t=PE&&t[PE]||t["@@iterator"],typeof t=="function"?t:null)}var _t=Object.assign,sg;function Lu(t){if(sg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);sg=e&&e[1]||""}return`
`+sg+t}var og=!1;function ag(t,e){if(!t||og)return"";og=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{og=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Lu(t):""}function hO(t){switch(t.tag){case 5:return Lu(t.type);case 16:return Lu("Lazy");case 13:return Lu("Suspense");case 19:return Lu("SuspenseList");case 0:case 2:case 15:return t=ag(t.type,!1),t;case 11:return t=ag(t.type.render,!1),t;case 1:return t=ag(t.type,!0),t;default:return""}}function vy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case La:return"Fragment";case Da:return"Portal";case gy:return"Profiler";case Tv:return"StrictMode";case yy:return"Suspense";case _y:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case HC:return(t.displayName||"Context")+".Consumer";case WC:return(t._context.displayName||"Context")+".Provider";case Iv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Cv:return e=t.displayName||null,e!==null?e:vy(t.type)||"Memo";case vs:e=t._payload,t=t._init;try{return vy(t(e))}catch{}}return null}function dO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vy(e);case 8:return e===Tv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ks(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function GC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function fO(t){var e=GC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ud(t){t._valueTracker||(t._valueTracker=fO(t))}function KC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=GC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function vf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wy(t,e){var n=e.checked;return _t({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function NE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ks(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function QC(t,e){e=e.checked,e!=null&&Ev(t,"checked",e,!1)}function Ey(t,e){QC(t,e);var n=Ks(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ty(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ty(t,e.type,Ks(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function OE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ty(t,e,n){(e!=="number"||vf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Mu=Array.isArray;function Ja(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ks(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Iy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return _t({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function DE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(X(92));if(Mu(n)){if(1<n.length)throw Error(X(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ks(n)}}function YC(t,e){var n=Ks(e.value),r=Ks(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function LE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function XC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?XC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var cd,JC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(cd=cd||document.createElement("div"),cd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=cd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function mc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Gu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pO=["Webkit","ms","Moz","O"];Object.keys(Gu).forEach(function(t){pO.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Gu[e]=Gu[t]})});function ZC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Gu.hasOwnProperty(t)&&Gu[t]?(""+e).trim():e+"px"}function eS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ZC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var mO=_t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sy(t,e){if(e){if(mO[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function by(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ky=null;function Sv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ay=null,Za=null,el=null;function ME(t){if(t=nh(t)){if(typeof Ay!="function")throw Error(X(280));var e=t.stateNode;e&&(e=Up(e),Ay(t.stateNode,t.type,e))}}function tS(t){Za?el?el.push(t):el=[t]:Za=t}function nS(){if(Za){var t=Za,e=el;if(el=Za=null,ME(t),e)for(t=0;t<e.length;t++)ME(e[t])}}function rS(t,e){return t(e)}function iS(){}var lg=!1;function sS(t,e,n){if(lg)return t(e,n);lg=!0;try{return rS(t,e,n)}finally{lg=!1,(Za!==null||el!==null)&&(iS(),nS())}}function gc(t,e){var n=t.stateNode;if(n===null)return null;var r=Up(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(X(231,e,typeof n));return n}var xy=!1;if(ji)try{var Eu={};Object.defineProperty(Eu,"passive",{get:function(){xy=!0}}),window.addEventListener("test",Eu,Eu),window.removeEventListener("test",Eu,Eu)}catch{xy=!1}function gO(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Ku=!1,wf=null,Ef=!1,Ry=null,yO={onError:function(t){Ku=!0,wf=t}};function _O(t,e,n,r,i,s,o,a,l){Ku=!1,wf=null,gO.apply(yO,arguments)}function vO(t,e,n,r,i,s,o,a,l){if(_O.apply(this,arguments),Ku){if(Ku){var c=wf;Ku=!1,wf=null}else throw Error(X(198));Ef||(Ef=!0,Ry=c)}}function oa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function oS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function FE(t){if(oa(t)!==t)throw Error(X(188))}function wO(t){var e=t.alternate;if(!e){if(e=oa(t),e===null)throw Error(X(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return FE(i),t;if(s===r)return FE(i),e;s=s.sibling}throw Error(X(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?t:e}function aS(t){return t=wO(t),t!==null?lS(t):null}function lS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=lS(t);if(e!==null)return e;t=t.sibling}return null}var uS=nr.unstable_scheduleCallback,VE=nr.unstable_cancelCallback,EO=nr.unstable_shouldYield,TO=nr.unstable_requestPaint,kt=nr.unstable_now,IO=nr.unstable_getCurrentPriorityLevel,bv=nr.unstable_ImmediatePriority,cS=nr.unstable_UserBlockingPriority,Tf=nr.unstable_NormalPriority,CO=nr.unstable_LowPriority,hS=nr.unstable_IdlePriority,Lp=null,ei=null;function SO(t){if(ei&&typeof ei.onCommitFiberRoot=="function")try{ei.onCommitFiberRoot(Lp,t,void 0,(t.current.flags&128)===128)}catch{}}var Pr=Math.clz32?Math.clz32:AO,bO=Math.log,kO=Math.LN2;function AO(t){return t>>>=0,t===0?32:31-(bO(t)/kO|0)|0}var hd=64,dd=4194304;function Fu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function If(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Fu(a):(s&=o,s!==0&&(r=Fu(s)))}else o=n&~i,o!==0?r=Fu(o):s!==0&&(r=Fu(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Pr(e),i=1<<n,r|=t[n],e&=~i;return r}function xO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function RO(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Pr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=xO(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Py(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function dS(){var t=hd;return hd<<=1,!(hd&4194240)&&(hd=64),t}function ug(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function eh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pr(e),t[e]=n}function PO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Pr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function kv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Pr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var He=0;function fS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var pS,Av,mS,gS,yS,Ny=!1,fd=[],Ds=null,Ls=null,Ms=null,yc=new Map,_c=new Map,Es=[],NO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function UE(t,e){switch(t){case"focusin":case"focusout":Ds=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":yc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_c.delete(e.pointerId)}}function Tu(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=nh(e),e!==null&&Av(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function OO(t,e,n,r,i){switch(e){case"focusin":return Ds=Tu(Ds,t,e,n,r,i),!0;case"dragenter":return Ls=Tu(Ls,t,e,n,r,i),!0;case"mouseover":return Ms=Tu(Ms,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return yc.set(s,Tu(yc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,_c.set(s,Tu(_c.get(s)||null,t,e,n,r,i)),!0}return!1}function _S(t){var e=Ro(t.target);if(e!==null){var n=oa(e);if(n!==null){if(e=n.tag,e===13){if(e=oS(n),e!==null){t.blockedOn=e,yS(t.priority,function(){mS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $d(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Oy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ky=r,n.target.dispatchEvent(r),ky=null}else return e=nh(n),e!==null&&Av(e),t.blockedOn=n,!1;e.shift()}return!0}function $E(t,e,n){$d(t)&&n.delete(e)}function DO(){Ny=!1,Ds!==null&&$d(Ds)&&(Ds=null),Ls!==null&&$d(Ls)&&(Ls=null),Ms!==null&&$d(Ms)&&(Ms=null),yc.forEach($E),_c.forEach($E)}function Iu(t,e){t.blockedOn===e&&(t.blockedOn=null,Ny||(Ny=!0,nr.unstable_scheduleCallback(nr.unstable_NormalPriority,DO)))}function vc(t){function e(i){return Iu(i,t)}if(0<fd.length){Iu(fd[0],t);for(var n=1;n<fd.length;n++){var r=fd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ds!==null&&Iu(Ds,t),Ls!==null&&Iu(Ls,t),Ms!==null&&Iu(Ms,t),yc.forEach(e),_c.forEach(e),n=0;n<Es.length;n++)r=Es[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Es.length&&(n=Es[0],n.blockedOn===null);)_S(n),n.blockedOn===null&&Es.shift()}var tl=Xi.ReactCurrentBatchConfig,Cf=!0;function LO(t,e,n,r){var i=He,s=tl.transition;tl.transition=null;try{He=1,xv(t,e,n,r)}finally{He=i,tl.transition=s}}function MO(t,e,n,r){var i=He,s=tl.transition;tl.transition=null;try{He=4,xv(t,e,n,r)}finally{He=i,tl.transition=s}}function xv(t,e,n,r){if(Cf){var i=Oy(t,e,n,r);if(i===null)vg(t,e,r,Sf,n),UE(t,r);else if(OO(i,t,e,n,r))r.stopPropagation();else if(UE(t,r),e&4&&-1<NO.indexOf(t)){for(;i!==null;){var s=nh(i);if(s!==null&&pS(s),s=Oy(t,e,n,r),s===null&&vg(t,e,r,Sf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else vg(t,e,r,null,n)}}var Sf=null;function Oy(t,e,n,r){if(Sf=null,t=Sv(r),t=Ro(t),t!==null)if(e=oa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=oS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Sf=t,null}function vS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(IO()){case bv:return 1;case cS:return 4;case Tf:case CO:return 16;case hS:return 536870912;default:return 16}default:return 16}}var xs=null,Rv=null,jd=null;function wS(){if(jd)return jd;var t,e=Rv,n=e.length,r,i="value"in xs?xs.value:xs.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return jd=i.slice(t,1<r?1-r:void 0)}function Bd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function pd(){return!0}function jE(){return!1}function ir(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?pd:jE,this.isPropagationStopped=jE,this}return _t(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),e}var ql={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pv=ir(ql),th=_t({},ql,{view:0,detail:0}),FO=ir(th),cg,hg,Cu,Mp=_t({},th,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Cu&&(Cu&&t.type==="mousemove"?(cg=t.screenX-Cu.screenX,hg=t.screenY-Cu.screenY):hg=cg=0,Cu=t),cg)},movementY:function(t){return"movementY"in t?t.movementY:hg}}),BE=ir(Mp),VO=_t({},Mp,{dataTransfer:0}),UO=ir(VO),$O=_t({},th,{relatedTarget:0}),dg=ir($O),jO=_t({},ql,{animationName:0,elapsedTime:0,pseudoElement:0}),BO=ir(jO),zO=_t({},ql,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),WO=ir(zO),HO=_t({},ql,{data:0}),zE=ir(HO),qO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},GO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=KO[t])?!!e[t]:!1}function Nv(){return QO}var YO=_t({},th,{key:function(t){if(t.key){var e=qO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Bd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?GO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nv,charCode:function(t){return t.type==="keypress"?Bd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),XO=ir(YO),JO=_t({},Mp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),WE=ir(JO),ZO=_t({},th,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nv}),eD=ir(ZO),tD=_t({},ql,{propertyName:0,elapsedTime:0,pseudoElement:0}),nD=ir(tD),rD=_t({},Mp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),iD=ir(rD),sD=[9,13,27,32],Ov=ji&&"CompositionEvent"in window,Qu=null;ji&&"documentMode"in document&&(Qu=document.documentMode);var oD=ji&&"TextEvent"in window&&!Qu,ES=ji&&(!Ov||Qu&&8<Qu&&11>=Qu),HE=String.fromCharCode(32),qE=!1;function TS(t,e){switch(t){case"keyup":return sD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function IS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ma=!1;function aD(t,e){switch(t){case"compositionend":return IS(e);case"keypress":return e.which!==32?null:(qE=!0,HE);case"textInput":return t=e.data,t===HE&&qE?null:t;default:return null}}function lD(t,e){if(Ma)return t==="compositionend"||!Ov&&TS(t,e)?(t=wS(),jd=Rv=xs=null,Ma=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ES&&e.locale!=="ko"?null:e.data;default:return null}}var uD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function GE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!uD[t.type]:e==="textarea"}function CS(t,e,n,r){tS(r),e=bf(e,"onChange"),0<e.length&&(n=new Pv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Yu=null,wc=null;function cD(t){LS(t,0)}function Fp(t){var e=Ua(t);if(KC(e))return t}function hD(t,e){if(t==="change")return e}var SS=!1;if(ji){var fg;if(ji){var pg="oninput"in document;if(!pg){var KE=document.createElement("div");KE.setAttribute("oninput","return;"),pg=typeof KE.oninput=="function"}fg=pg}else fg=!1;SS=fg&&(!document.documentMode||9<document.documentMode)}function QE(){Yu&&(Yu.detachEvent("onpropertychange",bS),wc=Yu=null)}function bS(t){if(t.propertyName==="value"&&Fp(wc)){var e=[];CS(e,wc,t,Sv(t)),sS(cD,e)}}function dD(t,e,n){t==="focusin"?(QE(),Yu=e,wc=n,Yu.attachEvent("onpropertychange",bS)):t==="focusout"&&QE()}function fD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fp(wc)}function pD(t,e){if(t==="click")return Fp(e)}function mD(t,e){if(t==="input"||t==="change")return Fp(e)}function gD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Lr=typeof Object.is=="function"?Object.is:gD;function Ec(t,e){if(Lr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!my.call(e,i)||!Lr(t[i],e[i]))return!1}return!0}function YE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function XE(t,e){var n=YE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=YE(n)}}function kS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?kS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function AS(){for(var t=window,e=vf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=vf(t.document)}return e}function Dv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function yD(t){var e=AS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&kS(n.ownerDocument.documentElement,n)){if(r!==null&&Dv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=XE(n,s);var o=XE(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _D=ji&&"documentMode"in document&&11>=document.documentMode,Fa=null,Dy=null,Xu=null,Ly=!1;function JE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ly||Fa==null||Fa!==vf(r)||(r=Fa,"selectionStart"in r&&Dv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xu&&Ec(Xu,r)||(Xu=r,r=bf(Dy,"onSelect"),0<r.length&&(e=new Pv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Fa)))}function md(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Va={animationend:md("Animation","AnimationEnd"),animationiteration:md("Animation","AnimationIteration"),animationstart:md("Animation","AnimationStart"),transitionend:md("Transition","TransitionEnd")},mg={},xS={};ji&&(xS=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function Vp(t){if(mg[t])return mg[t];if(!Va[t])return t;var e=Va[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in xS)return mg[t]=e[n];return t}var RS=Vp("animationend"),PS=Vp("animationiteration"),NS=Vp("animationstart"),OS=Vp("transitionend"),DS=new Map,ZE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function no(t,e){DS.set(t,e),sa(e,[t])}for(var gg=0;gg<ZE.length;gg++){var yg=ZE[gg],vD=yg.toLowerCase(),wD=yg[0].toUpperCase()+yg.slice(1);no(vD,"on"+wD)}no(RS,"onAnimationEnd");no(PS,"onAnimationIteration");no(NS,"onAnimationStart");no("dblclick","onDoubleClick");no("focusin","onFocus");no("focusout","onBlur");no(OS,"onTransitionEnd");pl("onMouseEnter",["mouseout","mouseover"]);pl("onMouseLeave",["mouseout","mouseover"]);pl("onPointerEnter",["pointerout","pointerover"]);pl("onPointerLeave",["pointerout","pointerover"]);sa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sa("onBeforeInput",["compositionend","keypress","textInput","paste"]);sa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ED=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vu));function e1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,vO(r,e,void 0,t),t.currentTarget=null}function LS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;e1(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;e1(i,a,c),s=l}}}if(Ef)throw t=Ry,Ef=!1,Ry=null,t}function st(t,e){var n=e[$y];n===void 0&&(n=e[$y]=new Set);var r=t+"__bubble";n.has(r)||(MS(e,t,2,!1),n.add(r))}function _g(t,e,n){var r=0;e&&(r|=4),MS(n,t,r,e)}var gd="_reactListening"+Math.random().toString(36).slice(2);function Tc(t){if(!t[gd]){t[gd]=!0,zC.forEach(function(n){n!=="selectionchange"&&(ED.has(n)||_g(n,!1,t),_g(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[gd]||(e[gd]=!0,_g("selectionchange",!1,e))}}function MS(t,e,n,r){switch(vS(e)){case 1:var i=LO;break;case 4:i=MO;break;default:i=xv}n=i.bind(null,e,n,t),i=void 0,!xy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function vg(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ro(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}sS(function(){var c=s,d=Sv(n),m=[];e:{var g=DS.get(t);if(g!==void 0){var E=Pv,S=t;switch(t){case"keypress":if(Bd(n)===0)break e;case"keydown":case"keyup":E=XO;break;case"focusin":S="focus",E=dg;break;case"focusout":S="blur",E=dg;break;case"beforeblur":case"afterblur":E=dg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=BE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=UO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=eD;break;case RS:case PS:case NS:E=BO;break;case OS:E=nD;break;case"scroll":E=FO;break;case"wheel":E=iD;break;case"copy":case"cut":case"paste":E=WO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=WE}var A=(e&4)!==0,D=!A&&t==="scroll",b=A?g!==null?g+"Capture":null:g;A=[];for(var w=c,k;w!==null;){k=w;var F=k.stateNode;if(k.tag===5&&F!==null&&(k=F,b!==null&&(F=gc(w,b),F!=null&&A.push(Ic(w,F,k)))),D)break;w=w.return}0<A.length&&(g=new E(g,S,null,n,d),m.push({event:g,listeners:A}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",g&&n!==ky&&(S=n.relatedTarget||n.fromElement)&&(Ro(S)||S[Bi]))break e;if((E||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,E?(S=n.relatedTarget||n.toElement,E=c,S=S?Ro(S):null,S!==null&&(D=oa(S),S!==D||S.tag!==5&&S.tag!==6)&&(S=null)):(E=null,S=c),E!==S)){if(A=BE,F="onMouseLeave",b="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(A=WE,F="onPointerLeave",b="onPointerEnter",w="pointer"),D=E==null?g:Ua(E),k=S==null?g:Ua(S),g=new A(F,w+"leave",E,n,d),g.target=D,g.relatedTarget=k,F=null,Ro(d)===c&&(A=new A(b,w+"enter",S,n,d),A.target=k,A.relatedTarget=D,F=A),D=F,E&&S)t:{for(A=E,b=S,w=0,k=A;k;k=ba(k))w++;for(k=0,F=b;F;F=ba(F))k++;for(;0<w-k;)A=ba(A),w--;for(;0<k-w;)b=ba(b),k--;for(;w--;){if(A===b||b!==null&&A===b.alternate)break t;A=ba(A),b=ba(b)}A=null}else A=null;E!==null&&t1(m,g,E,A,!1),S!==null&&D!==null&&t1(m,D,S,A,!0)}}e:{if(g=c?Ua(c):window,E=g.nodeName&&g.nodeName.toLowerCase(),E==="select"||E==="input"&&g.type==="file")var j=hD;else if(GE(g))if(SS)j=mD;else{j=fD;var W=dD}else(E=g.nodeName)&&E.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(j=pD);if(j&&(j=j(t,c))){CS(m,j,n,d);break e}W&&W(t,g,c),t==="focusout"&&(W=g._wrapperState)&&W.controlled&&g.type==="number"&&Ty(g,"number",g.value)}switch(W=c?Ua(c):window,t){case"focusin":(GE(W)||W.contentEditable==="true")&&(Fa=W,Dy=c,Xu=null);break;case"focusout":Xu=Dy=Fa=null;break;case"mousedown":Ly=!0;break;case"contextmenu":case"mouseup":case"dragend":Ly=!1,JE(m,n,d);break;case"selectionchange":if(_D)break;case"keydown":case"keyup":JE(m,n,d)}var C;if(Ov)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Ma?TS(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(ES&&n.locale!=="ko"&&(Ma||I!=="onCompositionStart"?I==="onCompositionEnd"&&Ma&&(C=wS()):(xs=d,Rv="value"in xs?xs.value:xs.textContent,Ma=!0)),W=bf(c,I),0<W.length&&(I=new zE(I,t,null,n,d),m.push({event:I,listeners:W}),C?I.data=C:(C=IS(n),C!==null&&(I.data=C)))),(C=oD?aD(t,n):lD(t,n))&&(c=bf(c,"onBeforeInput"),0<c.length&&(d=new zE("onBeforeInput","beforeinput",null,n,d),m.push({event:d,listeners:c}),d.data=C))}LS(m,e)})}function Ic(t,e,n){return{instance:t,listener:e,currentTarget:n}}function bf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=gc(t,n),s!=null&&r.unshift(Ic(t,s,i)),s=gc(t,e),s!=null&&r.push(Ic(t,s,i))),t=t.return}return r}function ba(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function t1(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=gc(n,s),l!=null&&o.unshift(Ic(n,l,a))):i||(l=gc(n,s),l!=null&&o.push(Ic(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var TD=/\r\n?/g,ID=/\u0000|\uFFFD/g;function n1(t){return(typeof t=="string"?t:""+t).replace(TD,`
`).replace(ID,"")}function yd(t,e,n){if(e=n1(e),n1(t)!==e&&n)throw Error(X(425))}function kf(){}var My=null,Fy=null;function Vy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Uy=typeof setTimeout=="function"?setTimeout:void 0,CD=typeof clearTimeout=="function"?clearTimeout:void 0,r1=typeof Promise=="function"?Promise:void 0,SD=typeof queueMicrotask=="function"?queueMicrotask:typeof r1<"u"?function(t){return r1.resolve(null).then(t).catch(bD)}:Uy;function bD(t){setTimeout(function(){throw t})}function wg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),vc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);vc(e)}function Fs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function i1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Gl=Math.random().toString(36).slice(2),Yr="__reactFiber$"+Gl,Cc="__reactProps$"+Gl,Bi="__reactContainer$"+Gl,$y="__reactEvents$"+Gl,kD="__reactListeners$"+Gl,AD="__reactHandles$"+Gl;function Ro(t){var e=t[Yr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Bi]||n[Yr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=i1(t);t!==null;){if(n=t[Yr])return n;t=i1(t)}return e}t=n,n=t.parentNode}return null}function nh(t){return t=t[Yr]||t[Bi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ua(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function Up(t){return t[Cc]||null}var jy=[],$a=-1;function ro(t){return{current:t}}function ut(t){0>$a||(t.current=jy[$a],jy[$a]=null,$a--)}function tt(t,e){$a++,jy[$a]=t.current,t.current=e}var Qs={},wn=ro(Qs),Vn=ro(!1),Wo=Qs;function ml(t,e){var n=t.type.contextTypes;if(!n)return Qs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Un(t){return t=t.childContextTypes,t!=null}function Af(){ut(Vn),ut(wn)}function s1(t,e,n){if(wn.current!==Qs)throw Error(X(168));tt(wn,e),tt(Vn,n)}function FS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(X(108,dO(t)||"Unknown",i));return _t({},n,r)}function xf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qs,Wo=wn.current,tt(wn,t),tt(Vn,Vn.current),!0}function o1(t,e,n){var r=t.stateNode;if(!r)throw Error(X(169));n?(t=FS(t,e,Wo),r.__reactInternalMemoizedMergedChildContext=t,ut(Vn),ut(wn),tt(wn,t)):ut(Vn),tt(Vn,n)}var Pi=null,$p=!1,Eg=!1;function VS(t){Pi===null?Pi=[t]:Pi.push(t)}function xD(t){$p=!0,VS(t)}function io(){if(!Eg&&Pi!==null){Eg=!0;var t=0,e=He;try{var n=Pi;for(He=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Pi=null,$p=!1}catch(i){throw Pi!==null&&(Pi=Pi.slice(t+1)),uS(bv,io),i}finally{He=e,Eg=!1}}return null}var ja=[],Ba=0,Rf=null,Pf=0,lr=[],ur=0,Ho=null,Ni=1,Oi="";function bo(t,e){ja[Ba++]=Pf,ja[Ba++]=Rf,Rf=t,Pf=e}function US(t,e,n){lr[ur++]=Ni,lr[ur++]=Oi,lr[ur++]=Ho,Ho=t;var r=Ni;t=Oi;var i=32-Pr(r)-1;r&=~(1<<i),n+=1;var s=32-Pr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ni=1<<32-Pr(e)+i|n<<i|r,Oi=s+t}else Ni=1<<s|n<<i|r,Oi=t}function Lv(t){t.return!==null&&(bo(t,1),US(t,1,0))}function Mv(t){for(;t===Rf;)Rf=ja[--Ba],ja[Ba]=null,Pf=ja[--Ba],ja[Ba]=null;for(;t===Ho;)Ho=lr[--ur],lr[ur]=null,Oi=lr[--ur],lr[ur]=null,Ni=lr[--ur],lr[ur]=null}var Zn=null,Xn=null,pt=!1,Sr=null;function $S(t,e){var n=cr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function a1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Zn=t,Xn=Fs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Zn=t,Xn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ho!==null?{id:Ni,overflow:Oi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=cr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Zn=t,Xn=null,!0):!1;default:return!1}}function By(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zy(t){if(pt){var e=Xn;if(e){var n=e;if(!a1(t,e)){if(By(t))throw Error(X(418));e=Fs(n.nextSibling);var r=Zn;e&&a1(t,e)?$S(r,n):(t.flags=t.flags&-4097|2,pt=!1,Zn=t)}}else{if(By(t))throw Error(X(418));t.flags=t.flags&-4097|2,pt=!1,Zn=t}}}function l1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zn=t}function _d(t){if(t!==Zn)return!1;if(!pt)return l1(t),pt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Vy(t.type,t.memoizedProps)),e&&(e=Xn)){if(By(t))throw jS(),Error(X(418));for(;e;)$S(t,e),e=Fs(e.nextSibling)}if(l1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Xn=Fs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Xn=null}}else Xn=Zn?Fs(t.stateNode.nextSibling):null;return!0}function jS(){for(var t=Xn;t;)t=Fs(t.nextSibling)}function gl(){Xn=Zn=null,pt=!1}function Fv(t){Sr===null?Sr=[t]:Sr.push(t)}var RD=Xi.ReactCurrentBatchConfig;function Ir(t,e){if(t&&t.defaultProps){e=_t({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Nf=ro(null),Of=null,za=null,Vv=null;function Uv(){Vv=za=Of=null}function $v(t){var e=Nf.current;ut(Nf),t._currentValue=e}function Wy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function nl(t,e){Of=t,Vv=za=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Mn=!0),t.firstContext=null)}function fr(t){var e=t._currentValue;if(Vv!==t)if(t={context:t,memoizedValue:e,next:null},za===null){if(Of===null)throw Error(X(308));za=t,Of.dependencies={lanes:0,firstContext:t}}else za=za.next=t;return e}var Po=null;function jv(t){Po===null?Po=[t]:Po.push(t)}function BS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,jv(e)):(n.next=i.next,i.next=n),e.interleaved=n,zi(t,r)}function zi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ws=!1;function Bv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Vi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Vs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,zi(t,n)}return i=r.interleaved,i===null?(e.next=e,jv(r)):(e.next=i.next,i.next=e),r.interleaved=e,zi(t,n)}function zd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,kv(t,n)}}function u1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Df(t,e,n,r){var i=t.updateQueue;ws=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var m=i.baseState;o=0,d=c=l=null,a=s;do{var g=a.lane,E=a.eventTime;if((r&g)===g){d!==null&&(d=d.next={eventTime:E,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=t,A=a;switch(g=e,E=n,A.tag){case 1:if(S=A.payload,typeof S=="function"){m=S.call(E,m,g);break e}m=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=A.payload,g=typeof S=="function"?S.call(E,m,g):S,g==null)break e;m=_t({},m,g);break e;case 2:ws=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[a]:g.push(a))}else E={eventTime:E,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=E,l=m):d=d.next=E,o|=g;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;g=a,a=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(1);if(d===null&&(l=m),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Go|=o,t.lanes=o,t.memoizedState=m}}function c1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(X(191,i));i.call(r)}}}var WS=new BC.Component().refs;function Hy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:_t({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var jp={isMounted:function(t){return(t=t._reactInternals)?oa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=kn(),i=$s(t),s=Vi(r,i);s.payload=e,n!=null&&(s.callback=n),e=Vs(t,s,i),e!==null&&(Nr(e,t,i,r),zd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=kn(),i=$s(t),s=Vi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Vs(t,s,i),e!==null&&(Nr(e,t,i,r),zd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=kn(),r=$s(t),i=Vi(n,r);i.tag=2,e!=null&&(i.callback=e),e=Vs(t,i,r),e!==null&&(Nr(e,t,r,n),zd(e,t,r))}};function h1(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ec(n,r)||!Ec(i,s):!0}function HS(t,e,n){var r=!1,i=Qs,s=e.contextType;return typeof s=="object"&&s!==null?s=fr(s):(i=Un(e)?Wo:wn.current,r=e.contextTypes,s=(r=r!=null)?ml(t,i):Qs),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=jp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function d1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&jp.enqueueReplaceState(e,e.state,null)}function qy(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=WS,Bv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=fr(s):(s=Un(e)?Wo:wn.current,i.context=ml(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Hy(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&jp.enqueueReplaceState(i,i.state,null),Df(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Su(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===WS&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,t))}return t}function vd(t,e){throw t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function f1(t){var e=t._init;return e(t._payload)}function qS(t){function e(b,w){if(t){var k=b.deletions;k===null?(b.deletions=[w],b.flags|=16):k.push(w)}}function n(b,w){if(!t)return null;for(;w!==null;)e(b,w),w=w.sibling;return null}function r(b,w){for(b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function i(b,w){return b=js(b,w),b.index=0,b.sibling=null,b}function s(b,w,k){return b.index=k,t?(k=b.alternate,k!==null?(k=k.index,k<w?(b.flags|=2,w):k):(b.flags|=2,w)):(b.flags|=1048576,w)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,w,k,F){return w===null||w.tag!==6?(w=Ag(k,b.mode,F),w.return=b,w):(w=i(w,k),w.return=b,w)}function l(b,w,k,F){var j=k.type;return j===La?d(b,w,k.props.children,F,k.key):w!==null&&(w.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===vs&&f1(j)===w.type)?(F=i(w,k.props),F.ref=Su(b,w,k),F.return=b,F):(F=Qd(k.type,k.key,k.props,null,b.mode,F),F.ref=Su(b,w,k),F.return=b,F)}function c(b,w,k,F){return w===null||w.tag!==4||w.stateNode.containerInfo!==k.containerInfo||w.stateNode.implementation!==k.implementation?(w=xg(k,b.mode,F),w.return=b,w):(w=i(w,k.children||[]),w.return=b,w)}function d(b,w,k,F,j){return w===null||w.tag!==7?(w=Uo(k,b.mode,F,j),w.return=b,w):(w=i(w,k),w.return=b,w)}function m(b,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Ag(""+w,b.mode,k),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ld:return k=Qd(w.type,w.key,w.props,null,b.mode,k),k.ref=Su(b,null,w),k.return=b,k;case Da:return w=xg(w,b.mode,k),w.return=b,w;case vs:var F=w._init;return m(b,F(w._payload),k)}if(Mu(w)||wu(w))return w=Uo(w,b.mode,k,null),w.return=b,w;vd(b,w)}return null}function g(b,w,k,F){var j=w!==null?w.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return j!==null?null:a(b,w,""+k,F);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ld:return k.key===j?l(b,w,k,F):null;case Da:return k.key===j?c(b,w,k,F):null;case vs:return j=k._init,g(b,w,j(k._payload),F)}if(Mu(k)||wu(k))return j!==null?null:d(b,w,k,F,null);vd(b,k)}return null}function E(b,w,k,F,j){if(typeof F=="string"&&F!==""||typeof F=="number")return b=b.get(k)||null,a(w,b,""+F,j);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case ld:return b=b.get(F.key===null?k:F.key)||null,l(w,b,F,j);case Da:return b=b.get(F.key===null?k:F.key)||null,c(w,b,F,j);case vs:var W=F._init;return E(b,w,k,W(F._payload),j)}if(Mu(F)||wu(F))return b=b.get(k)||null,d(w,b,F,j,null);vd(w,F)}return null}function S(b,w,k,F){for(var j=null,W=null,C=w,I=w=0,R=null;C!==null&&I<k.length;I++){C.index>I?(R=C,C=null):R=C.sibling;var P=g(b,C,k[I],F);if(P===null){C===null&&(C=R);break}t&&C&&P.alternate===null&&e(b,C),w=s(P,w,I),W===null?j=P:W.sibling=P,W=P,C=R}if(I===k.length)return n(b,C),pt&&bo(b,I),j;if(C===null){for(;I<k.length;I++)C=m(b,k[I],F),C!==null&&(w=s(C,w,I),W===null?j=C:W.sibling=C,W=C);return pt&&bo(b,I),j}for(C=r(b,C);I<k.length;I++)R=E(C,b,I,k[I],F),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?I:R.key),w=s(R,w,I),W===null?j=R:W.sibling=R,W=R);return t&&C.forEach(function(L){return e(b,L)}),pt&&bo(b,I),j}function A(b,w,k,F){var j=wu(k);if(typeof j!="function")throw Error(X(150));if(k=j.call(k),k==null)throw Error(X(151));for(var W=j=null,C=w,I=w=0,R=null,P=k.next();C!==null&&!P.done;I++,P=k.next()){C.index>I?(R=C,C=null):R=C.sibling;var L=g(b,C,P.value,F);if(L===null){C===null&&(C=R);break}t&&C&&L.alternate===null&&e(b,C),w=s(L,w,I),W===null?j=L:W.sibling=L,W=L,C=R}if(P.done)return n(b,C),pt&&bo(b,I),j;if(C===null){for(;!P.done;I++,P=k.next())P=m(b,P.value,F),P!==null&&(w=s(P,w,I),W===null?j=P:W.sibling=P,W=P);return pt&&bo(b,I),j}for(C=r(b,C);!P.done;I++,P=k.next())P=E(C,b,I,P.value,F),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?I:P.key),w=s(P,w,I),W===null?j=P:W.sibling=P,W=P);return t&&C.forEach(function(M){return e(b,M)}),pt&&bo(b,I),j}function D(b,w,k,F){if(typeof k=="object"&&k!==null&&k.type===La&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case ld:e:{for(var j=k.key,W=w;W!==null;){if(W.key===j){if(j=k.type,j===La){if(W.tag===7){n(b,W.sibling),w=i(W,k.props.children),w.return=b,b=w;break e}}else if(W.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===vs&&f1(j)===W.type){n(b,W.sibling),w=i(W,k.props),w.ref=Su(b,W,k),w.return=b,b=w;break e}n(b,W);break}else e(b,W);W=W.sibling}k.type===La?(w=Uo(k.props.children,b.mode,F,k.key),w.return=b,b=w):(F=Qd(k.type,k.key,k.props,null,b.mode,F),F.ref=Su(b,w,k),F.return=b,b=F)}return o(b);case Da:e:{for(W=k.key;w!==null;){if(w.key===W)if(w.tag===4&&w.stateNode.containerInfo===k.containerInfo&&w.stateNode.implementation===k.implementation){n(b,w.sibling),w=i(w,k.children||[]),w.return=b,b=w;break e}else{n(b,w);break}else e(b,w);w=w.sibling}w=xg(k,b.mode,F),w.return=b,b=w}return o(b);case vs:return W=k._init,D(b,w,W(k._payload),F)}if(Mu(k))return S(b,w,k,F);if(wu(k))return A(b,w,k,F);vd(b,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,w!==null&&w.tag===6?(n(b,w.sibling),w=i(w,k),w.return=b,b=w):(n(b,w),w=Ag(k,b.mode,F),w.return=b,b=w),o(b)):n(b,w)}return D}var yl=qS(!0),GS=qS(!1),rh={},ti=ro(rh),Sc=ro(rh),bc=ro(rh);function No(t){if(t===rh)throw Error(X(174));return t}function zv(t,e){switch(tt(bc,e),tt(Sc,t),tt(ti,rh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Cy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Cy(e,t)}ut(ti),tt(ti,e)}function _l(){ut(ti),ut(Sc),ut(bc)}function KS(t){No(bc.current);var e=No(ti.current),n=Cy(e,t.type);e!==n&&(tt(Sc,t),tt(ti,n))}function Wv(t){Sc.current===t&&(ut(ti),ut(Sc))}var gt=ro(0);function Lf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Tg=[];function Hv(){for(var t=0;t<Tg.length;t++)Tg[t]._workInProgressVersionPrimary=null;Tg.length=0}var Wd=Xi.ReactCurrentDispatcher,Ig=Xi.ReactCurrentBatchConfig,qo=0,yt=null,Ft=null,Kt=null,Mf=!1,Ju=!1,kc=0,PD=0;function cn(){throw Error(X(321))}function qv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Lr(t[n],e[n]))return!1;return!0}function Gv(t,e,n,r,i,s){if(qo=s,yt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Wd.current=t===null||t.memoizedState===null?LD:MD,t=n(r,i),Ju){s=0;do{if(Ju=!1,kc=0,25<=s)throw Error(X(301));s+=1,Kt=Ft=null,e.updateQueue=null,Wd.current=FD,t=n(r,i)}while(Ju)}if(Wd.current=Ff,e=Ft!==null&&Ft.next!==null,qo=0,Kt=Ft=yt=null,Mf=!1,e)throw Error(X(300));return t}function Kv(){var t=kc!==0;return kc=0,t}function Hr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?yt.memoizedState=Kt=t:Kt=Kt.next=t,Kt}function pr(){if(Ft===null){var t=yt.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var e=Kt===null?yt.memoizedState:Kt.next;if(e!==null)Kt=e,Ft=t;else{if(t===null)throw Error(X(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},Kt===null?yt.memoizedState=Kt=t:Kt=Kt.next=t}return Kt}function Ac(t,e){return typeof e=="function"?e(t):e}function Cg(t){var e=pr(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=Ft,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((qo&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var m={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=m,o=r):l=l.next=m,yt.lanes|=d,Go|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Lr(r,e.memoizedState)||(Mn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,yt.lanes|=s,Go|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Sg(t){var e=pr(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Lr(s,e.memoizedState)||(Mn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function QS(){}function YS(t,e){var n=yt,r=pr(),i=e(),s=!Lr(r.memoizedState,i);if(s&&(r.memoizedState=i,Mn=!0),r=r.queue,Qv(ZS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Kt!==null&&Kt.memoizedState.tag&1){if(n.flags|=2048,xc(9,JS.bind(null,n,r,i,e),void 0,null),Xt===null)throw Error(X(349));qo&30||XS(n,e,i)}return i}function XS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=yt.updateQueue,e===null?(e={lastEffect:null,stores:null},yt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function JS(t,e,n,r){e.value=n,e.getSnapshot=r,eb(e)&&tb(t)}function ZS(t,e,n){return n(function(){eb(e)&&tb(t)})}function eb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Lr(t,n)}catch{return!0}}function tb(t){var e=zi(t,1);e!==null&&Nr(e,t,1,-1)}function p1(t){var e=Hr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ac,lastRenderedState:t},e.queue=t,t=t.dispatch=DD.bind(null,yt,t),[e.memoizedState,t]}function xc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=yt.updateQueue,e===null?(e={lastEffect:null,stores:null},yt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function nb(){return pr().memoizedState}function Hd(t,e,n,r){var i=Hr();yt.flags|=t,i.memoizedState=xc(1|e,n,void 0,r===void 0?null:r)}function Bp(t,e,n,r){var i=pr();r=r===void 0?null:r;var s=void 0;if(Ft!==null){var o=Ft.memoizedState;if(s=o.destroy,r!==null&&qv(r,o.deps)){i.memoizedState=xc(e,n,s,r);return}}yt.flags|=t,i.memoizedState=xc(1|e,n,s,r)}function m1(t,e){return Hd(8390656,8,t,e)}function Qv(t,e){return Bp(2048,8,t,e)}function rb(t,e){return Bp(4,2,t,e)}function ib(t,e){return Bp(4,4,t,e)}function sb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ob(t,e,n){return n=n!=null?n.concat([t]):null,Bp(4,4,sb.bind(null,e,t),n)}function Yv(){}function ab(t,e){var n=pr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function lb(t,e){var n=pr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ub(t,e,n){return qo&21?(Lr(n,e)||(n=dS(),yt.lanes|=n,Go|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Mn=!0),t.memoizedState=n)}function ND(t,e){var n=He;He=n!==0&&4>n?n:4,t(!0);var r=Ig.transition;Ig.transition={};try{t(!1),e()}finally{He=n,Ig.transition=r}}function cb(){return pr().memoizedState}function OD(t,e,n){var r=$s(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},hb(t))db(e,n);else if(n=BS(t,e,n,r),n!==null){var i=kn();Nr(n,t,r,i),fb(n,e,r)}}function DD(t,e,n){var r=$s(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(hb(t))db(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Lr(a,o)){var l=e.interleaved;l===null?(i.next=i,jv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=BS(t,e,i,r),n!==null&&(i=kn(),Nr(n,t,r,i),fb(n,e,r))}}function hb(t){var e=t.alternate;return t===yt||e!==null&&e===yt}function db(t,e){Ju=Mf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function fb(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,kv(t,n)}}var Ff={readContext:fr,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useInsertionEffect:cn,useLayoutEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useMutableSource:cn,useSyncExternalStore:cn,useId:cn,unstable_isNewReconciler:!1},LD={readContext:fr,useCallback:function(t,e){return Hr().memoizedState=[t,e===void 0?null:e],t},useContext:fr,useEffect:m1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Hd(4194308,4,sb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Hd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Hd(4,2,t,e)},useMemo:function(t,e){var n=Hr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Hr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=OD.bind(null,yt,t),[r.memoizedState,t]},useRef:function(t){var e=Hr();return t={current:t},e.memoizedState=t},useState:p1,useDebugValue:Yv,useDeferredValue:function(t){return Hr().memoizedState=t},useTransition:function(){var t=p1(!1),e=t[0];return t=ND.bind(null,t[1]),Hr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=yt,i=Hr();if(pt){if(n===void 0)throw Error(X(407));n=n()}else{if(n=e(),Xt===null)throw Error(X(349));qo&30||XS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,m1(ZS.bind(null,r,s,t),[t]),r.flags|=2048,xc(9,JS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Hr(),e=Xt.identifierPrefix;if(pt){var n=Oi,r=Ni;n=(r&~(1<<32-Pr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=kc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=PD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},MD={readContext:fr,useCallback:ab,useContext:fr,useEffect:Qv,useImperativeHandle:ob,useInsertionEffect:rb,useLayoutEffect:ib,useMemo:lb,useReducer:Cg,useRef:nb,useState:function(){return Cg(Ac)},useDebugValue:Yv,useDeferredValue:function(t){var e=pr();return ub(e,Ft.memoizedState,t)},useTransition:function(){var t=Cg(Ac)[0],e=pr().memoizedState;return[t,e]},useMutableSource:QS,useSyncExternalStore:YS,useId:cb,unstable_isNewReconciler:!1},FD={readContext:fr,useCallback:ab,useContext:fr,useEffect:Qv,useImperativeHandle:ob,useInsertionEffect:rb,useLayoutEffect:ib,useMemo:lb,useReducer:Sg,useRef:nb,useState:function(){return Sg(Ac)},useDebugValue:Yv,useDeferredValue:function(t){var e=pr();return Ft===null?e.memoizedState=t:ub(e,Ft.memoizedState,t)},useTransition:function(){var t=Sg(Ac)[0],e=pr().memoizedState;return[t,e]},useMutableSource:QS,useSyncExternalStore:YS,useId:cb,unstable_isNewReconciler:!1};function vl(t,e){try{var n="",r=e;do n+=hO(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function bg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Gy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var VD=typeof WeakMap=="function"?WeakMap:Map;function pb(t,e,n){n=Vi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Uf||(Uf=!0,r_=r),Gy(t,e)},n}function mb(t,e,n){n=Vi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Gy(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Gy(t,e),typeof r!="function"&&(Us===null?Us=new Set([this]):Us.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function g1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new VD;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=JD.bind(null,t,e,n),e.then(t,t))}function y1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function _1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Vi(-1,1),e.tag=2,Vs(n,e,1))),n.lanes|=1),t)}var UD=Xi.ReactCurrentOwner,Mn=!1;function Sn(t,e,n,r){e.child=t===null?GS(e,null,n,r):yl(e,t.child,n,r)}function v1(t,e,n,r,i){n=n.render;var s=e.ref;return nl(e,i),r=Gv(t,e,n,r,s,i),n=Kv(),t!==null&&!Mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Wi(t,e,i)):(pt&&n&&Lv(e),e.flags|=1,Sn(t,e,r,i),e.child)}function w1(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!iw(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,gb(t,e,s,r,i)):(t=Qd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ec,n(o,r)&&t.ref===e.ref)return Wi(t,e,i)}return e.flags|=1,t=js(s,r),t.ref=e.ref,t.return=e,e.child=t}function gb(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ec(s,r)&&t.ref===e.ref)if(Mn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Mn=!0);else return e.lanes=t.lanes,Wi(t,e,i)}return Ky(t,e,n,r,i)}function yb(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(Ha,Qn),Qn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,tt(Ha,Qn),Qn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,tt(Ha,Qn),Qn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,tt(Ha,Qn),Qn|=r;return Sn(t,e,i,n),e.child}function _b(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ky(t,e,n,r,i){var s=Un(n)?Wo:wn.current;return s=ml(e,s),nl(e,i),n=Gv(t,e,n,r,s,i),r=Kv(),t!==null&&!Mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Wi(t,e,i)):(pt&&r&&Lv(e),e.flags|=1,Sn(t,e,n,i),e.child)}function E1(t,e,n,r,i){if(Un(n)){var s=!0;xf(e)}else s=!1;if(nl(e,i),e.stateNode===null)qd(t,e),HS(e,n,r),qy(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=fr(c):(c=Un(n)?Wo:wn.current,c=ml(e,c));var d=n.getDerivedStateFromProps,m=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&d1(e,o,r,c),ws=!1;var g=e.memoizedState;o.state=g,Df(e,r,o,i),l=e.memoizedState,a!==r||g!==l||Vn.current||ws?(typeof d=="function"&&(Hy(e,n,d,r),l=e.memoizedState),(a=ws||h1(e,n,a,r,g,l,c))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,zS(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ir(e.type,a),o.props=c,m=e.pendingProps,g=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=fr(l):(l=Un(n)?Wo:wn.current,l=ml(e,l));var E=n.getDerivedStateFromProps;(d=typeof E=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==m||g!==l)&&d1(e,o,r,l),ws=!1,g=e.memoizedState,o.state=g,Df(e,r,o,i);var S=e.memoizedState;a!==m||g!==S||Vn.current||ws?(typeof E=="function"&&(Hy(e,n,E,r),S=e.memoizedState),(c=ws||h1(e,n,c,r,g,S,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return Qy(t,e,n,r,s,i)}function Qy(t,e,n,r,i,s){_b(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&o1(e,n,!1),Wi(t,e,s);r=e.stateNode,UD.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=yl(e,t.child,null,s),e.child=yl(e,null,a,s)):Sn(t,e,a,s),e.memoizedState=r.state,i&&o1(e,n,!0),e.child}function vb(t){var e=t.stateNode;e.pendingContext?s1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&s1(t,e.context,!1),zv(t,e.containerInfo)}function T1(t,e,n,r,i){return gl(),Fv(i),e.flags|=256,Sn(t,e,n,r),e.child}var Yy={dehydrated:null,treeContext:null,retryLane:0};function Xy(t){return{baseLanes:t,cachePool:null,transitions:null}}function wb(t,e,n){var r=e.pendingProps,i=gt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),tt(gt,i&1),t===null)return zy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Hp(o,r,0,null),t=Uo(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Xy(n),e.memoizedState=Yy,t):Xv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return $D(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=js(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=js(a,s):(s=Uo(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Xy(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Yy,r}return s=t.child,t=s.sibling,r=js(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Xv(t,e){return e=Hp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function wd(t,e,n,r){return r!==null&&Fv(r),yl(e,t.child,null,n),t=Xv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function $D(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=bg(Error(X(422))),wd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Hp({mode:"visible",children:r.children},i,0,null),s=Uo(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&yl(e,t.child,null,o),e.child.memoizedState=Xy(o),e.memoizedState=Yy,s);if(!(e.mode&1))return wd(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(X(419)),r=bg(s,r,void 0),wd(t,e,o,r)}if(a=(o&t.childLanes)!==0,Mn||a){if(r=Xt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,zi(t,i),Nr(r,t,i,-1))}return rw(),r=bg(Error(X(421))),wd(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=ZD.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Xn=Fs(i.nextSibling),Zn=e,pt=!0,Sr=null,t!==null&&(lr[ur++]=Ni,lr[ur++]=Oi,lr[ur++]=Ho,Ni=t.id,Oi=t.overflow,Ho=e),e=Xv(e,r.children),e.flags|=4096,e)}function I1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Wy(t.return,e,n)}function kg(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Eb(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Sn(t,e,r.children,n),r=gt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&I1(t,n,e);else if(t.tag===19)I1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(tt(gt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Lf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),kg(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Lf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}kg(e,!0,n,null,s);break;case"together":kg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function qd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Wi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Go|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,n=js(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=js(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function jD(t,e,n){switch(e.tag){case 3:vb(e),gl();break;case 5:KS(e);break;case 1:Un(e.type)&&xf(e);break;case 4:zv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;tt(Nf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(tt(gt,gt.current&1),e.flags|=128,null):n&e.child.childLanes?wb(t,e,n):(tt(gt,gt.current&1),t=Wi(t,e,n),t!==null?t.sibling:null);tt(gt,gt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Eb(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),tt(gt,gt.current),r)break;return null;case 22:case 23:return e.lanes=0,yb(t,e,n)}return Wi(t,e,n)}var Tb,Jy,Ib,Cb;Tb=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Jy=function(){};Ib=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,No(ti.current);var s=null;switch(n){case"input":i=wy(t,i),r=wy(t,r),s=[];break;case"select":i=_t({},i,{value:void 0}),r=_t({},r,{value:void 0}),s=[];break;case"textarea":i=Iy(t,i),r=Iy(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=kf)}Sy(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(pc.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(pc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&st("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Cb=function(t,e,n,r){n!==r&&(e.flags|=4)};function bu(t,e){if(!pt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function hn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function BD(t,e,n){var r=e.pendingProps;switch(Mv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hn(e),null;case 1:return Un(e.type)&&Af(),hn(e),null;case 3:return r=e.stateNode,_l(),ut(Vn),ut(wn),Hv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(_d(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Sr!==null&&(o_(Sr),Sr=null))),Jy(t,e),hn(e),null;case 5:Wv(e);var i=No(bc.current);if(n=e.type,t!==null&&e.stateNode!=null)Ib(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(X(166));return hn(e),null}if(t=No(ti.current),_d(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Yr]=e,r[Cc]=s,t=(e.mode&1)!==0,n){case"dialog":st("cancel",r),st("close",r);break;case"iframe":case"object":case"embed":st("load",r);break;case"video":case"audio":for(i=0;i<Vu.length;i++)st(Vu[i],r);break;case"source":st("error",r);break;case"img":case"image":case"link":st("error",r),st("load",r);break;case"details":st("toggle",r);break;case"input":NE(r,s),st("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},st("invalid",r);break;case"textarea":DE(r,s),st("invalid",r)}Sy(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&yd(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&yd(r.textContent,a,t),i=["children",""+a]):pc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&st("scroll",r)}switch(n){case"input":ud(r),OE(r,s,!0);break;case"textarea":ud(r),LE(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=kf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=XC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Yr]=e,t[Cc]=r,Tb(t,e,!1,!1),e.stateNode=t;e:{switch(o=by(n,r),n){case"dialog":st("cancel",t),st("close",t),i=r;break;case"iframe":case"object":case"embed":st("load",t),i=r;break;case"video":case"audio":for(i=0;i<Vu.length;i++)st(Vu[i],t);i=r;break;case"source":st("error",t),i=r;break;case"img":case"image":case"link":st("error",t),st("load",t),i=r;break;case"details":st("toggle",t),i=r;break;case"input":NE(t,r),i=wy(t,r),st("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=_t({},r,{value:void 0}),st("invalid",t);break;case"textarea":DE(t,r),i=Iy(t,r),st("invalid",t);break;default:i=r}Sy(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?eS(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&JC(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&mc(t,l):typeof l=="number"&&mc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(pc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&st("scroll",t):l!=null&&Ev(t,s,l,o))}switch(n){case"input":ud(t),OE(t,r,!1);break;case"textarea":ud(t),LE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ks(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ja(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ja(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=kf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return hn(e),null;case 6:if(t&&e.stateNode!=null)Cb(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(X(166));if(n=No(bc.current),No(ti.current),_d(e)){if(r=e.stateNode,n=e.memoizedProps,r[Yr]=e,(s=r.nodeValue!==n)&&(t=Zn,t!==null))switch(t.tag){case 3:yd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&yd(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Yr]=e,e.stateNode=r}return hn(e),null;case 13:if(ut(gt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pt&&Xn!==null&&e.mode&1&&!(e.flags&128))jS(),gl(),e.flags|=98560,s=!1;else if(s=_d(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(X(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(X(317));s[Yr]=e}else gl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;hn(e),s=!1}else Sr!==null&&(o_(Sr),Sr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||gt.current&1?$t===0&&($t=3):rw())),e.updateQueue!==null&&(e.flags|=4),hn(e),null);case 4:return _l(),Jy(t,e),t===null&&Tc(e.stateNode.containerInfo),hn(e),null;case 10:return $v(e.type._context),hn(e),null;case 17:return Un(e.type)&&Af(),hn(e),null;case 19:if(ut(gt),s=e.memoizedState,s===null)return hn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)bu(s,!1);else{if($t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Lf(t),o!==null){for(e.flags|=128,bu(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return tt(gt,gt.current&1|2),e.child}t=t.sibling}s.tail!==null&&kt()>wl&&(e.flags|=128,r=!0,bu(s,!1),e.lanes=4194304)}else{if(!r)if(t=Lf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),bu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!pt)return hn(e),null}else 2*kt()-s.renderingStartTime>wl&&n!==1073741824&&(e.flags|=128,r=!0,bu(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=kt(),e.sibling=null,n=gt.current,tt(gt,r?n&1|2:n&1),e):(hn(e),null);case 22:case 23:return nw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Qn&1073741824&&(hn(e),e.subtreeFlags&6&&(e.flags|=8192)):hn(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function zD(t,e){switch(Mv(e),e.tag){case 1:return Un(e.type)&&Af(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return _l(),ut(Vn),ut(wn),Hv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Wv(e),null;case 13:if(ut(gt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));gl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ut(gt),null;case 4:return _l(),null;case 10:return $v(e.type._context),null;case 22:case 23:return nw(),null;case 24:return null;default:return null}}var Ed=!1,mn=!1,WD=typeof WeakSet=="function"?WeakSet:Set,oe=null;function Wa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Tt(t,e,r)}else n.current=null}function Zy(t,e,n){try{n()}catch(r){Tt(t,e,r)}}var C1=!1;function HD(t,e){if(My=Cf,t=AS(),Dv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,m=t,g=null;t:for(;;){for(var E;m!==n||i!==0&&m.nodeType!==3||(a=o+i),m!==s||r!==0&&m.nodeType!==3||(l=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(E=m.firstChild)!==null;)g=m,m=E;for(;;){if(m===t)break t;if(g===n&&++c===i&&(a=o),g===s&&++d===r&&(l=o),(E=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=E}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fy={focusedElem:t,selectionRange:n},Cf=!1,oe=e;oe!==null;)if(e=oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,oe=t;else for(;oe!==null;){e=oe;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var A=S.memoizedProps,D=S.memoizedState,b=e.stateNode,w=b.getSnapshotBeforeUpdate(e.elementType===e.type?A:Ir(e.type,A),D);b.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(F){Tt(e,e.return,F)}if(t=e.sibling,t!==null){t.return=e.return,oe=t;break}oe=e.return}return S=C1,C1=!1,S}function Zu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Zy(e,n,s)}i=i.next}while(i!==r)}}function zp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function e_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Sb(t){var e=t.alternate;e!==null&&(t.alternate=null,Sb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Yr],delete e[Cc],delete e[$y],delete e[kD],delete e[AD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function bb(t){return t.tag===5||t.tag===3||t.tag===4}function S1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||bb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function t_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=kf));else if(r!==4&&(t=t.child,t!==null))for(t_(t,e,n),t=t.sibling;t!==null;)t_(t,e,n),t=t.sibling}function n_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(n_(t,e,n),t=t.sibling;t!==null;)n_(t,e,n),t=t.sibling}var en=null,Cr=!1;function gs(t,e,n){for(n=n.child;n!==null;)kb(t,e,n),n=n.sibling}function kb(t,e,n){if(ei&&typeof ei.onCommitFiberUnmount=="function")try{ei.onCommitFiberUnmount(Lp,n)}catch{}switch(n.tag){case 5:mn||Wa(n,e);case 6:var r=en,i=Cr;en=null,gs(t,e,n),en=r,Cr=i,en!==null&&(Cr?(t=en,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):en.removeChild(n.stateNode));break;case 18:en!==null&&(Cr?(t=en,n=n.stateNode,t.nodeType===8?wg(t.parentNode,n):t.nodeType===1&&wg(t,n),vc(t)):wg(en,n.stateNode));break;case 4:r=en,i=Cr,en=n.stateNode.containerInfo,Cr=!0,gs(t,e,n),en=r,Cr=i;break;case 0:case 11:case 14:case 15:if(!mn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Zy(n,e,o),i=i.next}while(i!==r)}gs(t,e,n);break;case 1:if(!mn&&(Wa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Tt(n,e,a)}gs(t,e,n);break;case 21:gs(t,e,n);break;case 22:n.mode&1?(mn=(r=mn)||n.memoizedState!==null,gs(t,e,n),mn=r):gs(t,e,n);break;default:gs(t,e,n)}}function b1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new WD),e.forEach(function(r){var i=eL.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Tr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:en=a.stateNode,Cr=!1;break e;case 3:en=a.stateNode.containerInfo,Cr=!0;break e;case 4:en=a.stateNode.containerInfo,Cr=!0;break e}a=a.return}if(en===null)throw Error(X(160));kb(s,o,i),en=null,Cr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Tt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ab(e,t),e=e.sibling}function Ab(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Tr(e,t),Wr(t),r&4){try{Zu(3,t,t.return),zp(3,t)}catch(A){Tt(t,t.return,A)}try{Zu(5,t,t.return)}catch(A){Tt(t,t.return,A)}}break;case 1:Tr(e,t),Wr(t),r&512&&n!==null&&Wa(n,n.return);break;case 5:if(Tr(e,t),Wr(t),r&512&&n!==null&&Wa(n,n.return),t.flags&32){var i=t.stateNode;try{mc(i,"")}catch(A){Tt(t,t.return,A)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&QC(i,s),by(a,o);var c=by(a,s);for(o=0;o<l.length;o+=2){var d=l[o],m=l[o+1];d==="style"?eS(i,m):d==="dangerouslySetInnerHTML"?JC(i,m):d==="children"?mc(i,m):Ev(i,d,m,c)}switch(a){case"input":Ey(i,s);break;case"textarea":YC(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var E=s.value;E!=null?Ja(i,!!s.multiple,E,!1):g!==!!s.multiple&&(s.defaultValue!=null?Ja(i,!!s.multiple,s.defaultValue,!0):Ja(i,!!s.multiple,s.multiple?[]:"",!1))}i[Cc]=s}catch(A){Tt(t,t.return,A)}}break;case 6:if(Tr(e,t),Wr(t),r&4){if(t.stateNode===null)throw Error(X(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(A){Tt(t,t.return,A)}}break;case 3:if(Tr(e,t),Wr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vc(e.containerInfo)}catch(A){Tt(t,t.return,A)}break;case 4:Tr(e,t),Wr(t);break;case 13:Tr(e,t),Wr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ew=kt())),r&4&&b1(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(mn=(c=mn)||d,Tr(e,t),mn=c):Tr(e,t),Wr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(oe=t,d=t.child;d!==null;){for(m=oe=d;oe!==null;){switch(g=oe,E=g.child,g.tag){case 0:case 11:case 14:case 15:Zu(4,g,g.return);break;case 1:Wa(g,g.return);var S=g.stateNode;if(typeof S.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(A){Tt(r,n,A)}}break;case 5:Wa(g,g.return);break;case 22:if(g.memoizedState!==null){A1(m);continue}}E!==null?(E.return=g,oe=E):A1(m)}d=d.sibling}e:for(d=null,m=t;;){if(m.tag===5){if(d===null){d=m;try{i=m.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=m.stateNode,l=m.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=ZC("display",o))}catch(A){Tt(t,t.return,A)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(A){Tt(t,t.return,A)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Tr(e,t),Wr(t),r&4&&b1(t);break;case 21:break;default:Tr(e,t),Wr(t)}}function Wr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(bb(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(mc(i,""),r.flags&=-33);var s=S1(t);n_(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=S1(t);t_(t,a,o);break;default:throw Error(X(161))}}catch(l){Tt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function qD(t,e,n){oe=t,xb(t)}function xb(t,e,n){for(var r=(t.mode&1)!==0;oe!==null;){var i=oe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ed;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||mn;a=Ed;var c=mn;if(Ed=o,(mn=l)&&!c)for(oe=i;oe!==null;)o=oe,l=o.child,o.tag===22&&o.memoizedState!==null?x1(i):l!==null?(l.return=o,oe=l):x1(i);for(;s!==null;)oe=s,xb(s),s=s.sibling;oe=i,Ed=a,mn=c}k1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,oe=s):k1(t)}}function k1(t){for(;oe!==null;){var e=oe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:mn||zp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!mn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ir(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&c1(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}c1(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&vc(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}mn||e.flags&512&&e_(e)}catch(g){Tt(e,e.return,g)}}if(e===t){oe=null;break}if(n=e.sibling,n!==null){n.return=e.return,oe=n;break}oe=e.return}}function A1(t){for(;oe!==null;){var e=oe;if(e===t){oe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,oe=n;break}oe=e.return}}function x1(t){for(;oe!==null;){var e=oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{zp(4,e)}catch(l){Tt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Tt(e,i,l)}}var s=e.return;try{e_(e)}catch(l){Tt(e,s,l)}break;case 5:var o=e.return;try{e_(e)}catch(l){Tt(e,o,l)}}}catch(l){Tt(e,e.return,l)}if(e===t){oe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,oe=a;break}oe=e.return}}var GD=Math.ceil,Vf=Xi.ReactCurrentDispatcher,Jv=Xi.ReactCurrentOwner,hr=Xi.ReactCurrentBatchConfig,Le=0,Xt=null,Ot=null,sn=0,Qn=0,Ha=ro(0),$t=0,Rc=null,Go=0,Wp=0,Zv=0,ec=null,On=null,ew=0,wl=1/0,xi=null,Uf=!1,r_=null,Us=null,Td=!1,Rs=null,$f=0,tc=0,i_=null,Gd=-1,Kd=0;function kn(){return Le&6?kt():Gd!==-1?Gd:Gd=kt()}function $s(t){return t.mode&1?Le&2&&sn!==0?sn&-sn:RD.transition!==null?(Kd===0&&(Kd=dS()),Kd):(t=He,t!==0||(t=window.event,t=t===void 0?16:vS(t.type)),t):1}function Nr(t,e,n,r){if(50<tc)throw tc=0,i_=null,Error(X(185));eh(t,n,r),(!(Le&2)||t!==Xt)&&(t===Xt&&(!(Le&2)&&(Wp|=n),$t===4&&Ts(t,sn)),$n(t,r),n===1&&Le===0&&!(e.mode&1)&&(wl=kt()+500,$p&&io()))}function $n(t,e){var n=t.callbackNode;RO(t,e);var r=If(t,t===Xt?sn:0);if(r===0)n!==null&&VE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&VE(n),e===1)t.tag===0?xD(R1.bind(null,t)):VS(R1.bind(null,t)),SD(function(){!(Le&6)&&io()}),n=null;else{switch(fS(r)){case 1:n=bv;break;case 4:n=cS;break;case 16:n=Tf;break;case 536870912:n=hS;break;default:n=Tf}n=Fb(n,Rb.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Rb(t,e){if(Gd=-1,Kd=0,Le&6)throw Error(X(327));var n=t.callbackNode;if(rl()&&t.callbackNode!==n)return null;var r=If(t,t===Xt?sn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=jf(t,r);else{e=r;var i=Le;Le|=2;var s=Nb();(Xt!==t||sn!==e)&&(xi=null,wl=kt()+500,Vo(t,e));do try{YD();break}catch(a){Pb(t,a)}while(1);Uv(),Vf.current=s,Le=i,Ot!==null?e=0:(Xt=null,sn=0,e=$t)}if(e!==0){if(e===2&&(i=Py(t),i!==0&&(r=i,e=s_(t,i))),e===1)throw n=Rc,Vo(t,0),Ts(t,r),$n(t,kt()),n;if(e===6)Ts(t,r);else{if(i=t.current.alternate,!(r&30)&&!KD(i)&&(e=jf(t,r),e===2&&(s=Py(t),s!==0&&(r=s,e=s_(t,s))),e===1))throw n=Rc,Vo(t,0),Ts(t,r),$n(t,kt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(X(345));case 2:ko(t,On,xi);break;case 3:if(Ts(t,r),(r&130023424)===r&&(e=ew+500-kt(),10<e)){if(If(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){kn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Uy(ko.bind(null,t,On,xi),e);break}ko(t,On,xi);break;case 4:if(Ts(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Pr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=kt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*GD(r/1960))-r,10<r){t.timeoutHandle=Uy(ko.bind(null,t,On,xi),r);break}ko(t,On,xi);break;case 5:ko(t,On,xi);break;default:throw Error(X(329))}}}return $n(t,kt()),t.callbackNode===n?Rb.bind(null,t):null}function s_(t,e){var n=ec;return t.current.memoizedState.isDehydrated&&(Vo(t,e).flags|=256),t=jf(t,e),t!==2&&(e=On,On=n,e!==null&&o_(e)),t}function o_(t){On===null?On=t:On.push.apply(On,t)}function KD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Lr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ts(t,e){for(e&=~Zv,e&=~Wp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Pr(e),r=1<<n;t[n]=-1,e&=~r}}function R1(t){if(Le&6)throw Error(X(327));rl();var e=If(t,0);if(!(e&1))return $n(t,kt()),null;var n=jf(t,e);if(t.tag!==0&&n===2){var r=Py(t);r!==0&&(e=r,n=s_(t,r))}if(n===1)throw n=Rc,Vo(t,0),Ts(t,e),$n(t,kt()),n;if(n===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ko(t,On,xi),$n(t,kt()),null}function tw(t,e){var n=Le;Le|=1;try{return t(e)}finally{Le=n,Le===0&&(wl=kt()+500,$p&&io())}}function Ko(t){Rs!==null&&Rs.tag===0&&!(Le&6)&&rl();var e=Le;Le|=1;var n=hr.transition,r=He;try{if(hr.transition=null,He=1,t)return t()}finally{He=r,hr.transition=n,Le=e,!(Le&6)&&io()}}function nw(){Qn=Ha.current,ut(Ha)}function Vo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,CD(n)),Ot!==null)for(n=Ot.return;n!==null;){var r=n;switch(Mv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Af();break;case 3:_l(),ut(Vn),ut(wn),Hv();break;case 5:Wv(r);break;case 4:_l();break;case 13:ut(gt);break;case 19:ut(gt);break;case 10:$v(r.type._context);break;case 22:case 23:nw()}n=n.return}if(Xt=t,Ot=t=js(t.current,null),sn=Qn=e,$t=0,Rc=null,Zv=Wp=Go=0,On=ec=null,Po!==null){for(e=0;e<Po.length;e++)if(n=Po[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Po=null}return t}function Pb(t,e){do{var n=Ot;try{if(Uv(),Wd.current=Ff,Mf){for(var r=yt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Mf=!1}if(qo=0,Kt=Ft=yt=null,Ju=!1,kc=0,Jv.current=null,n===null||n.return===null){$t=1,Rc=e,Ot=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=sn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var E=y1(o);if(E!==null){E.flags&=-257,_1(E,o,a,s,e),E.mode&1&&g1(s,c,e),e=E,l=c;var S=e.updateQueue;if(S===null){var A=new Set;A.add(l),e.updateQueue=A}else S.add(l);break e}else{if(!(e&1)){g1(s,c,e),rw();break e}l=Error(X(426))}}else if(pt&&a.mode&1){var D=y1(o);if(D!==null){!(D.flags&65536)&&(D.flags|=256),_1(D,o,a,s,e),Fv(vl(l,a));break e}}s=l=vl(l,a),$t!==4&&($t=2),ec===null?ec=[s]:ec.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=pb(s,l,e);u1(s,b);break e;case 1:a=l;var w=s.type,k=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Us===null||!Us.has(k)))){s.flags|=65536,e&=-e,s.lanes|=e;var F=mb(s,a,e);u1(s,F);break e}}s=s.return}while(s!==null)}Db(n)}catch(j){e=j,Ot===n&&n!==null&&(Ot=n=n.return);continue}break}while(1)}function Nb(){var t=Vf.current;return Vf.current=Ff,t===null?Ff:t}function rw(){($t===0||$t===3||$t===2)&&($t=4),Xt===null||!(Go&268435455)&&!(Wp&268435455)||Ts(Xt,sn)}function jf(t,e){var n=Le;Le|=2;var r=Nb();(Xt!==t||sn!==e)&&(xi=null,Vo(t,e));do try{QD();break}catch(i){Pb(t,i)}while(1);if(Uv(),Le=n,Vf.current=r,Ot!==null)throw Error(X(261));return Xt=null,sn=0,$t}function QD(){for(;Ot!==null;)Ob(Ot)}function YD(){for(;Ot!==null&&!EO();)Ob(Ot)}function Ob(t){var e=Mb(t.alternate,t,Qn);t.memoizedProps=t.pendingProps,e===null?Db(t):Ot=e,Jv.current=null}function Db(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=zD(n,e),n!==null){n.flags&=32767,Ot=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$t=6,Ot=null;return}}else if(n=BD(n,e,Qn),n!==null){Ot=n;return}if(e=e.sibling,e!==null){Ot=e;return}Ot=e=t}while(e!==null);$t===0&&($t=5)}function ko(t,e,n){var r=He,i=hr.transition;try{hr.transition=null,He=1,XD(t,e,n,r)}finally{hr.transition=i,He=r}return null}function XD(t,e,n,r){do rl();while(Rs!==null);if(Le&6)throw Error(X(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(PO(t,s),t===Xt&&(Ot=Xt=null,sn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Td||(Td=!0,Fb(Tf,function(){return rl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=hr.transition,hr.transition=null;var o=He;He=1;var a=Le;Le|=4,Jv.current=null,HD(t,n),Ab(n,t),yD(Fy),Cf=!!My,Fy=My=null,t.current=n,qD(n),TO(),Le=a,He=o,hr.transition=s}else t.current=n;if(Td&&(Td=!1,Rs=t,$f=i),s=t.pendingLanes,s===0&&(Us=null),SO(n.stateNode),$n(t,kt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Uf)throw Uf=!1,t=r_,r_=null,t;return $f&1&&t.tag!==0&&rl(),s=t.pendingLanes,s&1?t===i_?tc++:(tc=0,i_=t):tc=0,io(),null}function rl(){if(Rs!==null){var t=fS($f),e=hr.transition,n=He;try{if(hr.transition=null,He=16>t?16:t,Rs===null)var r=!1;else{if(t=Rs,Rs=null,$f=0,Le&6)throw Error(X(331));var i=Le;for(Le|=4,oe=t.current;oe!==null;){var s=oe,o=s.child;if(oe.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(oe=c;oe!==null;){var d=oe;switch(d.tag){case 0:case 11:case 15:Zu(8,d,s)}var m=d.child;if(m!==null)m.return=d,oe=m;else for(;oe!==null;){d=oe;var g=d.sibling,E=d.return;if(Sb(d),d===c){oe=null;break}if(g!==null){g.return=E,oe=g;break}oe=E}}}var S=s.alternate;if(S!==null){var A=S.child;if(A!==null){S.child=null;do{var D=A.sibling;A.sibling=null,A=D}while(A!==null)}}oe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,oe=o;else e:for(;oe!==null;){if(s=oe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Zu(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,oe=b;break e}oe=s.return}}var w=t.current;for(oe=w;oe!==null;){o=oe;var k=o.child;if(o.subtreeFlags&2064&&k!==null)k.return=o,oe=k;else e:for(o=w;oe!==null;){if(a=oe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:zp(9,a)}}catch(j){Tt(a,a.return,j)}if(a===o){oe=null;break e}var F=a.sibling;if(F!==null){F.return=a.return,oe=F;break e}oe=a.return}}if(Le=i,io(),ei&&typeof ei.onPostCommitFiberRoot=="function")try{ei.onPostCommitFiberRoot(Lp,t)}catch{}r=!0}return r}finally{He=n,hr.transition=e}}return!1}function P1(t,e,n){e=vl(n,e),e=pb(t,e,1),t=Vs(t,e,1),e=kn(),t!==null&&(eh(t,1,e),$n(t,e))}function Tt(t,e,n){if(t.tag===3)P1(t,t,n);else for(;e!==null;){if(e.tag===3){P1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Us===null||!Us.has(r))){t=vl(n,t),t=mb(e,t,1),e=Vs(e,t,1),t=kn(),e!==null&&(eh(e,1,t),$n(e,t));break}}e=e.return}}function JD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=kn(),t.pingedLanes|=t.suspendedLanes&n,Xt===t&&(sn&n)===n&&($t===4||$t===3&&(sn&130023424)===sn&&500>kt()-ew?Vo(t,0):Zv|=n),$n(t,e)}function Lb(t,e){e===0&&(t.mode&1?(e=dd,dd<<=1,!(dd&130023424)&&(dd=4194304)):e=1);var n=kn();t=zi(t,e),t!==null&&(eh(t,e,n),$n(t,n))}function ZD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Lb(t,n)}function eL(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(e),Lb(t,n)}var Mb;Mb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Vn.current)Mn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Mn=!1,jD(t,e,n);Mn=!!(t.flags&131072)}else Mn=!1,pt&&e.flags&1048576&&US(e,Pf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;qd(t,e),t=e.pendingProps;var i=ml(e,wn.current);nl(e,n),i=Gv(null,e,r,t,i,n);var s=Kv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Un(r)?(s=!0,xf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Bv(e),i.updater=jp,e.stateNode=i,i._reactInternals=e,qy(e,r,t,n),e=Qy(null,e,r,!0,s,n)):(e.tag=0,pt&&s&&Lv(e),Sn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(qd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=nL(r),t=Ir(r,t),i){case 0:e=Ky(null,e,r,t,n);break e;case 1:e=E1(null,e,r,t,n);break e;case 11:e=v1(null,e,r,t,n);break e;case 14:e=w1(null,e,r,Ir(r.type,t),n);break e}throw Error(X(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ir(r,i),Ky(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ir(r,i),E1(t,e,r,i,n);case 3:e:{if(vb(e),t===null)throw Error(X(387));r=e.pendingProps,s=e.memoizedState,i=s.element,zS(t,e),Df(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=vl(Error(X(423)),e),e=T1(t,e,r,n,i);break e}else if(r!==i){i=vl(Error(X(424)),e),e=T1(t,e,r,n,i);break e}else for(Xn=Fs(e.stateNode.containerInfo.firstChild),Zn=e,pt=!0,Sr=null,n=GS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(gl(),r===i){e=Wi(t,e,n);break e}Sn(t,e,r,n)}e=e.child}return e;case 5:return KS(e),t===null&&zy(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Vy(r,i)?o=null:s!==null&&Vy(r,s)&&(e.flags|=32),_b(t,e),Sn(t,e,o,n),e.child;case 6:return t===null&&zy(e),null;case 13:return wb(t,e,n);case 4:return zv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=yl(e,null,r,n):Sn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ir(r,i),v1(t,e,r,i,n);case 7:return Sn(t,e,e.pendingProps,n),e.child;case 8:return Sn(t,e,e.pendingProps.children,n),e.child;case 12:return Sn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,tt(Nf,r._currentValue),r._currentValue=o,s!==null)if(Lr(s.value,o)){if(s.children===i.children&&!Vn.current){e=Wi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Vi(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Wy(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(X(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Wy(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Sn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,nl(e,n),i=fr(i),r=r(i),e.flags|=1,Sn(t,e,r,n),e.child;case 14:return r=e.type,i=Ir(r,e.pendingProps),i=Ir(r.type,i),w1(t,e,r,i,n);case 15:return gb(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ir(r,i),qd(t,e),e.tag=1,Un(r)?(t=!0,xf(e)):t=!1,nl(e,n),HS(e,r,i),qy(e,r,i,n),Qy(null,e,r,!0,t,n);case 19:return Eb(t,e,n);case 22:return yb(t,e,n)}throw Error(X(156,e.tag))};function Fb(t,e){return uS(t,e)}function tL(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cr(t,e,n,r){return new tL(t,e,n,r)}function iw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function nL(t){if(typeof t=="function")return iw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Iv)return 11;if(t===Cv)return 14}return 2}function js(t,e){var n=t.alternate;return n===null?(n=cr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Qd(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")iw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case La:return Uo(n.children,i,s,e);case Tv:o=8,i|=8;break;case gy:return t=cr(12,n,e,i|2),t.elementType=gy,t.lanes=s,t;case yy:return t=cr(13,n,e,i),t.elementType=yy,t.lanes=s,t;case _y:return t=cr(19,n,e,i),t.elementType=_y,t.lanes=s,t;case qC:return Hp(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case WC:o=10;break e;case HC:o=9;break e;case Iv:o=11;break e;case Cv:o=14;break e;case vs:o=16,r=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return e=cr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Uo(t,e,n,r){return t=cr(7,t,r,e),t.lanes=n,t}function Hp(t,e,n,r){return t=cr(22,t,r,e),t.elementType=qC,t.lanes=n,t.stateNode={isHidden:!1},t}function Ag(t,e,n){return t=cr(6,t,null,e),t.lanes=n,t}function xg(t,e,n){return e=cr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function rL(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ug(0),this.expirationTimes=ug(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ug(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function sw(t,e,n,r,i,s,o,a,l){return t=new rL(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=cr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bv(s),t}function iL(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Da,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Vb(t){if(!t)return Qs;t=t._reactInternals;e:{if(oa(t)!==t||t.tag!==1)throw Error(X(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Un(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(t.tag===1){var n=t.type;if(Un(n))return FS(t,n,e)}return e}function Ub(t,e,n,r,i,s,o,a,l){return t=sw(n,r,!0,t,i,s,o,a,l),t.context=Vb(null),n=t.current,r=kn(),i=$s(n),s=Vi(r,i),s.callback=e??null,Vs(n,s,i),t.current.lanes=i,eh(t,i,r),$n(t,r),t}function qp(t,e,n,r){var i=e.current,s=kn(),o=$s(i);return n=Vb(n),e.context===null?e.context=n:e.pendingContext=n,e=Vi(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Vs(i,e,o),t!==null&&(Nr(t,i,o,s),zd(t,i,o)),o}function Bf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function N1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ow(t,e){N1(t,e),(t=t.alternate)&&N1(t,e)}function sL(){return null}var $b=typeof reportError=="function"?reportError:function(t){console.error(t)};function aw(t){this._internalRoot=t}Gp.prototype.render=aw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));qp(t,e,null,null)};Gp.prototype.unmount=aw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ko(function(){qp(null,t,null,null)}),e[Bi]=null}};function Gp(t){this._internalRoot=t}Gp.prototype.unstable_scheduleHydration=function(t){if(t){var e=gS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Es.length&&e!==0&&e<Es[n].priority;n++);Es.splice(n,0,t),n===0&&_S(t)}};function lw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Kp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function O1(){}function oL(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Bf(o);s.call(c)}}var o=Ub(e,r,t,0,null,!1,!1,"",O1);return t._reactRootContainer=o,t[Bi]=o.current,Tc(t.nodeType===8?t.parentNode:t),Ko(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Bf(l);a.call(c)}}var l=sw(t,0,!1,null,null,!1,!1,"",O1);return t._reactRootContainer=l,t[Bi]=l.current,Tc(t.nodeType===8?t.parentNode:t),Ko(function(){qp(e,l,n,r)}),l}function Qp(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Bf(o);a.call(l)}}qp(e,o,t,i)}else o=oL(n,e,t,i,r);return Bf(o)}pS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Fu(e.pendingLanes);n!==0&&(kv(e,n|1),$n(e,kt()),!(Le&6)&&(wl=kt()+500,io()))}break;case 13:Ko(function(){var r=zi(t,1);if(r!==null){var i=kn();Nr(r,t,1,i)}}),ow(t,1)}};Av=function(t){if(t.tag===13){var e=zi(t,134217728);if(e!==null){var n=kn();Nr(e,t,134217728,n)}ow(t,134217728)}};mS=function(t){if(t.tag===13){var e=$s(t),n=zi(t,e);if(n!==null){var r=kn();Nr(n,t,e,r)}ow(t,e)}};gS=function(){return He};yS=function(t,e){var n=He;try{return He=t,e()}finally{He=n}};Ay=function(t,e,n){switch(e){case"input":if(Ey(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Up(r);if(!i)throw Error(X(90));KC(r),Ey(r,i)}}}break;case"textarea":YC(t,n);break;case"select":e=n.value,e!=null&&Ja(t,!!n.multiple,e,!1)}};rS=tw;iS=Ko;var aL={usingClientEntryPoint:!1,Events:[nh,Ua,Up,tS,nS,tw]},ku={findFiberByHostInstance:Ro,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},lL={bundleType:ku.bundleType,version:ku.version,rendererPackageName:ku.rendererPackageName,rendererConfig:ku.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=aS(t),t===null?null:t.stateNode},findFiberByHostInstance:ku.findFiberByHostInstance||sL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Id=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Id.isDisabled&&Id.supportsFiber)try{Lp=Id.inject(lL),ei=Id}catch{}}rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aL;rr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lw(e))throw Error(X(200));return iL(t,e,null,n)};rr.createRoot=function(t,e){if(!lw(t))throw Error(X(299));var n=!1,r="",i=$b;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=sw(t,1,!1,null,null,n,!1,r,i),t[Bi]=e.current,Tc(t.nodeType===8?t.parentNode:t),new aw(e)};rr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=aS(e),t=t===null?null:t.stateNode,t};rr.flushSync=function(t){return Ko(t)};rr.hydrate=function(t,e,n){if(!Kp(e))throw Error(X(200));return Qp(null,t,e,!0,n)};rr.hydrateRoot=function(t,e,n){if(!lw(t))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=$b;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Ub(e,null,t,1,n??null,i,!1,s,o),t[Bi]=e.current,Tc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Gp(e)};rr.render=function(t,e,n){if(!Kp(e))throw Error(X(200));return Qp(null,t,e,!1,n)};rr.unmountComponentAtNode=function(t){if(!Kp(t))throw Error(X(40));return t._reactRootContainer?(Ko(function(){Qp(null,null,t,!1,function(){t._reactRootContainer=null,t[Bi]=null})}),!0):!1};rr.unstable_batchedUpdates=tw;rr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Kp(n))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return Qp(t,e,n,!1,r)};rr.version="18.2.0-next-9e3b772b8-20220608";function jb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jb)}catch(t){console.error(t)}}jb(),UC.exports=rr;var uL=UC.exports,D1=uL;py.createRoot=D1.createRoot,py.hydrateRoot=D1.hydrateRoot;const cL="modulepreload",hL=function(t,e){return new URL(t,e).href},L1={},Yp=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=hL(s,r),s in L1)return;L1[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let d=i.length-1;d>=0;d--){const m=i[d];if(m.href===s&&(!o||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":cL,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((d,m)=>{c.addEventListener("load",d),c.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};function a_(){return a_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a_.apply(this,arguments)}function Bb(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var dL=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,fL=Bb(function(t){return dL.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function pL(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function mL(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var gL=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(mL(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=pL(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),fn="-ms-",zf="-moz-",Fe="-webkit-",zb="comm",uw="rule",cw="decl",yL="@import",Wb="@keyframes",_L="@layer",vL=Math.abs,Xp=String.fromCharCode,wL=Object.assign;function EL(t,e){return nn(t,0)^45?(((e<<2^nn(t,0))<<2^nn(t,1))<<2^nn(t,2))<<2^nn(t,3):0}function Hb(t){return t.trim()}function TL(t,e){return(t=e.exec(t))?t[0]:t}function Ve(t,e,n){return t.replace(e,n)}function l_(t,e){return t.indexOf(e)}function nn(t,e){return t.charCodeAt(e)|0}function Pc(t,e,n){return t.slice(e,n)}function Gr(t){return t.length}function hw(t){return t.length}function Cd(t,e){return e.push(t),t}function IL(t,e){return t.map(e).join("")}var Jp=1,El=1,qb=0,Bn=0,Pt=0,Kl="";function Zp(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Jp,column:El,length:o,return:""}}function Au(t,e){return wL(Zp("",null,null,"",null,null,0),t,{length:-t.length},e)}function CL(){return Pt}function SL(){return Pt=Bn>0?nn(Kl,--Bn):0,El--,Pt===10&&(El=1,Jp--),Pt}function er(){return Pt=Bn<qb?nn(Kl,Bn++):0,El++,Pt===10&&(El=1,Jp++),Pt}function ni(){return nn(Kl,Bn)}function Yd(){return Bn}function ih(t,e){return Pc(Kl,t,e)}function Nc(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Gb(t){return Jp=El=1,qb=Gr(Kl=t),Bn=0,[]}function Kb(t){return Kl="",t}function Xd(t){return Hb(ih(Bn-1,u_(t===91?t+2:t===40?t+1:t)))}function bL(t){for(;(Pt=ni())&&Pt<33;)er();return Nc(t)>2||Nc(Pt)>3?"":" "}function kL(t,e){for(;--e&&er()&&!(Pt<48||Pt>102||Pt>57&&Pt<65||Pt>70&&Pt<97););return ih(t,Yd()+(e<6&&ni()==32&&er()==32))}function u_(t){for(;er();)switch(Pt){case t:return Bn;case 34:case 39:t!==34&&t!==39&&u_(Pt);break;case 40:t===41&&u_(t);break;case 92:er();break}return Bn}function AL(t,e){for(;er()&&t+Pt!==47+10;)if(t+Pt===42+42&&ni()===47)break;return"/*"+ih(e,Bn-1)+"*"+Xp(t===47?t:er())}function xL(t){for(;!Nc(ni());)er();return ih(t,Bn)}function RL(t){return Kb(Jd("",null,null,null,[""],t=Gb(t),0,[0],t))}function Jd(t,e,n,r,i,s,o,a,l){for(var c=0,d=0,m=o,g=0,E=0,S=0,A=1,D=1,b=1,w=0,k="",F=i,j=s,W=r,C=k;D;)switch(S=w,w=er()){case 40:if(S!=108&&nn(C,m-1)==58){l_(C+=Ve(Xd(w),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:C+=Xd(w);break;case 9:case 10:case 13:case 32:C+=bL(S);break;case 92:C+=kL(Yd()-1,7);continue;case 47:switch(ni()){case 42:case 47:Cd(PL(AL(er(),Yd()),e,n),l);break;default:C+="/"}break;case 123*A:a[c++]=Gr(C)*b;case 125*A:case 59:case 0:switch(w){case 0:case 125:D=0;case 59+d:b==-1&&(C=Ve(C,/\f/g,"")),E>0&&Gr(C)-m&&Cd(E>32?F1(C+";",r,n,m-1):F1(Ve(C," ","")+";",r,n,m-2),l);break;case 59:C+=";";default:if(Cd(W=M1(C,e,n,c,d,i,a,k,F=[],j=[],m),s),w===123)if(d===0)Jd(C,e,W,W,F,s,m,a,j);else switch(g===99&&nn(C,3)===110?100:g){case 100:case 108:case 109:case 115:Jd(t,W,W,r&&Cd(M1(t,W,W,0,0,i,a,k,i,F=[],m),j),i,j,m,a,r?F:j);break;default:Jd(C,W,W,W,[""],j,0,a,j)}}c=d=E=0,A=b=1,k=C="",m=o;break;case 58:m=1+Gr(C),E=S;default:if(A<1){if(w==123)--A;else if(w==125&&A++==0&&SL()==125)continue}switch(C+=Xp(w),w*A){case 38:b=d>0?1:(C+="\f",-1);break;case 44:a[c++]=(Gr(C)-1)*b,b=1;break;case 64:ni()===45&&(C+=Xd(er())),g=ni(),d=m=Gr(k=C+=xL(Yd())),w++;break;case 45:S===45&&Gr(C)==2&&(A=0)}}return s}function M1(t,e,n,r,i,s,o,a,l,c,d){for(var m=i-1,g=i===0?s:[""],E=hw(g),S=0,A=0,D=0;S<r;++S)for(var b=0,w=Pc(t,m+1,m=vL(A=o[S])),k=t;b<E;++b)(k=Hb(A>0?g[b]+" "+w:Ve(w,/&\f/g,g[b])))&&(l[D++]=k);return Zp(t,e,n,i===0?uw:a,l,c,d)}function PL(t,e,n){return Zp(t,e,n,zb,Xp(CL()),Pc(t,2,-2),0)}function F1(t,e,n,r){return Zp(t,e,n,cw,Pc(t,0,r),Pc(t,r+1,-1),r)}function il(t,e){for(var n="",r=hw(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function NL(t,e,n,r){switch(t.type){case _L:if(t.children.length)break;case yL:case cw:return t.return=t.return||t.value;case zb:return"";case Wb:return t.return=t.value+"{"+il(t.children,r)+"}";case uw:t.value=t.props.join(",")}return Gr(n=il(t.children,r))?t.return=t.value+"{"+n+"}":""}function OL(t){var e=hw(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function DL(t){return function(e){e.root||(e=e.return)&&t(e)}}var LL=function(e,n,r){for(var i=0,s=0;i=s,s=ni(),i===38&&s===12&&(n[r]=1),!Nc(s);)er();return ih(e,Bn)},ML=function(e,n){var r=-1,i=44;do switch(Nc(i)){case 0:i===38&&ni()===12&&(n[r]=1),e[r]+=LL(Bn-1,n,r);break;case 2:e[r]+=Xd(i);break;case 4:if(i===44){e[++r]=ni()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Xp(i)}while(i=er());return e},FL=function(e,n){return Kb(ML(Gb(e),n))},V1=new WeakMap,VL=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!V1.get(r))&&!i){V1.set(e,!0);for(var s=[],o=FL(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var d=0;d<a.length;d++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[d]):a[d]+" "+o[l]}}},UL=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function Qb(t,e){switch(EL(t,e)){case 5103:return Fe+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Fe+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Fe+t+zf+t+fn+t+t;case 6828:case 4268:return Fe+t+fn+t+t;case 6165:return Fe+t+fn+"flex-"+t+t;case 5187:return Fe+t+Ve(t,/(\w+).+(:[^]+)/,Fe+"box-$1$2"+fn+"flex-$1$2")+t;case 5443:return Fe+t+fn+"flex-item-"+Ve(t,/flex-|-self/,"")+t;case 4675:return Fe+t+fn+"flex-line-pack"+Ve(t,/align-content|flex-|-self/,"")+t;case 5548:return Fe+t+fn+Ve(t,"shrink","negative")+t;case 5292:return Fe+t+fn+Ve(t,"basis","preferred-size")+t;case 6060:return Fe+"box-"+Ve(t,"-grow","")+Fe+t+fn+Ve(t,"grow","positive")+t;case 4554:return Fe+Ve(t,/([^-])(transform)/g,"$1"+Fe+"$2")+t;case 6187:return Ve(Ve(Ve(t,/(zoom-|grab)/,Fe+"$1"),/(image-set)/,Fe+"$1"),t,"")+t;case 5495:case 3959:return Ve(t,/(image-set\([^]*)/,Fe+"$1$`$1");case 4968:return Ve(Ve(t,/(.+:)(flex-)?(.*)/,Fe+"box-pack:$3"+fn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Fe+t+t;case 4095:case 3583:case 4068:case 2532:return Ve(t,/(.+)-inline(.+)/,Fe+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Gr(t)-1-e>6)switch(nn(t,e+1)){case 109:if(nn(t,e+4)!==45)break;case 102:return Ve(t,/(.+:)(.+)-([^]+)/,"$1"+Fe+"$2-$3$1"+zf+(nn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~l_(t,"stretch")?Qb(Ve(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(nn(t,e+1)!==115)break;case 6444:switch(nn(t,Gr(t)-3-(~l_(t,"!important")&&10))){case 107:return Ve(t,":",":"+Fe)+t;case 101:return Ve(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Fe+(nn(t,14)===45?"inline-":"")+"box$3$1"+Fe+"$2$3$1"+fn+"$2box$3")+t}break;case 5936:switch(nn(t,e+11)){case 114:return Fe+t+fn+Ve(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Fe+t+fn+Ve(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Fe+t+fn+Ve(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Fe+t+fn+t+t}return t}var $L=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case cw:e.return=Qb(e.value,e.length);break;case Wb:return il([Au(e,{value:Ve(e.value,"@","@"+Fe)})],i);case uw:if(e.length)return IL(e.props,function(s){switch(TL(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return il([Au(e,{props:[Ve(s,/:(read-\w+)/,":"+zf+"$1")]})],i);case"::placeholder":return il([Au(e,{props:[Ve(s,/:(plac\w+)/,":"+Fe+"input-$1")]}),Au(e,{props:[Ve(s,/:(plac\w+)/,":"+zf+"$1")]}),Au(e,{props:[Ve(s,/:(plac\w+)/,fn+"input-$1")]})],i)}return""})}},jL=[$L],BL=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(A){var D=A.getAttribute("data-emotion");D.indexOf(" ")!==-1&&(document.head.appendChild(A),A.setAttribute("data-s",""))})}var i=e.stylisPlugins||jL,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(A){for(var D=A.getAttribute("data-emotion").split(" "),b=1;b<D.length;b++)s[D[b]]=!0;a.push(A)});var l,c=[VL,UL];{var d,m=[NL,DL(function(A){d.insert(A)})],g=OL(c.concat(i,m)),E=function(D){return il(RL(D),g)};l=function(D,b,w,k){d=w,E(D?D+"{"+b.styles+"}":b.styles),k&&(S.inserted[b.name]=!0)}}var S={key:n,sheet:new gL({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return S.sheet.hydrate(a),S},zL=!0;function WL(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var Yb=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||zL===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},HL=function(e,n,r){Yb(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function qL(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Xb={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},GL=/[A-Z]|^ms/g,KL=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Jb=function(e){return e.charCodeAt(1)===45},U1=function(e){return e!=null&&typeof e!="boolean"},Rg=Bb(function(t){return Jb(t)?t:t.replace(GL,"-$&").toLowerCase()}),$1=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(KL,function(r,i,s){return Kr={name:i,styles:s,next:Kr},i})}return Xb[e]!==1&&!Jb(e)&&typeof n=="number"&&n!==0?n+"px":n};function Oc(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Kr={name:n.name,styles:n.styles,next:Kr},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Kr={name:r.name,styles:r.styles,next:Kr},r=r.next;var i=n.styles+";";return i}return QL(t,e,n)}case"function":{if(t!==void 0){var s=Kr,o=n(t);return Kr=s,Oc(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function QL(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Oc(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":U1(o)&&(r+=Rg(s)+":"+$1(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)U1(o[a])&&(r+=Rg(s)+":"+$1(s,o[a])+";");else{var l=Oc(t,e,o);switch(s){case"animation":case"animationName":{r+=Rg(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var j1=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Kr,YL=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";Kr=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=Oc(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=Oc(r,n,e[a]),i&&(s+=o[a]);j1.lastIndex=0;for(var l="",c;(c=j1.exec(s))!==null;)l+="-"+c[1];var d=qL(s)+l;return{name:d,styles:s,next:Kr}},XL=function(e){return e()},JL=cy["useInsertionEffect"]?cy["useInsertionEffect"]:!1,ZL=JL||XL,Zb=J.createContext(typeof HTMLElement<"u"?BL({key:"css"}):null);Zb.Provider;var eM=function(e){return J.forwardRef(function(n,r){var i=J.useContext(Zb);return e(n,i,r)})},tM=J.createContext({}),nM=fL,rM=function(e){return e!=="theme"},B1=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?nM:rM},z1=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},iM=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return Yb(n,r,i),ZL(function(){return HL(n,r,i)}),null},sM=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=z1(e,n,r),l=a||B1(i),c=!l("as");return function(){var d=arguments,m=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&m.push("label:"+s+";"),d[0]==null||d[0].raw===void 0)m.push.apply(m,d);else{m.push(d[0][0]);for(var g=d.length,E=1;E<g;E++)m.push(d[E],d[0][E])}var S=eM(function(A,D,b){var w=c&&A.as||i,k="",F=[],j=A;if(A.theme==null){j={};for(var W in A)j[W]=A[W];j.theme=J.useContext(tM)}typeof A.className=="string"?k=WL(D.registered,F,A.className):A.className!=null&&(k=A.className+" ");var C=YL(m.concat(F),D.registered,j);k+=D.key+"-"+C.name,o!==void 0&&(k+=" "+o);var I=c&&a===void 0?B1(w):l,R={};for(var P in A)c&&P==="as"||I(P)&&(R[P]=A[P]);return R.className=k,R.ref=b,J.createElement(J.Fragment,null,J.createElement(iM,{cache:D,serialized:C,isStringTag:typeof w=="string"}),J.createElement(w,R))});return S.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",S.defaultProps=e.defaultProps,S.__emotion_real=S,S.__emotion_base=i,S.__emotion_styles=m,S.__emotion_forwardProp=a,Object.defineProperty(S,"toString",{value:function(){return"."+o}}),S.withComponent=function(A,D){return t(A,a_({},n,D,{shouldForwardProp:z1(S,D,!0)})).apply(void 0,m)},S}},oM=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],c_=sM.bind();oM.forEach(function(t){c_[t]=c_(t)});const aM=c_.div`
  width: 100%;
  height: 100vh;
`;var vn=function(){return vn=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},vn.apply(this,arguments)};function dw(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Dc(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var ot="-ms-",nc="-moz-",Be="-webkit-",ek="comm",em="rule",fw="decl",lM="@import",tk="@keyframes",uM="@layer",cM=Math.abs,pw=String.fromCharCode,h_=Object.assign;function hM(t,e){return Qt(t,0)^45?(((e<<2^Qt(t,0))<<2^Qt(t,1))<<2^Qt(t,2))<<2^Qt(t,3):0}function nk(t){return t.trim()}function Ri(t,e){return(t=e.exec(t))?t[0]:t}function ve(t,e,n){return t.replace(e,n)}function Zd(t,e){return t.indexOf(e)}function Qt(t,e){return t.charCodeAt(e)|0}function Tl(t,e,n){return t.slice(e,n)}function Qr(t){return t.length}function rk(t){return t.length}function Uu(t,e){return e.push(t),t}function dM(t,e){return t.map(e).join("")}function W1(t,e){return t.filter(function(n){return!Ri(n,e)})}var tm=1,Il=1,ik=0,mr=0,Nt=0,Ql="";function nm(t,e,n,r,i,s,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:tm,column:Il,length:o,return:"",siblings:a}}function _s(t,e){return h_(nm("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function ka(t){for(;t.root;)t=_s(t.root,{children:[t]});Uu(t,t.siblings)}function fM(){return Nt}function pM(){return Nt=mr>0?Qt(Ql,--mr):0,Il--,Nt===10&&(Il=1,tm--),Nt}function Or(){return Nt=mr<ik?Qt(Ql,mr++):0,Il++,Nt===10&&(Il=1,tm++),Nt}function $o(){return Qt(Ql,mr)}function ef(){return mr}function rm(t,e){return Tl(Ql,t,e)}function d_(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function mM(t){return tm=Il=1,ik=Qr(Ql=t),mr=0,[]}function gM(t){return Ql="",t}function Pg(t){return nk(rm(mr-1,f_(t===91?t+2:t===40?t+1:t)))}function yM(t){for(;(Nt=$o())&&Nt<33;)Or();return d_(t)>2||d_(Nt)>3?"":" "}function _M(t,e){for(;--e&&Or()&&!(Nt<48||Nt>102||Nt>57&&Nt<65||Nt>70&&Nt<97););return rm(t,ef()+(e<6&&$o()==32&&Or()==32))}function f_(t){for(;Or();)switch(Nt){case t:return mr;case 34:case 39:t!==34&&t!==39&&f_(Nt);break;case 40:t===41&&f_(t);break;case 92:Or();break}return mr}function vM(t,e){for(;Or()&&t+Nt!==47+10;)if(t+Nt===42+42&&$o()===47)break;return"/*"+rm(e,mr-1)+"*"+pw(t===47?t:Or())}function wM(t){for(;!d_($o());)Or();return rm(t,mr)}function EM(t){return gM(tf("",null,null,null,[""],t=mM(t),0,[0],t))}function tf(t,e,n,r,i,s,o,a,l){for(var c=0,d=0,m=o,g=0,E=0,S=0,A=1,D=1,b=1,w=0,k="",F=i,j=s,W=r,C=k;D;)switch(S=w,w=Or()){case 40:if(S!=108&&Qt(C,m-1)==58){Zd(C+=ve(Pg(w),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:C+=Pg(w);break;case 9:case 10:case 13:case 32:C+=yM(S);break;case 92:C+=_M(ef()-1,7);continue;case 47:switch($o()){case 42:case 47:Uu(TM(vM(Or(),ef()),e,n,l),l);break;default:C+="/"}break;case 123*A:a[c++]=Qr(C)*b;case 125*A:case 59:case 0:switch(w){case 0:case 125:D=0;case 59+d:b==-1&&(C=ve(C,/\f/g,"")),E>0&&Qr(C)-m&&Uu(E>32?q1(C+";",r,n,m-1,l):q1(ve(C," ","")+";",r,n,m-2,l),l);break;case 59:C+=";";default:if(Uu(W=H1(C,e,n,c,d,i,a,k,F=[],j=[],m,s),s),w===123)if(d===0)tf(C,e,W,W,F,s,m,a,j);else switch(g===99&&Qt(C,3)===110?100:g){case 100:case 108:case 109:case 115:tf(t,W,W,r&&Uu(H1(t,W,W,0,0,i,a,k,i,F=[],m,j),j),i,j,m,a,r?F:j);break;default:tf(C,W,W,W,[""],j,0,a,j)}}c=d=E=0,A=b=1,k=C="",m=o;break;case 58:m=1+Qr(C),E=S;default:if(A<1){if(w==123)--A;else if(w==125&&A++==0&&pM()==125)continue}switch(C+=pw(w),w*A){case 38:b=d>0?1:(C+="\f",-1);break;case 44:a[c++]=(Qr(C)-1)*b,b=1;break;case 64:$o()===45&&(C+=Pg(Or())),g=$o(),d=m=Qr(k=C+=wM(ef())),w++;break;case 45:S===45&&Qr(C)==2&&(A=0)}}return s}function H1(t,e,n,r,i,s,o,a,l,c,d,m){for(var g=i-1,E=i===0?s:[""],S=rk(E),A=0,D=0,b=0;A<r;++A)for(var w=0,k=Tl(t,g+1,g=cM(D=o[A])),F=t;w<S;++w)(F=nk(D>0?E[w]+" "+k:ve(k,/&\f/g,E[w])))&&(l[b++]=F);return nm(t,e,n,i===0?em:a,l,c,d,m)}function TM(t,e,n,r){return nm(t,e,n,ek,pw(fM()),Tl(t,2,-2),0,r)}function q1(t,e,n,r,i){return nm(t,e,n,fw,Tl(t,0,r),Tl(t,r+1,-1),r,i)}function sk(t,e,n){switch(hM(t,e)){case 5103:return Be+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Be+t+t;case 4789:return nc+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Be+t+nc+t+ot+t+t;case 5936:switch(Qt(t,e+11)){case 114:return Be+t+ot+ve(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Be+t+ot+ve(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Be+t+ot+ve(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return Be+t+ot+t+t;case 6165:return Be+t+ot+"flex-"+t+t;case 5187:return Be+t+ve(t,/(\w+).+(:[^]+)/,Be+"box-$1$2"+ot+"flex-$1$2")+t;case 5443:return Be+t+ot+"flex-item-"+ve(t,/flex-|-self/g,"")+(Ri(t,/flex-|baseline/)?"":ot+"grid-row-"+ve(t,/flex-|-self/g,""))+t;case 4675:return Be+t+ot+"flex-line-pack"+ve(t,/align-content|flex-|-self/g,"")+t;case 5548:return Be+t+ot+ve(t,"shrink","negative")+t;case 5292:return Be+t+ot+ve(t,"basis","preferred-size")+t;case 6060:return Be+"box-"+ve(t,"-grow","")+Be+t+ot+ve(t,"grow","positive")+t;case 4554:return Be+ve(t,/([^-])(transform)/g,"$1"+Be+"$2")+t;case 6187:return ve(ve(ve(t,/(zoom-|grab)/,Be+"$1"),/(image-set)/,Be+"$1"),t,"")+t;case 5495:case 3959:return ve(t,/(image-set\([^]*)/,Be+"$1$`$1");case 4968:return ve(ve(t,/(.+:)(flex-)?(.*)/,Be+"box-pack:$3"+ot+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Be+t+t;case 4200:if(!Ri(t,/flex-|baseline/))return ot+"grid-column-align"+Tl(t,e)+t;break;case 2592:case 3360:return ot+ve(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,Ri(r.props,/grid-\w+-end/)})?~Zd(t+(n=n[e].value),"span")?t:ot+ve(t,"-start","")+t+ot+"grid-row-span:"+(~Zd(n,"span")?Ri(n,/\d+/):+Ri(n,/\d+/)-+Ri(t,/\d+/))+";":ot+ve(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return Ri(r.props,/grid-\w+-start/)})?t:ot+ve(ve(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return ve(t,/(.+)-inline(.+)/,Be+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Qr(t)-1-e>6)switch(Qt(t,e+1)){case 109:if(Qt(t,e+4)!==45)break;case 102:return ve(t,/(.+:)(.+)-([^]+)/,"$1"+Be+"$2-$3$1"+nc+(Qt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Zd(t,"stretch")?sk(ve(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return ve(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,a,l,c){return ot+i+":"+s+c+(o?ot+i+"-span:"+(a?l:+l-+s)+c:"")+t});case 4949:if(Qt(t,e+6)===121)return ve(t,":",":"+Be)+t;break;case 6444:switch(Qt(t,Qt(t,14)===45?18:11)){case 120:return ve(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Be+(Qt(t,14)===45?"inline-":"")+"box$3$1"+Be+"$2$3$1"+ot+"$2box$3")+t;case 100:return ve(t,":",":"+ot)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return ve(t,"scroll-","scroll-snap-")+t}return t}function Wf(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function IM(t,e,n,r){switch(t.type){case uM:if(t.children.length)break;case lM:case fw:return t.return=t.return||t.value;case ek:return"";case tk:return t.return=t.value+"{"+Wf(t.children,r)+"}";case em:if(!Qr(t.value=t.props.join(",")))return""}return Qr(n=Wf(t.children,r))?t.return=t.value+"{"+n+"}":""}function CM(t){var e=rk(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function SM(t){return function(e){e.root||(e=e.return)&&t(e)}}function bM(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case fw:t.return=sk(t.value,t.length,n);return;case tk:return Wf([_s(t,{value:ve(t.value,"@","@"+Be)})],r);case em:if(t.length)return dM(n=t.props,function(i){switch(Ri(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ka(_s(t,{props:[ve(i,/:(read-\w+)/,":"+nc+"$1")]})),ka(_s(t,{props:[i]})),h_(t,{props:W1(n,r)});break;case"::placeholder":ka(_s(t,{props:[ve(i,/:(plac\w+)/,":"+Be+"input-$1")]})),ka(_s(t,{props:[ve(i,/:(plac\w+)/,":"+nc+"$1")]})),ka(_s(t,{props:[ve(i,/:(plac\w+)/,ot+"input-$1")]})),ka(_s(t,{props:[i]})),h_(t,{props:W1(n,r)});break}return""})}}var Cl=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",mw=typeof window<"u"&&"HTMLElement"in window,kM=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),AM={},im=Object.freeze([]),Sl=Object.freeze({});function ok(t,e,n){return n===void 0&&(n=Sl),t.theme!==n.theme&&t.theme||e||n.theme}var ak=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),xM=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,RM=/(^-|-$)/g;function G1(t){return t.replace(xM,"-").replace(RM,"")}var PM=/(a)(d)/gi,K1=function(t){return String.fromCharCode(t+(t>25?39:97))};function p_(t){var e,n="";for(e=Math.abs(t);e>52;e=e/52|0)n=K1(e%52)+n;return(K1(e%52)+n).replace(PM,"$1-$2")}var Ng,qa=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},lk=function(t){return qa(5381,t)};function uk(t){return p_(lk(t)>>>0)}function NM(t){return t.displayName||t.name||"Component"}function Og(t){return typeof t=="string"&&!0}var ck=typeof Symbol=="function"&&Symbol.for,hk=ck?Symbol.for("react.memo"):60115,OM=ck?Symbol.for("react.forward_ref"):60112,DM={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},LM={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},dk={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},MM=((Ng={})[OM]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ng[hk]=dk,Ng);function Q1(t){return("type"in(e=t)&&e.type.$$typeof)===hk?dk:"$$typeof"in t?MM[t.$$typeof]:DM;var e}var FM=Object.defineProperty,VM=Object.getOwnPropertyNames,Y1=Object.getOwnPropertySymbols,UM=Object.getOwnPropertyDescriptor,$M=Object.getPrototypeOf,X1=Object.prototype;function fk(t,e,n){if(typeof e!="string"){if(X1){var r=$M(e);r&&r!==X1&&fk(t,r,n)}var i=VM(e);Y1&&(i=i.concat(Y1(e)));for(var s=Q1(t),o=Q1(e),a=0;a<i.length;++a){var l=i[a];if(!(l in LM||n&&n[l]||o&&l in o||s&&l in s)){var c=UM(e,l);try{FM(t,l,c)}catch{}}}}return t}function bl(t){return typeof t=="function"}function gw(t){return typeof t=="object"&&"styledComponentId"in t}function Oo(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function m_(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=e?e+t[r]:t[r];return n}function Lc(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function g_(t,e,n){if(n===void 0&&(n=!1),!n&&!Lc(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=g_(t[r],e[r]);else if(Lc(e))for(var r in e)t[r]=g_(t[r],e[r]);return t}function yw(t,e){Object.defineProperty(t,"toString",{value:e})}function sh(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var jM=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw sh(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),l=(o=0,n.length);o<l;o++)this.tag.insertRule(a,n[o])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(`/*!sc*/
`);return n},t}(),nf=new Map,Hf=new Map,Dg=1,Sd=function(t){if(nf.has(t))return nf.get(t);for(;Hf.has(Dg);)Dg++;var e=Dg++;return nf.set(t,e),Hf.set(e,t),e},BM=function(t,e){nf.set(t,e),Hf.set(e,t)},zM="style[".concat(Cl,"][").concat("data-styled-version",'="').concat("6.0.7",'"]'),WM=new RegExp("^".concat(Cl,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),HM=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},qM=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(`/*!sc*/
`),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var l=a.match(WM);if(l){var c=0|parseInt(l[1],10),d=l[2];c!==0&&(BM(d,c),HM(t,d,l[3]),t.getTag().insertRules(c,i)),i.length=0}else i.push(a)}}};function GM(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var pk=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(Cl,"]")));return l[l.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(Cl,"active"),r.setAttribute("data-styled-version","6.0.7");var o=GM();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},KM=function(){function t(e){this.element=pk(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===n)return o}throw sh(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),QM=function(){function t(e){this.element=pk(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),YM=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),J1=mw,XM={isServer:!mw,useCSSOMInjection:!kM},qf=function(){function t(e,n,r){e===void 0&&(e=Sl),n===void 0&&(n={});var i=this;this.options=vn(vn({},XM),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&mw&&J1&&(J1=!1,function(s){for(var o=document.querySelectorAll(zM),a=0,l=o.length;a<l;a++){var c=o[a];c&&c.getAttribute(Cl)!=="active"&&(qM(s,c),c.parentNode&&c.parentNode.removeChild(c))}}(this)),yw(this,function(){return function(s){for(var o=s.getTag(),a=o.length,l="",c=function(m){var g=function(b){return Hf.get(b)}(m);if(g===void 0)return"continue";var E=s.names.get(g),S=o.getGroup(m);if(E===void 0||S.length===0)return"continue";var A="".concat(Cl,".g").concat(m,'[id="').concat(g,'"]'),D="";E!==void 0&&E.forEach(function(b){b.length>0&&(D+="".concat(b,","))}),l+="".concat(S).concat(A,'{content:"').concat(D,'"}').concat(`/*!sc*/
`)},d=0;d<a;d++)c(d);return l}(i)})}return t.registerId=function(e){return Sd(e)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(vn(vn({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new YM(i):r?new KM(i):new QM(i)}(this.options),new jM(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(Sd(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(Sd(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(Sd(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),JM=/&/g,ZM=/^\s*\/\/.*$/gm;function mk(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=mk(n.children,e)),n})}function eF(t){var e,n,r,i=t===void 0?Sl:t,s=i.options,o=s===void 0?Sl:s,a=i.plugins,l=a===void 0?im:a,c=function(g,E,S){return S===n||S.startsWith(n)&&S.endsWith(n)&&S.replaceAll(n,"").length>0?".".concat(e):g},d=l.slice();d.push(function(g){g.type===em&&g.value.includes("&")&&(g.props[0]=g.props[0].replace(JM,n).replace(r,c))}),o.prefix&&d.push(bM),d.push(IM);var m=function(g,E,S,A){E===void 0&&(E=""),S===void 0&&(S=""),A===void 0&&(A="&"),e=A,n=E,r=new RegExp("\\".concat(n,"\\b"),"g");var D=g.replace(ZM,""),b=EM(S||E?"".concat(S," ").concat(E," { ").concat(D," }"):D);o.namespace&&(b=mk(b,o.namespace));var w=[];return Wf(b,CM(d.concat(SM(function(k){return w.push(k)})))),w};return m.hash=l.length?l.reduce(function(g,E){return E.name||sh(15),qa(g,E.name)},5381).toString():"",m}var tF=new qf,y_=eF(),gk=ze.createContext({shouldForwardProp:void 0,styleSheet:tF,stylis:y_});gk.Consumer;ze.createContext(void 0);function __(){return J.useContext(gk)}var nF=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=y_);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,yw(this,function(){throw sh(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=y_),this.name+e.hash},t}(),rF=function(t){return t>="A"&&t<="Z"};function Z1(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;rF(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var yk=function(t){return t==null||t===!1||t===""},_k=function(t){var e,n,r=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!yk(s)&&(Array.isArray(s)&&s.isCss||bl(s)?r.push("".concat(Z1(i),":"),s,";"):Lc(s)?r.push.apply(r,Dc(Dc(["".concat(i," {")],_k(s),!1),["}"],!1)):r.push("".concat(Z1(i),": ").concat((e=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in Xb||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Bs(t,e,n,r){if(yk(t))return[];if(gw(t))return[".".concat(t.styledComponentId)];if(bl(t)){if(!bl(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return Bs(i,e,n,r)}var s;return t instanceof nF?n?(t.inject(n,r),[t.getName(r)]):[t]:Lc(t)?_k(t):Array.isArray(t)?Array.prototype.concat.apply(im,t.map(function(o){return Bs(o,e,n,r)})):[t.toString()]}function vk(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(bl(n)&&!gw(n))return!1}return!0}var iF=lk("6.0.7"),sF=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&vk(e),this.componentId=n,this.baseHash=qa(iF,n),this.baseStyle=r,qf.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Oo(i,this.staticRulesId);else{var s=m_(Bs(this.rules,e,n,r)),o=p_(qa(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var a=r(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,a)}i=Oo(i,o),this.staticRulesId=o}else{for(var l=qa(this.baseHash,r.hash),c="",d=0;d<this.rules.length;d++){var m=this.rules[d];if(typeof m=="string")c+=m;else if(m){var g=m_(Bs(m,e,n,r));l=qa(l,g),c+=g}}if(c){var E=p_(l>>>0);n.hasNameForId(this.componentId,E)||n.insertRules(this.componentId,E,r(c,".".concat(E),void 0,this.componentId)),i=Oo(i,E)}}return i},t}(),_w=ze.createContext(void 0);_w.Consumer;var Lg={};function oF(t,e,n){var r=gw(t),i=t,s=!Og(t),o=e.attrs,a=o===void 0?im:o,l=e.componentId,c=l===void 0?function(k,F){var j=typeof k!="string"?"sc":G1(k);Lg[j]=(Lg[j]||0)+1;var W="".concat(j,"-").concat(uk("6.0.7"+j+Lg[j]));return F?"".concat(F,"-").concat(W):W}(e.displayName,e.parentComponentId):l,d=e.displayName;d===void 0&&function(k){return Og(k)?"styled.".concat(k):"Styled(".concat(NM(k),")")}(t);var m=e.displayName&&e.componentId?"".concat(G1(e.displayName),"-").concat(e.componentId):e.componentId||c,g=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,E=e.shouldForwardProp;if(r&&i.shouldForwardProp){var S=i.shouldForwardProp;if(e.shouldForwardProp){var A=e.shouldForwardProp;E=function(k,F){return S(k,F)&&A(k,F)}}else E=S}var D=new sF(n,m,r?i.componentStyle:void 0);function b(k,F){return function(j,W,C){var I=j.attrs,R=j.componentStyle,P=j.defaultProps,L=j.foldedComponentIds,M=j.styledComponentId,x=j.target,we=ze.useContext(_w),qe=__(),Ee=j.shouldForwardProp||qe.shouldForwardProp,Pe=function(je,U,zt){for(var ct,ht=vn(vn({},U),{className:void 0,theme:zt}),Wn=0;Wn<je.length;Wn+=1){var dt=bl(ct=je[Wn])?ct(ht):ct;for(var mt in dt)ht[mt]=mt==="className"?Oo(ht[mt],dt[mt]):mt==="style"?vn(vn({},ht[mt]),dt[mt]):dt[mt]}return U.className&&(ht.className=Oo(ht.className,U.className)),ht}(I,W,ok(W,we,P)||Sl),re=Pe.as||x,K={};for(var ue in Pe)Pe[ue]===void 0||ue[0]==="$"||ue==="as"||ue==="theme"||(ue==="forwardedAs"?K.as=Pe.forwardedAs:Ee&&!Ee(ue,re)||(K[ue]=Pe[ue]));var Me=function(je,U){var zt=__(),ct=je.generateAndInjectStyles(U,zt.styleSheet,zt.stylis);return ct}(R,Pe),Ce=Oo(L,M);return Me&&(Ce+=" "+Me),Pe.className&&(Ce+=" "+Pe.className),K[Og(re)&&!ak.has(re)?"class":"className"]=Ce,K.ref=C,J.createElement(re,K)}(w,k,F)}var w=ze.forwardRef(b);return w.attrs=g,w.componentStyle=D,w.shouldForwardProp=E,w.foldedComponentIds=r?Oo(i.foldedComponentIds,i.styledComponentId):"",w.styledComponentId=m,w.target=r?i.target:t,Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(k){this._foldedDefaultProps=r?function(F){for(var j=[],W=1;W<arguments.length;W++)j[W-1]=arguments[W];for(var C=0,I=j;C<I.length;C++)g_(F,I[C],!0);return F}({},i.defaultProps,k):k}}),yw(w,function(){return".".concat(w.styledComponentId)}),s&&fk(w,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),w}function eT(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var tT=function(t){return Object.assign(t,{isCss:!0})};function wk(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(bl(t)||Lc(t)){var r=t;return tT(Bs(eT(im,Dc([r],e,!0))))}var i=t;return e.length===0&&i.length===1&&typeof i[0]=="string"?Bs(i):tT(Bs(eT(i,e)))}function v_(t,e,n){if(n===void 0&&(n=Sl),!e)throw sh(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,n,wk.apply(void 0,Dc([i],s,!1)))};return r.attrs=function(i){return v_(t,e,vn(vn({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return v_(t,e,vn(vn({},n),i))},r}var Ek=function(t){return v_(oF,t)},rt=Ek;ak.forEach(function(t){rt[t]=Ek(t)});var aF=function(){function t(e,n){this.rules=e,this.componentId=n,this.isStatic=vk(e),qf.registerId(this.componentId+1)}return t.prototype.createStyles=function(e,n,r,i){var s=i(m_(Bs(this.rules,n,r,i)),""),o=this.componentId+e;r.insertRules(o,o,s)},t.prototype.removeStyles=function(e,n){n.clearRules(this.componentId+e)},t.prototype.renderStyles=function(e,n,r,i){e>2&&qf.registerId(this.componentId+e),this.removeStyles(e,r),this.createStyles(e,n,r,i)},t}();function lF(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=wk.apply(void 0,Dc([t],e,!1)),i="sc-global-".concat(uk(JSON.stringify(r))),s=new aF(r,i),o=function(l){var c=__(),d=ze.useContext(_w),m=ze.useRef(c.styleSheet.allocateGSInstance(i)).current;return c.styleSheet.server&&a(m,l,c.styleSheet,d,c.stylis),ze.useLayoutEffect(function(){if(!c.styleSheet.server)return a(m,l,c.styleSheet,d,c.stylis),function(){return s.removeStyles(m,c.styleSheet)}},[m,l,c.styleSheet,d,c.stylis]),null};function a(l,c,d,m,g){if(s.isStatic)s.renderStyles(l,AM,d,g);else{var E=vn(vn({},c),{theme:ok(c,m,o.defaultProps)});s.renderStyles(l,E,d,g)}}return ze.memo(o)}const uF=rt.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px 0;
  width: 100%;
`,cF=rt(VC)`
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  gap: 8px;
  font-family: 'Roboto-Medium', sans-serif;
  font-size: 20px;
  line-height: 24px;
  letter-spacing: -0.02em;
  color: var(--primary-text-color);
`,hF=rt.nav`
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  gap: 4px;
`,bd=rt(VC)`
  font-family: 'Roboto-Regular', sans-serif;
  font-size: 16px;
  font-weight: 400;
  line-height: 20px;
  letter-spacing: 0em;
  color: var(--primary-text-color);
  text-decoration: none;
  padding: 8px 12px;
  border: 2px solid transparent;
  border-radius: 12px;
  background-color: transparent;
  transition: background-color 0.3s ease-in-out;
  cursor: pointer;

  &:hover {
    color: var(--btn-color);
    font-weight: 700;
  }

  &.active {
    border-color: var(--btn-color);
    font-weight: 700;
  }
`,dF=rt.div`
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  gap: 14px;
`,nT=rt.button`
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  gap: 8px;
  border: none;
  background-color: transparent;
  cursor: pointer;

  &:hover,
  &:focus {
    color: var(--btn-color);
  }
`,fF=rt.button`
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  padding: 14px 39px;
  font-family: 'Roboto-Bold', sans-serif;
  font-size: 16px;
  line-height: 20px;
  letter-spacing: 0em;
  color: #fff;
  background-color: var(--primary-text-color);
  border: none;
  border-radius: 12px;
  cursor: pointer;

  &:hover,
  &:focus {
    color: var(--btn-color);
  }
`,pF="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHLSURBVHgBvZY/UsJQEMa/fS926uANYuVYiXoAQe3FE4hHsNGxcqgYPAWeAOxV4ABKrBhtzA1k0E7y1vcCBPkfgeTXEPIy+7HLt9klhCCZ/0pZgk6YOAWCDUbCPyA09bVDTE5b8b1zvVadFYumHe7dtrIEcQOwjVCQy1C5l8v14sQnxt1M5j9tS66UGJzEXJDreT9p53rDHT4Rwzf2C99n0rLq84sZ2JbSqu8XWpmRnzIoph8gKmGZMGWfr1bvRgRNGU1mgSGWR9Pz2ru98gYllXKlEoGYIaHLG1TNFzRuDO/EuUh2NLqCHetHS0+DTFNLiQpigDykhZAqg5hQpDKCSOwgJkiIA6GduUCD/xvbmCaKVphEgvj9mBEjAsRNxEdTmDc74sPRpuEa4kLRq4BHZcQFc9mfFvx29KHHko0oYXZp63GzMy0U5xA1XY1gHur2qOuPaF4C3ezMZX/F8Nqn0bSIjqm8dO9bIEjbVRdtvsCyYZz7sYcFO6JPRZ3+kjI1MdS5LuVAF4xdE7mRsiFkZQHnOuYv+pvZVMG+8GEWgm5CC2tzGDf6lZoAIUycxrFe8TmjxfXsNPsqdSeMKRsZkZpeB8u0/VCdFesXTIytwiPfYywAAAAASUVORK5CYII=";var Tk={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},rT=ze.createContext&&ze.createContext(Tk),mF=["attr","size","title"];function gF(t,e){if(t==null)return{};var n=yF(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yF(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Gf(){return Gf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gf.apply(this,arguments)}function iT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iT(Object(n),!0).forEach(function(r){_F(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _F(t,e,n){return e=vF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vF(t){var e=wF(t,"string");return typeof e=="symbol"?e:e+""}function wF(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ik(t){return t&&t.map((e,n)=>ze.createElement(e.tag,Kf({key:n},e.attr),Ik(e.child)))}function Ji(t){return e=>ze.createElement(EF,Gf({attr:Kf({},t.attr)},e),Ik(t.child))}function EF(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=gF(t,mF),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),ze.createElement("svg",Gf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Kf(Kf({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&ze.createElement("title",null,s),t.children)};return rT!==void 0?ze.createElement(rT.Consumer,null,n=>e(n)):e(Tk)}function TF(t){return Ji({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"},child:[]},{tag:"polyline",attr:{points:"10 17 15 12 10 7"},child:[]},{tag:"line",attr:{x1:"15",y1:"12",x2:"3",y2:"12"},child:[]}]})(t)}function IF(t){return Ji({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(t)}var oh=t=>t.type==="checkbox",Ga=t=>t instanceof Date,bn=t=>t==null;const Ck=t=>typeof t=="object";var Bt=t=>!bn(t)&&!Array.isArray(t)&&Ck(t)&&!Ga(t),CF=t=>Bt(t)&&t.target?oh(t.target)?t.target.checked:t.target.value:t,SF=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,bF=(t,e)=>t.has(SF(e)),kF=t=>{const e=t.constructor&&t.constructor.prototype;return Bt(e)&&e.hasOwnProperty("isPrototypeOf")},vw=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ar(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(vw&&(t instanceof Blob||t instanceof FileList))&&(n||Bt(t)))if(e=n?[]:{},!n&&!kF(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=ar(t[r]));else return t;return e}var ah=t=>Array.isArray(t)?t.filter(Boolean):[],bt=t=>t===void 0,se=(t,e,n)=>{if(!e||!Bt(t))return n;const r=ah(e.split(/[,[\].]+?/)).reduce((i,s)=>bn(i)?i:i[s],t);return bt(r)||r===t?bt(t[e])?n:t[e]:r},Is=t=>typeof t=="boolean",ww=t=>/^\w*$/.test(t),Sk=t=>ah(t.replace(/["|']|\]/g,"").split(/\.|\[/)),at=(t,e,n)=>{let r=-1;const i=ww(e)?[e]:Sk(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const c=t[a];l=Bt(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}if(a==="__proto__")return;t[a]=l,t=t[a]}return t};const sT={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},br={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ki={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};ze.createContext(null);var AF=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==br.all&&(e._proxyFormState[o]=!r||br.all),n&&(n[o]=!0),t[o]}});return i},Kn=t=>Bt(t)&&!Object.keys(t).length,xF=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return Kn(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||br.all))},Mg=t=>Array.isArray(t)?t:[t];function RF(t){const e=ze.useRef(t);e.current=t,ze.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var Xr=t=>typeof t=="string",PF=(t,e,n,r,i)=>Xr(t)?(r&&e.watch.add(t),se(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),se(n,s))):(r&&(e.watchAll=!0),n),bk=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},oT=t=>({isOnSubmit:!t||t===br.onSubmit,isOnBlur:t===br.onBlur,isOnChange:t===br.onChange,isOnAll:t===br.all,isOnTouch:t===br.onTouched}),aT=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const rc=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=se(t,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)break;if(o.ref&&e(o.ref,o.name)&&!r)break;rc(a,e)}else Bt(a)&&rc(a,e)}}};var NF=(t,e,n)=>{const r=ah(se(t,n));return at(r,"root",e[n]),at(t,n,r),t},Ew=t=>t.type==="file",Ps=t=>typeof t=="function",Qf=t=>{if(!vw)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},rf=t=>Xr(t),Tw=t=>t.type==="radio",Yf=t=>t instanceof RegExp;const lT={value:!1,isValid:!1},uT={value:!0,isValid:!0};var kk=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!bt(t[0].attributes.value)?bt(t[0].value)||t[0].value===""?uT:{value:t[0].value,isValid:!0}:uT:lT}return lT};const cT={isValid:!1,value:null};var Ak=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,cT):cT;function hT(t,e,n="validate"){if(rf(t)||Array.isArray(t)&&t.every(rf)||Is(t)&&!t)return{type:n,message:rf(t)?t:"",ref:e}}var Aa=t=>Bt(t)&&!Yf(t)?t:{value:t,message:""},dT=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:c,min:d,max:m,pattern:g,validate:E,name:S,valueAsNumber:A,mount:D,disabled:b}=t._f,w=se(e,S);if(!D||b)return{};const k=o?o[0]:s,F=M=>{r&&k.reportValidity&&(k.setCustomValidity(Is(M)?"":M||""),k.reportValidity())},j={},W=Tw(s),C=oh(s),I=W||C,R=(A||Ew(s))&&bt(s.value)&&bt(w)||Qf(s)&&s.value===""||w===""||Array.isArray(w)&&!w.length,P=bk.bind(null,S,n,j),L=(M,x,we,qe=ki.maxLength,Ee=ki.minLength)=>{const Pe=M?x:we;j[S]={type:M?qe:Ee,message:Pe,ref:s,...P(M?qe:Ee,Pe)}};if(i?!Array.isArray(w)||!w.length:a&&(!I&&(R||bn(w))||Is(w)&&!w||C&&!kk(o).isValid||W&&!Ak(o).isValid)){const{value:M,message:x}=rf(a)?{value:!!a,message:a}:Aa(a);if(M&&(j[S]={type:ki.required,message:x,ref:k,...P(ki.required,x)},!n))return F(x),j}if(!R&&(!bn(d)||!bn(m))){let M,x;const we=Aa(m),qe=Aa(d);if(!bn(w)&&!isNaN(w)){const Ee=s.valueAsNumber||w&&+w;bn(we.value)||(M=Ee>we.value),bn(qe.value)||(x=Ee<qe.value)}else{const Ee=s.valueAsDate||new Date(w),Pe=ue=>new Date(new Date().toDateString()+" "+ue),re=s.type=="time",K=s.type=="week";Xr(we.value)&&w&&(M=re?Pe(w)>Pe(we.value):K?w>we.value:Ee>new Date(we.value)),Xr(qe.value)&&w&&(x=re?Pe(w)<Pe(qe.value):K?w<qe.value:Ee<new Date(qe.value))}if((M||x)&&(L(!!M,we.message,qe.message,ki.max,ki.min),!n))return F(j[S].message),j}if((l||c)&&!R&&(Xr(w)||i&&Array.isArray(w))){const M=Aa(l),x=Aa(c),we=!bn(M.value)&&w.length>+M.value,qe=!bn(x.value)&&w.length<+x.value;if((we||qe)&&(L(we,M.message,x.message),!n))return F(j[S].message),j}if(g&&!R&&Xr(w)){const{value:M,message:x}=Aa(g);if(Yf(M)&&!w.match(M)&&(j[S]={type:ki.pattern,message:x,ref:s,...P(ki.pattern,x)},!n))return F(x),j}if(E){if(Ps(E)){const M=await E(w,e),x=hT(M,k);if(x&&(j[S]={...x,...P(ki.validate,x.message)},!n))return F(x.message),j}else if(Bt(E)){let M={};for(const x in E){if(!Kn(M)&&!n)break;const we=hT(await E[x](w,e),k,x);we&&(M={...we,...P(x,we.message)},F(we.message),n&&(j[S]=M))}if(!Kn(M)&&(j[S]={ref:k,...M},!n))return j}}return F(!0),j};function OF(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=bt(t)?r++:t[e[r++]];return t}function DF(t){for(const e in t)if(t.hasOwnProperty(e)&&!bt(t[e]))return!1;return!0}function Mt(t,e){const n=Array.isArray(e)?e:ww(e)?[e]:Sk(e),r=n.length===1?t:OF(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Bt(r)&&Kn(r)||Array.isArray(r)&&DF(r))&&Mt(t,n.slice(0,-1)),t}var Fg=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},Xf=t=>bn(t)||!Ck(t);function Do(t,e){if(Xf(t)||Xf(e))return t===e;if(Ga(t)&&Ga(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Ga(s)&&Ga(o)||Bt(s)&&Bt(o)||Array.isArray(s)&&Array.isArray(o)?!Do(s,o):s!==o)return!1}}return!0}var xk=t=>t.type==="select-multiple",LF=t=>Tw(t)||oh(t),Vg=t=>Qf(t)&&t.isConnected,Rk=t=>{for(const e in t)if(Ps(t[e]))return!0;return!1};function Jf(t,e={}){const n=Array.isArray(t);if(Bt(t)||n)for(const r in t)Array.isArray(t[r])||Bt(t[r])&&!Rk(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Jf(t[r],e[r])):bn(t[r])||(e[r]=!0);return e}function Pk(t,e,n){const r=Array.isArray(t);if(Bt(t)||r)for(const i in t)Array.isArray(t[i])||Bt(t[i])&&!Rk(t[i])?bt(e)||Xf(n[i])?n[i]=Array.isArray(t[i])?Jf(t[i],[]):{...Jf(t[i])}:Pk(t[i],bn(e)?{}:e[i],n[i]):n[i]=!Do(t[i],e[i]);return n}var kd=(t,e)=>Pk(t,e,Jf(e)),Nk=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>bt(t)?t:e?t===""?NaN:t&&+t:n&&Xr(t)?new Date(t):r?r(t):t;function Ug(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return Ew(e)?e.files:Tw(e)?Ak(t.refs).value:xk(e)?[...e.selectedOptions].map(({value:n})=>n):oh(e)?kk(t.refs).value:Nk(bt(e.value)?t.ref.value:e.value,t)}var MF=(t,e,n,r)=>{const i={};for(const s of t){const o=se(e,s);o&&at(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},xu=t=>bt(t)?t:Yf(t)?t.source:Bt(t)?Yf(t.value)?t.value.source:t.value:t,FF=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function fT(t,e,n){const r=se(t,n);if(r||ww(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=se(e,s),a=se(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var VF=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,UF=(t,e)=>!ah(se(t,e)).length&&Mt(t,e);const $F={mode:br.onSubmit,reValidateMode:br.onChange,shouldFocusError:!0};function jF(t={}){let e={...$F,...t},n={submitCount:0,isDirty:!1,isLoading:Ps(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=Bt(e.defaultValues)||Bt(e.values)?ar(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:ar(i),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},m={values:Fg(),array:Fg(),state:Fg()},g=oT(e.mode),E=oT(e.reValidateMode),S=e.criteriaMode===br.all,A=O=>$=>{clearTimeout(c),c=setTimeout(O,$)},D=async O=>{if(d.isValid||O){const $=e.resolver?Kn((await I()).errors):await P(r,!0);$!==n.isValid&&m.state.next({isValid:$})}},b=(O,$)=>{(d.isValidating||d.validatingFields)&&((O||Array.from(a.mount)).forEach(z=>{z&&($?at(n.validatingFields,z,$):Mt(n.validatingFields,z))}),m.state.next({validatingFields:n.validatingFields,isValidating:!Kn(n.validatingFields)}))},w=(O,$=[],z,q,ne=!0,Z=!0)=>{if(q&&z){if(o.action=!0,Z&&Array.isArray(se(r,O))){const ae=z(se(r,O),q.argA,q.argB);ne&&at(r,O,ae)}if(Z&&Array.isArray(se(n.errors,O))){const ae=z(se(n.errors,O),q.argA,q.argB);ne&&at(n.errors,O,ae),UF(n.errors,O)}if(d.touchedFields&&Z&&Array.isArray(se(n.touchedFields,O))){const ae=z(se(n.touchedFields,O),q.argA,q.argB);ne&&at(n.touchedFields,O,ae)}d.dirtyFields&&(n.dirtyFields=kd(i,s)),m.state.next({name:O,isDirty:M(O,$),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else at(s,O,$)},k=(O,$)=>{at(n.errors,O,$),m.state.next({errors:n.errors})},F=O=>{n.errors=O,m.state.next({errors:n.errors,isValid:!1})},j=(O,$,z,q)=>{const ne=se(r,O);if(ne){const Z=se(s,O,bt(z)?se(i,O):z);bt(Z)||q&&q.defaultChecked||$?at(s,O,$?Z:Ug(ne._f)):qe(O,Z),o.mount&&D()}},W=(O,$,z,q,ne)=>{let Z=!1,ae=!1;const Te={name:O},Qe=!!(se(r,O)&&se(r,O)._f&&se(r,O)._f.disabled);if(!z||q){d.isDirty&&(ae=n.isDirty,n.isDirty=Te.isDirty=M(),Z=ae!==Te.isDirty);const Ne=Qe||Do(se(i,O),$);ae=!!(!Qe&&se(n.dirtyFields,O)),Ne||Qe?Mt(n.dirtyFields,O):at(n.dirtyFields,O,!0),Te.dirtyFields=n.dirtyFields,Z=Z||d.dirtyFields&&ae!==!Ne}if(z){const Ne=se(n.touchedFields,O);Ne||(at(n.touchedFields,O,z),Te.touchedFields=n.touchedFields,Z=Z||d.touchedFields&&Ne!==z)}return Z&&ne&&m.state.next(Te),Z?Te:{}},C=(O,$,z,q)=>{const ne=se(n.errors,O),Z=d.isValid&&Is($)&&n.isValid!==$;if(t.delayError&&z?(l=A(()=>k(O,z)),l(t.delayError)):(clearTimeout(c),l=null,z?at(n.errors,O,z):Mt(n.errors,O)),(z?!Do(ne,z):ne)||!Kn(q)||Z){const ae={...q,...Z&&Is($)?{isValid:$}:{},errors:n.errors,name:O};n={...n,...ae},m.state.next(ae)}},I=async O=>{b(O,!0);const $=await e.resolver(s,e.context,MF(O||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return b(O),$},R=async O=>{const{errors:$}=await I(O);if(O)for(const z of O){const q=se($,z);q?at(n.errors,z,q):Mt(n.errors,z)}else n.errors=$;return $},P=async(O,$,z={valid:!0})=>{for(const q in O){const ne=O[q];if(ne){const{_f:Z,...ae}=ne;if(Z){const Te=a.array.has(Z.name);b([q],!0);const Qe=await dT(ne,s,S,e.shouldUseNativeValidation&&!$,Te);if(b([q]),Qe[Z.name]&&(z.valid=!1,$))break;!$&&(se(Qe,Z.name)?Te?NF(n.errors,Qe,Z.name):at(n.errors,Z.name,Qe[Z.name]):Mt(n.errors,Z.name))}ae&&await P(ae,$,z)}}return z.valid},L=()=>{for(const O of a.unMount){const $=se(r,O);$&&($._f.refs?$._f.refs.every(z=>!Vg(z)):!Vg($._f.ref))&&ct(O)}a.unMount=new Set},M=(O,$)=>(O&&$&&at(s,O,$),!Do(Me(),i)),x=(O,$,z)=>PF(O,a,{...o.mount?s:bt($)?i:Xr(O)?{[O]:$}:$},z,$),we=O=>ah(se(o.mount?s:i,O,t.shouldUnregister?se(i,O,[]):[])),qe=(O,$,z={})=>{const q=se(r,O);let ne=$;if(q){const Z=q._f;Z&&(!Z.disabled&&at(s,O,Nk($,Z)),ne=Qf(Z.ref)&&bn($)?"":$,xk(Z.ref)?[...Z.ref.options].forEach(ae=>ae.selected=ne.includes(ae.value)):Z.refs?oh(Z.ref)?Z.refs.length>1?Z.refs.forEach(ae=>(!ae.defaultChecked||!ae.disabled)&&(ae.checked=Array.isArray(ne)?!!ne.find(Te=>Te===ae.value):ne===ae.value)):Z.refs[0]&&(Z.refs[0].checked=!!ne):Z.refs.forEach(ae=>ae.checked=ae.value===ne):Ew(Z.ref)?Z.ref.value="":(Z.ref.value=ne,Z.ref.type||m.values.next({name:O,values:{...s}})))}(z.shouldDirty||z.shouldTouch)&&W(O,ne,z.shouldTouch,z.shouldDirty,!0),z.shouldValidate&&ue(O)},Ee=(O,$,z)=>{for(const q in $){const ne=$[q],Z=`${O}.${q}`,ae=se(r,Z);(a.array.has(O)||!Xf(ne)||ae&&!ae._f)&&!Ga(ne)?Ee(Z,ne,z):qe(Z,ne,z)}},Pe=(O,$,z={})=>{const q=se(r,O),ne=a.array.has(O),Z=ar($);at(s,O,Z),ne?(m.array.next({name:O,values:{...s}}),(d.isDirty||d.dirtyFields)&&z.shouldDirty&&m.state.next({name:O,dirtyFields:kd(i,s),isDirty:M(O,Z)})):q&&!q._f&&!bn(Z)?Ee(O,Z,z):qe(O,Z,z),aT(O,a)&&m.state.next({...n}),m.values.next({name:o.mount?O:void 0,values:{...s}})},re=async O=>{o.mount=!0;const $=O.target;let z=$.name,q=!0;const ne=se(r,z),Z=()=>$.type?Ug(ne._f):CF(O),ae=Te=>{q=Number.isNaN(Te)||Te===se(s,z,Te)};if(ne){let Te,Qe;const Ne=Z(),Ye=O.type===sT.BLUR||O.type===sT.FOCUS_OUT,Jt=!FF(ne._f)&&!e.resolver&&!se(n.errors,z)&&!ne._f.deps||VF(Ye,se(n.touchedFields,z),n.isSubmitted,E,g),Hn=aT(z,a,Ye);at(s,z,Ne),Ye?(ne._f.onBlur&&ne._f.onBlur(O),l&&l(0)):ne._f.onChange&&ne._f.onChange(O);const Rn=W(z,Ne,Ye,!1),iu=!Kn(Rn)||Hn;if(!Ye&&m.values.next({name:z,type:O.type,values:{...s}}),Jt)return d.isValid&&D(),iu&&m.state.next({name:z,...Hn?{}:Rn});if(!Ye&&Hn&&m.state.next({...n}),e.resolver){const{errors:Tn}=await I([z]);if(ae(Ne),q){const Vr=fT(n.errors,r,z),rs=fT(Tn,r,Vr.name||z);Te=rs.error,z=rs.name,Qe=Kn(Tn)}}else b([z],!0),Te=(await dT(ne,s,S,e.shouldUseNativeValidation))[z],b([z]),ae(Ne),q&&(Te?Qe=!1:d.isValid&&(Qe=await P(r,!0)));q&&(ne._f.deps&&ue(ne._f.deps),C(z,Qe,Te,Rn))}},K=(O,$)=>{if(se(n.errors,$)&&O.focus)return O.focus(),1},ue=async(O,$={})=>{let z,q;const ne=Mg(O);if(e.resolver){const Z=await R(bt(O)?O:ne);z=Kn(Z),q=O?!ne.some(ae=>se(Z,ae)):z}else O?(q=(await Promise.all(ne.map(async Z=>{const ae=se(r,Z);return await P(ae&&ae._f?{[Z]:ae}:ae)}))).every(Boolean),!(!q&&!n.isValid)&&D()):q=z=await P(r);return m.state.next({...!Xr(O)||d.isValid&&z!==n.isValid?{}:{name:O},...e.resolver||!O?{isValid:z}:{},errors:n.errors}),$.shouldFocus&&!q&&rc(r,K,O?ne:a.mount),q},Me=O=>{const $={...o.mount?s:i};return bt(O)?$:Xr(O)?se($,O):O.map(z=>se($,z))},Ce=(O,$)=>({invalid:!!se(($||n).errors,O),isDirty:!!se(($||n).dirtyFields,O),error:se(($||n).errors,O),isValidating:!!se(n.validatingFields,O),isTouched:!!se(($||n).touchedFields,O)}),je=O=>{O&&Mg(O).forEach($=>Mt(n.errors,$)),m.state.next({errors:O?n.errors:{}})},U=(O,$,z)=>{const q=(se(r,O,{_f:{}})._f||{}).ref,ne=se(n.errors,O)||{},{ref:Z,message:ae,type:Te,...Qe}=ne;at(n.errors,O,{...Qe,...$,ref:q}),m.state.next({name:O,errors:n.errors,isValid:!1}),z&&z.shouldFocus&&q&&q.focus&&q.focus()},zt=(O,$)=>Ps(O)?m.values.subscribe({next:z=>O(x(void 0,$),z)}):x(O,$,!0),ct=(O,$={})=>{for(const z of O?Mg(O):a.mount)a.mount.delete(z),a.array.delete(z),$.keepValue||(Mt(r,z),Mt(s,z)),!$.keepError&&Mt(n.errors,z),!$.keepDirty&&Mt(n.dirtyFields,z),!$.keepTouched&&Mt(n.touchedFields,z),!$.keepIsValidating&&Mt(n.validatingFields,z),!e.shouldUnregister&&!$.keepDefaultValue&&Mt(i,z);m.values.next({values:{...s}}),m.state.next({...n,...$.keepDirty?{isDirty:M()}:{}}),!$.keepIsValid&&D()},ht=({disabled:O,name:$,field:z,fields:q,value:ne})=>{if(Is(O)&&o.mount||O){const Z=O?void 0:bt(ne)?Ug(z?z._f:se(q,$)._f):ne;at(s,$,Z),W($,Z,!1,!1,!0)}},Wn=(O,$={})=>{let z=se(r,O);const q=Is($.disabled);return at(r,O,{...z||{},_f:{...z&&z._f?z._f:{ref:{name:O}},name:O,mount:!0,...$}}),a.mount.add(O),z?ht({field:z,disabled:$.disabled,name:O,value:$.value}):j(O,!0,$.value),{...q?{disabled:$.disabled}:{},...e.progressive?{required:!!$.required,min:xu($.min),max:xu($.max),minLength:xu($.minLength),maxLength:xu($.maxLength),pattern:xu($.pattern)}:{},name:O,onChange:re,onBlur:re,ref:ne=>{if(ne){Wn(O,$),z=se(r,O);const Z=bt(ne.value)&&ne.querySelectorAll&&ne.querySelectorAll("input,select,textarea")[0]||ne,ae=LF(Z),Te=z._f.refs||[];if(ae?Te.find(Qe=>Qe===Z):Z===z._f.ref)return;at(r,O,{_f:{...z._f,...ae?{refs:[...Te.filter(Vg),Z,...Array.isArray(se(i,O))?[{}]:[]],ref:{type:Z.type,name:O}}:{ref:Z}}}),j(O,!1,void 0,Z)}else z=se(r,O,{}),z._f&&(z._f.mount=!1),(e.shouldUnregister||$.shouldUnregister)&&!(bF(a.array,O)&&o.action)&&a.unMount.add(O)}}},dt=()=>e.shouldFocusError&&rc(r,K,a.mount),mt=O=>{Is(O)&&(m.state.next({disabled:O}),rc(r,($,z)=>{const q=se(r,z);q&&($.disabled=q._f.disabled||O,Array.isArray(q._f.refs)&&q._f.refs.forEach(ne=>{ne.disabled=q._f.disabled||O}))},0,!1))},Fr=(O,$)=>async z=>{let q;z&&(z.preventDefault&&z.preventDefault(),z.persist&&z.persist());let ne=ar(s);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:Z,values:ae}=await I();n.errors=Z,ne=ae}else await P(r);if(Mt(n.errors,"root"),Kn(n.errors)){m.state.next({errors:{}});try{await O(ne,z)}catch(Z){q=Z}}else $&&await $({...n.errors},z),dt(),setTimeout(dt);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Kn(n.errors)&&!q,submitCount:n.submitCount+1,errors:n.errors}),q)throw q},lo=(O,$={})=>{se(r,O)&&(bt($.defaultValue)?Pe(O,ar(se(i,O))):(Pe(O,$.defaultValue),at(i,O,ar($.defaultValue))),$.keepTouched||Mt(n.touchedFields,O),$.keepDirty||(Mt(n.dirtyFields,O),n.isDirty=$.defaultValue?M(O,ar(se(i,O))):M()),$.keepError||(Mt(n.errors,O),d.isValid&&D()),m.state.next({...n}))},mi=(O,$={})=>{const z=O?ar(O):i,q=ar(z),ne=Kn(O),Z=ne?i:q;if($.keepDefaultValues||(i=z),!$.keepValues){if($.keepDirtyValues)for(const ae of a.mount)se(n.dirtyFields,ae)?at(Z,ae,se(s,ae)):Pe(ae,se(Z,ae));else{if(vw&&bt(O))for(const ae of a.mount){const Te=se(r,ae);if(Te&&Te._f){const Qe=Array.isArray(Te._f.refs)?Te._f.refs[0]:Te._f.ref;if(Qf(Qe)){const Ne=Qe.closest("form");if(Ne){Ne.reset();break}}}}r={}}s=t.shouldUnregister?$.keepDefaultValues?ar(i):{}:ar(Z),m.array.next({values:{...Z}}),m.values.next({values:{...Z}})}a={mount:$.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!$.keepIsValid||!!$.keepDirtyValues,o.watch=!!t.shouldUnregister,m.state.next({submitCount:$.keepSubmitCount?n.submitCount:0,isDirty:ne?!1:$.keepDirty?n.isDirty:!!($.keepDefaultValues&&!Do(O,i)),isSubmitted:$.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ne?[]:$.keepDirtyValues?$.keepDefaultValues&&s?kd(i,s):n.dirtyFields:$.keepDefaultValues&&O?kd(i,O):$.keepDirty?n.dirtyFields:{},touchedFields:$.keepTouched?n.touchedFields:{},errors:$.keepErrors?n.errors:{},isSubmitSuccessful:$.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},gr=(O,$)=>mi(Ps(O)?O(s):O,$);return{control:{register:Wn,unregister:ct,getFieldState:Ce,handleSubmit:Fr,setError:U,_executeSchema:I,_getWatch:x,_getDirty:M,_updateValid:D,_removeUnmounted:L,_updateFieldArray:w,_updateDisabledField:ht,_getFieldArray:we,_reset:mi,_resetDefaultValues:()=>Ps(e.defaultValues)&&e.defaultValues().then(O=>{gr(O,e.resetOptions),m.state.next({isLoading:!1})}),_updateFormState:O=>{n={...n,...O}},_disableForm:mt,_subjects:m,_proxyFormState:d,_setErrors:F,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(O){o=O},get _defaultValues(){return i},get _names(){return a},set _names(O){a=O},get _formState(){return n},set _formState(O){n=O},get _options(){return e},set _options(O){e={...e,...O}}},trigger:ue,register:Wn,handleSubmit:Fr,watch:zt,setValue:Pe,getValues:Me,reset:gr,resetField:lo,clearErrors:je,unregister:ct,setError:U,setFocus:(O,$={})=>{const z=se(r,O),q=z&&z._f;if(q){const ne=q.refs?q.refs[0]:q.ref;ne.focus&&(ne.focus(),$.shouldSelect&&ne.select())}},getFieldState:Ce}}function Ok(t={}){const e=ze.useRef(),n=ze.useRef(),[r,i]=ze.useState({isDirty:!1,isValidating:!1,isLoading:Ps(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Ps(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...jF(t),formState:r});const s=e.current.control;return s._options=t,RF({subject:s._subjects.state,next:o=>{xF(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),ze.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),ze.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),ze.useEffect(()=>{t.values&&!Do(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),ze.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),ze.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),ze.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=AF(r,s),e.current}var pT=function(t,e,n){if(t&&"reportValidity"in t){var r=se(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},Dk=function(t,e){var n=function(i){var s=e.fields[i];s&&s.ref&&"reportValidity"in s.ref?pT(s.ref,i,t):s.refs&&s.refs.forEach(function(o){return pT(o,i,t)})};for(var r in e.fields)n(r)},BF=function(t){return t instanceof Date},zF=function(t){return t==null},WF=function(t){return typeof t=="object"},HF=function(t){return!zF(t)&&!Array.isArray(t)&&WF(t)&&!BF(t)},qF=function(t){return/^\w*$/.test(t)},$g=function(t,e,n){for(var r=-1,i=qF(e)?[e]:function(d){return m=d.replace(/["|']|\]/g,"").split(/\.|\[/),Array.isArray(m)?m.filter(Boolean):[];var m}(e),s=i.length,o=s-1;++r<s;){var a=i[r],l=n;if(r!==o){var c=t[a];l=HF(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}t[a]=l,t=t[a]}return t},GF=function(t,e){e.shouldUseNativeValidation&&Dk(t,e);var n={};for(var r in t){var i=se(e.fields,r),s=Object.assign(t[r]||{},{ref:i&&i.ref});if(KF(e.names||Object.keys(t),r)){var o=Object.assign({},se(n,r));$g(o,"root",s),$g(n,r,o)}else $g(n,r,s)}return n},KF=function(t,e){return t.some(function(n){return n.startsWith(e+".")})};function Lk(t,e,n){return e===void 0&&(e={}),n===void 0&&(n={}),function(r,i,s){try{return Promise.resolve(function(o,a){try{var l=(e.context,Promise.resolve(t[n.mode==="sync"?"validateSync":"validate"](r,Object.assign({abortEarly:!1},e,{context:i}))).then(function(c){return s.shouldUseNativeValidation&&Dk({},s),{values:n.raw?r:c,errors:{}}}))}catch(c){return a(c)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(!o.inner)throw o;return{values:{},errors:GF((a=o,l=!s.shouldUseNativeValidation&&s.criteriaMode==="all",(a.inner||[]).reduce(function(c,d){if(c[d.path]||(c[d.path]={message:d.message,type:d.type}),l){var m=c[d.path].types,g=m&&m[d.type];c[d.path]=bk(d.path,l,c,d.type,g?[].concat(g,d.message):d.message)}return c},{})),s)};var a,l}))}catch(o){return Promise.reject(o)}}}function aa(t){this._maxSize=t,this.clear()}aa.prototype.clear=function(){this._size=0,this._values=Object.create(null)};aa.prototype.get=function(t){return this._values[t]};aa.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var QF=/[^.^\]^[]+|(?=\[\]|\.\.)/g,Mk=/^\d+$/,YF=/^\d/,XF=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,JF=/^\s*(['"]?)(.*?)(\1)\s*$/,Iw=512,mT=new aa(Iw),gT=new aa(Iw),yT=new aa(Iw),jo={Cache:aa,split:w_,normalizePath:jg,setter:function(t){var e=jg(t);return gT.get(t)||gT.set(t,function(r,i){for(var s=0,o=e.length,a=r;s<o-1;){var l=e[s];if(l==="__proto__"||l==="constructor"||l==="prototype")return r;a=a[e[s++]]}a[e[s]]=i})},getter:function(t,e){var n=jg(t);return yT.get(t)||yT.set(t,function(i){for(var s=0,o=n.length;s<o;)if(i!=null||!e)i=i[n[s++]];else return;return i})},join:function(t){return t.reduce(function(e,n){return e+(Cw(n)||Mk.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){ZF(Array.isArray(t)?t:w_(t),e,n)}};function jg(t){return mT.get(t)||mT.set(t,w_(t).map(function(e){return e.replace(JF,"$2")}))}function w_(t){return t.match(QF)||[""]}function ZF(t,e,n){var r=t.length,i,s,o,a;for(s=0;s<r;s++)i=t[s],i&&(nV(i)&&(i='"'+i+'"'),a=Cw(i),o=!a&&/^\d+$/.test(i),e.call(n,i,a,o,s,t))}function Cw(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function eV(t){return t.match(YF)&&!t.match(Mk)}function tV(t){return XF.test(t)}function nV(t){return!Cw(t)&&(eV(t)||tV(t))}const rV=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,sm=t=>t.match(rV)||[],om=t=>t[0].toUpperCase()+t.slice(1),Sw=(t,e)=>sm(t).join(e).toLowerCase(),Fk=t=>sm(t).reduce((e,n)=>`${e}${e?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),iV=t=>om(Fk(t)),sV=t=>Sw(t,"_"),oV=t=>Sw(t,"-"),aV=t=>om(Sw(t," ")),lV=t=>sm(t).map(om).join(" ");var Bg={words:sm,upperFirst:om,camelCase:Fk,pascalCase:iV,snakeCase:sV,kebabCase:oV,sentenceCase:aV,titleCase:lV},bw={exports:{}};bw.exports=function(t){return Vk(uV(t),t)};bw.exports.array=Vk;function Vk(t,e){var n=t.length,r=new Array(n),i={},s=n,o=cV(e),a=hV(t);for(e.forEach(function(c){if(!a.has(c[0])||!a.has(c[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)i[s]||l(t[s],s,new Set);return r;function l(c,d,m){if(m.has(c)){var g;try{g=", node was:"+JSON.stringify(c)}catch{g=""}throw new Error("Cyclic dependency"+g)}if(!a.has(c))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(c));if(!i[d]){i[d]=!0;var E=o.get(c)||new Set;if(E=Array.from(E),d=E.length){m.add(c);do{var S=E[--d];l(S,a.get(S),m)}while(d);m.delete(c)}r[--n]=c}}}function uV(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var i=t[n];e.add(i[0]),e.add(i[1])}return Array.from(e)}function cV(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var i=t[n];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}function hV(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}var dV=bw.exports;const fV=lv(dV),pV=Object.prototype.toString,mV=Error.prototype.toString,gV=RegExp.prototype.toString,yV=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",_V=/^Symbol\((.*)\)(.*)$/;function vV(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function _T(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return vV(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return yV.call(t).replace(_V,"Symbol($1)");const r=pV.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+mV.call(t)+"]":r==="RegExp"?gV.call(t):null}function zs(t,e){let n=_T(t,e);return n!==null?n:JSON.stringify(t,function(r,i){let s=_T(this[r],e);return s!==null?s:i},2)}function Uk(t){return t==null?[]:[].concat(t)}let $k,jk,Bk,wV=/\$\{\s*(\w+)\s*\}/g;$k=Symbol.toStringTag;class vT{constructor(e,n,r,i){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[$k]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],Uk(e).forEach(s=>{if(Dn.isError(s)){this.errors.push(...s.errors);const o=s.inner.length?s.inner:[s];this.inner.push(...o)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}jk=Symbol.hasInstance;Bk=Symbol.toStringTag;class Dn extends Error{static formatError(e,n){const r=n.label||n.path||"this";return r!==n.path&&(n=Object.assign({},n,{path:r})),typeof e=="string"?e.replace(wV,(i,s)=>zs(n[s])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,i,s){const o=new vT(e,n,r,i);if(s)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[Bk]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Dn)}static[jk](e){return vT[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let qr={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const i=r!=null&&r!==n?` (cast from the value \`${zs(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${zs(n,!0)}\``+i:`${t} must match the configured type. The validated value was: \`${zs(n,!0)}\``+i}},Nn={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},EV={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},E_={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},TV={isValue:"${path} field must be ${value}"},T_={noUnknown:"${path} field has unspecified keys: ${unknown}"},IV={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},CV={notType:t=>{const{path:e,value:n,spec:r}=t,i=r.types.length;if(Array.isArray(n)){if(n.length<i)return`${e} tuple value has too few items, expected a length of ${i} but got ${n.length} for value: \`${zs(n,!0)}\``;if(n.length>i)return`${e} tuple value has too many items, expected a length of ${i} but got ${n.length} for value: \`${zs(n,!0)}\``}return Dn.formatError(qr.notType,t)}};Object.assign(Object.create(null),{mixed:qr,string:Nn,number:EV,date:E_,object:T_,array:IV,boolean:TV,tuple:CV});const kw=t=>t&&t.__isYupSchema__;class Zf{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:s}=n,o=typeof r=="function"?r:(...a)=>a.every(l=>l===r);return new Zf(e,(a,l)=>{var c;let d=o(...a)?i:s;return(c=d==null?void 0:d(l))!=null?c:l})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(s=>s.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn(r,e,n);if(i===void 0||i===e)return e;if(!kw(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}const Ad={context:"$",value:"."};let la=class{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Ad.context,this.isValue=this.key[0]===Ad.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?Ad.context:this.isValue?Ad.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&jo.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let i=this.isContext?r:this.isValue?e:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}};la.prototype.__isYupRef=!0;const Lo=t=>t==null;function xa(t){function e({value:n,path:r="",options:i,originalValue:s,schema:o},a,l){const{name:c,test:d,params:m,message:g,skipAbsent:E}=t;let{parent:S,context:A,abortEarly:D=o.spec.abortEarly,disableStackTrace:b=o.spec.disableStackTrace}=i;function w(L){return la.isRef(L)?L.getValue(n,S,A):L}function k(L={}){const M=Object.assign({value:n,originalValue:s,label:o.spec.label,path:L.path||r,spec:o.spec,disableStackTrace:L.disableStackTrace||b},m,L.params);for(const we of Object.keys(M))M[we]=w(M[we]);const x=new Dn(Dn.formatError(L.message||g,M),n,M.path,L.type||c,M.disableStackTrace);return x.params=M,x}const F=D?a:l;let j={path:r,parent:S,type:c,from:i.from,createError:k,resolve:w,options:i,originalValue:s,schema:o};const W=L=>{Dn.isError(L)?F(L):L?l(null):F(k())},C=L=>{Dn.isError(L)?F(L):a(L)};if(E&&Lo(n))return W(!0);let R;try{var P;if(R=d.call(j,n,j),typeof((P=R)==null?void 0:P.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${j.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(R).then(W,C)}}catch(L){C(L);return}W(R)}return e.OPTIONS=t,e}function SV(t,e,n,r=n){let i,s,o;return e?(jo.forEach(e,(a,l,c)=>{let d=l?a.slice(1,a.length-1):a;t=t.resolve({context:r,parent:i,value:n});let m=t.type==="tuple",g=c?parseInt(d,10):0;if(t.innerType||m){if(m&&!c)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&g>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);i=n,n=n&&n[g],t=m?t.spec.types[g]:t.innerType}if(!c){if(!t.fields||!t.fields[d])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);i=n,n=n&&n[d],t=t.fields[d]}s=d,o=l?"["+a+"]":"."+a}),{schema:t,parent:i,parentPath:s}):{parent:i,parentPath:e,schema:t}}class ep extends Set{describe(){const e=[];for(const n of this.values())e.push(la.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new ep(this.values())}merge(e,n){const r=this.clone();return e.forEach(i=>r.add(i)),n.forEach(i=>r.delete(i)),r}}function Ka(t,e=new Map){if(kw(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=Ka(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,i]of t.entries())n.set(r,Ka(i,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(Ka(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,i]of Object.entries(t))n[r]=Ka(i,e)}else throw Error(`Unable to clone ${t}`);return n}class ui{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new ep,this._blacklist=new ep,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(qr.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=Ka(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const i=Object.assign({},n.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(s=>{e.tests.forEach(o=>{s.test(o.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,s)=>s.resolve(i,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,i,s;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=e.recursive)!=null?i:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({value:e},n)),i=n.assert==="ignore-optionality",s=r._cast(e,n);if(n.assert!==!1&&!r.isType(s)){if(i&&Lo(s))return s;let o=zs(e),a=zs(s);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return s}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((i,s)=>s.call(this,i,e,this),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,i){let{path:s,originalValue:o=e,strict:a=this.spec.strict}=n,l=e;a||(l=this._cast(l,Object.assign({assert:!1},n)));let c=[];for(let d of Object.values(this.internalTests))d&&c.push(d);this.runTests({path:s,value:l,originalValue:o,options:n,tests:c},r,d=>{if(d.length)return i(d,l);this.runTests({path:s,value:l,originalValue:o,options:n,tests:this.tests},r,i)})}runTests(e,n,r){let i=!1,{tests:s,value:o,originalValue:a,path:l,options:c}=e,d=A=>{i||(i=!0,n(A,o))},m=A=>{i||(i=!0,r(A,o))},g=s.length,E=[];if(!g)return m([]);let S={value:o,originalValue:a,path:l,options:c,schema:this};for(let A=0;A<s.length;A++){const D=s[A];D(S,d,function(w){w&&(Array.isArray(w)?E.push(...w):E.push(w)),--g<=0&&m(E)})}}asNestedTest({key:e,index:n,parent:r,parentPath:i,originalParent:s,options:o}){const a=e??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof a=="number";let c=r[a];const d=Object.assign({},o,{strict:!0,parent:r,value:c,originalValue:s[a],key:void 0,[l?"index":"key"]:a,path:l||a.includes(".")?`${i||""}[${l?a:`"${a}"`}]`:(i?`${i}.`:"")+e});return(m,g,E)=>this.resolve(d)._validate(c,d,g,E)}validate(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return new Promise((o,a)=>i._validate(e,n,(l,c)=>{Dn.isError(l)&&(l.value=c),a(l)},(l,c)=>{l.length?a(new Dn(l,c,void 0,void 0,s)):o(c)}))}validateSync(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s,o=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return i._validate(e,Object.assign({},n,{sync:!0}),(a,l)=>{throw Dn.isError(a)&&(a.value=l),a},(a,l)=>{if(a.length)throw new Dn(a,e,void 0,void 0,o);s=l}),s}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(Dn.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(Dn.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):Ka(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=xa({message:n,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=xa({message:n,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=qr.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=qr.notNull){return this.nullability(!1,e)}required(e=qr.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=qr.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=xa(n),s=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===n.name&&(s||o.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),i=Uk(e).map(s=>new la(s));return i.forEach(s=>{s.isSibling&&r.deps.push(s.key)}),r.conditions.push(typeof n=="function"?new Zf(i,n):Zf.fromOptions(i,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=xa({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=qr.oneOf){let r=this.clone();return e.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=xa({message:n,name:"oneOf",skipAbsent:!0,test(i){let s=this.schema._whitelist,o=s.resolveAll(this.resolve);return o.includes(i)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:o}})}}),r}notOneOf(e,n=qr.notOneOf){let r=this.clone();return e.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=xa({message:n,name:"notOneOf",test(i){let s=this.schema._blacklist,o=s.resolveAll(this.resolve);return o.includes(i)?this.createError({params:{values:Array.from(s).join(", "),resolved:o}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:i,optional:s,nullable:o}=n.spec;return{meta:i,label:r,optional:s,nullable:o,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,c,d)=>d.findIndex(m=>m.name===l.name)===c)}}}ui.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])ui.prototype[`${t}At`]=function(e,n,r={}){const{parent:i,parentPath:s,schema:o}=SV(this,e,n,r.context);return o[t](i&&i[s],Object.assign({},r,{parent:i,path:e}))};for(const t of["equals","is"])ui.prototype[t]=ui.prototype.oneOf;for(const t of["not","nope"])ui.prototype[t]=ui.prototype.notOneOf;const bV=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function kV(t){const e=I_(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function I_(t){var e,n;const r=bV.exec(t);return r?{year:Ai(r[1]),month:Ai(r[2],1)-1,day:Ai(r[3],1),hour:Ai(r[4]),minute:Ai(r[5]),second:Ai(r[6]),millisecond:r[7]?Ai(r[7].substring(0,3)):0,precision:(e=(n=r[7])==null?void 0:n.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:Ai(r[10]),minuteOffset:Ai(r[11])}:null}function Ai(t,e=0){return Number(t)||e}let AV=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,xV=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,RV=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,PV="^\\d{4}-\\d{2}-\\d{2}",NV="\\d{2}:\\d{2}:\\d{2}",OV="(([+-]\\d{2}(:?\\d{2})?)|Z)",DV=new RegExp(`${PV}T${NV}(\\.\\d+)?${OV}$`),LV=t=>Lo(t)||t===t.trim(),MV={}.toString();function sl(){return new zk}class zk extends ui{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===MV?e:i})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||qr.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=Nn.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=Nn.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=Nn.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,i,s;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:s}=n:i=n),this.test({name:s||"matches",message:i||Nn.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&r||o.search(e)!==-1})}email(e=Nn.email){return this.matches(AV,{name:"email",message:e,excludeEmptyString:!0})}url(e=Nn.url){return this.matches(xV,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Nn.uuid){return this.matches(RV,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",r,i;return e&&(typeof e=="object"?{message:n="",allowOffset:r=!1,precision:i=void 0}=e:n=e),this.matches(DV,{name:"datetime",message:n||Nn.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||Nn.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:s=>{if(!s||r)return!0;const o=I_(s);return o?!!o.z:!1}}).test({name:"datetime_precision",message:n||Nn.datetime_precision,params:{precision:i},skipAbsent:!0,test:s=>{if(!s||i==null)return!0;const o=I_(s);return o?o.precision===i:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Nn.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:LV})}lowercase(e=Nn.lowercase){return this.transform(n=>Lo(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Lo(n)||n===n.toLowerCase()})}uppercase(e=Nn.uppercase){return this.transform(n=>Lo(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Lo(n)||n===n.toUpperCase()})}}sl.prototype=zk.prototype;let FV=new Date(""),VV=t=>Object.prototype.toString.call(t)==="[object Date]";class am extends ui{constructor(){super({type:"date",check(e){return VV(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=kV(e),isNaN(e)?am.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(la.isRef(e))r=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(e,n=E_.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(e,n=E_.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}am.INVALID_DATE=FV;am.prototype;function UV(t,e=[]){let n=[],r=new Set,i=new Set(e.map(([o,a])=>`${o}-${a}`));function s(o,a){let l=jo.split(o)[0];r.add(l),i.has(`${a}-${l}`)||n.push([a,l])}for(const o of Object.keys(t)){let a=t[o];r.add(o),la.isRef(a)&&a.isSibling?s(a.path,o):kw(a)&&"deps"in a&&a.deps.forEach(l=>s(l,o))}return fV.array(Array.from(r),n).reverse()}function wT(t,e){let n=1/0;return t.some((r,i)=>{var s;if((s=e.path)!=null&&s.includes(r))return n=i,!0}),n}function Wk(t){return(e,n)=>wT(t,e)-wT(t,n)}const $V=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function sf(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=sf(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=sf(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(sf)}):"optional"in t?t.optional():t}const jV=(t,e)=>{const n=[...jo.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),i=jo.getter(jo.join(n),!0)(t);return!!(i&&r in i)};let ET=t=>Object.prototype.toString.call(t)==="[object Object]";function BV(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const zV=Wk([]);function Aw(t){return new Hk(t)}class Hk extends ui{constructor(e){super({type:"object",check(n){return ET(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=zV,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let i=super._cast(e,n);if(i===void 0)return this.getDefault(n);if(!this._typeCheck(i))return i;let s=this.fields,o=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(i).filter(m=>!this._nodes.includes(m))),l={},c=Object.assign({},n,{parent:l,__validating:n.__validating||!1}),d=!1;for(const m of a){let g=s[m],E=m in i;if(g){let S,A=i[m];c.path=(n.path?`${n.path}.`:"")+m,g=g.resolve({value:A,context:n.context,parent:l});let D=g instanceof ui?g.spec:void 0,b=D==null?void 0:D.strict;if(D!=null&&D.strip){d=d||m in i;continue}S=!n.__validating||!b?g.cast(i[m],c):i[m],S!==void 0&&(l[m]=S)}else E&&!o&&(l[m]=i[m]);(E!==m in l||l[m]!==i[m])&&(d=!0)}return d?l:i}_validate(e,n={},r,i){let{from:s=[],originalValue:o=e,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:o},...s],n.__validating=!0,n.originalValue=o,super._validate(e,n,r,(l,c)=>{if(!a||!ET(c)){i(l,c);return}o=o||c;let d=[];for(let m of this._nodes){let g=this.fields[m];!g||la.isRef(g)||d.push(g.asNestedTest({options:n,key:m,parent:c,parentPath:n.path,originalParent:o}))}this.runTests({tests:d,value:c,originalValue:o,options:n},r,m=>{i(m.sort(this._sortErrors).concat(l),c)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[i,s]of Object.entries(this.fields)){const o=r[i];r[i]=o===void 0?s:o}return n.withMutation(i=>i.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var i;const s=this.fields[r];let o=e;(i=o)!=null&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),n[r]=s&&"getDefault"in s?s.getDefault(o):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=UV(e,n),r._sortErrors=Wk(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),i=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),i)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return sf(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,i])=>e.includes(r)&&e.includes(i)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let i=jo.getter(e,!0);return this.transform(s=>{if(!s)return s;let o=s;return jV(s,e)&&(o=Object.assign({},s),r||delete o[e],o[n]=i(s)),o})}json(){return this.transform($V)}noUnknown(e=!0,n=T_.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const s=BV(this.schema,i);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=T_.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const i of Object.keys(n))r[e(i)]=n[i];return r})}camelCase(){return this.transformKeys(Bg.camelCase)}snakeCase(){return this.transformKeys(Bg.snakeCase)}constantCase(){return this.transformKeys(e=>Bg.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[s,o]of Object.entries(n.fields)){var i;let a=e;(i=a)!=null&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[s]})),r.fields[s]=o.describe(a)}return r}}Aw.prototype=Hk.prototype;const WV=rt.div`
  display: block;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  z-index: 3;
`,qk=({onClose:t,children:e})=>{J.useEffect(()=>(window.addEventListener("keydown",n),document.documentElement.style.overflow="hidden",()=>{window.removeEventListener("keydown",n),document.documentElement.style.overflow="visible"}));const n=i=>{i.code==="Escape"&&t()},r=i=>{i.target===i.currentTarget&&t()};return G.jsx(WV,{onClick:r,children:e})};function a7(t){return Ji({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M399 384.2C376.9 345.8 335.4 320 288 320H224c-47.4 0-88.9 25.8-111 64.2c35.2 39.2 86.2 63.8 143 63.8s107.8-24.7 143-63.8zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm256 16a72 72 0 1 0 0-144 72 72 0 1 0 0 144z"},child:[]}]})(t)}function l7(t){return Ji({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"},child:[]}]})(t)}function u7(t){return Ji({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"},child:[]}]})(t)}function Gk(t){return Ji({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zm151 118.3C226 97.7 269.5 80 320 80c65.2 0 118.8 29.6 159.9 67.7C518.4 183.5 545 226 558.6 256c-12.6 28-36.6 66.8-70.9 100.9l-53.8-42.2c9.1-17.6 14.2-37.5 14.2-58.7c0-70.7-57.3-128-128-128c-32.2 0-61.7 11.9-84.2 31.5l-46.1-36.1zM394.9 284.2l-81.5-63.9c4.2-8.5 6.6-18.2 6.6-28.3c0-5.5-.7-10.9-2-16c.7 0 1.3 0 2 0c44.2 0 80 35.8 80 80c0 9.9-1.8 19.4-5.1 28.2zm51.3 163.3l-41.9-33C378.8 425.4 350.7 432 320 432c-65.2 0-118.8-29.6-159.9-67.7C121.6 328.5 95 286 81.4 256c8.3-18.4 21.5-41.5 39.4-64.8L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5zm-88-69.3L302 334c-23.5-5.4-43.1-21.2-53.7-42.3l-56.1-44.2c-.2 2.8-.3 5.6-.3 8.5c0 70.7 57.3 128 128 128c13.3 0 26.1-2 38.2-5.8z"},child:[]}]})(t)}function Kk(t){return Ji({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 80c-65.2 0-118.8 29.6-159.9 67.7C89.6 183.5 63 226 49.4 256c13.6 30 40.2 72.5 78.6 108.3C169.2 402.4 222.8 432 288 432s118.8-29.6 159.9-67.7C486.4 328.5 513 286 526.6 256c-13.6-30-40.2-72.5-78.6-108.3C406.8 109.6 353.2 80 288 80zM95.4 112.6C142.5 68.8 207.2 32 288 32s145.5 36.8 192.6 80.6c46.8 43.5 78.1 95.4 93 131.1c3.3 7.9 3.3 16.7 0 24.6c-14.9 35.7-46.2 87.7-93 131.1C433.5 443.2 368.8 480 288 480s-145.5-36.8-192.6-80.6C48.6 356 17.3 304 2.5 268.3c-3.3-7.9-3.3-16.7 0-24.6C17.3 208 48.6 156 95.4 112.6zM288 336c44.2 0 80-35.8 80-80s-35.8-80-80-80c-.7 0-1.3 0-2 0c1.3 5.1 2 10.5 2 16c0 35.3-28.7 64-64 64c-5.5 0-10.9-.7-16-2c0 .7 0 1.3 0 2c0 44.2 35.8 80 80 80zm0-208a128 128 0 1 1 0 256 128 128 0 1 1 0-256z"},child:[]}]})(t)}function c7(t){return Ji({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M225.8 468.2l-2.5-2.3L48.1 303.2C17.4 274.7 0 234.7 0 192.8v-3.3c0-70.4 50-130.8 119.2-144C158.6 37.9 198.9 47 231 69.6c9 6.4 17.4 13.8 25 22.3c4.2-4.8 8.7-9.2 13.5-13.3c3.7-3.2 7.5-6.2 11.5-9c0 0 0 0 0 0C313.1 47 353.4 37.9 392.8 45.4C462 58.6 512 119.1 512 189.5v3.3c0 41.9-17.4 81.9-48.1 110.4L288.7 465.9l-2.5 2.3c-8.2 7.6-19 11.9-30.2 11.9s-22-4.2-30.2-11.9zM239.1 145c-.4-.3-.7-.7-1-1.1l-17.8-20c0 0-.1-.1-.1-.1c0 0 0 0 0 0c-23.1-25.9-58-37.7-92-31.2C81.6 101.5 48 142.1 48 189.5v3.3c0 28.5 11.9 55.8 32.8 75.2L256 430.7 431.2 268c20.9-19.4 32.8-46.7 32.8-75.2v-3.3c0-47.3-33.6-88-80.1-96.9c-34-6.5-69 5.4-92 31.2c0 0 0 0-.1 .1s0 0-.1 .1l-17.8 20c-.3 .4-.7 .7-1 1.1c-4.5 4.5-10.6 7-16.9 7s-12.4-2.5-16.9-7z"},child:[]}]})(t)}function Qk(t){return Ji({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(t)}const HV=rt.div`
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 600px;
  max-height: 100dvh;
  display: flex;
  flex-direction: column;
  justify-content: start;
  align-items: start;
  gap: 40px;
  background-color: #fff;
  border-radius: 30px;
  padding: 64px;
  margin: 0;
`,qV=rt.button`
  position: absolute;
  top: 28px;
  right: 28px;
  background-color: transparent;
  border: none;
  cursor: pointer;
`,GV=rt.div`
  display: flex;
  flex-direction: column;
  justify-content: start;
  align-items: start;
  width: 100%;
  gap: 20px;
  padding: 0;
  margin: 0;

  h2 {
    font-family: 'Roboto-Medium', sans-serif;
    font-size: 48px;
    line-height: 48px;
    letter-spacing: -0.02em;
    margin: 0;
  }

  p {
    font-family: 'Roboto-Regular', sans-serif;
    font-size: 16px;
    line-height: 22px;
    margin: 0;
  }
`,KV=rt.form`
  display: flex;
  flex-direction: column;
  justify-content: start;
  align-items: start;
  gap: 40px;
  width: 100%;
  padding: 8px 0;
  margin: 0;
  overflow-y: auto;
`,TT=rt.div`
  position: relative;
  width: 100%;
  display: flex;
  flex-direction: column;
  justify-content: start;
  align-items: start;
  gap: 8px;
  width: 100%;
  padding: 0;
  margin: 0;

  label {
    position: absolute;
    top: 50%;
    left: 18px;
    transform: translateY(-50%);
    font-size: 16px;
    line-height: 22px;
    color: var(--primary-text-color);
    background-color: transparent;
    padding: 0 4px;
    margin: 0;
    pointer-events: none;
    transition: top 0.2s ease;
  }

  input {
    border: 1px solid rgba(18, 20, 23, 0.1);
    border-radius: 12px;
    font-size: 16px;
    line-height: 22px;
    width: 100%;
    padding: 16px 18px;
    background-color: #fff;
    margin: 0;
    outline: none;

    &:focus + label,
    &:not(:placeholder-shown) + label {
      top: 0;
      color: var(--btn-color);
      background-color: #fff;
    }

    &:focus {
      border: 1px solid var(--btn-color);
    }

    &.error + label {
      color: red;
    }

    &.error {
      border-color: red;
    }
  }
`,IT=rt.p`
  position: absolute;
  bottom: -25px;
  right: 0;
  font-size: 12px;
  color: red;
`,QV=rt.button`
  width: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 16px 48px;
  font-family: 'Roboto-Bold', sans-serif;
  font-size: 18px;
  line-height: 28px;
  letter-spacing: 0.02em;
  color: var(--primary-text-color);
  border: none;
  background-color: var(--btn-color);
  border-radius: 12px;
  transition: background-color 0.3s ease-in-out;

  &:hover,
  &:focus {
    background-color: var(--btn-hover-color);
  }
`,YV=rt.button`
  position: absolute;
  top: 50%;
  right: 17px;
  transform: translateY(-50%);
  background-color: transparent;
  border: none;
  padding: 0;
  margin: 0;
  cursor: pointer;

  &:hover {
    color: var(--btn-color);
  }
`;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te=function(t,e){if(!t)throw Yl(e)},Yl=function(t){return new Error("Firebase Database ("+Yk.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},XV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},xw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,m=(s&3)<<4|a>>4;let g=(a&15)<<2|c>>6,E=c&63;l||(E=64,o||(g=64)),r.push(n[d],n[m],n[g],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Xk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):XV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||m==null)throw new JV;const g=s<<2|a>>4;if(r.push(g),c!==64){const E=a<<4&240|c>>2;if(r.push(E),m!==64){const S=c<<6&192|m;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class JV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Jk=function(t){const e=Xk(t);return xw.encodeByteArray(e,!0)},tp=function(t){return Jk(t).replace(/\./g,"")},np=function(t){try{return xw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(t){return Zk(void 0,t)}function Zk(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!e4(n)||(t[n]=Zk(t[n],e[n]));return t}function e4(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4=()=>t4().__FIREBASE_DEFAULTS__,r4=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},i4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&np(t[1]);return e&&JSON.parse(e)},lm=()=>{try{return n4()||r4()||i4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},e2=t=>{var e,n;return(n=(e=lm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Rw=t=>{const e=e2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},t2=()=>{var t;return(t=lm())===null||t===void 0?void 0:t.config},n2=t=>{var e;return(e=lm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[tp(JSON.stringify(n)),tp(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ow(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function s4(){var t;const e=(t=lm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function o4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function r2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function a4(){const t=ln();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function i2(){return Yk.NODE_ADMIN===!0}function l4(){return!s4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function u4(){try{return typeof indexedDB=="object"}catch{return!1}}function c4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4="FirebaseError";class fi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=h4,Object.setPrototypeOf(this,fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lh.prototype.create)}}class lh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?d4(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new fi(i,a,r)}}function d4(t,e){return t.replace(f4,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const f4=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(t){return JSON.parse(t)}function Yt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Mc(np(s[0])||""),n=Mc(np(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},p4=function(t){const e=s2(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},m4=function(t){const e=s2(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function kl(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function C_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function rp(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Fc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(CT(s)&&CT(o)){if(!Fc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function CT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function $u(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ju(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let m=0;m<16;m++)r[m]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let m=0;m<16;m++)r[m]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let m=16;m<80;m++){const g=r[m-3]^r[m-8]^r[m-14]^r[m-16];r[m]=(g<<1|g>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,d;for(let m=0;m<80;m++){m<40?m<20?(c=a^s&(o^a),d=1518500249):(c=s^o^a,d=1859775393):m<60?(c=s&o|a&(s|o),d=2400959708):(c=s^o^a,d=3395469782);const g=(i<<5|i>>>27)+c+l+d+r[m]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=g}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function y4(t,e){const n=new _4(t,e);return n.subscribe.bind(n)}class _4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");v4(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=zg),i.error===void 0&&(i.error=zg),i.complete===void 0&&(i.complete=zg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function v4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function zg(){}function o2(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,te(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},um=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(t){return t&&t._delegate?t._delegate:t}class Hi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Pw;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(I4(e))try{this.getOrInitializeService({instanceIdentifier:Ao})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ao){return this.instances.has(e)}getOptions(e=Ao){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:T4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ao){return this.component?this.component.multipleInstances?e:Ao:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function T4(t){return t===Ao?void 0:t}function I4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new E4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ae||(Ae={}));const S4={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},b4=Ae.INFO,k4={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},A4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=k4[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cm{constructor(e){this.name=e,this._logLevel=b4,this._logHandler=A4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?S4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const x4=(t,e)=>e.some(n=>t instanceof n);let ST,bT;function R4(){return ST||(ST=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function P4(){return bT||(bT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const a2=new WeakMap,S_=new WeakMap,l2=new WeakMap,Wg=new WeakMap,Dw=new WeakMap;function N4(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ws(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&a2.set(n,t)}).catch(()=>{}),Dw.set(e,t),e}function O4(t){if(S_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});S_.set(t,e)}let b_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return S_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||l2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ws(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function D4(t){b_=t(b_)}function L4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Hg(this),e,...n);return l2.set(r,e.sort?e.sort():[e]),Ws(r)}:P4().includes(t)?function(...e){return t.apply(Hg(this),e),Ws(a2.get(this))}:function(...e){return Ws(t.apply(Hg(this),e))}}function M4(t){return typeof t=="function"?L4(t):(t instanceof IDBTransaction&&O4(t),x4(t,R4())?new Proxy(t,b_):t)}function Ws(t){if(t instanceof IDBRequest)return N4(t);if(Wg.has(t))return Wg.get(t);const e=M4(t);return e!==t&&(Wg.set(t,e),Dw.set(e,t)),e}const Hg=t=>Dw.get(t);function F4(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ws(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ws(o.result),l.oldVersion,l.newVersion,Ws(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const V4=["get","getKey","getAll","getAllKeys","count"],U4=["put","add","delete","clear"],qg=new Map;function kT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(qg.get(e))return qg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=U4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||V4.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return qg.set(e,s),s}D4(t=>({...t,get:(e,n,r)=>kT(e,n)||t.get(e,n,r),has:(e,n)=>!!kT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(j4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function j4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const k_="@firebase/app",AT="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=new cm("@firebase/app"),B4="@firebase/app-compat",z4="@firebase/analytics-compat",W4="@firebase/analytics",H4="@firebase/app-check-compat",q4="@firebase/app-check",G4="@firebase/auth",K4="@firebase/auth-compat",Q4="@firebase/database",Y4="@firebase/database-compat",X4="@firebase/functions",J4="@firebase/functions-compat",Z4="@firebase/installations",e5="@firebase/installations-compat",t5="@firebase/messaging",n5="@firebase/messaging-compat",r5="@firebase/performance",i5="@firebase/performance-compat",s5="@firebase/remote-config",o5="@firebase/remote-config-compat",a5="@firebase/storage",l5="@firebase/storage-compat",u5="@firebase/firestore",c5="@firebase/vertexai-preview",h5="@firebase/firestore-compat",d5="firebase",f5="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="[DEFAULT]",p5={[k_]:"fire-core",[B4]:"fire-core-compat",[W4]:"fire-analytics",[z4]:"fire-analytics-compat",[q4]:"fire-app-check",[H4]:"fire-app-check-compat",[G4]:"fire-auth",[K4]:"fire-auth-compat",[Q4]:"fire-rtdb",[Y4]:"fire-rtdb-compat",[X4]:"fire-fn",[J4]:"fire-fn-compat",[Z4]:"fire-iid",[e5]:"fire-iid-compat",[t5]:"fire-fcm",[n5]:"fire-fcm-compat",[r5]:"fire-perf",[i5]:"fire-perf-compat",[s5]:"fire-rc",[o5]:"fire-rc-compat",[a5]:"fire-gcs",[l5]:"fire-gcs-compat",[u5]:"fire-fst",[h5]:"fire-fst-compat",[c5]:"fire-vertex","fire-js":"fire-js",[d5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip=new Map,m5=new Map,x_=new Map;function xT(t,e){try{t.container.addComponent(e)}catch(n){Qo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ys(t){const e=t.name;if(x_.has(e))return Qo.debug(`There were multiple attempts to register component ${e}.`),!1;x_.set(e,t);for(const n of ip.values())xT(n,t);for(const n of m5.values())xT(n,t);return!0}function uh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Jr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hs=new lh("app","Firebase",g5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Hi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=f5;function u2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:A_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Hs.create("bad-app-name",{appName:String(i)});if(n||(n=t2()),!n)throw Hs.create("no-options");const s=ip.get(i);if(s){if(Fc(n,s.options)&&Fc(r,s.config))return s;throw Hs.create("duplicate-app",{appName:i})}const o=new C4(i);for(const l of x_.values())o.addComponent(l);const a=new y5(n,r,o);return ip.set(i,a),a}function hm(t=A_){const e=ip.get(t);if(!e&&t===A_&&t2())return u2();if(!e)throw Hs.create("no-app",{appName:t});return e}function dr(t,e,n){var r;let i=(r=p5[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qo.warn(a.join(" "));return}Ys(new Hi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _5="firebase-heartbeat-database",v5=1,Vc="firebase-heartbeat-store";let Gg=null;function c2(){return Gg||(Gg=F4(_5,v5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hs.create("idb-open",{originalErrorMessage:t.message})})),Gg}async function w5(t){try{const n=(await c2()).transaction(Vc),r=await n.objectStore(Vc).get(h2(t));return await n.done,r}catch(e){if(e instanceof fi)Qo.warn(e.message);else{const n=Hs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qo.warn(n.message)}}}async function RT(t,e){try{const r=(await c2()).transaction(Vc,"readwrite");await r.objectStore(Vc).put(e,h2(t)),await r.done}catch(n){if(n instanceof fi)Qo.warn(n.message);else{const r=Hs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Qo.warn(r.message)}}}function h2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E5=1024,T5=30*24*60*60*1e3;class I5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new S5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=PT();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=T5}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=PT(),{heartbeatsToSend:r,unsentEntries:i}=C5(this._heartbeatsCache.heartbeats),s=tp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function PT(){return new Date().toISOString().substring(0,10)}function C5(t,e=E5){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),NT(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),NT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class S5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return u4()?c4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await w5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return RT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return RT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function NT(t){return tp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b5(t){Ys(new Hi("platform-logger",e=>new $4(e),"PRIVATE")),Ys(new Hi("heartbeat",e=>new I5(e),"PRIVATE")),dr(k_,AT,t),dr(k_,AT,"esm2017"),dr("fire-js","")}b5("");var k5="firebase",A5="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dr(k5,A5,"app");function d2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const x5=d2,f2=new lh("auth","Firebase",d2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp=new cm("@firebase/auth");function R5(t,...e){sp.logLevel<=Ae.WARN&&sp.warn(`Auth (${so}): ${t}`,...e)}function of(t,...e){sp.logLevel<=Ae.ERROR&&sp.error(`Auth (${so}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(t,...e){throw Lw(t,...e)}function ri(t,...e){return Lw(t,...e)}function p2(t,e,n){const r=Object.assign(Object.assign({},x5()),{[e]:n});return new lh("auth","Firebase",r).create(e,{appName:t.name})}function Ui(t){return p2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return f2.create(t,...e)}function de(t,e,...n){if(!t)throw Lw(e,...n)}function Di(t){const e="INTERNAL ASSERTION FAILED: "+t;throw of(e),new Error(e)}function qi(t,e){t||Di(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function P5(){return OT()==="http:"||OT()==="https:"}function OT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(P5()||o4()||"connection"in navigator)?navigator.onLine:!0}function O5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n){this.shortDelay=e,this.longDelay=n,qi(n>e,"Short delay should be less than long delay!"),this.isMobile=Ow()||r2()}get(){return N5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(t,e){qi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5=new ch(3e4,6e4);function oo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function es(t,e,n,r,i={}){return g2(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Xl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),m2.fetch()(y2(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function g2(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},D5),e);try{const i=new F5(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw xd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw xd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw xd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw xd(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw p2(t,d,c);Mr(t,d)}}catch(i){if(i instanceof fi)throw i;Mr(t,"network-request-failed",{message:String(i)})}}async function hh(t,e,n,r,i={}){const s=await es(t,e,n,r,i);return"mfaPendingCredential"in s&&Mr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function y2(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Mw(t.config,i):`${t.config.apiScheme}://${i}`}function M5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class F5{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ri(this.auth,"network-request-failed")),L5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ri(t,e,r);return i.customData._tokenResponse=n,i}function DT(t){return t!==void 0&&t.enterprise!==void 0}class V5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return M5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function U5(t,e){return es(t,"GET","/v2/recaptchaConfig",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $5(t,e){return es(t,"POST","/v1/accounts:delete",e)}async function _2(t,e){return es(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function j5(t,e=!1){const n=vt(t),r=await n.getIdToken(e),i=Fw(r);de(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ic(Kg(i.auth_time)),issuedAtTime:ic(Kg(i.iat)),expirationTime:ic(Kg(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Kg(t){return Number(t)*1e3}function Fw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return of("JWT malformed, contained fewer than 3 sections"),null;try{const i=np(n);return i?JSON.parse(i):(of("Failed to decode base64 JWT payload"),null)}catch(i){return of("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function LT(t){const e=Fw(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof fi&&B5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function B5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ic(this.lastLoginAt),this.creationTime=ic(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function op(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Al(t,_2(n,{idToken:r}));de(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?v2(s.providerUserInfo):[],a=H5(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new P_(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,m)}async function W5(t){const e=vt(t);await op(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function H5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function v2(t){return t.map(e=>{var{providerId:n}=e,r=dw(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q5(t,e){const n=await g2(t,{},async()=>{const r=Xl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=y2(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",m2.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function G5(t,e){return es(t,"POST","/v2/accounts:revokeToken",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):LT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){de(e.length!==0,"internal-error");const n=LT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await q5(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ol;return r&&(de(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(de(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(de(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ol,this.toJSON())}_performRefresh(){return Di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Li{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=dw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new z5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new P_(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Al(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return j5(this,e)}reload(){return W5(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Li(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await op(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jr(this.auth.app))return Promise.reject(Ui(this.auth));const e=await this.getIdToken();return await Al(this,$5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,d;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,E=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,S=(o=n.photoURL)!==null&&o!==void 0?o:void 0,A=(a=n.tenantId)!==null&&a!==void 0?a:void 0,D=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:k,emailVerified:F,isAnonymous:j,providerData:W,stsTokenManager:C}=n;de(k&&C,e,"internal-error");const I=ol.fromJSON(this.name,C);de(typeof k=="string",e,"internal-error"),ys(m,e.name),ys(g,e.name),de(typeof F=="boolean",e,"internal-error"),de(typeof j=="boolean",e,"internal-error"),ys(E,e.name),ys(S,e.name),ys(A,e.name),ys(D,e.name),ys(b,e.name),ys(w,e.name);const R=new Li({uid:k,auth:e,email:g,emailVerified:F,displayName:m,isAnonymous:j,photoURL:S,phoneNumber:E,tenantId:A,stsTokenManager:I,createdAt:b,lastLoginAt:w});return W&&Array.isArray(W)&&(R.providerData=W.map(P=>Object.assign({},P))),D&&(R._redirectEventId=D),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new ol;i.updateFromServerResponse(n);const s=new Li({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await op(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];de(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?v2(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new ol;a.updateFromIdToken(r);const l=new Li({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new P_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=new Map;function Mi(t){qi(t instanceof Function,"Expected a class definition");let e=MT.get(t);return e?(qi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,MT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}w2.type="NONE";const FT=w2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(t,e,n){return`firebase:${t}:${e}:${n}`}class al{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=af(this.userKey,i.apiKey,s),this.fullPersistenceKey=af("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Li._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new al(Mi(FT),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Mi(FT);const o=af(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const m=Li._fromJSON(e,d);c!==s&&(a=m),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new al(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new al(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(I2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(E2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(S2(e))return"Blackberry";if(b2(e))return"Webos";if(Vw(e))return"Safari";if((e.includes("chrome/")||T2(e))&&!e.includes("edge/"))return"Chrome";if(C2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function E2(t=ln()){return/firefox\//i.test(t)}function Vw(t=ln()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function T2(t=ln()){return/crios\//i.test(t)}function I2(t=ln()){return/iemobile/i.test(t)}function C2(t=ln()){return/android/i.test(t)}function S2(t=ln()){return/blackberry/i.test(t)}function b2(t=ln()){return/webos/i.test(t)}function dm(t=ln()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function K5(t=ln()){var e;return dm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Q5(){return a4()&&document.documentMode===10}function k2(t=ln()){return dm(t)||C2(t)||b2(t)||S2(t)||/windows phone/i.test(t)||I2(t)}function Y5(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(t,e=[]){let n;switch(t){case"Browser":n=VT(ln());break;case"Worker":n=`${VT(ln())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${so}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J5(t,e={}){return es(t,"GET","/v2/passwordPolicy",oo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z5=6;class e3{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Z5,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new UT(this),this.idTokenSubscription=new UT(this),this.beforeStateQueue=new X5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Mi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await al.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _2(this,{idToken:e}),r=await Li._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Jr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await op(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=O5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jr(this.app))return Promise.reject(Ui(this));const n=e?vt(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jr(this.app)?Promise.reject(Ui(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jr(this.app)?Promise.reject(Ui(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await J5(this),n=new e3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new lh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await G5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Mi(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=await al.create(this,[Mi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=A2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&R5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ua(t){return vt(t)}class UT{constructor(e){this.auth=e,this.observer=null,this.addObserver=y4(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function n3(t){fm=t}function x2(t){return fm.loadJS(t)}function r3(){return fm.recaptchaEnterpriseScript}function i3(){return fm.gapiScript}function s3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const o3="recaptcha-enterprise",a3="NO_RECAPTCHA";class l3{constructor(e){this.type=o3,this.auth=ua(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{U5(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new V5(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;DT(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(a3)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&DT(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=r3();l.length!==0&&(l+=a),x2(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function $T(t,e,n,r=!1){const i=new l3(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function N_(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await $T(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await $T(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u3(t,e){const n=uh(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Fc(s,e??{}))return i;Mr(i,"already-initialized")}return n.initialize({options:e})}function c3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Mi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function h3(t,e,n){const r=ua(t);de(r._canInitEmulator,r,"emulator-config-failed"),de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=R2(e),{host:o,port:a}=d3(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||f3()}function R2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function d3(t){const e=R2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:jT(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:jT(o)}}}function jT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function f3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Di("not implemented")}_getIdTokenResponse(e){return Di("not implemented")}_linkToIdToken(e,n){return Di("not implemented")}_getReauthenticationResolver(e){return Di("not implemented")}}async function p3(t,e){return es(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m3(t,e){return hh(t,"POST","/v1/accounts:signInWithPassword",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g3(t,e){return hh(t,"POST","/v1/accounts:signInWithEmailLink",oo(t,e))}async function y3(t,e){return hh(t,"POST","/v1/accounts:signInWithEmailLink",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc extends Uw{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Uc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Uc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return N_(e,n,"signInWithPassword",m3);case"emailLink":return g3(e,{email:this._email,oobCode:this._password});default:Mr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return N_(e,r,"signUpPassword",p3);case"emailLink":return y3(e,{idToken:n,email:this._email,oobCode:this._password});default:Mr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ll(t,e){return hh(t,"POST","/v1/accounts:signInWithIdp",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3="http://localhost";class Yo extends Uw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Yo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Mr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=dw(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Yo(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ll(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ll(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ll(e,n)}buildRequest(){const e={requestUri:_3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Xl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function w3(t){const e=$u(ju(t)).link,n=e?$u(ju(e)).deep_link_id:null,r=$u(ju(t)).deep_link_id;return(r?$u(ju(r)).link:null)||r||n||e||t}class $w{constructor(e){var n,r,i,s,o,a;const l=$u(ju(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,m=v3((i=l.mode)!==null&&i!==void 0?i:null);de(c&&d&&m,"argument-error"),this.apiKey=c,this.operation=m,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=w3(e);try{return new $w(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(){this.providerId=Jl.PROVIDER_ID}static credential(e,n){return Uc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=$w.parseLink(n);return de(r,"argument-error"),Uc._fromEmailAndCode(e,r.code,r.tenantId)}}Jl.PROVIDER_ID="password";Jl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Jl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh extends P2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends dh{constructor(){super("facebook.com")}static credential(e){return Yo._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cs.credential(e.oauthAccessToken)}catch{return null}}}Cs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Cs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends dh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Yo._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ss.credential(n,r)}catch{return null}}}Ss.GOOGLE_SIGN_IN_METHOD="google.com";Ss.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends dh{constructor(){super("github.com")}static credential(e){return Yo._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bs.credential(e.oauthAccessToken)}catch{return null}}}bs.GITHUB_SIGN_IN_METHOD="github.com";bs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends dh{constructor(){super("twitter.com")}static credential(e,n){return Yo._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ks.credential(n,r)}catch{return null}}}ks.TWITTER_SIGN_IN_METHOD="twitter.com";ks.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E3(t,e){return hh(t,"POST","/v1/accounts:signUp",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Li._fromIdTokenResponse(e,r,i),o=BT(r);return new Xo({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=BT(r);return new Xo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function BT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap extends fi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ap.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ap(e,n,r,i)}}function N2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ap._fromErrorAndOperation(t,s,e,r):s})}async function T3(t,e,n=!1){const r=await Al(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I3(t,e,n=!1){const{auth:r}=t;if(Jr(r.app))return Promise.reject(Ui(r));const i="reauthenticate";try{const s=await Al(t,N2(r,i,e,t),n);de(s.idToken,r,"internal-error");const o=Fw(s.idToken);de(o,r,"internal-error");const{sub:a}=o;return de(t.uid===a,r,"user-mismatch"),Xo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Mr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O2(t,e,n=!1){if(Jr(t.app))return Promise.reject(Ui(t));const r="signIn",i=await N2(t,r,e),s=await Xo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function C3(t,e){return O2(ua(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D2(t){const e=ua(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function S3(t,e,n){if(Jr(t.app))return Promise.reject(Ui(t));const r=ua(t),o=await N_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",E3).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&D2(t),l}),a=await Xo._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function b3(t,e,n){return Jr(t.app)?Promise.reject(Ui(t)):C3(vt(t),Jl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&D2(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k3(t,e){return es(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A3(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=vt(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Al(r,k3(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function x3(t,e,n,r){return vt(t).onIdTokenChanged(e,n,r)}function R3(t,e,n){return vt(t).beforeAuthStateChanged(e,n)}function P3(t,e,n,r){return vt(t).onAuthStateChanged(e,n,r)}function N3(t){return vt(t).signOut()}const lp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lp,"1"),this.storage.removeItem(lp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3(){const t=ln();return Vw(t)||dm(t)}const D3=1e3,L3=10;class M2 extends L2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=O3()&&Y5(),this.fallbackToPolling=k2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Q5()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,L3):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},D3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}M2.type="LOCAL";const M3=M2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2 extends L2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}F2.type="SESSION";const V2=F2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new pm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await F3(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=jw("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){const g=m;if(g.data.eventId===c)switch(g.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(g.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(){return window}function U3(t){ii().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(){return typeof ii().WorkerGlobalScope<"u"&&typeof ii().importScripts=="function"}async function $3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function j3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function B3(){return U2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2="firebaseLocalStorageDb",z3=1,up="firebaseLocalStorage",j2="fbase_key";class fh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function mm(t,e){return t.transaction([up],e?"readwrite":"readonly").objectStore(up)}function W3(){const t=indexedDB.deleteDatabase($2);return new fh(t).toPromise()}function O_(){const t=indexedDB.open($2,z3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(up,{keyPath:j2})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(up)?e(r):(r.close(),await W3(),e(await O_()))})})}async function zT(t,e,n){const r=mm(t,!0).put({[j2]:e,value:n});return new fh(r).toPromise()}async function H3(t,e){const n=mm(t,!1).get(e),r=await new fh(n).toPromise();return r===void 0?null:r.value}function WT(t,e){const n=mm(t,!0).delete(e);return new fh(n).toPromise()}const q3=800,G3=3;class B2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await O_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>G3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return U2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pm._getInstance(B3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await $3(),!this.activeServiceWorker)return;this.sender=new V3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||j3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await O_();return await zT(e,lp,"1"),await WT(e,lp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>zT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>H3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>WT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=mm(i,!1).getAll();return new fh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),q3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}B2.type="LOCAL";const K3=B2;new ch(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q3(t,e){return e?Mi(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw extends Uw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ll(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ll(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ll(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Y3(t){return O2(t.auth,new Bw(t),t.bypassAuthState)}function X3(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),I3(n,new Bw(t),t.bypassAuthState)}async function J3(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),T3(n,new Bw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Y3;case"linkViaPopup":case"linkViaRedirect":return J3;case"reauthViaPopup":case"reauthViaRedirect":return X3;default:Mr(this.auth,"internal-error")}}resolve(e){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3=new ch(2e3,1e4);class Qa extends z2{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Qa.currentPopupAction&&Qa.currentPopupAction.cancel(),Qa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){qi(this.filter.length===1,"Popup operations only handle one event");const e=jw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Z3.get())};e()}}Qa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eU="pendingRedirect",lf=new Map;class tU extends z2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=lf.get(this.auth._key());if(!e){try{const r=await nU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}lf.set(this.auth._key(),e)}return this.bypassAuthState||lf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nU(t,e){const n=sU(e),r=iU(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function rU(t,e){lf.set(t._key(),e)}function iU(t){return Mi(t._redirectPersistence)}function sU(t){return af(eU,t.config.apiKey,t.name)}async function oU(t,e,n=!1){if(Jr(t.app))return Promise.reject(Ui(t));const r=ua(t),i=Q3(r,e),o=await new tU(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aU=10*60*1e3;class lU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!W2(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ri(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=aU&&this.cachedEventUids.clear(),this.cachedEventUids.has(HT(e))}saveEventToCache(e){this.cachedEventUids.add(HT(e)),this.lastProcessedEventTime=Date.now()}}function HT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function W2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function uU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return W2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cU(t,e={}){return es(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dU=/^https?/;async function fU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await cU(t);for(const n of e)try{if(pU(n))return}catch{}Mr(t,"unauthorized-domain")}function pU(t){const e=R_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!dU.test(n))return!1;if(hU.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mU=new ch(3e4,6e4);function qT(){const t=ii().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function gU(t){return new Promise((e,n)=>{var r,i,s;function o(){qT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qT(),n(ri(t,"network-request-failed"))},timeout:mU.get()})}if(!((i=(r=ii().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ii().gapi)===null||s===void 0)&&s.load)o();else{const a=s3("iframefcb");return ii()[a]=()=>{gapi.load?o():n(ri(t,"network-request-failed"))},x2(`${i3()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw uf=null,e})}let uf=null;function yU(t){return uf=uf||gU(t),uf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _U=new ch(5e3,15e3),vU="__/auth/iframe",wU="emulator/auth/iframe",EU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function IU(t){const e=t.config;de(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Mw(e,wU):`https://${t.config.authDomain}/${vU}`,r={apiKey:e.apiKey,appName:t.name,v:so},i=TU.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Xl(r).slice(1)}`}async function CU(t){const e=await yU(t),n=ii().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:IU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EU,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=ri(t,"network-request-failed"),a=ii().setTimeout(()=>{s(o)},_U.get());function l(){ii().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bU=500,kU=600,AU="_blank",xU="http://localhost";class GT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RU(t,e,n,r=bU,i=kU){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},SU),{width:r.toString(),height:i.toString(),top:s,left:o}),c=ln().toLowerCase();n&&(a=T2(c)?AU:n),E2(c)&&(e=e||xU,l.scrollbars="yes");const d=Object.entries(l).reduce((g,[E,S])=>`${g}${E}=${S},`,"");if(K5(c)&&a!=="_self")return PU(e||"",a),new GT(null);const m=window.open(e||"",a,d);de(m,t,"popup-blocked");try{m.focus()}catch{}return new GT(m)}function PU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU="__/auth/handler",OU="emulator/auth/handler",DU=encodeURIComponent("fac");async function KT(t,e,n,r,i,s){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:so,eventId:i};if(e instanceof P2){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",C_(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,m]of Object.entries(s||{}))o[d]=m}if(e instanceof dh){const d=e.getScopes().filter(m=>m!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${DU}=${encodeURIComponent(l)}`:"";return`${LU(t)}?${Xl(a).slice(1)}${c}`}function LU({config:t}){return t.emulator?Mw(t,OU):`https://${t.authDomain}/${NU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg="webStorageSupport";class MU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=V2,this._completeRedirectFn=oU,this._overrideRedirectResult=rU}async _openPopup(e,n,r,i){var s;qi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await KT(e,n,r,R_(),i);return RU(e,o,jw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await KT(e,n,r,R_(),i);return U3(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(qi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await CU(e),r=new lU(e);return n.register("authEvent",i=>(de(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Qg,{type:Qg},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Qg];o!==void 0&&n(!!o),Mr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=fU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return k2()||Vw()||dm()}}const FU=MU;var QT="@firebase/auth",YT="1.7.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $U(t){Ys(new Hi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;de(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:A2(t)},c=new t3(r,i,s,l);return c3(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ys(new Hi("auth-internal",e=>{const n=ua(e.getProvider("auth").getImmediate());return(r=>new VU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),dr(QT,YT,UU(t)),dr(QT,YT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU=5*60,BU=n2("authIdTokenMaxAge")||jU;let XT=null;const zU=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>BU)return;const i=n==null?void 0:n.token;XT!==i&&(XT=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function zw(t=hm()){const e=uh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=u3(t,{popupRedirectResolver:FU,persistence:[K3,M3,V2]}),r=n2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=zU(s.toString());R3(n,o,()=>o(n.currentUser)),x3(n,a=>o(a))}}const i=e2("auth");return i&&h3(n,`http://${i}`),n}function WU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}n3({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ri("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",WU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$U("Browser");const JT="@firebase/database",ZT="1.0.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let H2="";function HU(t){H2=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Yt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Mc(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Zi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new qU(e)}}catch{}return new GU},Mo=q2("localStorage"),D_=q2("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul=new cm("@firebase/database"),KU=function(){let t=1;return function(){return t++}}(),G2=function(t){const e=w4(t),n=new g4;n.update(e);const r=n.digest();return xw.encodeByteArray(r)},ph=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=ph.apply(null,r):typeof r=="object"?e+=Yt(r):e+=r,e+=" "}return e};let Bo=null,eI=!0;const QU=function(t,e){te(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(ul.logLevel=Ae.VERBOSE,Bo=ul.log.bind(ul),e&&D_.set("logging_enabled",!0)):typeof t=="function"?Bo=t:(Bo=null,D_.remove("logging_enabled"))},gn=function(...t){if(eI===!0&&(eI=!1,Bo===null&&D_.get("logging_enabled")===!0&&QU(!0)),Bo){const e=ph.apply(null,t);Bo(e)}},mh=function(t){return function(...e){gn(t,...e)}},L_=function(...t){const e="FIREBASE INTERNAL ERROR: "+ph(...t);ul.error(e)},Gi=function(...t){const e=`FIREBASE FATAL ERROR: ${ph(...t)}`;throw ul.error(e),new Error(e)},tr=function(...t){const e="FIREBASE WARNING: "+ph(...t);ul.warn(e)},YU=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&tr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},K2=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},XU=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},xl="[MIN_NAME]",Jo="[MAX_NAME]",Zl=function(t,e){if(t===e)return 0;if(t===xl||e===Jo)return-1;if(e===xl||t===Jo)return 1;{const n=tI(t),r=tI(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},JU=function(t,e){return t===e?0:t<e?-1:1},Ru=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Yt(e))},Ww=function(t){if(typeof t!="object"||t===null)return Yt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Yt(e[r]),n+=":",n+=Ww(t[e[r]]);return n+="}",n},Q2=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function zn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Y2=function(t){te(!K2(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const d=c.join("");let m="";for(l=0;l<64;l+=8){let g=parseInt(d.substr(l,8),2).toString(16);g.length===1&&(g="0"+g),m=m+g}return m.toLowerCase()},ZU=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},e6=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function t6(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const n6=new RegExp("^-?(0*)\\d{1,10}$"),r6=-2147483648,i6=2147483647,tI=function(t){if(n6.test(t)){const e=Number(t);if(e>=r6&&e<=i6)return e}return null},gh=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw tr("Exception was thrown by user callback.",n),e},Math.floor(0))}},s6=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},sc=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){tr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(gn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',tr(e)}}class cl{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}cl.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="5",X2="v",J2="s",Z2="r",eA="f",tA=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,nA="ls",rA="p",M_="ac",iA="websocket",sA="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Mo.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Mo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function l6(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function aA(t,e,n){te(typeof e=="string","typeof type must == string"),te(typeof n=="object","typeof params must == object");let r;if(e===iA)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===sA)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);l6(t)&&(n.ns=t.namespace);const i=[];return zn(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(){this.counters_={}}incrementCounter(e,n=1){Zi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return ZV(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg={},Xg={};function qw(t){const e=t.toString();return Yg[e]||(Yg[e]=new u6),Yg[e]}function c6(t,e){const n=t.toString();return Xg[n]||(Xg[n]=e()),Xg[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&gh(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="start",d6="close",f6="pLPCommand",p6="pRTLPCB",lA="id",uA="pw",cA="ser",m6="cb",g6="seg",y6="ts",_6="d",v6="dframe",hA=1870,dA=30,w6=hA-dA,E6=25e3,T6=3e4;class Ya{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=mh(e),this.stats_=qw(n),this.urlFn=l=>(this.appCheckToken&&(l[M_]=this.appCheckToken),aA(n,sA,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new h6(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(T6)),XU(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Gw((...s)=>{const[o,a,l,c,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===nI)this.id=a,this.password=l;else if(o===d6)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[nI]="t",r[cA]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[m6]=this.scriptTagHolder.uniqueCallbackIdentifier),r[X2]=Hw,this.transportSessionId&&(r[J2]=this.transportSessionId),this.lastSessionId&&(r[nA]=this.lastSessionId),this.applicationId&&(r[rA]=this.applicationId),this.appCheckToken&&(r[M_]=this.appCheckToken),typeof location<"u"&&location.hostname&&tA.test(location.hostname)&&(r[Z2]=eA);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ya.forceAllow_=!0}static forceDisallow(){Ya.forceDisallow_=!0}static isAvailable(){return Ya.forceAllow_?!0:!Ya.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!ZU()&&!e6()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Yt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Jk(n),i=Q2(r,w6);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[v6]="t",r[lA]=e,r[uA]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Yt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Gw{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=KU(),window[f6+this.uniqueCallbackIdentifier]=e,window[p6+this.uniqueCallbackIdentifier]=n,this.myIFrame=Gw.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){gn("frame writing exception"),a.stack&&gn(a.stack),gn(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||gn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[lA]=this.myID,e[uA]=this.myPW,e[cA]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+dA+r.length<=hA;){const o=this.pendingSegs.shift();r=r+"&"+g6+i+"="+o.seg+"&"+y6+i+"="+o.ts+"&"+_6+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(E6)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{gn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I6=16384,C6=45e3;let cp=null;typeof MozWebSocket<"u"?cp=MozWebSocket:typeof WebSocket<"u"&&(cp=WebSocket);class kr{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=mh(this.connId),this.stats_=qw(n),this.connURL=kr.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[X2]=Hw,typeof location<"u"&&location.hostname&&tA.test(location.hostname)&&(o[Z2]=eA),n&&(o[J2]=n),r&&(o[nA]=r),i&&(o[M_]=i),s&&(o[rA]=s),aA(e,iA,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Mo.set("previous_websocket_failure",!0);try{let r;i2(),this.mySock=new cp(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){kr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&cp!==null&&!kr.forceDisallow_}static previouslyFailed(){return Mo.isInMemoryStorage||Mo.get("previous_websocket_failure")===!0}markConnectionHealthy(){Mo.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Mc(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(te(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Yt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Q2(n,I6);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(C6))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}kr.responsesRequiredToBeHealthy=2;kr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Ya,kr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=kr&&kr.isAvailable();let r=n&&!kr.previouslyFailed();if(e.webSocketOnly&&(n||tr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[kr];else{const i=this.transports_=[];for(const s of $c.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);$c.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}$c.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6=6e4,b6=5e3,k6=10*1024,A6=100*1024,Jg="t",rI="d",x6="s",iI="r",R6="e",sI="o",oI="a",aI="n",lI="p",P6="h";class N6{constructor(e,n,r,i,s,o,a,l,c,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=mh("c:"+this.id+":"),this.transportManager_=new $c(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=sc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>A6?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>k6?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Jg in e){const n=e[Jg];n===oI?this.upgradeIfSecondaryHealthy_():n===iI?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===sI&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ru("t",e),r=Ru("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:lI,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:oI,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:aI,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ru("t",e),r=Ru("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ru(Jg,e);if(rI in e){const r=e[rI];if(n===P6){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===aI){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===x6?this.onConnectionShutdown_(r):n===iI?this.onReset_(r):n===R6?L_("Server Error: "+r):n===sI?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):L_("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Hw!==r&&tr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),sc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(S6))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):sc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(b6))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:lI,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Mo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e){this.allowedEvents_=e,this.listeners_={},te(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){te(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp extends pA{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ow()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new hp}getInitialEvent(e){return te(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=32,cI=768;class Je{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function $e(){return new Je("")}function Se(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Xs(t){return t.pieces_.length-t.pieceNum_}function et(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Je(t.pieces_,e)}function mA(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function O6(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function gA(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function yA(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Je(e,0)}function Vt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Je)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Je(n,0)}function be(t){return t.pieceNum_>=t.pieces_.length}function Fn(t,e){const n=Se(t),r=Se(e);if(n===null)return e;if(n===r)return Fn(et(t),et(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Kw(t,e){if(Xs(t)!==Xs(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ar(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Xs(t)>Xs(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class D6{constructor(e,n){this.errorPrefix_=n,this.parts_=gA(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=um(this.parts_[r]);_A(this)}}function L6(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=um(e),_A(t)}function M6(t){const e=t.parts_.pop();t.byteLength_-=um(e),t.parts_.length>0&&(t.byteLength_-=1)}function _A(t){if(t.byteLength_>cI)throw new Error(t.errorPrefix_+"has a key path longer than "+cI+" bytes ("+t.byteLength_+").");if(t.parts_.length>uI)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+uI+") or object contains a cycle "+xo(t))}function xo(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw extends pA{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Qw}getInitialEvent(e){return te(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu=1e3,F6=60*5*1e3,hI=30*1e3,V6=1.3,U6=3e4,$6="server_kill",dI=3;class $i extends fA{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=$i.nextPersistentConnectionId_++,this.log_=mh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Pu,this.maxReconnectDelay_=F6,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!i2())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Qw.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&hp.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Yt(s)),te(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Pw,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),te(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),te(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;$i.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Zi(e,"w")){const r=kl(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();tr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||m4(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=hI)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=p4(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),te(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Yt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):L_("Unrecognized action received from server: "+Yt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){te(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Pu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Pu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>U6&&(this.reconnectDelay_=Pu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*V6)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+$i.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(m){te(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(m)};this.realtime_={close:l,sendRequest:c};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[m,g]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?gn("getToken() completed but was canceled"):(gn("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=g&&g.token,a=new N6(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,E=>{tr(E+" ("+this.repoInfo_.toString()+")"),this.interrupt($6)},s))}catch(m){this.log_("Failed to get token: "+m),o||(this.repoInfo_.nodeAdmin&&tr(m),l())}}}interrupt(e){gn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){gn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],C_(this.interruptReasons_)&&(this.reconnectDelay_=Pu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Ww(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Je(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){gn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=dI&&(this.reconnectDelay_=hI,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){gn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=dI&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+H2.replace(/\./g,"-")]=1,Ow()?e["framework.cordova"]=1:r2()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=hp.getInstance().currentlyOnline();return C_(this.interruptReasons_)&&e}}$i.nextPersistentConnectionId_=0;$i.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Ie(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Ie(xl,e),i=new Ie(xl,n);return this.compare(r,i)!==0}minPost(){return Ie.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rd;class vA extends gm{static get __EMPTY_NODE(){return Rd}static set __EMPTY_NODE(e){Rd=e}compare(e,n){return Zl(e.name,n.name)}isDefinedOn(e){throw Yl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Ie.MIN}maxPost(){return new Ie(Jo,Rd)}makePost(e,n){return te(typeof e=="string","KeyIndex indexValue must always be a string."),new Ie(e,Rd)}toString(){return".key"}}const hl=new vA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pd=class{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Yn=class Bu{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Bu.RED,this.left=i??Zr.EMPTY_NODE,this.right=s??Zr.EMPTY_NODE}copy(e,n,r,i,s){return new Bu(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Zr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Zr.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Bu.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Bu.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}};Yn.RED=!0;Yn.BLACK=!1;class j6{copy(e,n,r,i,s){return this}insert(e,n,r){return new Yn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}let Zr=class cf{constructor(e,n=cf.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new cf(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Yn.BLACK,null,null))}remove(e){return new cf(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Yn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Pd(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Pd(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Pd(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Pd(this.root_,null,this.comparator_,!0,e)}};Zr.EMPTY_NODE=new j6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B6(t,e){return Zl(t.name,e.name)}function Yw(t,e){return Zl(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let F_;function z6(t){F_=t}const wA=function(t){return typeof t=="number"?"number:"+Y2(t):"string:"+t},EA=function(t){if(t.isLeafNode()){const e=t.val();te(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Zi(e,".sv"),"Priority must be a string or number.")}else te(t===F_||t.isEmpty(),"priority of unexpected type.");te(t===F_||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fI;class qt{constructor(e,n=qt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,te(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),EA(this.priorityNode_)}static set __childrenNodeConstructor(e){fI=e}static get __childrenNodeConstructor(){return fI}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new qt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:qt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return be(e)?this:Se(e)===".priority"?this.priorityNode_:qt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:qt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Se(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(te(r!==".priority"||Xs(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,qt.__childrenNodeConstructor.EMPTY_NODE.updateChild(et(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+wA(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Y2(this.value_):e+=this.value_,this.lazyHash_=G2(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===qt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof qt.__childrenNodeConstructor?-1:(te(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=qt.VALUE_TYPE_ORDER.indexOf(n),s=qt.VALUE_TYPE_ORDER.indexOf(r);return te(i>=0,"Unknown leaf type: "+n),te(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}qt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TA,IA;function W6(t){TA=t}function H6(t){IA=t}class q6 extends gm{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Zl(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Ie.MIN}maxPost(){return new Ie(Jo,new qt("[PRIORITY-POST]",IA))}makePost(e,n){const r=TA(e);return new Ie(n,new qt("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ct=new q6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6=Math.log(2);class K6{constructor(e){const n=s=>parseInt(Math.log(s)/G6,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const dp=function(t,e,n,r){t.sort(e);const i=function(l,c){const d=c-l;let m,g;if(d===0)return null;if(d===1)return m=t[l],g=n?n(m):m,new Yn(g,m.node,Yn.BLACK,null,null);{const E=parseInt(d/2,10)+l,S=i(l,E),A=i(E+1,c);return m=t[E],g=n?n(m):m,new Yn(g,m.node,Yn.BLACK,S,A)}},s=function(l){let c=null,d=null,m=t.length;const g=function(S,A){const D=m-S,b=m;m-=S;const w=i(D+1,b),k=t[D],F=n?n(k):k;E(new Yn(F,k.node,A,null,w))},E=function(S){c?(c.left=S,c=S):(d=S,c=S)};for(let S=0;S<l.count;++S){const A=l.nextBitIsOne(),D=Math.pow(2,l.count-(S+1));A?g(D,Yn.BLACK):(g(D,Yn.BLACK),g(D,Yn.RED))}return d},o=new K6(t.length),a=s(o);return new Zr(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zg;const Ra={};class Fi{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return te(Ra&&Ct,"ChildrenNode.ts has not been loaded"),Zg=Zg||new Fi({".priority":Ra},{".priority":Ct}),Zg}get(e){const n=kl(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Zr?n:null}hasIndex(e){return Zi(this.indexSet_,e.toString())}addIndex(e,n){te(e!==hl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Ie.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=dp(r,e.getCompare()):a=Ra;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const d=Object.assign({},this.indexes_);return d[l]=a,new Fi(d,c)}addToIndexes(e,n){const r=rp(this.indexes_,(i,s)=>{const o=kl(this.indexSet_,s);if(te(o,"Missing index implementation for "+s),i===Ra)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Ie.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),dp(a,o.getCompare())}else return Ra;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Ie(e.name,a))),l.insert(e,e.node)}});return new Fi(r,this.indexSet_)}removeFromIndexes(e,n){const r=rp(this.indexes_,i=>{if(i===Ra)return i;{const s=n.get(e.name);return s?i.remove(new Ie(e.name,s)):i}});return new Fi(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nu;class fe{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&EA(this.priorityNode_),this.children_.isEmpty()&&te(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Nu||(Nu=new fe(new Zr(Yw),null,Fi.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Nu}updatePriority(e){return this.children_.isEmpty()?this:new fe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Nu:n}}getChild(e){const n=Se(e);return n===null?this:this.getImmediateChild(n).getChild(et(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(te(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Ie(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Nu:this.priorityNode_;return new fe(i,o,s)}}updateChild(e,n){const r=Se(e);if(r===null)return n;{te(Se(e)!==".priority"||Xs(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(et(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Ct,(o,a)=>{n[o]=a.val(e),r++,s&&fe.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+wA(this.getPriority().val())+":"),this.forEachChild(Ct,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":G2(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Ie(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Ie(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Ie(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Ie.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Ie.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===yh?-1:0}withIndex(e){if(e===hl||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new fe(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===hl||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Ct),i=n.getIterator(Ct);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===hl?null:this.indexMap_.get(e.toString())}}fe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Q6 extends fe{constructor(){super(new Zr(Yw),fe.EMPTY_NODE,Fi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return fe.EMPTY_NODE}isEmpty(){return!1}}const yh=new Q6;Object.defineProperties(Ie,{MIN:{value:new Ie(xl,fe.EMPTY_NODE)},MAX:{value:new Ie(Jo,yh)}});vA.__EMPTY_NODE=fe.EMPTY_NODE;qt.__childrenNodeConstructor=fe;z6(yh);H6(yh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6=!0;function yn(t,e=null){if(t===null)return fe.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),te(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new qt(n,yn(e))}if(!(t instanceof Array)&&Y6){const n=[];let r=!1;if(zn(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=yn(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Ie(o,l)))}}),n.length===0)return fe.EMPTY_NODE;const s=dp(n,B6,o=>o.name,Yw);if(r){const o=dp(n,Ct.getCompare());return new fe(s,yn(e),new Fi({".priority":o},{".priority":Ct}))}else return new fe(s,yn(e),Fi.Default)}else{let n=fe.EMPTY_NODE;return zn(t,(r,i)=>{if(Zi(t,r)&&r.substring(0,1)!=="."){const s=yn(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(yn(e))}}W6(yn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6 extends gm{constructor(e){super(),this.indexPath_=e,te(!be(e)&&Se(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Zl(e.name,n.name):s}makePost(e,n){const r=yn(e),i=fe.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ie(n,i)}maxPost(){const e=fe.EMPTY_NODE.updateChild(this.indexPath_,yh);return new Ie(Jo,e)}toString(){return gA(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6 extends gm{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Zl(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Ie.MIN}maxPost(){return Ie.MAX}makePost(e,n){const r=yn(e);return new Ie(n,r)}toString(){return".value"}}const Z6=new J6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(t){return{type:"value",snapshotNode:t}}function Rl(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function jc(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Bc(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function e9(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){te(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(jc(n,a)):te(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Rl(n,r)):o.trackChildChange(Bc(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ct,(i,s)=>{n.hasChild(i)||r.trackChildChange(jc(i,s))}),n.isLeafNode()||n.forEachChild(Ct,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Bc(i,s,o))}else r.trackChildChange(Rl(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?fe.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e){this.indexedFilter_=new Xw(e.getIndex()),this.index_=e.getIndex(),this.startPost_=zc.getStartPost_(e),this.endPost_=zc.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new Ie(n,r))||(r=fe.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=fe.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(fe.EMPTY_NODE);const s=this;return n.forEachChild(Ct,(o,a)=>{s.matches(new Ie(o,a))||(i=i.updateImmediateChild(o,fe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new zc(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new Ie(n,r))||(r=fe.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=fe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=fe.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(fe.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,fe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const m=this.index_.getCompare();o=(g,E)=>m(E,g)}else o=this.index_.getCompare();const a=e;te(a.numChildren()===this.limit_,"");const l=new Ie(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),d=this.rangedFilter_.matches(l);if(a.hasChild(n)){const m=a.getImmediateChild(n);let g=i.getChildAfterChild(this.index_,c,this.reverse_);for(;g!=null&&(g.name===n||a.hasChild(g.name));)g=i.getChildAfterChild(this.index_,g,this.reverse_);const E=g==null?1:o(g,l);if(d&&!r.isEmpty()&&E>=0)return s!=null&&s.trackChildChange(Bc(n,r,m)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(jc(n,m));const A=a.updateImmediateChild(n,fe.EMPTY_NODE);return g!=null&&this.rangedFilter_.matches(g)?(s!=null&&s.trackChildChange(Rl(g.name,g.node)),A.updateImmediateChild(g.name,g.node)):A}}else return r.isEmpty()?e:d&&o(c,l)>=0?(s!=null&&(s.trackChildChange(jc(c.name,c.node)),s.trackChildChange(Rl(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,fe.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ct}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return te(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return te(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:xl}hasEnd(){return this.endSet_}getIndexEndValue(){return te(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return te(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Jo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return te(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ct}copy(){const e=new Jw;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function n9(t){return t.loadsAllData()?new Xw(t.getIndex()):t.hasLimit()?new t9(t):new zc(t)}function pI(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ct?n="$priority":t.index_===Z6?n="$value":t.index_===hl?n="$key":(te(t.index_ instanceof X6,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Yt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Yt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Yt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Yt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Yt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function mI(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ct&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp extends fA{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=mh("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(te(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=fp.getListenId_(e,r),a={};this.listens_[o]=a;const l=pI(e._queryParams);this.restRequest_(s+".json",l,(c,d)=>{let m=d;if(c===404&&(m=null,c=null),c===null&&this.onDataUpdate_(s,m,!1,r),kl(this.listens_,o)===a){let g;c?c===401?g="permission_denied":g="rest_error:"+c:g="ok",i(g,null)}})}unlisten(e,n){const r=fp.getListenId_(e,n);delete this.listens_[r]}get(e){const n=pI(e._queryParams),r=e._path.toString(),i=new Pw;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Xl(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Mc(a.responseText)}catch{tr("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&tr("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9{constructor(){this.rootNode_=fe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(){return{value:null,children:new Map}}function SA(t,e,n){if(be(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Se(e);t.children.has(r)||t.children.set(r,pp());const i=t.children.get(r);e=et(e),SA(i,e,n)}}function V_(t,e,n){t.value!==null?n(e,t.value):i9(t,(r,i)=>{const s=new Je(e.toString()+"/"+r);V_(i,s,n)})}function i9(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&zn(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=10*1e3,o9=30*1e3,a9=5*60*1e3;class l9{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new s9(e);const r=gI+(o9-gI)*Math.random();sc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;zn(e,(i,s)=>{s>0&&Zi(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),sc(this.reportStats_.bind(this),Math.floor(Math.random()*2*a9))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xr;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(xr||(xr={}));function bA(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Zw(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function e0(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=xr.ACK_USER_WRITE,this.source=bA()}operationForChild(e){if(be(this.path)){if(this.affectedTree.value!=null)return te(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Je(e));return new mp($e(),n,this.revert)}}else return te(Se(this.path)===e,"operationForChild called for unrelated child."),new mp(et(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n){this.source=e,this.path=n,this.type=xr.LISTEN_COMPLETE}operationForChild(e){return be(this.path)?new Wc(this.source,$e()):new Wc(this.source,et(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=xr.OVERWRITE}operationForChild(e){return be(this.path)?new Zo(this.source,$e(),this.snap.getImmediateChild(e)):new Zo(this.source,et(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=xr.MERGE}operationForChild(e){if(be(this.path)){const n=this.children.subtree(new Je(e));return n.isEmpty()?null:n.value?new Zo(this.source,$e(),n.value):new Hc(this.source,$e(),n)}else return te(Se(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Hc(this.source,et(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(be(e))return this.isFullyInitialized()&&!this.filtered_;const n=Se(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function c9(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(e9(o.childName,o.snapshotNode))}),Ou(t,i,"child_removed",e,r,n),Ou(t,i,"child_added",e,r,n),Ou(t,i,"child_moved",s,r,n),Ou(t,i,"child_changed",e,r,n),Ou(t,i,"value",e,r,n),i}function Ou(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>d9(t,a,l)),o.forEach(a=>{const l=h9(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function h9(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function d9(t,e,n){if(e.childName==null||n.childName==null)throw Yl("Should only compare child_ events.");const r=new Ie(e.childName,e.snapshotNode),i=new Ie(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(t,e){return{eventCache:t,serverCache:e}}function oc(t,e,n,r){return ym(new ea(e,n,r),t.serverCache)}function kA(t,e,n,r){return ym(t.eventCache,new ea(e,n,r))}function U_(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ta(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ey;const f9=()=>(ey||(ey=new Zr(JU)),ey);class lt{constructor(e,n=f9()){this.value=e,this.children=n}static fromObject(e){let n=new lt(null);return zn(e,(r,i)=>{n=n.set(new Je(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:$e(),value:this.value};if(be(e))return null;{const r=Se(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(et(e),n);return s!=null?{path:Vt(new Je(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(be(e))return this;{const n=Se(e),r=this.children.get(n);return r!==null?r.subtree(et(e)):new lt(null)}}set(e,n){if(be(e))return new lt(n,this.children);{const r=Se(e),s=(this.children.get(r)||new lt(null)).set(et(e),n),o=this.children.insert(r,s);return new lt(this.value,o)}}remove(e){if(be(e))return this.children.isEmpty()?new lt(null):new lt(null,this.children);{const n=Se(e),r=this.children.get(n);if(r){const i=r.remove(et(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new lt(null):new lt(this.value,s)}else return this}}get(e){if(be(e))return this.value;{const n=Se(e),r=this.children.get(n);return r?r.get(et(e)):null}}setTree(e,n){if(be(e))return n;{const r=Se(e),s=(this.children.get(r)||new lt(null)).setTree(et(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new lt(this.value,o)}}fold(e){return this.fold_($e(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Vt(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,$e(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(be(e))return null;{const s=Se(e),o=this.children.get(s);return o?o.findOnPath_(et(e),Vt(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,$e(),n)}foreachOnPath_(e,n,r){if(be(e))return this;{this.value&&r(n,this.value);const i=Se(e),s=this.children.get(i);return s?s.foreachOnPath_(et(e),Vt(n,i),r):new lt(null)}}foreach(e){this.foreach_($e(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Vt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this.writeTree_=e}static empty(){return new Dr(new lt(null))}}function ac(t,e,n){if(be(e))return new Dr(new lt(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Fn(i,e);return s=s.updateChild(o,n),new Dr(t.writeTree_.set(i,s))}else{const i=new lt(n),s=t.writeTree_.setTree(e,i);return new Dr(s)}}}function yI(t,e,n){let r=t;return zn(n,(i,s)=>{r=ac(r,Vt(e,i),s)}),r}function _I(t,e){if(be(e))return Dr.empty();{const n=t.writeTree_.setTree(e,new lt(null));return new Dr(n)}}function $_(t,e){return ca(t,e)!=null}function ca(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Fn(n.path,e)):null}function vI(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ct,(r,i)=>{e.push(new Ie(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Ie(r,i.value))}),e}function qs(t,e){if(be(e))return t;{const n=ca(t,e);return n!=null?new Dr(new lt(n)):new Dr(t.writeTree_.subtree(e))}}function j_(t){return t.writeTree_.isEmpty()}function Pl(t,e){return AA($e(),t.writeTree_,e)}function AA(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(te(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=AA(Vt(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Vt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(t,e){return NA(e,t)}function p9(t,e,n,r,i){te(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=ac(t.visibleWrites,e,n)),t.lastWriteId=r}function m9(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function g9(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);te(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&y9(a,r.path)?i=!1:Ar(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return _9(t),!0;if(r.snap)t.visibleWrites=_I(t.visibleWrites,r.path);else{const a=r.children;zn(a,l=>{t.visibleWrites=_I(t.visibleWrites,Vt(r.path,l))})}return!0}else return!1}function y9(t,e){if(t.snap)return Ar(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ar(Vt(t.path,n),e))return!0;return!1}function _9(t){t.visibleWrites=xA(t.allWrites,v9,$e()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function v9(t){return t.visible}function xA(t,e,n){let r=Dr.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Ar(n,o)?(a=Fn(n,o),r=ac(r,a,s.snap)):Ar(o,n)&&(a=Fn(o,n),r=ac(r,$e(),s.snap.getChild(a)));else if(s.children){if(Ar(n,o))a=Fn(n,o),r=yI(r,a,s.children);else if(Ar(o,n))if(a=Fn(o,n),be(a))r=yI(r,$e(),s.children);else{const l=kl(s.children,Se(a));if(l){const c=l.getChild(et(a));r=ac(r,$e(),c)}}}else throw Yl("WriteRecord should have .snap or .children")}}return r}function RA(t,e,n,r,i){if(!r&&!i){const s=ca(t.visibleWrites,e);if(s!=null)return s;{const o=qs(t.visibleWrites,e);if(j_(o))return n;if(n==null&&!$_(o,$e()))return null;{const a=n||fe.EMPTY_NODE;return Pl(o,a)}}}else{const s=qs(t.visibleWrites,e);if(!i&&j_(s))return n;if(!i&&n==null&&!$_(s,$e()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Ar(c.path,e)||Ar(e,c.path))},a=xA(t.allWrites,o,e),l=n||fe.EMPTY_NODE;return Pl(a,l)}}}function w9(t,e,n){let r=fe.EMPTY_NODE;const i=ca(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ct,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=qs(t.visibleWrites,e);return n.forEachChild(Ct,(o,a)=>{const l=Pl(qs(s,new Je(o)),a);r=r.updateImmediateChild(o,l)}),vI(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=qs(t.visibleWrites,e);return vI(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function E9(t,e,n,r,i){te(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Vt(e,n);if($_(t.visibleWrites,s))return null;{const o=qs(t.visibleWrites,s);return j_(o)?i.getChild(n):Pl(o,i.getChild(n))}}function T9(t,e,n,r){const i=Vt(e,n),s=ca(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=qs(t.visibleWrites,i);return Pl(o,r.getNode().getImmediateChild(n))}else return null}function I9(t,e){return ca(t.visibleWrites,e)}function C9(t,e,n,r,i,s,o){let a;const l=qs(t.visibleWrites,e),c=ca(l,$e());if(c!=null)a=c;else if(n!=null)a=Pl(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const d=[],m=o.getCompare(),g=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let E=g.getNext();for(;E&&d.length<i;)m(E,r)!==0&&d.push(E),E=g.getNext();return d}else return[]}function S9(){return{visibleWrites:Dr.empty(),allWrites:[],lastWriteId:-1}}function gp(t,e,n,r){return RA(t.writeTree,t.treePath,e,n,r)}function n0(t,e){return w9(t.writeTree,t.treePath,e)}function wI(t,e,n,r){return E9(t.writeTree,t.treePath,e,n,r)}function yp(t,e){return I9(t.writeTree,Vt(t.treePath,e))}function b9(t,e,n,r,i,s){return C9(t.writeTree,t.treePath,e,n,r,i,s)}function r0(t,e,n){return T9(t.writeTree,t.treePath,e,n)}function PA(t,e){return NA(Vt(t.treePath,e),t.writeTree)}function NA(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;te(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),te(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Bc(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,jc(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Rl(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Bc(r,e.snapshotNode,i.oldSnap));else throw Yl("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const OA=new A9;class i0{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new ea(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return r0(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ta(this.viewCache_),s=b9(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x9(t){return{filter:t}}function R9(t,e){te(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),te(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function P9(t,e,n,r,i){const s=new k9;let o,a;if(n.type===xr.OVERWRITE){const c=n;c.source.fromUser?o=B_(t,e,c.path,c.snap,r,i,s):(te(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!be(c.path),o=_p(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===xr.MERGE){const c=n;c.source.fromUser?o=O9(t,e,c.path,c.children,r,i,s):(te(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=z_(t,e,c.path,c.children,r,i,a,s))}else if(n.type===xr.ACK_USER_WRITE){const c=n;c.revert?o=M9(t,e,c.path,r,i,s):o=D9(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===xr.LISTEN_COMPLETE)o=L9(t,e,n.path,r,s);else throw Yl("Unknown operation type: "+n.type);const l=s.getChanges();return N9(e,o,l),{viewCache:o,changes:l}}function N9(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=U_(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(CA(U_(e)))}}function DA(t,e,n,r,i,s){const o=e.eventCache;if(yp(r,n)!=null)return e;{let a,l;if(be(n))if(te(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=ta(e),d=c instanceof fe?c:fe.EMPTY_NODE,m=n0(r,d);a=t.filter.updateFullNode(e.eventCache.getNode(),m,s)}else{const c=gp(r,ta(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=Se(n);if(c===".priority"){te(Xs(n)===1,"Can't have a priority with additional path components");const d=o.getNode();l=e.serverCache.getNode();const m=wI(r,n,d,l);m!=null?a=t.filter.updatePriority(d,m):a=o.getNode()}else{const d=et(n);let m;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const g=wI(r,n,o.getNode(),l);g!=null?m=o.getNode().getImmediateChild(c).updateChild(d,g):m=o.getNode().getImmediateChild(c)}else m=r0(r,c,e.serverCache);m!=null?a=t.filter.updateChild(o.getNode(),c,m,d,i,s):a=o.getNode()}}return oc(e,a,o.isFullyInitialized()||be(n),t.filter.filtersNodes())}}function _p(t,e,n,r,i,s,o,a){const l=e.serverCache;let c;const d=o?t.filter:t.filter.getIndexedFilter();if(be(n))c=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){const E=l.getNode().updateChild(n,r);c=d.updateFullNode(l.getNode(),E,null)}else{const E=Se(n);if(!l.isCompleteForPath(n)&&Xs(n)>1)return e;const S=et(n),D=l.getNode().getImmediateChild(E).updateChild(S,r);E===".priority"?c=d.updatePriority(l.getNode(),D):c=d.updateChild(l.getNode(),E,D,S,OA,null)}const m=kA(e,c,l.isFullyInitialized()||be(n),d.filtersNodes()),g=new i0(i,m,s);return DA(t,m,n,i,g,a)}function B_(t,e,n,r,i,s,o){const a=e.eventCache;let l,c;const d=new i0(i,e,s);if(be(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=oc(e,c,!0,t.filter.filtersNodes());else{const m=Se(n);if(m===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=oc(e,c,a.isFullyInitialized(),a.isFiltered());else{const g=et(n),E=a.getNode().getImmediateChild(m);let S;if(be(g))S=r;else{const A=d.getCompleteChild(m);A!=null?mA(g)===".priority"&&A.getChild(yA(g)).isEmpty()?S=A:S=A.updateChild(g,r):S=fe.EMPTY_NODE}if(E.equals(S))l=e;else{const A=t.filter.updateChild(a.getNode(),m,S,g,d,o);l=oc(e,A,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function EI(t,e){return t.eventCache.isCompleteForChild(e)}function O9(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{const d=Vt(n,l);EI(e,Se(d))&&(a=B_(t,a,d,c,i,s,o))}),r.foreach((l,c)=>{const d=Vt(n,l);EI(e,Se(d))||(a=B_(t,a,d,c,i,s,o))}),a}function TI(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function z_(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;be(n)?c=r:c=new lt(null).setTree(n,r);const d=e.serverCache.getNode();return c.children.inorderTraversal((m,g)=>{if(d.hasChild(m)){const E=e.serverCache.getNode().getImmediateChild(m),S=TI(t,E,g);l=_p(t,l,new Je(m),S,i,s,o,a)}}),c.children.inorderTraversal((m,g)=>{const E=!e.serverCache.isCompleteForChild(m)&&g.value===null;if(!d.hasChild(m)&&!E){const S=e.serverCache.getNode().getImmediateChild(m),A=TI(t,S,g);l=_p(t,l,new Je(m),A,i,s,o,a)}}),l}function D9(t,e,n,r,i,s,o){if(yp(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(be(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return _p(t,e,n,l.getNode().getChild(n),i,s,a,o);if(be(n)){let c=new lt(null);return l.getNode().forEachChild(hl,(d,m)=>{c=c.set(new Je(d),m)}),z_(t,e,n,c,i,s,a,o)}else return e}else{let c=new lt(null);return r.foreach((d,m)=>{const g=Vt(n,d);l.isCompleteForPath(g)&&(c=c.set(d,l.getNode().getChild(g)))}),z_(t,e,n,c,i,s,a,o)}}function L9(t,e,n,r,i){const s=e.serverCache,o=kA(e,s.getNode(),s.isFullyInitialized()||be(n),s.isFiltered());return DA(t,o,n,r,OA,i)}function M9(t,e,n,r,i,s){let o;if(yp(r,n)!=null)return e;{const a=new i0(r,e,i),l=e.eventCache.getNode();let c;if(be(n)||Se(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=gp(r,ta(e));else{const m=e.serverCache.getNode();te(m instanceof fe,"serverChildren would be complete if leaf node"),d=n0(r,m)}d=d,c=t.filter.updateFullNode(l,d,s)}else{const d=Se(n);let m=r0(r,d,e.serverCache);m==null&&e.serverCache.isCompleteForChild(d)&&(m=l.getImmediateChild(d)),m!=null?c=t.filter.updateChild(l,d,m,et(n),a,s):e.eventCache.getNode().hasChild(d)?c=t.filter.updateChild(l,d,fe.EMPTY_NODE,et(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=gp(r,ta(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||yp(r,$e())!=null,oc(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Xw(r.getIndex()),s=n9(r);this.processor_=x9(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(fe.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(fe.EMPTY_NODE,a.getNode(),null),d=new ea(l,o.isFullyInitialized(),i.filtersNodes()),m=new ea(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=ym(m,d),this.eventGenerator_=new u9(this.query_)}get query(){return this.query_}}function V9(t){return t.viewCache_.serverCache.getNode()}function U9(t,e){const n=ta(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!be(e)&&!n.getImmediateChild(Se(e)).isEmpty())?n.getChild(e):null}function II(t){return t.eventRegistrations_.length===0}function $9(t,e){t.eventRegistrations_.push(e)}function CI(t,e,n){const r=[];if(n){te(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function SI(t,e,n,r){e.type===xr.MERGE&&e.source.queryId!==null&&(te(ta(t.viewCache_),"We should always have a full cache before handling merges"),te(U_(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=P9(t.processor_,i,e,n,r);return R9(t.processor_,s.viewCache),te(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,LA(t,s.changes,s.viewCache.eventCache.getNode(),null)}function j9(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ct,(s,o)=>{r.push(Rl(s,o))}),n.isFullyInitialized()&&r.push(CA(n.getNode())),LA(t,r,n.getNode(),e)}function LA(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return c9(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vp;class B9{constructor(){this.views=new Map}}function z9(t){te(!vp,"__referenceConstructor has already been defined"),vp=t}function W9(){return te(vp,"Reference.ts has not been loaded"),vp}function H9(t){return t.views.size===0}function s0(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return te(s!=null,"SyncTree gave us an op for an invalid query."),SI(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(SI(o,e,n,r));return s}}function q9(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=gp(n,i?r:null),l=!1;a?l=!0:r instanceof fe?(a=n0(n,r),l=!1):(a=fe.EMPTY_NODE,l=!1);const c=ym(new ea(a,l,!1),new ea(r,i,!1));return new F9(e,c)}return o}function G9(t,e,n,r,i,s){const o=q9(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),$9(o,n),j9(o,n)}function K9(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=Js(t);if(i==="default")for(const[l,c]of t.views.entries())o=o.concat(CI(c,n,r)),II(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=t.views.get(i);l&&(o=o.concat(CI(l,n,r)),II(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Js(t)&&s.push(new(W9())(e._repo,e._path)),{removed:s,events:o}}function MA(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function dl(t,e){let n=null;for(const r of t.views.values())n=n||U9(r,e);return n}function FA(t,e){if(e._queryParams.loadsAllData())return _m(t);{const r=e._queryIdentifier;return t.views.get(r)}}function VA(t,e){return FA(t,e)!=null}function Js(t){return _m(t)!=null}function _m(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wp;function Q9(t){te(!wp,"__referenceConstructor has already been defined"),wp=t}function Y9(){return te(wp,"Reference.ts has not been loaded"),wp}let X9=1;class bI{constructor(e){this.listenProvider_=e,this.syncPointTree_=new lt(null),this.pendingWriteTree_=S9(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function J9(t,e,n,r,i){return p9(t.pendingWriteTree_,e,n,r,i),i?_h(t,new Zo(bA(),e,n)):[]}function Xa(t,e,n=!1){const r=m9(t.pendingWriteTree_,e);if(g9(t.pendingWriteTree_,e)){let s=new lt(null);return r.snap!=null?s=s.set($e(),!0):zn(r.children,o=>{s=s.set(new Je(o),!0)}),_h(t,new mp(r.path,s,n))}else return[]}function vm(t,e,n){return _h(t,new Zo(Zw(),e,n))}function Z9(t,e,n){const r=lt.fromObject(n);return _h(t,new Hc(Zw(),e,r))}function e$(t,e){return _h(t,new Wc(Zw(),e))}function t$(t,e,n){const r=o0(t,n);if(r){const i=a0(r),s=i.path,o=i.queryId,a=Fn(s,e),l=new Wc(e0(o),a);return l0(t,s,l)}else return[]}function W_(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||VA(o,e))){const l=K9(o,e,n,r);H9(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!i){const d=c.findIndex(g=>g._queryParams.loadsAllData())!==-1,m=t.syncPointTree_.findOnPath(s,(g,E)=>Js(E));if(d&&!m){const g=t.syncPointTree_.subtree(s);if(!g.isEmpty()){const E=i$(g);for(let S=0;S<E.length;++S){const A=E[S],D=A.query,b=BA(t,A);t.listenProvider_.startListening(lc(D),Ep(t,D),b.hashFn,b.onComplete)}}}!m&&c.length>0&&!r&&(d?t.listenProvider_.stopListening(lc(e),null):c.forEach(g=>{const E=t.queryToTagMap.get(wm(g));t.listenProvider_.stopListening(lc(g),E)}))}s$(t,c)}return a}function n$(t,e,n,r){const i=o0(t,r);if(i!=null){const s=a0(i),o=s.path,a=s.queryId,l=Fn(o,e),c=new Zo(e0(a),l,n);return l0(t,o,c)}else return[]}function r$(t,e,n,r){const i=o0(t,r);if(i){const s=a0(i),o=s.path,a=s.queryId,l=Fn(o,e),c=lt.fromObject(n),d=new Hc(e0(a),l,c);return l0(t,o,d)}else return[]}function kI(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(g,E)=>{const S=Fn(g,i);s=s||dl(E,S),o=o||Js(E)});let a=t.syncPointTree_.get(i);a?(o=o||Js(a),s=s||dl(a,$e())):(a=new B9,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=fe.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((E,S)=>{const A=dl(S,$e());A&&(s=s.updateImmediateChild(E,A))}));const c=VA(a,e);if(!c&&!e._queryParams.loadsAllData()){const g=wm(e);te(!t.queryToTagMap.has(g),"View does not exist, but we have a tag");const E=o$();t.queryToTagMap.set(g,E),t.tagToQueryMap.set(E,g)}const d=t0(t.pendingWriteTree_,i);let m=G9(a,e,n,d,s,l);if(!c&&!o&&!r){const g=FA(a,e);m=m.concat(a$(t,e,g))}return m}function UA(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Fn(o,e),c=dl(a,l);if(c)return c});return RA(i,e,s,n,!0)}function _h(t,e){return $A(e,t.syncPointTree_,null,t0(t.pendingWriteTree_,$e()))}function $A(t,e,n,r){if(be(t.path))return jA(t,e,n,r);{const i=e.get($e());n==null&&i!=null&&(n=dl(i,$e()));let s=[];const o=Se(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,d=PA(r,o);s=s.concat($A(a,l,c,d))}return i&&(s=s.concat(s0(i,t,r,n))),s}}function jA(t,e,n,r){const i=e.get($e());n==null&&i!=null&&(n=dl(i,$e()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=PA(r,o),d=t.operationForChild(o);d&&(s=s.concat(jA(d,a,l,c)))}),i&&(s=s.concat(s0(i,t,r,n))),s}function BA(t,e){const n=e.query,r=Ep(t,n);return{hashFn:()=>(V9(e)||fe.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?t$(t,n._path,r):e$(t,n._path);{const s=t6(i,n);return W_(t,n,null,s)}}}}function Ep(t,e){const n=wm(e);return t.queryToTagMap.get(n)}function wm(t){return t._path.toString()+"$"+t._queryIdentifier}function o0(t,e){return t.tagToQueryMap.get(e)}function a0(t){const e=t.indexOf("$");return te(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Je(t.substr(0,e))}}function l0(t,e,n){const r=t.syncPointTree_.get(e);te(r,"Missing sync point for query tag that we're tracking");const i=t0(t.pendingWriteTree_,e);return s0(r,n,i,null)}function i$(t){return t.fold((e,n,r)=>{if(n&&Js(n))return[_m(n)];{let i=[];return n&&(i=MA(n)),zn(r,(s,o)=>{i=i.concat(o)}),i}})}function lc(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Y9())(t._repo,t._path):t}function s$(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=wm(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function o$(){return X9++}function a$(t,e,n){const r=e._path,i=Ep(t,e),s=BA(t,n),o=t.listenProvider_.startListening(lc(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)te(!Js(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,d,m)=>{if(!be(c)&&d&&Js(d))return[_m(d).query];{let g=[];return d&&(g=g.concat(MA(d).map(E=>E.query))),zn(m,(E,S)=>{g=g.concat(S)}),g}});for(let c=0;c<l.length;++c){const d=l[c];t.listenProvider_.stopListening(lc(d),Ep(t,d))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new u0(n)}node(){return this.node_}}class c0{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Vt(this.path_,e);return new c0(this.syncTree_,n)}node(){return UA(this.syncTree_,this.path_)}}const l$=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},AI=function(t,e,n){if(!t||typeof t!="object")return t;if(te(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return u$(t[".sv"],e,n);if(typeof t[".sv"]=="object")return c$(t[".sv"],e);te(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},u$=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:te(!1,"Unexpected server value: "+t)}},c$=function(t,e,n){t.hasOwnProperty("increment")||te(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&te(!1,"Unexpected increment value: "+r);const i=e.node();if(te(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},h$=function(t,e,n,r){return h0(e,new c0(n,t),r)},d$=function(t,e,n){return h0(t,new u0(e),n)};function h0(t,e,n){const r=t.getPriority().val(),i=AI(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=AI(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new qt(a,yn(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new qt(i))),o.forEachChild(Ct,(a,l)=>{const c=h0(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function f0(t,e){let n=e instanceof Je?e:new Je(e),r=t,i=Se(n);for(;i!==null;){const s=kl(r.node.children,i)||{children:{},childCount:0};r=new d0(i,r,s),n=et(n),i=Se(n)}return r}function eu(t){return t.node.value}function zA(t,e){t.node.value=e,H_(t)}function WA(t){return t.node.childCount>0}function f$(t){return eu(t)===void 0&&!WA(t)}function Em(t,e){zn(t.node.children,(n,r)=>{e(new d0(n,t,r))})}function HA(t,e,n,r){n&&!r&&e(t),Em(t,i=>{HA(i,e,!0,r)}),n&&r&&e(t)}function p$(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function vh(t){return new Je(t.parent===null?t.name:vh(t.parent)+"/"+t.name)}function H_(t){t.parent!==null&&m$(t.parent,t.name,t)}function m$(t,e,n){const r=f$(n),i=Zi(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,H_(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,H_(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g$=/[\[\].#$\/\u0000-\u001F\u007F]/,y$=/[\[\].#$\u0000-\u001F\u007F]/,ty=10*1024*1024,qA=function(t){return typeof t=="string"&&t.length!==0&&!g$.test(t)},GA=function(t){return typeof t=="string"&&t.length!==0&&!y$.test(t)},_$=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),GA(t)},KA=function(t,e,n){const r=n instanceof Je?new D6(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+xo(r));if(typeof e=="function")throw new Error(t+"contains a function "+xo(r)+" with contents = "+e.toString());if(K2(e))throw new Error(t+"contains "+e.toString()+" "+xo(r));if(typeof e=="string"&&e.length>ty/3&&um(e)>ty)throw new Error(t+"contains a string greater than "+ty+" utf8 bytes "+xo(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(zn(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!qA(o)))throw new Error(t+" contains an invalid key ("+o+") "+xo(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);L6(r,o),KA(t,a,r),M6(r)}),i&&s)throw new Error(t+' contains ".value" child '+xo(r)+" in addition to actual children.")}},QA=function(t,e,n,r){if(!(r&&n===void 0)&&!GA(n))throw new Error(o2(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},v$=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),QA(t,e,n,r)},w$=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!qA(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!_$(n))throw new Error(o2(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E${constructor(){this.eventLists_=[],this.recursionDepth_=0}}function YA(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!Kw(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function XA(t,e,n){YA(t,n),JA(t,r=>Kw(r,e))}function ha(t,e,n){YA(t,n),JA(t,r=>Ar(r,e)||Ar(e,r))}function JA(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(T$(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function T$(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Bo&&gn("event: "+n.toString()),gh(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I$="repo_interrupt",C$=25;class S${constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new E$,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=pp(),this.transactionQueueTree_=new d0,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function b$(t,e,n){if(t.stats_=qw(t.repoInfo_),t.forceRestClient_||s6())t.server_=new fp(t.repoInfo_,(r,i,s,o)=>{xI(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>RI(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Yt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new $i(t.repoInfo_,e,(r,i,s,o)=>{xI(t,r,i,s,o)},r=>{RI(t,r)},r=>{A$(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=c6(t.repoInfo_,()=>new l9(t.stats_,t.server_)),t.infoData_=new r9,t.infoSyncTree_=new bI({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=vm(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),p0(t,"connected",!1),t.serverSyncTree_=new bI({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);ha(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function k$(t){const n=t.infoData_.getNode(new Je(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function ZA(t){return l$({timestamp:k$(t)})}function xI(t,e,n,r,i){t.dataUpdateCount++;const s=new Je(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=rp(n,c=>yn(c));o=r$(t.serverSyncTree_,s,l,i)}else{const l=yn(n);o=n$(t.serverSyncTree_,s,l,i)}else if(r){const l=rp(n,c=>yn(c));o=Z9(t.serverSyncTree_,s,l)}else{const l=yn(n);o=vm(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=g0(t,s)),ha(t.eventQueue_,a,o)}function RI(t,e){p0(t,"connected",e),e===!1&&R$(t)}function A$(t,e){zn(e,(n,r)=>{p0(t,n,r)})}function p0(t,e,n){const r=new Je("/.info/"+e),i=yn(n);t.infoData_.updateSnapshot(r,i);const s=vm(t.infoSyncTree_,r,i);ha(t.eventQueue_,r,s)}function x$(t){return t.nextWriteId_++}function R$(t){ex(t,"onDisconnectEvents");const e=ZA(t),n=pp();V_(t.onDisconnect_,$e(),(i,s)=>{const o=h$(i,s,t.serverSyncTree_,e);SA(n,i,o)});let r=[];V_(n,$e(),(i,s)=>{r=r.concat(vm(t.serverSyncTree_,i,s));const o=L$(t,i);g0(t,o)}),t.onDisconnect_=pp(),ha(t.eventQueue_,$e(),r)}function P$(t,e,n){let r;Se(e._path)===".info"?r=kI(t.infoSyncTree_,e,n):r=kI(t.serverSyncTree_,e,n),XA(t.eventQueue_,e._path,r)}function PI(t,e,n){let r;Se(e._path)===".info"?r=W_(t.infoSyncTree_,e,n):r=W_(t.serverSyncTree_,e,n),XA(t.eventQueue_,e._path,r)}function N$(t){t.persistentConnection_&&t.persistentConnection_.interrupt(I$)}function ex(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),gn(n,...e)}function tx(t,e,n){return UA(t.serverSyncTree_,e,n)||fe.EMPTY_NODE}function m0(t,e=t.transactionQueueTree_){if(e||Tm(t,e),eu(e)){const n=rx(t,e);te(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&O$(t,vh(e),n)}else WA(e)&&Em(e,n=>{m0(t,n)})}function O$(t,e,n){const r=n.map(c=>c.currentWriteId),i=tx(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const d=n[c];te(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const m=Fn(e,d.path);s=s.updateChild(m,d.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{ex(t,"transaction put response",{path:l.toString(),status:c});let d=[];if(c==="ok"){const m=[];for(let g=0;g<n.length;g++)n[g].status=2,d=d.concat(Xa(t.serverSyncTree_,n[g].currentWriteId)),n[g].onComplete&&m.push(()=>n[g].onComplete(null,!0,n[g].currentOutputSnapshotResolved)),n[g].unwatcher();Tm(t,f0(t.transactionQueueTree_,e)),m0(t,t.transactionQueueTree_),ha(t.eventQueue_,e,d);for(let g=0;g<m.length;g++)gh(m[g])}else{if(c==="datastale")for(let m=0;m<n.length;m++)n[m].status===3?n[m].status=4:n[m].status=0;else{tr("transaction at "+l.toString()+" failed: "+c);for(let m=0;m<n.length;m++)n[m].status=4,n[m].abortReason=c}g0(t,e)}},o)}function g0(t,e){const n=nx(t,e),r=vh(n),i=rx(t,n);return D$(t,i,r),r}function D$(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Fn(n,l.path);let d=!1,m;if(te(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,m=l.abortReason,i=i.concat(Xa(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=C$)d=!0,m="maxretry",i=i.concat(Xa(t.serverSyncTree_,l.currentWriteId,!0));else{const g=tx(t,l.path,o);l.currentInputSnapshot=g;const E=e[a].update(g.val());if(E!==void 0){KA("transaction failed: Data returned ",E,l.path);let S=yn(E);typeof E=="object"&&E!=null&&Zi(E,".priority")||(S=S.updatePriority(g.getPriority()));const D=l.currentWriteId,b=ZA(t),w=d$(S,g,b);l.currentOutputSnapshotRaw=S,l.currentOutputSnapshotResolved=w,l.currentWriteId=x$(t),o.splice(o.indexOf(D),1),i=i.concat(J9(t.serverSyncTree_,l.path,w,l.currentWriteId,l.applyLocally)),i=i.concat(Xa(t.serverSyncTree_,D,!0))}else d=!0,m="nodata",i=i.concat(Xa(t.serverSyncTree_,l.currentWriteId,!0))}ha(t.eventQueue_,n,i),i=[],d&&(e[a].status=2,function(g){setTimeout(g,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(m==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(m),!1,null))))}Tm(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)gh(r[a]);m0(t,t.transactionQueueTree_)}function nx(t,e){let n,r=t.transactionQueueTree_;for(n=Se(e);n!==null&&eu(r)===void 0;)r=f0(r,n),e=et(e),n=Se(e);return r}function rx(t,e){const n=[];return ix(t,e,n),n.sort((r,i)=>r.order-i.order),n}function ix(t,e,n){const r=eu(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Em(e,i=>{ix(t,i,n)})}function Tm(t,e){const n=eu(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,zA(e,n.length>0?n:void 0)}Em(e,r=>{Tm(t,r)})}function L$(t,e){const n=vh(nx(t,e)),r=f0(t.transactionQueueTree_,e);return p$(r,i=>{ny(t,i)}),ny(t,r),HA(r,i=>{ny(t,i)}),n}function ny(t,e){const n=eu(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(te(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(te(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Xa(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?zA(e,void 0):n.length=s+1,ha(t.eventQueue_,vh(e),i);for(let o=0;o<r.length;o++)gh(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M$(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function F$(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):tr(`Invalid query segment '${n}' in query '${t}'`)}return e}const NI=function(t,e){const n=V$(t),r=n.namespace;n.domain==="firebase.com"&&Gi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Gi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||YU();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new oA(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Je(n.pathString)}},V$=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let d=t.indexOf("/");d===-1&&(d=t.length);let m=t.indexOf("?");m===-1&&(m=t.length),e=t.substring(0,Math.min(d,m)),d<m&&(i=M$(t.substring(d,m)));const g=F$(t.substring(Math.min(t.length,m)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const E=e.slice(0,c);if(E.toLowerCase()==="localhost")n="localhost";else if(E.split(".").length<=2)n=E;else{const S=e.indexOf(".");r=e.substring(0,S).toLowerCase(),n=e.substring(S+1),s=r}"ns"in g&&(s=g.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Yt(this.snapshot.exportVal())}}class ox{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U${constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return te(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return be(this._path)?null:mA(this._path)}get ref(){return new ts(this._repo,this._path)}get _queryIdentifier(){const e=mI(this._queryParams),n=Ww(e);return n==="{}"?"default":n}get _queryObject(){return mI(this._queryParams)}isEqual(e){if(e=vt(e),!(e instanceof y0))return!1;const n=this._repo===e._repo,r=Kw(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+O6(this._path)}}class ts extends y0{constructor(e,n){super(e,n,new Jw,!1)}get parent(){const e=yA(this._path);return e===null?null:new ts(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class qc{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Je(e),r=Tp(this.ref,e);return new qc(this._node.getChild(n),r,Ct)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new qc(i,Tp(this.ref,r),Ct)))}hasChild(e){const n=new Je(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function d7(t,e){return t=vt(t),t._checkNotDeleted("ref"),e!==void 0?Tp(t._root,e):t._root}function Tp(t,e){return t=vt(t),Se(t._path)===null?v$("child","path",e,!1):QA("child","path",e,!1),new ts(t._repo,Vt(t._path,e))}class _0{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new sx("value",this,new qc(e.snapshotNode,new ts(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new ox(this,e,n):null}matches(e){return e instanceof _0?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class v0{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new ox(this,e,n):null}createEvent(e,n){te(e.childName!=null,"Child events should have a childName.");const r=Tp(new ts(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new sx(e.type,this,new qc(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof v0?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function $$(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,c=(d,m)=>{PI(t._repo,t,a),l(d,m)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new U$(n,s||void 0),a=e==="value"?new _0(o):new v0(e,o);return P$(t._repo,t,a),()=>PI(t._repo,t,a)}function f7(t,e,n,r){return $$(t,"value",e,n,r)}z9(ts);Q9(ts);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j$="FIREBASE_DATABASE_EMULATOR_HOST",q_={};let B$=!1;function z$(t,e,n,r){t.repoInfo_=new oA(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function W$(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Gi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),gn("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=NI(s,i),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[j$]),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=NI(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const d=i&&l?new cl(cl.OWNER):new a6(t.name,t.options,e);w$("Invalid Firebase Database URL",o),be(o.path)||Gi("Database URL must point to the root of a Firebase Database (not including a child path).");const m=q$(a,t,d,new o6(t.name,n));return new G$(m,t)}function H$(t,e){const n=q_[e];(!n||n[t.key]!==t)&&Gi(`Database ${e}(${t.repoInfo_}) has already been deleted.`),N$(t),delete n[t.key]}function q$(t,e,n,r){let i=q_[e.name];i||(i={},q_[e.name]=i);let s=i[t.toURLString()];return s&&Gi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new S$(t,B$,n,r),i[t.toURLString()]=s,s}class G${constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(b$(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ts(this._repo,$e())),this._rootInternal}_delete(){return this._rootInternal!==null&&(H$(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Gi("Cannot call "+e+" on a deleted database.")}}function K$(t=hm(),e){const n=uh(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=Rw("database");r&&Q$(n,...r)}return n}function Q$(t,e,n,r={}){t=vt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Gi("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Gi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new cl(cl.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:Nw(r.mockUserToken,t.app.options.projectId);s=new cl(o)}z$(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y$(t){HU(so),Ys(new Hi("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return W$(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),dr(JT,ZT,t),dr(JT,ZT,"esm2017")}$i.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};$i.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Y$();var OI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zo,ax;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,I){function R(){}R.prototype=I.prototype,C.D=I.prototype,C.prototype=new R,C.prototype.constructor=C,C.C=function(P,L,M){for(var x=Array(arguments.length-2),we=2;we<arguments.length;we++)x[we-2]=arguments[we];return I.prototype[L].apply(P,x)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,I,R){R||(R=0);var P=Array(16);if(typeof I=="string")for(var L=0;16>L;++L)P[L]=I.charCodeAt(R++)|I.charCodeAt(R++)<<8|I.charCodeAt(R++)<<16|I.charCodeAt(R++)<<24;else for(L=0;16>L;++L)P[L]=I[R++]|I[R++]<<8|I[R++]<<16|I[R++]<<24;I=C.g[0],R=C.g[1],L=C.g[2];var M=C.g[3],x=I+(M^R&(L^M))+P[0]+3614090360&4294967295;I=R+(x<<7&4294967295|x>>>25),x=M+(L^I&(R^L))+P[1]+3905402710&4294967295,M=I+(x<<12&4294967295|x>>>20),x=L+(R^M&(I^R))+P[2]+606105819&4294967295,L=M+(x<<17&4294967295|x>>>15),x=R+(I^L&(M^I))+P[3]+3250441966&4294967295,R=L+(x<<22&4294967295|x>>>10),x=I+(M^R&(L^M))+P[4]+4118548399&4294967295,I=R+(x<<7&4294967295|x>>>25),x=M+(L^I&(R^L))+P[5]+1200080426&4294967295,M=I+(x<<12&4294967295|x>>>20),x=L+(R^M&(I^R))+P[6]+2821735955&4294967295,L=M+(x<<17&4294967295|x>>>15),x=R+(I^L&(M^I))+P[7]+4249261313&4294967295,R=L+(x<<22&4294967295|x>>>10),x=I+(M^R&(L^M))+P[8]+1770035416&4294967295,I=R+(x<<7&4294967295|x>>>25),x=M+(L^I&(R^L))+P[9]+2336552879&4294967295,M=I+(x<<12&4294967295|x>>>20),x=L+(R^M&(I^R))+P[10]+4294925233&4294967295,L=M+(x<<17&4294967295|x>>>15),x=R+(I^L&(M^I))+P[11]+2304563134&4294967295,R=L+(x<<22&4294967295|x>>>10),x=I+(M^R&(L^M))+P[12]+1804603682&4294967295,I=R+(x<<7&4294967295|x>>>25),x=M+(L^I&(R^L))+P[13]+4254626195&4294967295,M=I+(x<<12&4294967295|x>>>20),x=L+(R^M&(I^R))+P[14]+2792965006&4294967295,L=M+(x<<17&4294967295|x>>>15),x=R+(I^L&(M^I))+P[15]+1236535329&4294967295,R=L+(x<<22&4294967295|x>>>10),x=I+(L^M&(R^L))+P[1]+4129170786&4294967295,I=R+(x<<5&4294967295|x>>>27),x=M+(R^L&(I^R))+P[6]+3225465664&4294967295,M=I+(x<<9&4294967295|x>>>23),x=L+(I^R&(M^I))+P[11]+643717713&4294967295,L=M+(x<<14&4294967295|x>>>18),x=R+(M^I&(L^M))+P[0]+3921069994&4294967295,R=L+(x<<20&4294967295|x>>>12),x=I+(L^M&(R^L))+P[5]+3593408605&4294967295,I=R+(x<<5&4294967295|x>>>27),x=M+(R^L&(I^R))+P[10]+38016083&4294967295,M=I+(x<<9&4294967295|x>>>23),x=L+(I^R&(M^I))+P[15]+3634488961&4294967295,L=M+(x<<14&4294967295|x>>>18),x=R+(M^I&(L^M))+P[4]+3889429448&4294967295,R=L+(x<<20&4294967295|x>>>12),x=I+(L^M&(R^L))+P[9]+568446438&4294967295,I=R+(x<<5&4294967295|x>>>27),x=M+(R^L&(I^R))+P[14]+3275163606&4294967295,M=I+(x<<9&4294967295|x>>>23),x=L+(I^R&(M^I))+P[3]+4107603335&4294967295,L=M+(x<<14&4294967295|x>>>18),x=R+(M^I&(L^M))+P[8]+1163531501&4294967295,R=L+(x<<20&4294967295|x>>>12),x=I+(L^M&(R^L))+P[13]+2850285829&4294967295,I=R+(x<<5&4294967295|x>>>27),x=M+(R^L&(I^R))+P[2]+4243563512&4294967295,M=I+(x<<9&4294967295|x>>>23),x=L+(I^R&(M^I))+P[7]+1735328473&4294967295,L=M+(x<<14&4294967295|x>>>18),x=R+(M^I&(L^M))+P[12]+2368359562&4294967295,R=L+(x<<20&4294967295|x>>>12),x=I+(R^L^M)+P[5]+4294588738&4294967295,I=R+(x<<4&4294967295|x>>>28),x=M+(I^R^L)+P[8]+2272392833&4294967295,M=I+(x<<11&4294967295|x>>>21),x=L+(M^I^R)+P[11]+1839030562&4294967295,L=M+(x<<16&4294967295|x>>>16),x=R+(L^M^I)+P[14]+4259657740&4294967295,R=L+(x<<23&4294967295|x>>>9),x=I+(R^L^M)+P[1]+2763975236&4294967295,I=R+(x<<4&4294967295|x>>>28),x=M+(I^R^L)+P[4]+1272893353&4294967295,M=I+(x<<11&4294967295|x>>>21),x=L+(M^I^R)+P[7]+4139469664&4294967295,L=M+(x<<16&4294967295|x>>>16),x=R+(L^M^I)+P[10]+3200236656&4294967295,R=L+(x<<23&4294967295|x>>>9),x=I+(R^L^M)+P[13]+681279174&4294967295,I=R+(x<<4&4294967295|x>>>28),x=M+(I^R^L)+P[0]+3936430074&4294967295,M=I+(x<<11&4294967295|x>>>21),x=L+(M^I^R)+P[3]+3572445317&4294967295,L=M+(x<<16&4294967295|x>>>16),x=R+(L^M^I)+P[6]+76029189&4294967295,R=L+(x<<23&4294967295|x>>>9),x=I+(R^L^M)+P[9]+3654602809&4294967295,I=R+(x<<4&4294967295|x>>>28),x=M+(I^R^L)+P[12]+3873151461&4294967295,M=I+(x<<11&4294967295|x>>>21),x=L+(M^I^R)+P[15]+530742520&4294967295,L=M+(x<<16&4294967295|x>>>16),x=R+(L^M^I)+P[2]+3299628645&4294967295,R=L+(x<<23&4294967295|x>>>9),x=I+(L^(R|~M))+P[0]+4096336452&4294967295,I=R+(x<<6&4294967295|x>>>26),x=M+(R^(I|~L))+P[7]+1126891415&4294967295,M=I+(x<<10&4294967295|x>>>22),x=L+(I^(M|~R))+P[14]+2878612391&4294967295,L=M+(x<<15&4294967295|x>>>17),x=R+(M^(L|~I))+P[5]+4237533241&4294967295,R=L+(x<<21&4294967295|x>>>11),x=I+(L^(R|~M))+P[12]+1700485571&4294967295,I=R+(x<<6&4294967295|x>>>26),x=M+(R^(I|~L))+P[3]+2399980690&4294967295,M=I+(x<<10&4294967295|x>>>22),x=L+(I^(M|~R))+P[10]+4293915773&4294967295,L=M+(x<<15&4294967295|x>>>17),x=R+(M^(L|~I))+P[1]+2240044497&4294967295,R=L+(x<<21&4294967295|x>>>11),x=I+(L^(R|~M))+P[8]+1873313359&4294967295,I=R+(x<<6&4294967295|x>>>26),x=M+(R^(I|~L))+P[15]+4264355552&4294967295,M=I+(x<<10&4294967295|x>>>22),x=L+(I^(M|~R))+P[6]+2734768916&4294967295,L=M+(x<<15&4294967295|x>>>17),x=R+(M^(L|~I))+P[13]+1309151649&4294967295,R=L+(x<<21&4294967295|x>>>11),x=I+(L^(R|~M))+P[4]+4149444226&4294967295,I=R+(x<<6&4294967295|x>>>26),x=M+(R^(I|~L))+P[11]+3174756917&4294967295,M=I+(x<<10&4294967295|x>>>22),x=L+(I^(M|~R))+P[2]+718787259&4294967295,L=M+(x<<15&4294967295|x>>>17),x=R+(M^(L|~I))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+I&4294967295,C.g[1]=C.g[1]+(L+(x<<21&4294967295|x>>>11))&4294967295,C.g[2]=C.g[2]+L&4294967295,C.g[3]=C.g[3]+M&4294967295}r.prototype.u=function(C,I){I===void 0&&(I=C.length);for(var R=I-this.blockSize,P=this.B,L=this.h,M=0;M<I;){if(L==0)for(;M<=R;)i(this,C,M),M+=this.blockSize;if(typeof C=="string"){for(;M<I;)if(P[L++]=C.charCodeAt(M++),L==this.blockSize){i(this,P),L=0;break}}else for(;M<I;)if(P[L++]=C[M++],L==this.blockSize){i(this,P),L=0;break}}this.h=L,this.o+=I},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var I=1;I<C.length-8;++I)C[I]=0;var R=8*this.o;for(I=C.length-8;I<C.length;++I)C[I]=R&255,R/=256;for(this.u(C),C=Array(16),I=R=0;4>I;++I)for(var P=0;32>P;P+=8)C[R++]=this.g[I]>>>P&255;return C};function s(C,I){var R=a;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=I(C)}function o(C,I){this.h=I;for(var R=[],P=!0,L=C.length-1;0<=L;L--){var M=C[L]|0;P&&M==I||(R[L]=M,P=!1)}this.g=R}var a={};function l(C){return-128<=C&&128>C?s(C,function(I){return new o([I|0],0>I?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return m;if(0>C)return D(c(-C));for(var I=[],R=1,P=0;C>=R;P++)I[P]=C/R|0,R*=4294967296;return new o(I,0)}function d(C,I){if(C.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(C.charAt(0)=="-")return D(d(C.substring(1),I));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=c(Math.pow(I,8)),P=m,L=0;L<C.length;L+=8){var M=Math.min(8,C.length-L),x=parseInt(C.substring(L,L+M),I);8>M?(M=c(Math.pow(I,M)),P=P.j(M).add(c(x))):(P=P.j(R),P=P.add(c(x)))}return P}var m=l(0),g=l(1),E=l(16777216);t=o.prototype,t.m=function(){if(A(this))return-D(this).m();for(var C=0,I=1,R=0;R<this.g.length;R++){var P=this.i(R);C+=(0<=P?P:4294967296+P)*I,I*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(S(this))return"0";if(A(this))return"-"+D(this).toString(C);for(var I=c(Math.pow(C,6)),R=this,P="";;){var L=F(R,I).g;R=b(R,L.j(I));var M=((0<R.g.length?R.g[0]:R.h)>>>0).toString(C);if(R=L,S(R))return M+P;for(;6>M.length;)M="0"+M;P=M+P}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function S(C){if(C.h!=0)return!1;for(var I=0;I<C.g.length;I++)if(C.g[I]!=0)return!1;return!0}function A(C){return C.h==-1}t.l=function(C){return C=b(this,C),A(C)?-1:S(C)?0:1};function D(C){for(var I=C.g.length,R=[],P=0;P<I;P++)R[P]=~C.g[P];return new o(R,~C.h).add(g)}t.abs=function(){return A(this)?D(this):this},t.add=function(C){for(var I=Math.max(this.g.length,C.g.length),R=[],P=0,L=0;L<=I;L++){var M=P+(this.i(L)&65535)+(C.i(L)&65535),x=(M>>>16)+(this.i(L)>>>16)+(C.i(L)>>>16);P=x>>>16,M&=65535,x&=65535,R[L]=x<<16|M}return new o(R,R[R.length-1]&-2147483648?-1:0)};function b(C,I){return C.add(D(I))}t.j=function(C){if(S(this)||S(C))return m;if(A(this))return A(C)?D(this).j(D(C)):D(D(this).j(C));if(A(C))return D(this.j(D(C)));if(0>this.l(E)&&0>C.l(E))return c(this.m()*C.m());for(var I=this.g.length+C.g.length,R=[],P=0;P<2*I;P++)R[P]=0;for(P=0;P<this.g.length;P++)for(var L=0;L<C.g.length;L++){var M=this.i(P)>>>16,x=this.i(P)&65535,we=C.i(L)>>>16,qe=C.i(L)&65535;R[2*P+2*L]+=x*qe,w(R,2*P+2*L),R[2*P+2*L+1]+=M*qe,w(R,2*P+2*L+1),R[2*P+2*L+1]+=x*we,w(R,2*P+2*L+1),R[2*P+2*L+2]+=M*we,w(R,2*P+2*L+2)}for(P=0;P<I;P++)R[P]=R[2*P+1]<<16|R[2*P];for(P=I;P<2*I;P++)R[P]=0;return new o(R,0)};function w(C,I){for(;(C[I]&65535)!=C[I];)C[I+1]+=C[I]>>>16,C[I]&=65535,I++}function k(C,I){this.g=C,this.h=I}function F(C,I){if(S(I))throw Error("division by zero");if(S(C))return new k(m,m);if(A(C))return I=F(D(C),I),new k(D(I.g),D(I.h));if(A(I))return I=F(C,D(I)),new k(D(I.g),I.h);if(30<C.g.length){if(A(C)||A(I))throw Error("slowDivide_ only works with positive integers.");for(var R=g,P=I;0>=P.l(C);)R=j(R),P=j(P);var L=W(R,1),M=W(P,1);for(P=W(P,2),R=W(R,2);!S(P);){var x=M.add(P);0>=x.l(C)&&(L=L.add(R),M=x),P=W(P,1),R=W(R,1)}return I=b(C,L.j(I)),new k(L,I)}for(L=m;0<=C.l(I);){for(R=Math.max(1,Math.floor(C.m()/I.m())),P=Math.ceil(Math.log(R)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),M=c(R),x=M.j(I);A(x)||0<x.l(C);)R-=P,M=c(R),x=M.j(I);S(M)&&(M=g),L=L.add(M),C=b(C,x)}return new k(L,C)}t.A=function(C){return F(this,C).h},t.and=function(C){for(var I=Math.max(this.g.length,C.g.length),R=[],P=0;P<I;P++)R[P]=this.i(P)&C.i(P);return new o(R,this.h&C.h)},t.or=function(C){for(var I=Math.max(this.g.length,C.g.length),R=[],P=0;P<I;P++)R[P]=this.i(P)|C.i(P);return new o(R,this.h|C.h)},t.xor=function(C){for(var I=Math.max(this.g.length,C.g.length),R=[],P=0;P<I;P++)R[P]=this.i(P)^C.i(P);return new o(R,this.h^C.h)};function j(C){for(var I=C.g.length+1,R=[],P=0;P<I;P++)R[P]=C.i(P)<<1|C.i(P-1)>>>31;return new o(R,C.h)}function W(C,I){var R=I>>5;I%=32;for(var P=C.g.length-R,L=[],M=0;M<P;M++)L[M]=0<I?C.i(M+R)>>>I|C.i(M+R+1)<<32-I:C.i(M+R);return new o(L,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ax=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,zo=o}).apply(typeof OI<"u"?OI:typeof self<"u"?self:typeof window<"u"?window:{});var Nd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lx,ux,zu,cx,hf,G_,hx,dx,fx;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,y){return u==Array.prototype||u==Object.prototype||(u[p]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nd=="object"&&Nd];for(var p=0;p<u.length;++p){var y=u[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function i(u,p){if(p)e:{var y=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var V=u[T];if(!(V in y))break e;y=y[V]}u=u[u.length-1],T=y[u],p=p(T),p!=T&&p!=null&&e(y,u,{configurable:!0,writable:!0,value:p})}}function s(u,p){u instanceof String&&(u+="");var y=0,T=!1,V={next:function(){if(!T&&y<u.length){var B=y++;return{value:p(B,u[B]),done:!1}}return T=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(u){return u||function(){return s(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function c(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function d(u,p,y){return u.call.apply(u.bind,arguments)}function m(u,p,y){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,T),u.apply(p,V)}}return function(){return u.apply(p,arguments)}}function g(u,p,y){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:m,g.apply(null,arguments)}function E(u,p){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,p){function y(){}y.prototype=p.prototype,u.aa=p.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(T,V,B){for(var ee=Array(arguments.length-2),We=2;We<arguments.length;We++)ee[We-2]=arguments[We];return p.prototype[V].apply(T,ee)}}function A(u){const p=u.length;if(0<p){const y=Array(p);for(let T=0;T<p;T++)y[T]=u[T];return y}return[]}function D(u,p){for(let y=1;y<arguments.length;y++){const T=arguments[y];if(l(T)){const V=u.length||0,B=T.length||0;u.length=V+B;for(let ee=0;ee<B;ee++)u[V+ee]=T[ee]}else u.push(T)}}class b{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function w(u){return/^[\s\xa0]*$/.test(u)}function k(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function F(u){return F[" "](u),u}F[" "]=function(){};var j=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function W(u,p,y){for(const T in u)p.call(y,u[T],T,u)}function C(u,p){for(const y in u)p.call(void 0,u[y],y,u)}function I(u){const p={};for(const y in u)p[y]=u[y];return p}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,p){let y,T;for(let V=1;V<arguments.length;V++){T=arguments[V];for(y in T)u[y]=T[y];for(let B=0;B<R.length;B++)y=R[B],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function L(u){var p=1;u=u.split(":");const y=[];for(;0<p&&u.length;)y.push(u.shift()),p--;return u.length&&y.push(u.join(":")),y}function M(u){a.setTimeout(()=>{throw u},0)}function x(){var u=K;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class we{constructor(){this.h=this.g=null}add(p,y){const T=qe.get();T.set(p,y),this.h?this.h.next=T:this.g=T,this.h=T}}var qe=new b(()=>new Ee,u=>u.reset());class Ee{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Pe,re=!1,K=new we,ue=()=>{const u=a.Promise.resolve(void 0);Pe=()=>{u.then(Me)}};var Me=()=>{for(var u;u=x();){try{u.h.call(u.g)}catch(y){M(y)}var p=qe;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}re=!1};function Ce(){this.s=this.s,this.C=this.C}Ce.prototype.s=!1,Ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function je(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}je.prototype.h=function(){this.defaultPrevented=!0};var U=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};a.addEventListener("test",y,p),a.removeEventListener("test",y,p)}catch{}return u}();function zt(u,p){if(je.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(j){e:{try{F(p.nodeName);var V=!0;break e}catch{}V=!1}V||(p=null)}}else y=="mouseover"?p=u.fromElement:y=="mouseout"&&(p=u.toElement);this.relatedTarget=p,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ct[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&zt.aa.h.call(this)}}S(zt,je);var ct={2:"touch",3:"pen",4:"mouse"};zt.prototype.h=function(){zt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ht="closure_listenable_"+(1e6*Math.random()|0),Wn=0;function dt(u,p,y,T,V){this.listener=u,this.proxy=null,this.src=p,this.type=y,this.capture=!!T,this.ha=V,this.key=++Wn,this.da=this.fa=!1}function mt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Fr(u){this.src=u,this.g={},this.h=0}Fr.prototype.add=function(u,p,y,T,V){var B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);var ee=mi(u,p,T,V);return-1<ee?(p=u[ee],y||(p.fa=!1)):(p=new dt(p,this.src,B,!!T,V),p.fa=y,u.push(p)),p};function lo(u,p){var y=p.type;if(y in u.g){var T=u.g[y],V=Array.prototype.indexOf.call(T,p,void 0),B;(B=0<=V)&&Array.prototype.splice.call(T,V,1),B&&(mt(p),u.g[y].length==0&&(delete u.g[y],u.h--))}}function mi(u,p,y,T){for(var V=0;V<u.length;++V){var B=u[V];if(!B.da&&B.listener==p&&B.capture==!!y&&B.ha==T)return V}return-1}var gr="closure_lm_"+(1e6*Math.random()|0),ns={};function gi(u,p,y,T,V){if(T&&T.once)return $(u,p,y,T,V);if(Array.isArray(p)){for(var B=0;B<p.length;B++)gi(u,p[B],y,T,V);return null}return y=Qe(y),u&&u[ht]?u.K(p,y,c(T)?!!T.capture:!!T,V):uo(u,p,y,!1,T,V)}function uo(u,p,y,T,V,B){if(!p)throw Error("Invalid event type");var ee=c(V)?!!V.capture:!!V,We=ae(u);if(We||(u[gr]=We=new Fr(u)),y=We.add(p,y,T,ee,B),y.proxy)return y;if(T=O(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)U||(V=ee),V===void 0&&(V=!1),u.addEventListener(p.toString(),T,V);else if(u.attachEvent)u.attachEvent(ne(p.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function O(){function u(y){return p.call(u.src,u.listener,y)}const p=Z;return u}function $(u,p,y,T,V){if(Array.isArray(p)){for(var B=0;B<p.length;B++)$(u,p[B],y,T,V);return null}return y=Qe(y),u&&u[ht]?u.L(p,y,c(T)?!!T.capture:!!T,V):uo(u,p,y,!0,T,V)}function z(u,p,y,T,V){if(Array.isArray(p))for(var B=0;B<p.length;B++)z(u,p[B],y,T,V);else T=c(T)?!!T.capture:!!T,y=Qe(y),u&&u[ht]?(u=u.i,p=String(p).toString(),p in u.g&&(B=u.g[p],y=mi(B,y,T,V),-1<y&&(mt(B[y]),Array.prototype.splice.call(B,y,1),B.length==0&&(delete u.g[p],u.h--)))):u&&(u=ae(u))&&(p=u.g[p.toString()],u=-1,p&&(u=mi(p,y,T,V)),(y=-1<u?p[u]:null)&&q(y))}function q(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[ht])lo(p.i,u);else{var y=u.type,T=u.proxy;p.removeEventListener?p.removeEventListener(y,T,u.capture):p.detachEvent?p.detachEvent(ne(y),T):p.addListener&&p.removeListener&&p.removeListener(T),(y=ae(p))?(lo(y,u),y.h==0&&(y.src=null,p[gr]=null)):mt(u)}}}function ne(u){return u in ns?ns[u]:ns[u]="on"+u}function Z(u,p){if(u.da)u=!0;else{p=new zt(p,this);var y=u.listener,T=u.ha||u.src;u.fa&&q(u),u=y.call(T,p)}return u}function ae(u){return u=u[gr],u instanceof Fr?u:null}var Te="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qe(u){return typeof u=="function"?u:(u[Te]||(u[Te]=function(p){return u.handleEvent(p)}),u[Te])}function Ne(){Ce.call(this),this.i=new Fr(this),this.M=this,this.F=null}S(Ne,Ce),Ne.prototype[ht]=!0,Ne.prototype.removeEventListener=function(u,p,y,T){z(this,u,p,y,T)};function Ye(u,p){var y,T=u.F;if(T)for(y=[];T;T=T.F)y.push(T);if(u=u.M,T=p.type||p,typeof p=="string")p=new je(p,u);else if(p instanceof je)p.target=p.target||u;else{var V=p;p=new je(T,u),P(p,V)}if(V=!0,y)for(var B=y.length-1;0<=B;B--){var ee=p.g=y[B];V=Jt(ee,T,!0,p)&&V}if(ee=p.g=u,V=Jt(ee,T,!0,p)&&V,V=Jt(ee,T,!1,p)&&V,y)for(B=0;B<y.length;B++)ee=p.g=y[B],V=Jt(ee,T,!1,p)&&V}Ne.prototype.N=function(){if(Ne.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var y=u.g[p],T=0;T<y.length;T++)mt(y[T]);delete u.g[p],u.h--}}this.F=null},Ne.prototype.K=function(u,p,y,T){return this.i.add(String(u),p,!1,y,T)},Ne.prototype.L=function(u,p,y,T){return this.i.add(String(u),p,!0,y,T)};function Jt(u,p,y,T){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var V=!0,B=0;B<p.length;++B){var ee=p[B];if(ee&&!ee.da&&ee.capture==y){var We=ee.listener,Dt=ee.ha||ee.src;ee.fa&&lo(u.i,ee),V=We.call(Dt,T)!==!1&&V}}return V&&!T.defaultPrevented}function Hn(u,p,y){if(typeof u=="function")y&&(u=g(u,y));else if(u&&typeof u.handleEvent=="function")u=g(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function Rn(u){u.g=Hn(()=>{u.g=null,u.i&&(u.i=!1,Rn(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class iu extends Ce{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Rn(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tn(u){Ce.call(this),this.h=u,this.g={}}S(Tn,Ce);var Vr=[];function rs(u){W(u.g,function(p,y){this.g.hasOwnProperty(y)&&q(p)},u),u.g={}}Tn.prototype.N=function(){Tn.aa.N.call(this),rs(this)},Tn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var is=a.JSON.stringify,su=a.JSON.parse,Um=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function co(){}co.prototype.h=null;function pa(u){return u.h||(u.h=u.i())}function ho(){}var fo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zt(){je.call(this,"d")}S(Zt,je);function qn(){je.call(this,"c")}S(qn,je);var yi={},In=null;function _i(){return In=In||new Ne}yi.La="serverreachability";function ou(u){je.call(this,yi.La,u)}S(ou,je);function ss(u){const p=_i();Ye(p,new ou(p))}yi.STAT_EVENT="statevent";function ke(u,p){je.call(this,yi.STAT_EVENT,u),this.stat=p}S(ke,je);function Ze(u){const p=_i();Ye(p,new ke(p,u))}yi.Ma="timingevent";function yr(u,p){je.call(this,yi.Ma,u),this.size=p}S(yr,je);function Gn(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function ft(){this.g=!0}ft.prototype.xa=function(){this.g=!1};function Wt(u,p,y,T,V,B){u.info(function(){if(u.g)if(B)for(var ee="",We=B.split("&"),Dt=0;Dt<We.length;Dt++){var Oe=We[Dt].split("=");if(1<Oe.length){var Lt=Oe[0];Oe=Oe[1];var Ht=Lt.split("_");ee=2<=Ht.length&&Ht[1]=="type"?ee+(Lt+"="+Oe+"&"):ee+(Lt+"=redacted&")}}else ee=null;else ee=B;return"XMLHTTP REQ ("+T+") [attempt "+V+"]: "+p+`
`+y+`
`+ee})}function au(u,p,y,T,V,B,ee){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+V+"]: "+p+`
`+y+`
`+B+" "+ee})}function vi(u,p,y,T){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+un(u,y)+(T?" "+T:"")})}function po(u,p){u.info(function(){return"TIMEOUT: "+p})}ft.prototype.info=function(){};function un(u,p){if(!u.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var T=y[u];if(!(2>T.length)){var V=T[1];if(Array.isArray(V)&&!(1>V.length)){var B=V[0];if(B!="noop"&&B!="stop"&&B!="close")for(var ee=1;ee<V.length;ee++)V[ee]=""}}}}return is(y)}catch{return p}}var ma={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},lu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ga;function os(){}S(os,co),os.prototype.g=function(){return new XMLHttpRequest},os.prototype.i=function(){return{}},ga=new os;function Ur(u,p,y,T){this.j=u,this.i=p,this.l=y,this.R=T||1,this.U=new Tn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new uu}function uu(){this.i=null,this.g="",this.h=!1}var kh={},cu={};function _r(u,p,y){u.L=1,u.v=Ti(wr(p)),u.m=y,u.P=!0,Ah(u,null)}function Ah(u,p){u.F=Date.now(),ya(u),u.A=wr(u.v);var y=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),$h(y.i,"t",T),u.C=0,y=u.j.J,u.h=new uu,u.g=bi(u.j,y?p:null,!u.m),0<u.O&&(u.M=new iu(g(u.Y,u,u.g),u.O)),p=u.U,y=u.g,T=u.ca;var V="readystatechange";Array.isArray(V)||(V&&(Vr[0]=V.toString()),V=Vr);for(var B=0;B<V.length;B++){var ee=gi(y,V[B],T||p.handleEvent,!1,p.h||p);if(!ee)break;p.g[ee.key]=ee}p=u.H?I(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),ss(),Wt(u.i,u.u,u.A,u.l,u.R,u.m)}Ur.prototype.ca=function(u){u=u.target;const p=this.M;p&&Er(u)==3?p.j():this.Y(u)},Ur.prototype.Y=function(u){try{if(u==this.g)e:{const Ht=Er(this.g);var p=this.g.Ba();const Br=this.g.Z();if(!(3>Ht)&&(Ht!=3||this.g&&(this.h.h||this.g.oa()||pu(this.g)))){this.J||Ht!=4||p==7||(p==8||0>=Br?ss(3):ss(2)),mo(this);var y=this.g.Z();this.X=y;t:if(xh(this)){var T=pu(this.g);u="";var V=T.length,B=Er(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wi(this),go(this);var ee="";break t}this.h.i=new a.TextDecoder}for(p=0;p<V;p++)this.h.h=!0,u+=this.h.i.decode(T[p],{stream:!(B&&p==V-1)});T.length=0,this.h.g+=u,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=y==200,au(this.i,this.u,this.A,this.l,this.R,Ht,y),this.o){if(this.T&&!this.K){t:{if(this.g){var We,Dt=this.g;if((We=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(We)){var Oe=We;break t}}Oe=null}if(y=Oe)vi(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vr(this,y);else{this.o=!1,this.s=3,Ze(12),wi(this),go(this);break e}}if(this.P){y=!0;let Pn;for(;!this.J&&this.C<ee.length;)if(Pn=$m(this,ee),Pn==cu){Ht==4&&(this.s=4,Ze(14),y=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(Pn==kh){this.s=4,Ze(15),vi(this.i,this.l,ee,"[Invalid Chunk]"),y=!1;break}else vi(this.i,this.l,Pn,null),vr(this,Pn);if(xh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ht!=4||ee.length!=0||this.h.h||(this.s=1,Ze(16),y=!1),this.o=this.o&&y,!y)vi(this.i,this.l,ee,"[Invalid Chunked Response]"),wi(this),go(this);else if(0<ee.length&&!this.W){this.W=!0;var Lt=this.j;Lt.g==this&&Lt.ba&&!Lt.M&&(Lt.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),or(Lt),Lt.M=!0,Ze(11))}}else vi(this.i,this.l,ee,null),vr(this,ee);Ht==4&&wi(this),this.o&&!this.J&&(Ht==4?fs(this.j,this):(this.o=!1,ya(this)))}else Gh(this.g),y==400&&0<ee.indexOf("Unknown SID")?(this.s=3,Ze(12)):(this.s=0,Ze(13)),wi(this),go(this)}}}catch{}finally{}};function xh(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function $m(u,p){var y=u.C,T=p.indexOf(`
`,y);return T==-1?cu:(y=Number(p.substring(y,T)),isNaN(y)?kh:(T+=1,T+y>p.length?cu:(p=p.slice(T,T+y),u.C=T+y,p)))}Ur.prototype.cancel=function(){this.J=!0,wi(this)};function ya(u){u.S=Date.now()+u.I,Rh(u,u.I)}function Rh(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Gn(g(u.ba,u),p)}function mo(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Ur.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(po(this.i,this.A),this.L!=2&&(ss(),Ze(17)),wi(this),this.s=2,go(this)):Rh(this,this.S-u)};function go(u){u.j.G==0||u.J||fs(u.j,u)}function wi(u){mo(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,rs(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function vr(u,p){try{var y=u.j;if(y.G!=0&&(y.g==u||hu(y.h,u))){if(!u.K&&hu(y.h,u)&&y.G==3){try{var T=y.Da.g.parse(p)}catch{T=null}if(Array.isArray(T)&&T.length==3){var V=T;if(V[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)Eo(y),Ta(y);else break e;yu(y),Ze(18)}}else y.za=V[1],0<y.za-y.T&&37500>V[2]&&y.F&&y.v==0&&!y.C&&(y.C=Gn(g(y.Za,y),6e3));if(1>=_a(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Si(y,11)}else if((u.K||y.g==u)&&Eo(y),!w(p))for(V=y.Da.g.parse(p),p=0;p<V.length;p++){let Oe=V[p];if(y.T=Oe[0],Oe=Oe[1],y.G==2)if(Oe[0]=="c"){y.K=Oe[1],y.ia=Oe[2];const Lt=Oe[3];Lt!=null&&(y.la=Lt,y.j.info("VER="+y.la));const Ht=Oe[4];Ht!=null&&(y.Aa=Ht,y.j.info("SVER="+y.Aa));const Br=Oe[5];Br!=null&&typeof Br=="number"&&0<Br&&(T=1.5*Br,y.L=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const Pn=u.g;if(Pn){const To=Pn.g?Pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(To){var B=T.h;B.g||To.indexOf("spdy")==-1&&To.indexOf("quic")==-1&&To.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(du(B,B.h),B.h=null))}if(T.D){const Io=Pn.g?Pn.g.getResponseHeader("X-HTTP-Session-Id"):null;Io&&(T.ya=Io,Ke(T.I,T.D,Io))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),T=y;var ee=u;if(T.qa=_u(T,T.J?T.ia:null,T.W),ee.K){Oh(T.h,ee);var We=ee,Dt=T.L;Dt&&(We.I=Dt),We.B&&(mo(We),ya(We)),T.g=ee}else gu(T);0<y.i.length&&Ia(y)}else Oe[0]!="stop"&&Oe[0]!="close"||Si(y,7);else y.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?Si(y,7):mu(y):Oe[0]!="noop"&&y.l&&y.l.ta(Oe),y.v=0)}}ss(4)}catch{}}var jm=class{constructor(u,p){this.g=u,this.map=p}};function Ph(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Nh(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function _a(u){return u.h?1:u.g?u.g.size:0}function hu(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function du(u,p){u.g?u.g.add(p):u.h=p}function Oh(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Ph.prototype.cancel=function(){if(this.i=Dh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Dh(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const y of u.g.values())p=p.concat(y.D);return p}return A(u.i)}function Bm(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var p=[],y=u.length,T=0;T<y;T++)p.push(u[T]);return p}p=[],y=0;for(T in u)p[y++]=u[T];return p}function Ge(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var p=[];u=u.length;for(var y=0;y<u;y++)p.push(y);return p}p=[],y=0;for(const T in u)p[y++]=T;return p}}}function Lh(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var y=Ge(u),T=Bm(u),V=T.length,B=0;B<V;B++)p.call(void 0,T[B],y&&y[B],u)}var Mh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zm(u,p){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var T=u[y].indexOf("="),V=null;if(0<=T){var B=u[y].substring(0,T);V=u[y].substring(T+1)}else B=u[y];p(B,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Ei(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ei){this.h=u.h,va(this,u.j),this.o=u.o,this.g=u.g,as(this,u.s),this.l=u.l;var p=u.i,y=new us;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),ls(this,y),this.m=u.m}else u&&(p=String(u).match(Mh))?(this.h=!1,va(this,p[1]||"",!0),this.o=Xe(p[2]||""),this.g=Xe(p[3]||"",!0),as(this,p[4]),this.l=Xe(p[5]||"",!0),ls(this,p[6]||"",!0),this.m=Xe(p[7]||"")):(this.h=!1,this.i=new us(null,this.h))}Ei.prototype.toString=function(){var u=[],p=this.j;p&&u.push(yo(p,Fh,!0),":");var y=this.g;return(y||p=="file")&&(u.push("//"),(p=this.o)&&u.push(yo(p,Fh,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(yo(y,y.charAt(0)=="/"?Hm:Vh,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",yo(y,Gm)),u.join("")};function wr(u){return new Ei(u)}function va(u,p,y){u.j=y?Xe(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function as(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function ls(u,p,y){p instanceof us?(u.i=p,Km(u.i,u.h)):(y||(p=yo(p,qm)),u.i=new us(p,u.h))}function Ke(u,p,y){u.i.set(p,y)}function Ti(u){return Ke(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Xe(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function yo(u,p,y){return typeof u=="string"?(u=encodeURI(u).replace(p,Wm),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Wm(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Fh=/[#\/\?@]/g,Vh=/[#\?:]/g,Hm=/[#\?]/g,qm=/[#\?@]/g,Gm=/#/g;function us(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function $r(u){u.g||(u.g=new Map,u.h=0,u.i&&zm(u.i,function(p,y){u.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}t=us.prototype,t.add=function(u,p){$r(this),this.i=null,u=cs(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(p),this.h+=1,this};function fu(u,p){$r(u),p=cs(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Uh(u,p){return $r(u),p=cs(u,p),u.g.has(p)}t.forEach=function(u,p){$r(this),this.g.forEach(function(y,T){y.forEach(function(V){u.call(p,V,T,this)},this)},this)},t.na=function(){$r(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let T=0;T<p.length;T++){const V=u[T];for(let B=0;B<V.length;B++)y.push(p[T])}return y},t.V=function(u){$r(this);let p=[];if(typeof u=="string")Uh(this,u)&&(p=p.concat(this.g.get(cs(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)p=p.concat(u[y])}return p},t.set=function(u,p){return $r(this),this.i=null,u=cs(this,u),Uh(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function $h(u,p,y){fu(u,p),0<y.length&&(u.i=null,u.g.set(cs(u,p),A(y)),u.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var T=p[y];const B=encodeURIComponent(String(T)),ee=this.V(T);for(T=0;T<ee.length;T++){var V=B;ee[T]!==""&&(V+="="+encodeURIComponent(String(ee[T]))),u.push(V)}}return this.i=u.join("&")};function cs(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function Km(u,p){p&&!u.j&&($r(u),u.i=null,u.g.forEach(function(y,T){var V=T.toLowerCase();T!=V&&(fu(this,T),$h(this,V,y))},u)),u.j=p}function Qm(u,p){const y=new ft;if(a.Image){const T=new Image;T.onload=E(jr,y,"TestLoadImage: loaded",!0,p,T),T.onerror=E(jr,y,"TestLoadImage: error",!1,p,T),T.onabort=E(jr,y,"TestLoadImage: abort",!1,p,T),T.ontimeout=E(jr,y,"TestLoadImage: timeout",!1,p,T),a.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else p(!1)}function Ym(u,p){const y=new ft,T=new AbortController,V=setTimeout(()=>{T.abort(),jr(y,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(V),B.ok?jr(y,"TestPingServer: ok",!0,p):jr(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(V),jr(y,"TestPingServer: error",!1,p)})}function jr(u,p,y,T,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),T(y)}catch{}}function jh(){this.g=new Um}function Xm(u,p,y){const T=y||"";try{Lh(u,function(V,B){let ee=V;c(V)&&(ee=is(V)),p.push(T+B+"="+encodeURIComponent(ee))})}catch(V){throw p.push(T+"type="+encodeURIComponent("_badmap")),V}}function hs(u){this.l=u.Ub||null,this.j=u.eb||!1}S(hs,co),hs.prototype.g=function(){return new wa(this.l,this.j)},hs.prototype.i=function(u){return function(){return u}}({});function wa(u,p){Ne.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(wa,Ne),t=wa.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,ds(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,sr(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ds(this)),this.g&&(this.readyState=3,ds(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bh(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bh(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?sr(this):ds(this),this.readyState==3&&Bh(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,sr(this))},t.Qa=function(u){this.g&&(this.response=u,sr(this))},t.ga=function(){this.g&&sr(this)};function sr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ds(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=p.next();return u.join(`\r
`)};function ds(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(wa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function zh(u){let p="";return W(u,function(y,T){p+=T,p+=":",p+=y,p+=`\r
`}),p}function _o(u,p,y){e:{for(T in y){var T=!1;break e}T=!0}T||(y=zh(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Ke(u,p,y))}function it(u){Ne.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(it,Ne);var Jm=/^https?$/i,Zm=["POST","PUT"];t=it.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ga.g(),this.v=this.o?pa(this.o):pa(ga),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(B){Wh(this,B);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var V in T)y.set(V,T[V]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())y.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(B=>B.toLowerCase()=="content-type"),V=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Zm,p,void 0))||T||V||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ee]of y)this.g.setRequestHeader(B,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ii(this),this.u=!0,this.g.send(u),this.u=!1}catch(B){Wh(this,B)}};function Wh(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,Hh(u),Ea(u)}function Hh(u){u.A||(u.A=!0,Ye(u,"complete"),Ye(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ye(this,"complete"),Ye(this,"abort"),Ea(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ea(this,!0)),it.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?qh(this):this.bb())},t.bb=function(){qh(this)};function qh(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Er(u)!=4||u.Z()!=2)){if(u.u&&Er(u)==4)Hn(u.Ea,0,u);else if(Ye(u,"readystatechange"),Er(u)==4){u.h=!1;try{const ee=u.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var T;if(T=ee===0){var V=String(u.D).match(Mh)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),T=!Jm.test(V?V.toLowerCase():"")}y=T}if(y)Ye(u,"complete"),Ye(u,"success");else{u.m=6;try{var B=2<Er(u)?u.g.statusText:""}catch{B=""}u.l=B+" ["+u.Z()+"]",Hh(u)}}finally{Ea(u)}}}}function Ea(u,p){if(u.g){Ii(u);const y=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||Ye(u,"ready");try{y.onreadystatechange=T}catch{}}}function Ii(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Er(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Er(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),su(p)}};function pu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Gh(u){const p={};u=(u.g&&2<=Er(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var y=L(u[T]);const V=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const B=p[V]||[];p[V]=B,B.push(y)}C(p,function(T){return T.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vo(u,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||p}function Kh(u){this.Aa=0,this.i=[],this.j=new ft,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vo("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vo("baseRetryDelayMs",5e3,u),this.cb=vo("retryDelaySeedMs",1e4,u),this.Wa=vo("forwardChannelMaxRetries",2,u),this.wa=vo("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ph(u&&u.concurrentRequestLimit),this.Da=new jh,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Kh.prototype,t.la=8,t.G=1,t.connect=function(u,p,y,T){Ze(0),this.W=u,this.H=p||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.I=_u(this,null,this.W),Ia(this)};function mu(u){if(Qh(u),u.G==3){var p=u.U++,y=wr(u.I);if(Ke(y,"SID",u.K),Ke(y,"RID",p),Ke(y,"TYPE","terminate"),wo(u,y),p=new Ur(u,u.j,p),p.L=2,p.v=Ti(wr(y)),y=!1,a.navigator&&a.navigator.sendBeacon)try{y=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&a.Image&&(new Image().src=p.v,y=!0),y||(p.g=bi(p.j,null),p.g.ea(p.v)),p.F=Date.now(),ya(p)}Zh(u)}function Ta(u){u.g&&(or(u),u.g.cancel(),u.g=null)}function Qh(u){Ta(u),u.u&&(a.clearTimeout(u.u),u.u=null),Eo(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Ia(u){if(!Nh(u.h)&&!u.s){u.s=!0;var p=u.Ga;Pe||ue(),re||(Pe(),re=!0),K.add(p,u),u.B=0}}function eg(u,p){return _a(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Gn(g(u.Ga,u,p),Jh(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const V=new Ur(this,this.j,u);let B=this.o;if(this.S&&(B?(B=I(B),P(B,this.S)):B=this.S),this.m!==null||this.O||(V.H=B,B=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(p+=T,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=Yh(this,V,p),y=wr(this.I),Ke(y,"RID",u),Ke(y,"CVER",22),this.D&&Ke(y,"X-HTTP-Session-Id",this.D),wo(this,y),B&&(this.O?p="headers="+encodeURIComponent(String(zh(B)))+"&"+p:this.m&&_o(y,this.m,B)),du(this.h,V),this.Ua&&Ke(y,"TYPE","init"),this.P?(Ke(y,"$req",p),Ke(y,"SID","null"),V.T=!0,_r(V,y,null)):_r(V,y,p),this.G=2}}else this.G==3&&(u?Ci(this,u):this.i.length==0||Nh(this.h)||Ci(this))};function Ci(u,p){var y;p?y=p.l:y=u.U++;const T=wr(u.I);Ke(T,"SID",u.K),Ke(T,"RID",y),Ke(T,"AID",u.T),wo(u,T),u.m&&u.o&&_o(T,u.m,u.o),y=new Ur(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),p&&(u.i=p.D.concat(u.i)),p=Yh(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),du(u.h,y),_r(y,T,p)}function wo(u,p){u.H&&W(u.H,function(y,T){Ke(p,T,y)}),u.l&&Lh({},function(y,T){Ke(p,T,y)})}function Yh(u,p,y){y=Math.min(u.i.length,y);var T=u.l?g(u.l.Na,u.l,u):null;e:{var V=u.i;let B=-1;for(;;){const ee=["count="+y];B==-1?0<y?(B=V[0].g,ee.push("ofs="+B)):B=0:ee.push("ofs="+B);let We=!0;for(let Dt=0;Dt<y;Dt++){let Oe=V[Dt].g;const Lt=V[Dt].map;if(Oe-=B,0>Oe)B=Math.max(0,V[Dt].g-100),We=!1;else try{Xm(Lt,ee,"req"+Oe+"_")}catch{T&&T(Lt)}}if(We){T=ee.join("&");break e}}}return u=u.i.splice(0,y),p.D=u,T}function gu(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;Pe||ue(),re||(Pe(),re=!0),K.add(p,u),u.v=0}}function yu(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Gn(g(u.Fa,u),Jh(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Xh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Gn(g(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ze(10),Ta(this),Xh(this))};function or(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Xh(u){u.g=new Ur(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=wr(u.qa);Ke(p,"RID","rpc"),Ke(p,"SID",u.K),Ke(p,"AID",u.T),Ke(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ke(p,"TO",u.ja),Ke(p,"TYPE","xmlhttp"),wo(u,p),u.m&&u.o&&_o(p,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=Ti(wr(p)),y.m=null,y.P=!0,Ah(y,u)}t.Za=function(){this.C!=null&&(this.C=null,Ta(this),yu(this),Ze(19))};function Eo(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function fs(u,p){var y=null;if(u.g==p){Eo(u),or(u),u.g=null;var T=2}else if(hu(u.h,p))y=p.D,Oh(u.h,p),T=1;else return;if(u.G!=0){if(p.o)if(T==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var V=u.B;T=_i(),Ye(T,new yr(T,y)),Ia(u)}else gu(u);else if(V=p.s,V==3||V==0&&0<p.X||!(T==1&&eg(u,p)||T==2&&yu(u)))switch(y&&0<y.length&&(p=u.h,p.i=p.i.concat(y)),V){case 1:Si(u,5);break;case 4:Si(u,10);break;case 3:Si(u,6);break;default:Si(u,2)}}}function Jh(u,p){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*p}function Si(u,p){if(u.j.info("Error code "+p),p==2){var y=g(u.fb,u),T=u.Xa;const V=!T;T=new Ei(T||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||va(T,"https"),Ti(T),V?Qm(T.toString(),y):Ym(T.toString(),y)}else Ze(2);u.G=0,u.l&&u.l.sa(p),Zh(u),Qh(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Ze(2)):(this.j.info("Failed to ping google.com"),Ze(1))};function Zh(u){if(u.G=0,u.ka=[],u.l){const p=Dh(u.h);(p.length!=0||u.i.length!=0)&&(D(u.ka,p),D(u.ka,u.i),u.h.i.length=0,A(u.i),u.i.length=0),u.l.ra()}}function _u(u,p,y){var T=y instanceof Ei?wr(y):new Ei(y);if(T.g!="")p&&(T.g=p+"."+T.g),as(T,T.s);else{var V=a.location;T=V.protocol,p=p?p+"."+V.hostname:V.hostname,V=+V.port;var B=new Ei(null);T&&va(B,T),p&&(B.g=p),V&&as(B,V),y&&(B.l=y),T=B}return y=u.D,p=u.ya,y&&p&&Ke(T,y,p),Ke(T,"VER",u.la),wo(u,T),T}function bi(u,p,y){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new it(new hs({eb:y})):new it(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ed(){}t=ed.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ca(){}Ca.prototype.g=function(u,p){return new Cn(u,p)};function Cn(u,p){Ne.call(this),this.g=new Kh(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!w(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!w(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new ps(this)}S(Cn,Ne),Cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){mu(this.g)},Cn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=is(u),u=y);p.i.push(new jm(p.Ya++,u)),p.G==3&&Ia(p)},Cn.prototype.N=function(){this.g.l=null,delete this.j,mu(this.g),delete this.g,Cn.aa.N.call(this)};function td(u){Zt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const y in p){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}S(td,Zt);function nd(){qn.call(this),this.status=1}S(nd,qn);function ps(u){this.g=u}S(ps,ed),ps.prototype.ua=function(){Ye(this.g,"a")},ps.prototype.ta=function(u){Ye(this.g,new td(u))},ps.prototype.sa=function(u){Ye(this.g,new nd)},ps.prototype.ra=function(){Ye(this.g,"b")},Ca.prototype.createWebChannel=Ca.prototype.g,Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,fx=function(){return new Ca},dx=function(){return _i()},hx=yi,G_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ma.NO_ERROR=0,ma.TIMEOUT=8,ma.HTTP_ERROR=6,hf=ma,lu.COMPLETE="complete",cx=lu,ho.EventType=fo,fo.OPEN="a",fo.CLOSE="b",fo.ERROR="c",fo.MESSAGE="d",Ne.prototype.listen=Ne.prototype.K,zu=ho,ux=hs,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,lx=it}).apply(typeof Nd<"u"?Nd:typeof self<"u"?self:typeof window<"u"?window:{});const DI="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tu="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=new cm("@firebase/firestore");function Du(){return na.logLevel}function le(t,...e){if(na.logLevel<=Ae.DEBUG){const n=e.map(w0);na.debug(`Firestore (${tu}): ${t}`,...n)}}function Ki(t,...e){if(na.logLevel<=Ae.ERROR){const n=e.map(w0);na.error(`Firestore (${tu}): ${t}`,...n)}}function Nl(t,...e){if(na.logLevel<=Ae.WARN){const n=e.map(w0);na.warn(`Firestore (${tu}): ${t}`,...n)}}function w0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(t="Unexpected state"){const e=`FIRESTORE (${tu}) INTERNAL ASSERTION FAILED: `+t;throw Ki(e),new Error(e)}function nt(t,e){t||pe()}function ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends fi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class X${getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(pn.UNAUTHENTICATED))}shutdown(){}}class J${constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Z${constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Gs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Gs,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Gs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(nt(typeof r.accessToken=="string"),new px(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string"),new pn(e)}}class ej{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class tj{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new ej(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(pn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rj{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,le("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(nt(typeof n.token=="string"),this.R=n.token,new nj(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ij(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=ij(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ue(t,e){return t<e?-1:t>e?1:0}function Ol(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ce(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new jt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new me(e)}static min(){return new me(new jt(0,0))}static max(){return new me(new jt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n,r){n===void 0?n=0:n>e.length&&pe(),r===void 0?r=e.length-n:r>e.length-n&&pe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Gc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class It extends Gc{construct(e,n,r){return new It(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new It(n)}static emptyPath(){return new It([])}}const sj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Gc{construct(e,n,r){return new rn(e,n,r)}static isValidIdentifier(e){return sj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new rn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ce(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ce(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ce(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ce(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(n)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.path=e}static fromPath(e){return new he(It.fromString(e))}static fromName(e){return new he(It.fromString(e).popFirst(5))}static empty(){return new he(It.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&It.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return It.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new It(e.slice()))}}function oj(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=me.fromTimestamp(r===1e9?new jt(n+1,0):new jt(n,r));return new Zs(i,he.empty(),e)}function aj(t){return new Zs(t.readTime,t.key,-1)}class Zs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Zs(me.min(),he.empty(),-1)}static max(){return new Zs(me.max(),he.empty(),-1)}}function lj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=he.comparator(t.documentKey,e.documentKey),n!==0?n:Ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wh(t){if(t.code!==Y.FAILED_PRECONDITION||t.message!==uj)throw t;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,r)=>{n(e)})}static reject(e){return new Q((n,r)=>{r(e)})}static waitFor(e){return new Q((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next(i=>i?Q.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Q((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new Q((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function hj(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Eh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}E0.oe=-1;function Im(t){return t==null}function Ip(t){return t===0&&1/t==-1/0}function dj(t){return typeof t=="number"&&Number.isInteger(t)&&!Ip(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function da(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function gx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n){this.comparator=e,this.root=n||tn.EMPTY}insert(e,n){return new wt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Od(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Od(this.root,e,this.comparator,!1)}getReverseIterator(){return new Od(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Od(this.root,e,this.comparator,!0)}}class Od{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??tn.RED,this.left=i??tn.EMPTY,this.right=s??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new tn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return tn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pe();const e=this.left.check();if(e!==this.right.check())throw pe();return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw pe()}get value(){throw pe()}get color(){throw pe()}get left(){throw pe()}get right(){throw pe()}copy(e,n,r,i,s){return this}insert(e,n,r){return new tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new MI(this.data.getIterator())}getIteratorFrom(e){return new MI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof on)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new on(this.comparator);return n.data=e,n}}class MI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new Jn([])}unionWith(e){let n=new on(rn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ol(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new yx("Invalid base64 string: "+s):s}}(e);return new En(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new En(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}En.EMPTY_BYTE_STRING=new En("");const fj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function eo(t){if(nt(!!t),typeof t=="string"){let e=0;const n=fj.exec(t);if(nt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rt(t.seconds),nanos:Rt(t.nanos)}}function Rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ra(t){return typeof t=="string"?En.fromBase64String(t):En.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function I0(t){const e=t.mapValue.fields.__previous_value__;return T0(e)?I0(e):e}function Kc(t){const e=eo(t.mapValue.fields.__local_write_time__.timestampValue);return new jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Qc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Qc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Qc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ia(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?T0(t)?4:mj(t)?9007199254740991:10:pe()}function ci(t,e){if(t===e)return!0;const n=ia(t);if(n!==ia(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Kc(t).isEqual(Kc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=eo(i.timestampValue),a=eo(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ra(i.bytesValue).isEqual(ra(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Rt(i.geoPointValue.latitude)===Rt(s.geoPointValue.latitude)&&Rt(i.geoPointValue.longitude)===Rt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Rt(i.integerValue)===Rt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Rt(i.doubleValue),a=Rt(s.doubleValue);return o===a?Ip(o)===Ip(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ol(t.arrayValue.values||[],e.arrayValue.values||[],ci);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(LI(o)!==LI(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ci(o[l],a[l])))return!1;return!0}(t,e);default:return pe()}}function Yc(t,e){return(t.values||[]).find(n=>ci(n,e))!==void 0}function Dl(t,e){if(t===e)return 0;const n=ia(t),r=ia(e);if(n!==r)return Ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Rt(s.integerValue||s.doubleValue),l=Rt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return FI(t.timestampValue,e.timestampValue);case 4:return FI(Kc(t),Kc(e));case 5:return Ue(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ra(s),l=ra(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=Ue(a[c],l[c]);if(d!==0)return d}return Ue(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ue(Rt(s.latitude),Rt(o.latitude));return a!==0?a:Ue(Rt(s.longitude),Rt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const d=Dl(a[c],l[c]);if(d)return d}return Ue(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Dd.mapValue&&o===Dd.mapValue)return 0;if(s===Dd.mapValue)return 1;if(o===Dd.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let m=0;m<l.length&&m<d.length;++m){const g=Ue(l[m],d[m]);if(g!==0)return g;const E=Dl(a[l[m]],c[d[m]]);if(E!==0)return E}return Ue(l.length,d.length)}(t.mapValue,e.mapValue);default:throw pe()}}function FI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ue(t,e);const n=eo(t),r=eo(e),i=Ue(n.seconds,r.seconds);return i!==0?i:Ue(n.nanos,r.nanos)}function Ll(t){return K_(t)}function K_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=eo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ra(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return he.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=K_(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${K_(n.fields[o])}`;return i+"}"}(t.mapValue):pe()}function Q_(t){return!!t&&"integerValue"in t}function C0(t){return!!t&&"arrayValue"in t}function VI(t){return!!t&&"nullValue"in t}function UI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function df(t){return!!t&&"mapValue"in t}function uc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return da(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=uc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=uc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function mj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!df(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=uc(n)}setAll(e){let n=rn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=uc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());df(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ci(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];df(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){da(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ln(uc(this.value))}}function _x(t){const e=[];return da(t.fields,(n,r)=>{const i=new rn([n]);if(df(r)){const s=_x(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new _n(e,0,me.min(),me.min(),me.min(),Ln.empty(),0)}static newFoundDocument(e,n,r,i){return new _n(e,1,n,me.min(),r,i,0)}static newNoDocument(e,n){return new _n(e,2,n,me.min(),me.min(),Ln.empty(),0)}static newUnknownDocument(e,n){return new _n(e,3,n,me.min(),me.min(),Ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,n){this.position=e,this.inclusive=n}}function $I(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=he.comparator(he.fromName(o.referenceValue),n.key):r=Dl(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function jI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ci(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,n="asc"){this.field=e,this.dir=n}}function gj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{}class Ut extends vx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new _j(e,n,r):n==="array-contains"?new Ej(e,r):n==="in"?new Tj(e,r):n==="not-in"?new Ij(e,r):n==="array-contains-any"?new Cj(e,r):new Ut(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new vj(e,r):new wj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Dl(n,this.value)):n!==null&&ia(this.value)===ia(n)&&this.matchesComparison(Dl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hi extends vx{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new hi(e,n)}matches(e){return wx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function wx(t){return t.op==="and"}function Ex(t){return yj(t)&&wx(t)}function yj(t){for(const e of t.filters)if(e instanceof hi)return!1;return!0}function Y_(t){if(t instanceof Ut)return t.field.canonicalString()+t.op.toString()+Ll(t.value);if(Ex(t))return t.filters.map(e=>Y_(e)).join(",");{const e=t.filters.map(n=>Y_(n)).join(",");return`${t.op}(${e})`}}function Tx(t,e){return t instanceof Ut?function(r,i){return i instanceof Ut&&r.op===i.op&&r.field.isEqual(i.field)&&ci(r.value,i.value)}(t,e):t instanceof hi?function(r,i){return i instanceof hi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Tx(o,i.filters[a]),!0):!1}(t,e):void pe()}function Ix(t){return t instanceof Ut?function(n){return`${n.field.canonicalString()} ${n.op} ${Ll(n.value)}`}(t):t instanceof hi?function(n){return n.op.toString()+" {"+n.getFilters().map(Ix).join(" ,")+"}"}(t):"Filter"}class _j extends Ut{constructor(e,n,r){super(e,n,r),this.key=he.fromName(r.referenceValue)}matches(e){const n=he.comparator(e.key,this.key);return this.matchesComparison(n)}}class vj extends Ut{constructor(e,n){super(e,"in",n),this.keys=Cx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class wj extends Ut{constructor(e,n){super(e,"not-in",n),this.keys=Cx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Cx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>he.fromName(r.referenceValue))}class Ej extends Ut{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return C0(n)&&Yc(n.arrayValue,this.value)}}class Tj extends Ut{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Yc(this.value.arrayValue,n)}}class Ij extends Ut{constructor(e,n){super(e,"not-in",n)}matches(e){if(Yc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Yc(this.value.arrayValue,n)}}class Cj extends Ut{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!C0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Yc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function BI(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Sj(t,e,n,r,i,s,o)}function S0(t){const e=ye(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Y_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Im(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ll(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ll(r)).join(",")),e.ue=n}return e.ue}function b0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!gj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Tx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!jI(t.startAt,e.startAt)&&jI(t.endAt,e.endAt)}function X_(t){return he.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function bj(t,e,n,r,i,s,o,a){return new Cm(t,e,n,r,i,s,o,a)}function Sm(t){return new Cm(t)}function zI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function kj(t){return t.collectionGroup!==null}function cc(t){const e=ye(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new on(rn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Sp(s,r))}),n.has(rn.keyField().canonicalString())||e.ce.push(new Sp(rn.keyField(),r))}return e.ce}function si(t){const e=ye(t);return e.le||(e.le=Aj(e,cc(t))),e.le}function Aj(t,e){if(t.limitType==="F")return BI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Sp(i.field,s)});const n=t.endAt?new Cp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Cp(t.startAt.position,t.startAt.inclusive):null;return BI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function J_(t,e,n){return new Cm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function bm(t,e){return b0(si(t),si(e))&&t.limitType===e.limitType}function Sx(t){return`${S0(si(t))}|lt:${t.limitType}`}function Pa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Ix(i)).join(", ")}]`),Im(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ll(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ll(i)).join(",")),`Target(${r})`}(si(t))}; limitType=${t.limitType})`}function km(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):he.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of cc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=$I(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,cc(r),i)||r.endAt&&!function(o,a,l){const c=$I(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,cc(r),i))}(t,e)}function xj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function bx(t){return(e,n)=>{let r=!1;for(const i of cc(t)){const s=Rj(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Rj(t,e,n){const r=t.field.isKeyField()?he.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Dl(l,c):pe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){da(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return gx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj=new wt(he.comparator);function Qi(){return Pj}const kx=new wt(he.comparator);function Wu(...t){let e=kx;for(const n of t)e=e.insert(n.key,n);return e}function Ax(t){let e=kx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Fo(){return hc()}function xx(){return hc()}function hc(){return new nu(t=>t.toString(),(t,e)=>t.isEqual(e))}const Nj=new wt(he.comparator),Oj=new on(he.comparator);function xe(...t){let e=Oj;for(const n of t)e=e.add(n);return e}const Dj=new on(Ue);function Lj(){return Dj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ip(e)?"-0":e}}function Px(t){return{integerValue:""+t}}function Mj(t,e){return dj(e)?Px(e):Rx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(){this._=void 0}}function Fj(t,e,n){return t instanceof bp?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&T0(s)&&(s=I0(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ml?Ox(t,e):t instanceof Xc?Dx(t,e):function(i,s){const o=Nx(i,s),a=WI(o)+WI(i.Pe);return Q_(o)&&Q_(i.Pe)?Px(a):Rx(i.serializer,a)}(t,e)}function Vj(t,e,n){return t instanceof Ml?Ox(t,e):t instanceof Xc?Dx(t,e):n}function Nx(t,e){return t instanceof kp?function(r){return Q_(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class bp extends Am{}class Ml extends Am{constructor(e){super(),this.elements=e}}function Ox(t,e){const n=Lx(e);for(const r of t.elements)n.some(i=>ci(i,r))||n.push(r);return{arrayValue:{values:n}}}class Xc extends Am{constructor(e){super(),this.elements=e}}function Dx(t,e){let n=Lx(e);for(const r of t.elements)n=n.filter(i=>!ci(i,r));return{arrayValue:{values:n}}}class kp extends Am{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function WI(t){return Rt(t.integerValue||t.doubleValue)}function Lx(t){return C0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(e,n){this.field=e,this.transform=n}}function $j(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ml&&i instanceof Ml||r instanceof Xc&&i instanceof Xc?Ol(r.elements,i.elements,ci):r instanceof kp&&i instanceof kp?ci(r.Pe,i.Pe):r instanceof bp&&i instanceof bp}(t.transform,e.transform)}class jj{constructor(e,n){this.version=e,this.transformResults=n}}class oi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new oi}static exists(e){return new oi(void 0,e)}static updateTime(e){return new oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ff(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class xm{}function Mx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Vx(t.key,oi.none()):new Th(t.key,t.data,oi.none());{const n=t.data,r=Ln.empty();let i=new on(rn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ao(t.key,r,new Jn(i.toArray()),oi.none())}}function Bj(t,e,n){t instanceof Th?function(i,s,o){const a=i.value.clone(),l=qI(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ao?function(i,s,o){if(!ff(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=qI(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(Fx(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function dc(t,e,n,r){return t instanceof Th?function(s,o,a,l){if(!ff(s.precondition,o))return a;const c=s.value.clone(),d=GI(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ao?function(s,o,a,l){if(!ff(s.precondition,o))return a;const c=GI(s.fieldTransforms,l,o),d=o.data;return d.setAll(Fx(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(s,o,a){return ff(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function zj(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Nx(r.transform,i||null);s!=null&&(n===null&&(n=Ln.empty()),n.set(r.field,s))}return n||null}function HI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ol(r,i,(s,o)=>$j(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Th extends xm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ao extends xm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Fx(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function qI(t,e,n){const r=new Map;nt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Vj(o,a,n[i]))}return r}function GI(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Fj(s,o,e))}return r}class Vx extends xm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Wj extends xm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Bj(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=dc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=dc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=xx();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=Mx(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xe())}isEqual(e){return this.batchId===e.batchId&&Ol(this.mutations,e.mutations,(n,r)=>HI(n,r))&&Ol(this.baseMutations,e.baseMutations,(n,r)=>HI(n,r))}}class k0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){nt(e.mutations.length===r.length);let i=function(){return Nj}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new k0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt,De;function Kj(t){switch(t){default:return pe();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}function Ux(t){if(t===void 0)return Ki("GRPC error has no .code"),Y.UNKNOWN;switch(t){case xt.OK:return Y.OK;case xt.CANCELLED:return Y.CANCELLED;case xt.UNKNOWN:return Y.UNKNOWN;case xt.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case xt.INTERNAL:return Y.INTERNAL;case xt.UNAVAILABLE:return Y.UNAVAILABLE;case xt.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case xt.NOT_FOUND:return Y.NOT_FOUND;case xt.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case xt.ABORTED:return Y.ABORTED;case xt.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case xt.DATA_LOSS:return Y.DATA_LOSS;default:return pe()}}(De=xt||(xt={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj=new zo([4294967295,4294967295],0);function KI(t){const e=Qj().encode(t),n=new ax;return n.update(e),new Uint8Array(n.digest())}function QI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new zo([n,r],0),new zo([i,s],0)]}class A0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Hu(`Invalid padding: ${n}`);if(r<0)throw new Hu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Hu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Hu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=zo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(zo.fromNumber(r)));return i.compare(Yj)===1&&(i=new zo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=KI(e),[r,i]=QI(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new A0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=KI(e),[r,i]=QI(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Hu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ih.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Rm(me.min(),i,new wt(Ue),Qi(),xe())}}class Ih{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ih(r,n,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class $x{constructor(e,n){this.targetId=e,this.me=n}}class jx{constructor(e,n,r=En.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class YI{constructor(){this.fe=0,this.ge=JI(),this.pe=En.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=xe(),n=xe(),r=xe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:pe()}}),new Ih(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=JI()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,nt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Xj{constructor(e){this.Le=e,this.Be=new Map,this.ke=Qi(),this.qe=XI(),this.Qe=new wt(Ue)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:pe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(X_(s))if(r===0){const o=new he(s.path);this.Ue(n,o,_n.newNoDocument(o,me.min()))}else nt(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ra(r).toUint8Array()}catch(l){if(l instanceof yx)return Nl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new A0(o,i,s)}catch(l){return Nl(l instanceof Hu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&X_(a.target)){const l=new he(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,_n.newNoDocument(l,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=xe();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Rm(e,n,this.Qe,this.ke,r);return this.ke=Qi(),this.qe=XI(),this.Qe=new wt(Ue),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new YI,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new on(Ue),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new YI),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function XI(){return new wt(he.comparator)}function JI(){return new wt(he.comparator)}const Jj=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Zj=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),eB=(()=>({and:"AND",or:"OR"}))();class tB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Z_(t,e){return t.useProto3Json||Im(e)?e:{value:e}}function Ap(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Bx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function nB(t,e){return Ap(t,e.toTimestamp())}function ai(t){return nt(!!t),me.fromTimestamp(function(n){const r=eo(n);return new jt(r.seconds,r.nanos)}(t))}function x0(t,e){return ev(t,e).canonicalString()}function ev(t,e){const n=function(i){return new It(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function zx(t){const e=It.fromString(t);return nt(Kx(e)),e}function tv(t,e){return x0(t.databaseId,e.path)}function ry(t,e){const n=zx(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new he(Hx(n))}function Wx(t,e){return x0(t.databaseId,e)}function rB(t){const e=zx(t);return e.length===4?It.emptyPath():Hx(e)}function nv(t){return new It(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Hx(t){return nt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ZI(t,e,n){return{name:tv(t,e),fields:n.value.mapValue.fields}}function iB(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:pe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(nt(d===void 0||typeof d=="string"),En.fromBase64String(d||"")):(nt(d===void 0||d instanceof Buffer||d instanceof Uint8Array),En.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?Y.UNKNOWN:Ux(c.code);return new ce(d,c.message||"")}(o);n=new jx(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ry(t,r.document.name),s=ai(r.document.updateTime),o=r.document.createTime?ai(r.document.createTime):me.min(),a=new Ln({mapValue:{fields:r.document.fields}}),l=_n.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new pf(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ry(t,r.document),s=r.readTime?ai(r.readTime):me.min(),o=_n.newNoDocument(i,s),a=r.removedTargetIds||[];n=new pf([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ry(t,r.document),s=r.removedTargetIds||[];n=new pf([],s,i,null)}else{if(!("filter"in e))return pe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Gj(i,s),a=r.targetId;n=new $x(a,o)}}return n}function sB(t,e){let n;if(e instanceof Th)n={update:ZI(t,e.key,e.value)};else if(e instanceof Vx)n={delete:tv(t,e.key)};else if(e instanceof ao)n={update:ZI(t,e.key,e.data),updateMask:pB(e.fieldMask)};else{if(!(e instanceof Wj))return pe();n={verify:tv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof bp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ml)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Xc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof kp)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw pe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:nB(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:pe()}(t,e.precondition)),n}function oB(t,e){return t&&t.length>0?(nt(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?ai(i.updateTime):ai(s);return o.isEqual(me.min())&&(o=ai(s)),new jj(o,i.transformResults||[])}(n,e))):[]}function aB(t,e){return{documents:[Wx(t,e.path)]}}function lB(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Wx(t,i);const s=function(c){if(c.length!==0)return Gx(hi.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(g){return{field:Na(g.field),direction:hB(g.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Z_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function uB(t){let e=rB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){nt(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(m){const g=qx(m);return g instanceof hi&&Ex(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(g=>function(S){return new Sp(Oa(S.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(m){let g;return g=typeof m=="object"?m.value:m,Im(g)?null:g}(n.limit));let l=null;n.startAt&&(l=function(m){const g=!!m.before,E=m.values||[];return new Cp(E,g)}(n.startAt));let c=null;return n.endAt&&(c=function(m){const g=!m.before,E=m.values||[];return new Cp(E,g)}(n.endAt)),bj(e,i,o,s,a,"F",l,c)}function cB(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function qx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Oa(n.unaryFilter.field);return Ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Oa(n.unaryFilter.field);return Ut.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Oa(n.unaryFilter.field);return Ut.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Oa(n.unaryFilter.field);return Ut.create(o,"!=",{nullValue:"NULL_VALUE"});default:return pe()}}(t):t.fieldFilter!==void 0?function(n){return Ut.create(Oa(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return hi.create(n.compositeFilter.filters.map(r=>qx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return pe()}}(n.compositeFilter.op))}(t):pe()}function hB(t){return Jj[t]}function dB(t){return Zj[t]}function fB(t){return eB[t]}function Na(t){return{fieldPath:t.canonicalString()}}function Oa(t){return rn.fromServerFormat(t.fieldPath)}function Gx(t){return t instanceof Ut?function(n){if(n.op==="=="){if(UI(n.value))return{unaryFilter:{field:Na(n.field),op:"IS_NAN"}};if(VI(n.value))return{unaryFilter:{field:Na(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(UI(n.value))return{unaryFilter:{field:Na(n.field),op:"IS_NOT_NAN"}};if(VI(n.value))return{unaryFilter:{field:Na(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Na(n.field),op:dB(n.op),value:n.value}}}(t):t instanceof hi?function(n){const r=n.getFilters().map(i=>Gx(i));return r.length===1?r[0]:{compositeFilter:{op:fB(n.op),filters:r}}}(t):pe()}function pB(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Kx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n,r,i,s=me.min(),o=me.min(),a=En.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mB{constructor(e){this.ct=e}}function gB(t){const e=uB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?J_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(){this._n=new _B}addToCollectionParentIndex(e,n){return this._n.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(Zs.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(Zs.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class _B{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new on(It.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new on(It.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Fl(0)}static Ln(){return new Fl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(){this.changes=new nu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&dc(r.mutation,i,Jn.empty(),jt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,xe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=xe()){const i=Fo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Wu();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Fo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,xe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Qi();const o=hc(),a=function(){return hc()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof ao)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),dc(d.mutation,c,d.mutation.getFieldMask(),jt.now())):o.set(c.key,Jn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var m;return a.set(c,new wB(d,(m=o.get(c))!==null&&m!==void 0?m:null))}),a))}recalculateAndSaveOverlays(e,n){const r=hc();let i=new wt((o,a)=>o-a),s=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||Jn.empty();d=a.applyToLocalView(c,d),r.set(l,d);const m=(i.get(a.batchId)||xe()).add(l);i=i.insert(a.batchId,m)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,m=xx();d.forEach(g=>{if(!s.has(g)){const E=Mx(n.get(g),r.get(g));E!==null&&m.set(g,E),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,m))}return Q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return he.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):kj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Q.resolve(Fo());let a=-1,l=s;return o.next(c=>Q.forEach(c,(d,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),s.get(d)?Q.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{l=l.insert(d,g)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,xe())).next(d=>({batchId:a,changes:Ax(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new he(n)).next(r=>{let i=Wu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Wu();return this.indexManager.getCollectionParents(e,s).next(a=>Q.forEach(a,l=>{const c=function(m,g){return new Cm(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((m,g)=>{o=o.insert(m,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,_n.newInvalidDocument(d)))});let a=Wu();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&dc(d.mutation,c,Jn.empty(),jt.now()),km(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TB{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return Q.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ai(i.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:gB(i.bundledQuery),readTime:ai(i.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{constructor(){this.overlays=new wt(he.comparator),this.hr=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Fo();return Q.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),Q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const i=Fo(),s=n.length+1,o=new he(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new wt((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=Fo(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Fo(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return Q.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new qj(n,r));let s=this.hr.get(n);s===void 0&&(s=xe(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(){this.Pr=new on(Gt.Ir),this.Tr=new on(Gt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Gt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Gt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new he(new It([])),r=new Gt(n,e),i=new Gt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new he(new It([])),r=new Gt(n,e),i=new Gt(n,e+1);let s=xe();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Gt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Gt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return he.comparator(e.key,n.key)||Ue(e.pr,n.pr)}static Er(e,n){return Ue(e.pr,n.pr)||he.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new on(Gt.Ir)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Hj(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new Gt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Q.resolve(o)}lookupMutationBatch(e,n){return Q.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return Q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Gt(n,0),i=new Gt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),Q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new on(Ue);return n.forEach(i=>{const s=new Gt(i,0),o=new Gt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),Q.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;he.isDocumentKey(s)||(s=s.child(""));const o=new Gt(new he(s),0);let a=new on(Ue);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.pr)),!0)},o),Q.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){nt(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return Q.forEach(n.mutations,i=>{const s=new Gt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Gt(n,0),i=this.wr.firstAfterOrEqual(r);return Q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{constructor(e){this.vr=e,this.docs=function(){return new wt(he.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():_n.newInvalidDocument(n))}getEntries(e,n){let r=Qi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():_n.newInvalidDocument(i))}),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Qi();const o=n.path,a=new he(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||lj(aj(d),r)<=0||(i.has(d.key)||km(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return Q.resolve(s)}getAllFromCollectionGroup(e,n,r,i){pe()}Fr(e,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new bB(this)}getSize(e){return Q.resolve(this.size)}}class bB extends vB{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),Q.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(e){this.persistence=e,this.Mr=new nu(n=>S0(n),b0),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.Or=0,this.Nr=new R0,this.targetCount=0,this.Lr=Fl.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),Q.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Fl(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.qn(n),Q.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Q.waitFor(s).next(()=>i)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Q.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(e,n){this.Br={},this.overlays={},this.kr=new E0(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new kB(this),this.indexManager=new yB,this.remoteDocumentCache=function(i){return new SB(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new mB(n),this.$r=new TB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new IB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new CB(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){le("MemoryPersistence","Starting transaction:",e);const i=new xB(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return Q.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class xB extends cj{constructor(e){super(),this.currentSequenceNumber=e}}class P0{constructor(e){this.persistence=e,this.zr=new R0,this.jr=null}static Hr(e){return new P0(e)}get Jr(){if(this.jr)return this.jr;throw pe()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),Q.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Jr,r=>{const i=he.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,me.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return Q.or([()=>Q.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=xe(),i=xe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new N0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return l4()?8:hj(ln())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new RB;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Du()<=Ae.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Pa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Q.resolve()):(Du()<=Ae.DEBUG&&le("QueryEngine","Query:",Pa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Du()<=Ae.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Pa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,si(n))):Q.resolve())}ji(e,n){if(zI(n))return Q.resolve(null);let r=si(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=J_(n,null,"F"),r=si(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=xe(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Zi(n,a);return this.Xi(n,c,o,l.readTime)?this.ji(e,J_(n,null,"F")):this.es(e,c,n,l)}))})))}Hi(e,n,r,i){return zI(n)||i.isEqual(me.min())?Q.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?Q.resolve(null):(Du()<=Ae.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Pa(n)),this.es(e,o,n,oj(i,-1)).next(a=>a))})}Zi(e,n){let r=new on(bx(e));return n.forEach((i,s)=>{km(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Du()<=Ae.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Pa(n)),this.zi.getDocumentsMatchingQuery(e,n,Zs.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new wt(Ue),this.rs=new nu(s=>S0(s),b0),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new EB(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function OB(t,e,n,r){return new NB(t,e,n,r)}async function Qx(t,e){const n=ye(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=xe();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function DB(t,e){const n=ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const m=c.batch,g=m.keys();let E=Q.resolve();return g.forEach(S=>{E=E.next(()=>d.getEntry(l,S)).next(A=>{const D=c.docVersions.get(S);nt(D!==null),A.version.compareTo(D)<0&&(m.applyToRemoteDocument(A,c),A.isValidDocument()&&(A.setReadTime(c.commitVersion),d.addEntry(A)))})}),E.next(()=>a.mutationQueue.removeMutationBatch(l,m))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=xe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Yx(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function LB(t,e){const n=ye(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((d,m)=>{const g=i.get(m);if(!g)return;a.push(n.Qr.removeMatchingKeys(s,d.removedDocuments,m).next(()=>n.Qr.addMatchingKeys(s,d.addedDocuments,m)));let E=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?E=E.withResumeToken(En.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):d.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(d.resumeToken,r)),i=i.insert(m,E),function(A,D,b){return A.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(g,E,d)&&a.push(n.Qr.updateTargetData(s,E))});let l=Qi(),c=xe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(MB(s,o,e.documentUpdates).next(d=>{l=d.cs,c=d.ls})),!r.isEqual(me.min())){const d=n.Qr.getLastRemoteSnapshotVersion(s).next(m=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return Q.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ns=i,s))}function MB(t,e,n){let r=xe(),i=xe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Qi();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(me.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):le("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:o,ls:i}})}function FB(t,e){const n=ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function VB(t,e){const n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,Q.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new Ns(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function rv(t,e,n){const r=ye(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Eh(o))throw o;le("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function eC(t,e,n){const r=ye(t);let i=me.min(),s=xe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const m=ye(l),g=m.rs.get(d);return g!==void 0?Q.resolve(m.ns.get(g)):m.Qr.getTargetData(c,d)}(r,o,si(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:me.min(),n?s:xe())).next(a=>(UB(r,xj(e),a),{documents:a,hs:s})))}function UB(t,e,n){let r=t.ss.get(e)||me.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class tC{constructor(){this.activeTargetIds=Lj()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $B{constructor(){this.no=new tC,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new tC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ld=null;function iy(){return Ld===null?Ld=function(){return 268435456+Math.round(2147483648*Math.random())}():Ld++,"0x"+Ld.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn="WebChannelConnection";class WB extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){const a=iy(),l=this.vo(n,r.toUriEncodedString());le("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(c,s,o),this.Mo(n,l,c,i).then(d=>(le("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Nl("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}xo(n,r,i,s,o,a){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+tu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){const i=BB[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const s=iy();return new Promise((o,a)=>{const l=new lx;l.setWithCredentials(!0),l.listenOnce(cx.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case hf.NO_ERROR:const d=l.getResponseJson();le(dn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case hf.TIMEOUT:le(dn,`RPC '${e}' ${s} timed out`),a(new ce(Y.DEADLINE_EXCEEDED,"Request time out"));break;case hf.HTTP_ERROR:const m=l.getStatus();if(le(dn,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);const E=g==null?void 0:g.error;if(E&&E.status&&E.message){const S=function(D){const b=D.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(b)>=0?b:Y.UNKNOWN}(E.status);a(new ce(S,E.message))}else a(new ce(Y.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ce(Y.UNAVAILABLE,"Connection failed."));break;default:pe()}}finally{le(dn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);le(dn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Oo(e,n,r){const i=iy(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=fx(),a=dx(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new ux({})),this.Fo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");le(dn,`Creating RPC '${e}' stream ${i}: ${d}`,l);const m=o.createWebChannel(d,l);let g=!1,E=!1;const S=new zB({lo:D=>{E?le(dn,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(g||(le(dn,`Opening RPC '${e}' stream ${i} transport.`),m.open(),g=!0),le(dn,`RPC '${e}' stream ${i} sending:`,D),m.send(D))},ho:()=>m.close()}),A=(D,b,w)=>{D.listen(b,k=>{try{w(k)}catch(F){setTimeout(()=>{throw F},0)}})};return A(m,zu.EventType.OPEN,()=>{E||(le(dn,`RPC '${e}' stream ${i} transport opened.`),S.mo())}),A(m,zu.EventType.CLOSE,()=>{E||(E=!0,le(dn,`RPC '${e}' stream ${i} transport closed`),S.po())}),A(m,zu.EventType.ERROR,D=>{E||(E=!0,Nl(dn,`RPC '${e}' stream ${i} transport errored:`,D),S.po(new ce(Y.UNAVAILABLE,"The operation could not be completed")))}),A(m,zu.EventType.MESSAGE,D=>{var b;if(!E){const w=D.data[0];nt(!!w);const k=w,F=k.error||((b=k[0])===null||b===void 0?void 0:b.error);if(F){le(dn,`RPC '${e}' stream ${i} received error:`,F);const j=F.status;let W=function(R){const P=xt[R];if(P!==void 0)return Ux(P)}(j),C=F.message;W===void 0&&(W=Y.INTERNAL,C="Unknown error status: "+j+" with message "+F.message),E=!0,S.po(new ce(W,C)),m.close()}else le(dn,`RPC '${e}' stream ${i} received:`,w),S.yo(w)}}),A(a,hx.STAT_EVENT,D=>{D.stat===G_.PROXY?le(dn,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===G_.NOPROXY&&le(dn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.fo()},0),S}}function sy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(t){return new tB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new Xx(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(Ki(n.toString()),Ki("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new ce(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class HB extends Jx{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=iB(this.serializer,e),r=function(s){if(!("targetChange"in s))return me.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?me.min():o.readTime?ai(o.readTime):me.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=nv(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=X_(l)?{documents:aB(s,l)}:{query:lB(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Bx(s,o.resumeToken);const c=Z_(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(me.min())>0){a.readTime=Ap(s,o.snapshotVersion.toTimestamp());const c=Z_(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=cB(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=nv(this.serializer),n.removeTarget=e,this.i_(n)}}class qB extends Jx{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(nt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=oB(e.writeResults,e.commitTime),r=ai(e.commitTime);return this.listener.A_(r,n)}return nt(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=nv(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>sB(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new ce(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,ev(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ce(Y.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,ev(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ce(Y.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class KB{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Ki(n),this.y_=!1):le("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(async()=>{fa(this)&&(le("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ye(l);c.M_.add(4),await Ch(c),c.N_.set("Unknown"),c.M_.delete(4),await Nm(c)}(this))})}),this.N_=new KB(r,i)}}async function Nm(t){if(fa(t))for(const e of t.x_)await e(!0)}async function Ch(t){for(const e of t.x_)await e(!1)}function Zx(t,e){const n=ye(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),M0(n)?L0(n):ru(n).Xo()&&D0(n,e))}function O0(t,e){const n=ye(t),r=ru(n);n.F_.delete(e),r.Xo()&&eR(n,e),n.F_.size===0&&(r.Xo()?r.n_():fa(n)&&n.N_.set("Unknown"))}function D0(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ru(t).P_(e)}function eR(t,e){t.L_.xe(e),ru(t).I_(e)}function L0(t){t.L_=new Xj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ru(t).start(),t.N_.w_()}function M0(t){return fa(t)&&!ru(t).Zo()&&t.F_.size>0}function fa(t){return ye(t).M_.size===0}function tR(t){t.L_=void 0}async function YB(t){t.N_.set("Online")}async function XB(t){t.F_.forEach((e,n)=>{D0(t,e)})}async function JB(t,e){tR(t),M0(t)?(t.N_.D_(e),L0(t)):t.N_.set("Unknown")}async function ZB(t,e,n){if(t.N_.set("Online"),e instanceof jx&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.F_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.F_.delete(a),i.L_.removeTarget(a))}(t,e)}catch(r){le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await xp(t,r)}else if(e instanceof pf?t.L_.Ke(e):e instanceof $x?t.L_.He(e):t.L_.We(e),!n.isEqual(me.min()))try{const r=await Yx(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.L_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.F_.get(c);d&&s.F_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.F_.get(l);if(!d)return;s.F_.set(l,d.withResumeToken(En.EMPTY_BYTE_STRING,d.snapshotVersion)),eR(s,l);const m=new Ns(d.target,l,c,d.sequenceNumber);D0(s,m)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){le("RemoteStore","Failed to raise snapshot:",r),await xp(t,r)}}async function xp(t,e,n){if(!Eh(e))throw e;t.M_.add(1),await Ch(t),t.N_.set("Offline"),n||(n=()=>Yx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{le("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await Nm(t)})}function nR(t,e){return e().catch(n=>xp(t,n,e))}async function Om(t){const e=ye(t),n=to(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;e8(e);)try{const i=await FB(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,t8(e,i)}catch(i){await xp(e,i)}rR(e)&&iR(e)}function e8(t){return fa(t)&&t.v_.length<10}function t8(t,e){t.v_.push(e);const n=to(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function rR(t){return fa(t)&&!to(t).Zo()&&t.v_.length>0}function iR(t){to(t).start()}async function n8(t){to(t).V_()}async function r8(t){const e=to(t);for(const n of t.v_)e.d_(n.mutations)}async function i8(t,e,n){const r=t.v_.shift(),i=k0.from(r,e,n);await nR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Om(t)}async function s8(t,e){e&&to(t).E_&&await async function(r,i){if(function(o){return Kj(o)&&o!==Y.ABORTED}(i.code)){const s=r.v_.shift();to(r).t_(),await nR(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Om(r)}}(t,e),rR(t)&&iR(t)}async function rC(t,e){const n=ye(t);n.asyncQueue.verifyOperationInProgress(),le("RemoteStore","RemoteStore received new credentials");const r=fa(n);n.M_.add(3),await Ch(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await Nm(n)}async function o8(t,e){const n=ye(t);e?(n.M_.delete(2),await Nm(n)):e||(n.M_.add(2),await Ch(n),n.N_.set("Unknown"))}function ru(t){return t.B_||(t.B_=function(n,r,i){const s=ye(n);return s.f_(),new HB(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:YB.bind(null,t),To:XB.bind(null,t),Ao:JB.bind(null,t),h_:ZB.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),M0(t)?L0(t):t.N_.set("Unknown")):(await t.B_.stop(),tR(t))})),t.B_}function to(t){return t.k_||(t.k_=function(n,r,i){const s=ye(n);return s.f_(),new qB(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:n8.bind(null,t),Ao:s8.bind(null,t),R_:r8.bind(null,t),A_:i8.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await Om(t)):(await t.k_.stop(),t.v_.length>0&&(le("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new F0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function V0(t,e){if(Ki("AsyncQueue",`${e}: ${t}`),Eh(t))return new ce(Y.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||he.comparator(n.key,r.key):(n,r)=>he.comparator(n.key,r.key),this.keyedMap=Wu(),this.sortedSet=new wt(this.comparator)}static emptySet(e){return new fl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new fl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(){this.q_=new wt(he.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):pe():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Vl{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Vl(e,n,fl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class l8{constructor(){this.queries=new nu(e=>Sx(e),bm),this.onlineState="Unknown",this.z_=new Set}}async function sR(t,e){const n=ye(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new a8,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=V0(o,`Initialization of query '${Pa(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&U0(n)}async function oR(t,e){const n=ye(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function u8(t,e){const n=ye(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.U_)a.H_(i)&&(r=!0);o.K_=i}}r&&U0(n)}function c8(t,e,n){const r=ye(t),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(e)}function U0(t){t.z_.forEach(e=>{e.next()})}var iv,sC;(sC=iv||(iv={})).J_="default",sC.Cache="cache";class aR{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Vl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=Vl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==iv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e){this.key=e}}class uR{constructor(e){this.key=e}}class h8{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=xe(),this.mutatedKeys=xe(),this.Ia=bx(e),this.Ta=new fl(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new iC,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,m)=>{const g=i.get(d),E=km(this.query,m)?m:null,S=!!g&&this.mutatedKeys.has(g.key),A=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let D=!1;g&&E?g.data.isEqual(E.data)?S!==A&&(r.track({type:3,doc:E}),D=!0):this.Ra(g,E)||(r.track({type:2,doc:E}),D=!0,(l&&this.Ia(E,l)>0||c&&this.Ia(E,c)<0)&&(a=!0)):!g&&E?(r.track({type:0,doc:E}),D=!0):g&&!E&&(r.track({type:1,doc:g}),D=!0,(l||c)&&(a=!0)),D&&(E?(o=o.add(E),s=A?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ta:o,Aa:r,Xi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((d,m)=>function(E,S){const A=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe()}};return A(E)-A(S)}(d.type,m.type)||this.Ia(d.doc,m.doc)),this.Va(r),i=i!=null&&i;const a=n&&!i?this.ma():[],l=this.Pa.size===0&&this.current&&!i?1:0,c=l!==this.ha;return this.ha=l,o.length!==0||c?{snapshot:new Vl(this.query,e.Ta,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new iC,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=xe(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new uR(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new lR(r))}),n}pa(e){this.la=e.hs,this.Pa=xe();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return Vl.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class d8{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class f8{constructor(e){this.key=e,this.wa=!1}}class p8{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new nu(a=>Sx(a),bm),this.Da=new Map,this.Ca=new Set,this.va=new wt(he.comparator),this.Fa=new Map,this.Ma=new R0,this.xa={},this.Oa=new Map,this.Na=Fl.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function m8(t,e,n=!0){const r=mR(t);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await cR(r,e,n,!0),i}async function g8(t,e){const n=mR(t);await cR(n,e,!0,!1)}async function cR(t,e,n,r){const i=await VB(t.localStore,si(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await y8(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Zx(t.remoteStore,i),a}async function y8(t,e,n,r,i){t.Ba=(m,g,E)=>async function(A,D,b,w){let k=D.view.da(b);k.Xi&&(k=await eC(A.localStore,D.query,!1).then(({documents:C})=>D.view.da(C,k)));const F=w&&w.targetChanges.get(D.targetId),j=w&&w.targetMismatches.get(D.targetId)!=null,W=D.view.applyChanges(k,A.isPrimaryClient,F,j);return aC(A,D.targetId,W.fa),W.snapshot}(t,m,g,E);const s=await eC(t.localStore,e,!0),o=new h8(e,s.hs),a=o.da(s.documents),l=Ih.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);aC(t,n,c.fa);const d=new d8(e,n,o);return t.ba.set(e,d),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),c.snapshot}async function _8(t,e,n){const r=ye(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!bm(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await rv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&O0(r.remoteStore,i.targetId),sv(r,i.targetId)}).catch(wh)):(sv(r,i.targetId),await rv(r.localStore,i.targetId,!0))}async function v8(t,e){const n=ye(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),O0(n.remoteStore,r.targetId))}async function w8(t,e,n){const r=k8(t);try{const i=await function(o,a){const l=ye(o),c=jt.now(),d=a.reduce((E,S)=>E.add(S.key),xe());let m,g;return l.persistence.runTransaction("Locally write mutations","readwrite",E=>{let S=Qi(),A=xe();return l.os.getEntries(E,d).next(D=>{S=D,S.forEach((b,w)=>{w.isValidDocument()||(A=A.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(E,S)).next(D=>{m=D;const b=[];for(const w of a){const k=zj(w,m.get(w.key).overlayedDocument);k!=null&&b.push(new ao(w.key,k,_x(k.value.mapValue),oi.exists(!0)))}return l.mutationQueue.addMutationBatch(E,c,b,a)}).next(D=>{g=D;const b=D.applyToLocalDocumentSet(m,A);return l.documentOverlayCache.saveOverlays(E,D.batchId,b)})}).then(()=>({batchId:g.batchId,changes:Ax(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.xa[o.currentUser.toKey()];c||(c=new wt(Ue)),c=c.insert(a,l),o.xa[o.currentUser.toKey()]=c}(r,i.batchId,n),await Sh(r,i.changes),await Om(r.remoteStore)}catch(i){const s=V0(i,"Failed to persist write");n.reject(s)}}async function hR(t,e){const n=ye(t);try{const r=await LB(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Fa.get(s);o&&(nt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?nt(o.wa):i.removedDocuments.size>0&&(nt(o.wa),o.wa=!1))}),await Sh(n,r,e)}catch(r){await wh(r)}}function oC(t,e,n){const r=ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((s,o)=>{const a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ye(o);l.onlineState=a;let c=!1;l.queries.forEach((d,m)=>{for(const g of m.U_)g.j_(a)&&(c=!0)}),c&&U0(l)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function E8(t,e,n){const r=ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),s=i&&i.key;if(s){let o=new wt(he.comparator);o=o.insert(s,_n.newNoDocument(s,me.min()));const a=xe().add(s),l=new Rm(me.min(),new Map,new wt(Ue),o,a);await hR(r,l),r.va=r.va.remove(s),r.Fa.delete(e),$0(r)}else await rv(r.localStore,e,!1).then(()=>sv(r,e,n)).catch(wh)}async function T8(t,e){const n=ye(t),r=e.batch.batchId;try{const i=await DB(n.localStore,e);fR(n,r,null),dR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Sh(n,i)}catch(i){await wh(i)}}async function I8(t,e,n){const r=ye(t);try{const i=await function(o,a){const l=ye(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(m=>(nt(m!==null),d=m.keys(),l.mutationQueue.removeMutationBatch(c,m))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);fR(r,e,n),dR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Sh(r,i)}catch(i){await wh(i)}}function dR(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function fR(t,e,n){const r=ye(t);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function sv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||pR(t,r)})}function pR(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(O0(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),$0(t))}function aC(t,e,n){for(const r of n)r instanceof lR?(t.Ma.addReference(r.key,e),C8(t,r)):r instanceof uR?(le("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||pR(t,r.key)):pe()}function C8(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(le("SyncEngine","New document in limbo: "+n),t.Ca.add(r),$0(t))}function $0(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new he(It.fromString(e)),r=t.Na.next();t.Fa.set(r,new f8(n)),t.va=t.va.insert(n,r),Zx(t.remoteStore,new Ns(si(Sm(n.path)),r,"TargetPurposeLimboResolution",E0.oe))}}async function Sh(t,e,n){const r=ye(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,l)=>{o.push(r.Ba(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient){const d=c&&!c.fromCache;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=N0.Ki(l.targetId,c);s.push(d)}}))}),await Promise.all(o),r.Sa.h_(i),await async function(l,c){const d=ye(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>Q.forEach(c,g=>Q.forEach(g.qi,E=>d.persistence.referenceDelegate.addReference(m,g.targetId,E)).next(()=>Q.forEach(g.Qi,E=>d.persistence.referenceDelegate.removeReference(m,g.targetId,E)))))}catch(m){if(!Eh(m))throw m;le("LocalStore","Failed to update sequence numbers: "+m)}for(const m of c){const g=m.targetId;if(!m.fromCache){const E=d.ns.get(g),S=E.snapshotVersion,A=E.withLastLimboFreeSnapshotVersion(S);d.ns=d.ns.insert(g,A)}}}(r.localStore,s))}async function S8(t,e){const n=ye(t);if(!n.currentUser.isEqual(e)){le("SyncEngine","User change. New user:",e.toKey());const r=await Qx(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(l=>{l.reject(new ce(Y.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Sh(n,r.us)}}function b8(t,e){const n=ye(t),r=n.Fa.get(e);if(r&&r.wa)return xe().add(r.key);{let i=xe();const s=n.Da.get(e);if(!s)return i;for(const o of s){const a=n.ba.get(o);i=i.unionWith(a.view.Ea)}return i}}function mR(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=hR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=b8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=E8.bind(null,e),e.Sa.h_=u8.bind(null,e.eventManager),e.Sa.ka=c8.bind(null,e.eventManager),e}function k8(t){const e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=T8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=I8.bind(null,e),e}class lC{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Pm(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return OB(this.persistence,new PB,e.initialUser,this.serializer)}createPersistence(e){return new AB(P0.Hr,this.serializer)}createSharedClientState(e){return new $B}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class A8{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>oC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=S8.bind(null,this.syncEngine),await o8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new l8}()}createDatastore(e){const n=Pm(e.databaseInfo.databaseId),r=function(s){return new WB(s)}(e.databaseInfo);return function(s,o,a,l){return new GB(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new QB(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>oC(this.syncEngine,n,0),function(){return nC.D()?new nC:new jB}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,d){const m=new p8(i,s,o,a,l,c);return d&&(m.La=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=ye(r);le("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await Ch(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Ki("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x8{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=pn.UNAUTHENTICATED,this.clientId=mx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{le("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(le("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ce(Y.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=V0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function oy(t,e){t.asyncQueue.verifyOperationInProgress(),le("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Qx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function uC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await P8(t);le("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>rC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>rC(e.remoteStore,i)),t._onlineComponents=e}function R8(t){return t.name==="FirebaseError"?t.code===Y.FAILED_PRECONDITION||t.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function P8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){le("FirestoreClient","Using user provided OfflineComponentProvider");try{await oy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!R8(n))throw n;Nl("Error using user provided cache. Falling back to memory cache: "+n),await oy(t,new lC)}}else le("FirestoreClient","Using default OfflineComponentProvider"),await oy(t,new lC);return t._offlineComponents}async function yR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(le("FirestoreClient","Using user provided OnlineComponentProvider"),await uC(t,t._uninitializedComponentsProvider._online)):(le("FirestoreClient","Using default OnlineComponentProvider"),await uC(t,new A8))),t._onlineComponents}function N8(t){return yR(t).then(e=>e.syncEngine)}async function ov(t){const e=await yR(t),n=e.eventManager;return n.onListen=m8.bind(null,e.syncEngine),n.onUnlisten=_8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=g8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=v8.bind(null,e.syncEngine),n}function O8(t,e,n={}){const r=new Gs;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new gR({next:g=>{o.enqueueAndForget(()=>oR(s,m));const E=g.docs.has(a);!E&&g.fromCache?c.reject(new ce(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&g.fromCache&&l&&l.source==="server"?c.reject(new ce(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(g)},error:g=>c.reject(g)}),m=new aR(Sm(a.path),d,{includeMetadataChanges:!0,ra:!0});return sR(s,m)}(await ov(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D8(t,e,n){if(!n)throw new ce(Y.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function L8(t,e,n,r){if(e===!0&&r===!0)throw new ce(Y.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function hC(t){if(!he.isDocumentKey(t))throw new ce(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function j0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":pe()}function li(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=j0(t);throw new ce(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ce(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}L8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_R((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ce(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ce(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ce(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class B0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dC({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ce(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ce(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dC(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new X$;switch(r.type){case"firstParty":return new tj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=cC.get(n);r&&(le("ComponentProvider","Removing Datastore"),cC.delete(n),r.terminate())}(this),Promise.resolve()}}function M8(t,e,n,r={}){var i;const s=(t=li(t,B0))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=pn.MOCK_USER;else{a=Nw(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ce(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new pn(c)}t._authCredentials=new J$(new px(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Dm(this.firestore,e,this._query)}}class jn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jn(this.firestore,e,this._key)}}class Jc extends Dm{constructor(e,n,r){super(e,n,Sm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jn(this.firestore,null,new he(e))}withConverter(e){return new Jc(this.firestore,e,this._path)}}function F8(t,e,...n){if(t=vt(t),arguments.length===1&&(e=mx.newId()),D8("doc","path",e),t instanceof B0){const r=It.fromString(e,...n);return hC(r),new jn(t,null,new he(r))}{if(!(t instanceof jn||t instanceof Jc))throw new ce(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(It.fromString(e,...n));return hC(r),new jn(t.firestore,t instanceof Jc?t.converter:null,new he(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new Xx(this,"async_queue_retry"),this.hu=()=>{const n=sy();n&&le("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=sy();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=sy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Gs;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Eh(e))throw e;le("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ki("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=F0.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&pe()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}function fC(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Ul extends B0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new V8}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||vR(this),this._firestoreClient.terminate()}}function U8(t,e){const n=typeof t=="object"?t:hm(),r=typeof t=="string"?t:e||"(default)",i=uh(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Rw("firestore");s&&M8(i,...s)}return i}function z0(t){return t._firestoreClient||vR(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function vR(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,d){return new pj(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,_R(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new x8(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $l(En.fromBase64String(e))}catch(n){throw new ce(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $l(En.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $8=/^__.*__$/;class j8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ao(e,this.data,this.fieldMask,n,this.fieldTransforms):new Th(e,this.data,n,this.fieldTransforms)}}class wR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ao(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ER(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pe()}}class Fm{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Fm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Rp(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(ER(this.fu)&&$8.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class B8{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Pm(e)}Fu(e,n,r,i=!1){return new Fm({fu:e,methodName:n,vu:r,path:rn.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function TR(t){const e=t._freezeSettings(),n=Pm(t._databaseId);return new B8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function z8(t,e,n,r,i,s={}){const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);q0("Data must be an object, but it was:",o,r);const a=IR(r,o);let l,c;if(s.merge)l=new Jn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const m of s.mergeFields){const g=av(e,m,n);if(!o.contains(g))throw new ce(Y.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);SR(d,g)||d.push(g)}l=new Jn(d),c=o.fieldTransforms.filter(m=>l.covers(m.field))}else l=null,c=o.fieldTransforms;return new j8(new Ln(a),l,c)}class Vm extends Mm{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vm}}function W8(t,e,n){return new Fm({fu:3,vu:e.settings.vu,methodName:t._methodName,yu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class H0 extends Mm{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){const n=W8(this,e,!0),r=this.Mu.map(s=>bh(s,n)),i=new Ml(r);return new Uj(e.path,i)}isEqual(e){return e instanceof H0&&Fc(this.Mu,e.Mu)}}function H8(t,e,n,r){const i=t.Fu(1,e,n);q0("Data must be an object, but it was:",i,r);const s=[],o=Ln.empty();da(r,(l,c)=>{const d=G0(e,l,n);c=vt(c);const m=i.Su(d);if(c instanceof Vm)s.push(d);else{const g=bh(c,m);g!=null&&(s.push(d),o.set(d,g))}});const a=new Jn(s);return new wR(o,a,i.fieldTransforms)}function q8(t,e,n,r,i,s){const o=t.Fu(1,e,n),a=[av(e,r,n)],l=[i];if(s.length%2!=0)throw new ce(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)a.push(av(e,s[g])),l.push(s[g+1]);const c=[],d=Ln.empty();for(let g=a.length-1;g>=0;--g)if(!SR(c,a[g])){const E=a[g];let S=l[g];S=vt(S);const A=o.Su(E);if(S instanceof Vm)c.push(E);else{const D=bh(S,A);D!=null&&(c.push(E),d.set(E,D))}}const m=new Jn(c);return new wR(d,m,o.fieldTransforms)}function bh(t,e){if(CR(t=vt(t)))return q0("Unsupported field value:",e,t),IR(t,e);if(t instanceof Mm)return function(r,i){if(!ER(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=bh(a,i.bu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=vt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Mj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=jt.fromDate(r);return{timestampValue:Ap(i.serializer,s)}}if(r instanceof jt){const s=new jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ap(i.serializer,s)}}if(r instanceof W0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $l)return{bytesValue:Bx(i.serializer,r._byteString)};if(r instanceof jn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:x0(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${j0(r)}`)}(t,e)}function IR(t,e){const n={};return gx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):da(t,(r,i)=>{const s=bh(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function CR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof jt||t instanceof W0||t instanceof $l||t instanceof jn||t instanceof Mm)}function q0(t,e,n){if(!CR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=j0(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function av(t,e,n){if((e=vt(e))instanceof Lm)return e._internalPath;if(typeof e=="string")return G0(t,e);throw Rp("Field path arguments must be of type string or ",t,!1,void 0,n)}const G8=new RegExp("[~\\*/\\[\\]]");function G0(t,e,n){if(e.search(G8)>=0)throw Rp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Lm(...e.split("."))._internalPath}catch{throw Rp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ce(Y.INVALID_ARGUMENT,a+t+l)}function SR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new K8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(kR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class K8 extends bR{data(){return super.data()}}function kR(t,e){return typeof e=="string"?G0(t,e):e instanceof Lm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q8(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Y8{convertValue(e,n="none"){switch(ia(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ra(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw pe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return da(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new W0(Rt(e.latitude),Rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=I0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Kc(e));default:return null}}convertTimestamp(e){const n=eo(e);return new jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=It.fromString(e);nt(Kx(r));const i=new Qc(r.get(1),r.get(3)),s=new he(r.popFirst(5));return i.isEqual(n)||Ki(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X8(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class AR extends bR{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new mf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(kR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class mf extends AR{data(e={}){return super.data(e)}}class J8{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new qu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new mf(this._firestore,this._userDataWriter,r.key,r,new qu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new mf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new qu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new mf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new qu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:Z8(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Z8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y7(t){t=li(t,jn);const e=li(t.firestore,Ul);return O8(z0(e),t._key).then(n=>PR(e,t,n))}class xR extends Y8{constructor(e){super(),this.firestore=e}convertBytes(e){return new $l(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new jn(this.firestore,null,n)}}function ez(t,e,n){t=li(t,jn);const r=li(t.firestore,Ul),i=X8(t.converter,e,n);return RR(r,[z8(TR(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,oi.none())])}function _7(t,e,n,...r){t=li(t,jn);const i=li(t.firestore,Ul),s=TR(i);let o;return o=typeof(e=vt(e))=="string"||e instanceof Lm?q8(s,"updateDoc",t._key,e,n,r):H8(s,"updateDoc",t._key,e),RR(i,[o.toMutation(t._key,oi.exists(!0))])}function v7(t,...e){var n,r,i;t=vt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||fC(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(fC(e[o])){const m=e[o];e[o]=(n=m.next)===null||n===void 0?void 0:n.bind(m),e[o+1]=(r=m.error)===null||r===void 0?void 0:r.bind(m),e[o+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let l,c,d;if(t instanceof jn)c=li(t.firestore,Ul),d=Sm(t._key.path),l={next:m=>{e[o]&&e[o](PR(c,t,m))},error:e[o+1],complete:e[o+2]};else{const m=li(t,Dm);c=li(m.firestore,Ul),d=m._query;const g=new xR(c);l={next:E=>{e[o]&&e[o](new J8(c,g,m,E))},error:e[o+1],complete:e[o+2]},Q8(t._query)}return function(g,E,S,A){const D=new gR(A),b=new aR(E,D,S);return g.asyncQueue.enqueueAndForget(async()=>sR(await ov(g),b)),()=>{D.$a(),g.asyncQueue.enqueueAndForget(async()=>oR(await ov(g),b))}}(z0(c),d,a,l)}function RR(t,e){return function(r,i){const s=new Gs;return r.asyncQueue.enqueueAndForget(async()=>w8(await N8(r),i,s)),s.promise}(z0(t),e)}function PR(t,e,n){const r=n.docs.get(e._key),i=new xR(t);return new AR(t,i,e._key,r,new qu(n.hasPendingWrites,n.fromCache),e.converter)}function w7(...t){return new H0("arrayUnion",t)}(function(e,n=!0){(function(i){tu=i})(so),Ys(new Hi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Ul(new Z$(r.getProvider("auth-internal")),new rj(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ce(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qc(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),dr(DI,"4.6.3",e),dr(DI,"4.6.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR="firebasestorage.googleapis.com",tz="storageBucket",nz=2*60*1e3,rz=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends fi{constructor(e,n,r=0){super(ay(e),`Firebase Storage: ${n} (${ay(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,pi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ay(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var di;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(di||(di={}));function ay(t){return"storage/"+t}function iz(){const t="An unknown error occurred, please check the error payload for server response.";return new pi(di.UNKNOWN,t)}function sz(){return new pi(di.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function oz(){return new pi(di.CANCELED,"User canceled the upload/download.")}function az(t){return new pi(di.INVALID_URL,"Invalid URL '"+t+"'.")}function lz(t){return new pi(di.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function pC(t){return new pi(di.INVALID_ARGUMENT,t)}function OR(){return new pi(di.APP_DELETED,"The Firebase app was deleted.")}function uz(t){return new pi(di.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Rr.makeFromUrl(e,n)}catch{return new Rr(e,"")}if(r.path==="")return r;throw lz(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(F){F.path.charAt(F.path.length-1)==="/"&&(F.path_=F.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(F){F.path_=decodeURIComponent(F.path)}const d="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",E=new RegExp(`^https?://${m}/${d}/b/${i}/o${g}`,"i"),S={bucket:1,path:3},A=n===NR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,D="([^?#]*)",b=new RegExp(`^https?://${A}/${i}/${D}`,"i"),k=[{regex:a,indices:l,postModify:s},{regex:E,indices:S,postModify:c},{regex:b,indices:{bucket:1,path:2},postModify:c}];for(let F=0;F<k.length;F++){const j=k[F],W=j.regex.exec(e);if(W){const C=W[j.indices.bucket];let I=W[j.indices.path];I||(I=""),r=new Rr(C,I),j.postModify(r);break}}if(r==null)throw az(e);return r}}class cz{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hz(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function d(...D){c||(c=!0,e.apply(null,D))}function m(D){i=setTimeout(()=>{i=null,t(E,l())},D)}function g(){s&&clearTimeout(s)}function E(D,...b){if(c){g();return}if(D){g(),d.call(null,D,...b);return}if(l()||o){g(),d.call(null,D,...b);return}r<64&&(r*=2);let k;a===1?(a=2,k=0):k=(r+Math.random())*1e3,m(k)}let S=!1;function A(D){S||(S=!0,g(),!c&&(i!==null?(D||(a=2),clearTimeout(i),m(0)):D||(a=1)))}return m(0),s=setTimeout(()=>{o=!0,A(!0)},n),A}function dz(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fz(t){return t!==void 0}function mC(t,e,n,r){if(r<e)throw pC(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw pC(`Invalid value for '${t}'. Expected ${n} or less.`)}function pz(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pp;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Pp||(Pp={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mz(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{constructor(e,n,r,i,s,o,a,l,c,d,m,g=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=m,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,S)=>{this.resolve_=E,this.reject_=S,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Md(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Pp.NO_ERROR,l=s.getStatus();if(!a||mz(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===Pp.ABORT;r(!1,new Md(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Md(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());fz(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=iz();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?OR():oz();o(l)}else{const l=sz();o(l)}};this.canceled_?n(!1,new Md(!1,null,!0)):this.backoffId_=hz(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&dz(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Md{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function yz(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function _z(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function vz(t,e){e&&(t["X-Firebase-GMPID"]=e)}function wz(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Ez(t,e,n,r,i,s,o=!0){const a=pz(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return vz(c,e),yz(c,n),_z(c,s),wz(c,r),new gz(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tz(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Iz(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,n){this._service=e,n instanceof Rr?this._location=n:this._location=Rr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Np(e,n)}get root(){const e=new Rr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Iz(this._location.path)}get storage(){return this._service}get parent(){const e=Tz(this._location.path);if(e===null)return null;const n=new Rr(this._location.bucket,e);return new Np(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw uz(e)}}function gC(t,e){const n=e==null?void 0:e[tz];return n==null?null:Rr.makeFromBucketSpec(n,t)}function Cz(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Nw(i,t.app.options.projectId))}class Sz{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=NR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=nz,this._maxUploadRetryTime=rz,this._requests=new Set,i!=null?this._bucket=Rr.makeFromBucketSpec(i,this._host):this._bucket=gC(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Rr.makeFromBucketSpec(this._url,e):this._bucket=gC(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){mC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){mC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Np(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new cz(OR());{const o=Ez(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const yC="@firebase/storage",_C="0.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR="storage";function bz(t=hm(),e){t=vt(t);const r=uh(t,DR).getImmediate({identifier:e}),i=Rw("storage");return i&&kz(r,...i),r}function kz(t,e,n,r={}){Cz(t,e,n,r)}function Az(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Sz(n,r,i,e,so)}function xz(){Ys(new Hi(DR,Az,"PUBLIC").setMultipleInstances(!0)),dr(yC,_C,""),dr(yC,_C,"esm2017")}xz();const Rz={apiKey:{}.VITE_FIREBASE_API_KEY,authDomain:{}.VITE_FIREBASE_AUTH_DOMAIN,projectId:{}.VITE_FIREBASE_PROJECT_ID,storageBucket:{}.VITE_FIREBASE_STORAGE_BUCKET,databaseURL:{}.VITE_FIREBASE_DATABASE_URL,messagingSenderId:{}.VITE_FIREBASE_MESSAGING_SENDER_ID,appId:{}.VITE_FIREBASE_APP_ID},Pz=u2(Rz),Fd=zw(Pz),E7=K$();bz();const Nz=U8(),LR=J.createContext(),Oz=({children:t})=>{const[e,n]=J.useState(null),r=(o,a)=>S3(Fd,o,a),i=(o,a)=>b3(Fd,o,a),s=()=>N3(Fd);return J.useEffect(()=>P3(Fd,a=>{n(a)}),[]),G.jsx(LR.Provider,{value:{currentUser:e,signup:r,login:i,logout:s},children:t})},K0=()=>J.useContext(LR);var MR={exports:{}};/*!
* sweetalert2 v11.12.0
* Released under the MIT License.
*/(function(t,e){(function(n,r){t.exports=r()})(ms,function(){function n(v,h){(h==null||h>v.length)&&(h=v.length);for(var f=0,_=Array(h);f<h;f++)_[f]=v[f];return _}function r(v){if(Array.isArray(v))return v}function i(v){if(Array.isArray(v))return n(v)}function s(v,h,f){if(typeof v=="function"?v===h:v.has(h))return arguments.length<3?h:f;throw new TypeError("Private element is not present on this object")}function o(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function a(v,h,f){return h=w(h),R(v,F()?Reflect.construct(h,f||[],w(v).constructor):h.apply(v,f))}function l(v,h){if(h.has(v))throw new TypeError("Cannot initialize the same private elements twice on an object")}function c(v,h){if(!(v instanceof h))throw new TypeError("Cannot call a class as a function")}function d(v,h){return v.get(s(v,h))}function m(v,h,f){l(v,h),h.set(v,f)}function g(v,h,f){return v.set(s(v,h),f),f}function E(v,h,f){if(F())return Reflect.construct.apply(null,arguments);var _=[null];_.push.apply(_,h);var N=new(v.bind.apply(v,_));return N}function S(v,h){for(var f=0;f<h.length;f++){var _=h[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(v,qe(_.key),_)}}function A(v,h,f){return h&&S(v.prototype,h),Object.defineProperty(v,"prototype",{writable:!1}),v}function D(v,h){var f=typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(!f){if(Array.isArray(v)||(f=Pe(v))||h){f&&(v=f);var _=0,N=function(){};return{s:N,n:function(){return _>=v.length?{done:!0}:{done:!1,value:v[_++]}},e:function(ge){throw ge},f:N}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var H,ie=!0,_e=!1;return{s:function(){f=f.call(v)},n:function(){var ge=f.next();return ie=ge.done,ge},e:function(ge){_e=!0,H=ge},f:function(){try{ie||f.return==null||f.return()}finally{if(_e)throw H}}}}function b(){return b=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(v,h,f){var _=M(v,h);if(_){var N=Object.getOwnPropertyDescriptor(_,h);return N.get?N.get.call(arguments.length<3?v:f):N.value}},b.apply(null,arguments)}function w(v){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)},w(v)}function k(v,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(h&&h.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),h&&P(v,h)}function F(){try{var v=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F=function(){return!!v})()}function j(v){if(typeof Symbol<"u"&&v[Symbol.iterator]!=null||v["@@iterator"]!=null)return Array.from(v)}function W(v,h){var f=v==null?null:typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(f!=null){var _,N,H,ie,_e=[],ge=!0,Et=!1;try{if(H=(f=f.call(v)).next,h!==0)for(;!(ge=(_=H.call(f)).done)&&(_e.push(_.value),_e.length!==h);ge=!0);}catch(vu){Et=!0,N=vu}finally{try{if(!ge&&f.return!=null&&(ie=f.return(),Object(ie)!==ie))return}finally{if(Et)throw N}}return _e}}function C(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R(v,h){if(h&&(typeof h=="object"||typeof h=="function"))return h;if(h!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o(v)}function P(v,h){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,_){return f.__proto__=_,f},P(v,h)}function L(v,h){return r(v)||W(v,h)||Pe(v,h)||C()}function M(v,h){for(;!{}.hasOwnProperty.call(v,h)&&(v=w(v))!==null;);return v}function x(v){return i(v)||j(v)||Pe(v)||I()}function we(v,h){if(typeof v!="object"||!v)return v;var f=v[Symbol.toPrimitive];if(f!==void 0){var _=f.call(v,h);if(typeof _!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(v)}function qe(v){var h=we(v,"string");return typeof h=="symbol"?h:h+""}function Ee(v){"@babel/helpers - typeof";return Ee=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},Ee(v)}function Pe(v,h){if(v){if(typeof v=="string")return n(v,h);var f={}.toString.call(v).slice(8,-1);return f==="Object"&&v.constructor&&(f=v.constructor.name),f==="Map"||f==="Set"?Array.from(v):f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f)?n(v,h):void 0}}var re=100,K={},ue=function(){K.previousActiveElement instanceof HTMLElement?(K.previousActiveElement.focus(),K.previousActiveElement=null):document.body&&document.body.focus()},Me=function(h){return new Promise(function(f){if(!h)return f();var _=window.scrollX,N=window.scrollY;K.restoreFocusTimeout=setTimeout(function(){ue(),f()},re),window.scrollTo(_,N)})},Ce="swal2-",je=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"],U=je.reduce(function(v,h){return v[h]=Ce+h,v},{}),zt=["success","warning","info","question","error"],ct=zt.reduce(function(v,h){return v[h]=Ce+h,v},{}),ht="SweetAlert2:",Wn=function(h){return h.charAt(0).toUpperCase()+h.slice(1)},dt=function(h){console.warn("".concat(ht," ").concat(Ee(h)==="object"?h.join(" "):h))},mt=function(h){console.error("".concat(ht," ").concat(h))},Fr=[],lo=function(h){Fr.includes(h)||(Fr.push(h),dt(h))},mi=function(h){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;lo('"'.concat(h,'" is deprecated and will be removed in the next major release.').concat(f?' Use "'.concat(f,'" instead.'):""))},gr=function(h){return typeof h=="function"?h():h},ns=function(h){return h&&typeof h.toPromise=="function"},gi=function(h){return ns(h)?h.toPromise():Promise.resolve(h)},uo=function(h){return h&&Promise.resolve(h)===h},O=function(){return document.body.querySelector(".".concat(U.container))},$=function(h){var f=O();return f?f.querySelector(h):null},z=function(h){return $(".".concat(h))},q=function(){return z(U.popup)},ne=function(){return z(U.icon)},Z=function(){return z(U["icon-content"])},ae=function(){return z(U.title)},Te=function(){return z(U["html-container"])},Qe=function(){return z(U.image)},Ne=function(){return z(U["progress-steps"])},Ye=function(){return z(U["validation-message"])},Jt=function(){return $(".".concat(U.actions," .").concat(U.confirm))},Hn=function(){return $(".".concat(U.actions," .").concat(U.cancel))},Rn=function(){return $(".".concat(U.actions," .").concat(U.deny))},iu=function(){return z(U["input-label"])},Tn=function(){return $(".".concat(U.loader))},Vr=function(){return z(U.actions)},rs=function(){return z(U.footer)},is=function(){return z(U["timer-progress-bar"])},su=function(){return z(U.close)},Um=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,co=function(){var h=q();if(!h)return[];var f=h.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),_=Array.from(f).sort(function(ie,_e){var ge=parseInt(ie.getAttribute("tabindex")||"0"),Et=parseInt(_e.getAttribute("tabindex")||"0");return ge>Et?1:ge<Et?-1:0}),N=h.querySelectorAll(Um),H=Array.from(N).filter(function(ie){return ie.getAttribute("tabindex")!=="-1"});return x(new Set(_.concat(H))).filter(function(ie){return un(ie)})},pa=function(){return qn(document.body,U.shown)&&!qn(document.body,U["toast-shown"])&&!qn(document.body,U["no-backdrop"])},ho=function(){var h=q();return h?qn(h,U.toast):!1},fo=function(){var h=q();return h?h.hasAttribute("data-loading"):!1},Zt=function(h,f){if(h.textContent="",f){var _=new DOMParser,N=_.parseFromString(f,"text/html"),H=N.querySelector("head");H&&Array.from(H.childNodes).forEach(function(_e){h.appendChild(_e)});var ie=N.querySelector("body");ie&&Array.from(ie.childNodes).forEach(function(_e){_e instanceof HTMLVideoElement||_e instanceof HTMLAudioElement?h.appendChild(_e.cloneNode(!0)):h.appendChild(_e)})}},qn=function(h,f){if(!f)return!1;for(var _=f.split(/\s+/),N=0;N<_.length;N++)if(!h.classList.contains(_[N]))return!1;return!0},yi=function(h,f){Array.from(h.classList).forEach(function(_){!Object.values(U).includes(_)&&!Object.values(ct).includes(_)&&!Object.values(f.showClass||{}).includes(_)&&h.classList.remove(_)})},In=function(h,f,_){if(yi(h,f),f.customClass&&f.customClass[_]){if(typeof f.customClass[_]!="string"&&!f.customClass[_].forEach){dt("Invalid type of customClass.".concat(_,'! Expected string or iterable object, got "').concat(Ee(f.customClass[_]),'"'));return}ke(h,f.customClass[_])}},_i=function(h,f){if(!f)return null;switch(f){case"select":case"textarea":case"file":return h.querySelector(".".concat(U.popup," > .").concat(U[f]));case"checkbox":return h.querySelector(".".concat(U.popup," > .").concat(U.checkbox," input"));case"radio":return h.querySelector(".".concat(U.popup," > .").concat(U.radio," input:checked"))||h.querySelector(".".concat(U.popup," > .").concat(U.radio," input:first-child"));case"range":return h.querySelector(".".concat(U.popup," > .").concat(U.range," input"));default:return h.querySelector(".".concat(U.popup," > .").concat(U.input))}},ou=function(h){if(h.focus(),h.type!=="file"){var f=h.value;h.value="",h.value=f}},ss=function(h,f,_){!h||!f||(typeof f=="string"&&(f=f.split(/\s+/).filter(Boolean)),f.forEach(function(N){Array.isArray(h)?h.forEach(function(H){_?H.classList.add(N):H.classList.remove(N)}):_?h.classList.add(N):h.classList.remove(N)}))},ke=function(h,f){ss(h,f,!0)},Ze=function(h,f){ss(h,f,!1)},yr=function(h,f){for(var _=Array.from(h.children),N=0;N<_.length;N++){var H=_[N];if(H instanceof HTMLElement&&qn(H,f))return H}},Gn=function(h,f,_){_==="".concat(parseInt(_))&&(_=parseInt(_)),_||parseInt(_)===0?h.style.setProperty(f,typeof _=="number"?"".concat(_,"px"):_):h.style.removeProperty(f)},ft=function(h){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";h&&(h.style.display=f)},Wt=function(h){h&&(h.style.display="none")},au=function(h){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";h&&new MutationObserver(function(){po(h,h.innerHTML,f)}).observe(h,{childList:!0,subtree:!0})},vi=function(h,f,_,N){var H=h.querySelector(f);H&&H.style.setProperty(_,N)},po=function(h,f){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";f?ft(h,_):Wt(h)},un=function(h){return!!(h&&(h.offsetWidth||h.offsetHeight||h.getClientRects().length))},ma=function(){return!un(Jt())&&!un(Rn())&&!un(Hn())},lu=function(h){return h.scrollHeight>h.clientHeight},ga=function(h){var f=window.getComputedStyle(h),_=parseFloat(f.getPropertyValue("animation-duration")||"0"),N=parseFloat(f.getPropertyValue("transition-duration")||"0");return _>0||N>0},os=function(h){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,_=is();_&&un(_)&&(f&&(_.style.transition="none",_.style.width="100%"),setTimeout(function(){_.style.transition="width ".concat(h/1e3,"s linear"),_.style.width="0%"},10))},Ur=function(){var h=is();if(h){var f=parseInt(window.getComputedStyle(h).width);h.style.removeProperty("transition"),h.style.width="100%";var _=parseInt(window.getComputedStyle(h).width),N=f/_*100;h.style.width="".concat(N,"%")}},uu=function(){return typeof window>"u"||typeof document>"u"},kh=`
 <div aria-labelledby="`.concat(U.title,'" aria-describedby="').concat(U["html-container"],'" class="').concat(U.popup,`" tabindex="-1">
   <button type="button" class="`).concat(U.close,`"></button>
   <ul class="`).concat(U["progress-steps"],`"></ul>
   <div class="`).concat(U.icon,`"></div>
   <img class="`).concat(U.image,`" />
   <h2 class="`).concat(U.title,'" id="').concat(U.title,`"></h2>
   <div class="`).concat(U["html-container"],'" id="').concat(U["html-container"],`"></div>
   <input class="`).concat(U.input,'" id="').concat(U.input,`" />
   <input type="file" class="`).concat(U.file,`" />
   <div class="`).concat(U.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat(U.select,'" id="').concat(U.select,`"></select>
   <div class="`).concat(U.radio,`"></div>
   <label class="`).concat(U.checkbox,`">
     <input type="checkbox" id="`).concat(U.checkbox,`" />
     <span class="`).concat(U.label,`"></span>
   </label>
   <textarea class="`).concat(U.textarea,'" id="').concat(U.textarea,`"></textarea>
   <div class="`).concat(U["validation-message"],'" id="').concat(U["validation-message"],`"></div>
   <div class="`).concat(U.actions,`">
     <div class="`).concat(U.loader,`"></div>
     <button type="button" class="`).concat(U.confirm,`"></button>
     <button type="button" class="`).concat(U.deny,`"></button>
     <button type="button" class="`).concat(U.cancel,`"></button>
   </div>
   <div class="`).concat(U.footer,`"></div>
   <div class="`).concat(U["timer-progress-bar-container"],`">
     <div class="`).concat(U["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),cu=function(){var h=O();return h?(h.remove(),Ze([document.documentElement,document.body],[U["no-backdrop"],U["toast-shown"],U["has-column"]]),!0):!1},_r=function(){K.currentInstance.resetValidationMessage()},Ah=function(){var h=q(),f=yr(h,U.input),_=yr(h,U.file),N=h.querySelector(".".concat(U.range," input")),H=h.querySelector(".".concat(U.range," output")),ie=yr(h,U.select),_e=h.querySelector(".".concat(U.checkbox," input")),ge=yr(h,U.textarea);f.oninput=_r,_.onchange=_r,ie.onchange=_r,_e.onchange=_r,ge.oninput=_r,N.oninput=function(){_r(),H.value=N.value},N.onchange=function(){_r(),H.value=N.value}},xh=function(h){return typeof h=="string"?document.querySelector(h):h},$m=function(h){var f=q();f.setAttribute("role",h.toast?"alert":"dialog"),f.setAttribute("aria-live",h.toast?"polite":"assertive"),h.toast||f.setAttribute("aria-modal","true")},ya=function(h){window.getComputedStyle(h).direction==="rtl"&&ke(O(),U.rtl)},Rh=function(h){var f=cu();if(uu()){mt("SweetAlert2 requires document to initialize");return}var _=document.createElement("div");_.className=U.container,f&&ke(_,U["no-transition"]),Zt(_,kh);var N=xh(h.target);N.appendChild(_),$m(h),ya(N),Ah()},mo=function(h,f){h instanceof HTMLElement?f.appendChild(h):Ee(h)==="object"?go(h,f):h&&Zt(f,h)},go=function(h,f){h.jquery?wi(f,h):Zt(f,h.toString())},wi=function(h,f){if(h.textContent="",0 in f)for(var _=0;_ in f;_++)h.appendChild(f[_].cloneNode(!0));else h.appendChild(f.cloneNode(!0))},vr=function(){if(uu())return!1;var v=document.createElement("div");return typeof v.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof v.style.animation<"u"?"animationend":!1}(),jm=function(h,f){var _=Vr(),N=Tn();!_||!N||(!f.showConfirmButton&&!f.showDenyButton&&!f.showCancelButton?Wt(_):ft(_),In(_,f,"actions"),Ph(_,N,f),Zt(N,f.loaderHtml||""),In(N,f,"loader"))};function Ph(v,h,f){var _=Jt(),N=Rn(),H=Hn();!_||!N||!H||(_a(_,"confirm",f),_a(N,"deny",f),_a(H,"cancel",f),Nh(_,N,H,f),f.reverseButtons&&(f.toast?(v.insertBefore(H,_),v.insertBefore(N,_)):(v.insertBefore(H,h),v.insertBefore(N,h),v.insertBefore(_,h))))}function Nh(v,h,f,_){if(!_.buttonsStyling){Ze([v,h,f],U.styled);return}ke([v,h,f],U.styled),_.confirmButtonColor&&(v.style.backgroundColor=_.confirmButtonColor,ke(v,U["default-outline"])),_.denyButtonColor&&(h.style.backgroundColor=_.denyButtonColor,ke(h,U["default-outline"])),_.cancelButtonColor&&(f.style.backgroundColor=_.cancelButtonColor,ke(f,U["default-outline"]))}function _a(v,h,f){var _=Wn(h);po(v,f["show".concat(_,"Button")],"inline-block"),Zt(v,f["".concat(h,"ButtonText")]||""),v.setAttribute("aria-label",f["".concat(h,"ButtonAriaLabel")]||""),v.className=U[h],In(v,f,"".concat(h,"Button"))}var hu=function(h,f){var _=su();_&&(Zt(_,f.closeButtonHtml||""),In(_,f,"closeButton"),po(_,f.showCloseButton),_.setAttribute("aria-label",f.closeButtonAriaLabel||""))},du=function(h,f){var _=O();_&&(Oh(_,f.backdrop),Dh(_,f.position),Bm(_,f.grow),In(_,f,"container"))};function Oh(v,h){typeof h=="string"?v.style.background=h:h||ke([document.documentElement,document.body],U["no-backdrop"])}function Dh(v,h){h&&(h in U?ke(v,U[h]):(dt('The "position" parameter is not valid, defaulting to "center"'),ke(v,U.center)))}function Bm(v,h){h&&ke(v,U["grow-".concat(h)])}var Ge={innerParams:new WeakMap,domCache:new WeakMap},Lh=["input","file","range","select","radio","checkbox","textarea"],Mh=function(h,f){var _=q();if(_){var N=Ge.innerParams.get(h),H=!N||f.input!==N.input;Lh.forEach(function(ie){var _e=yr(_,U[ie]);_e&&(wr(ie,f.inputAttributes),_e.className=U[ie],H&&Wt(_e))}),f.input&&(H&&zm(f),va(f))}},zm=function(h){if(h.input){if(!Xe[h.input]){mt("Unexpected type of input! Expected ".concat(Object.keys(Xe).join(" | "),', got "').concat(h.input,'"'));return}var f=Ke(h.input),_=Xe[h.input](f,h);ft(f),h.inputAutoFocus&&setTimeout(function(){ou(_)})}},Ei=function(h){for(var f=0;f<h.attributes.length;f++){var _=h.attributes[f].name;["id","type","value","style"].includes(_)||h.removeAttribute(_)}},wr=function(h,f){var _=_i(q(),h);if(_){Ei(_);for(var N in f)_.setAttribute(N,f[N])}},va=function(h){var f=Ke(h.input);Ee(h.customClass)==="object"&&ke(f,h.customClass.input)},as=function(h,f){(!h.placeholder||f.inputPlaceholder)&&(h.placeholder=f.inputPlaceholder)},ls=function(h,f,_){if(_.inputLabel){var N=document.createElement("label"),H=U["input-label"];N.setAttribute("for",h.id),N.className=H,Ee(_.customClass)==="object"&&ke(N,_.customClass.inputLabel),N.innerText=_.inputLabel,f.insertAdjacentElement("beforebegin",N)}},Ke=function(h){return yr(q(),U[h]||U.input)},Ti=function(h,f){["string","number"].includes(Ee(f))?h.value="".concat(f):uo(f)||dt('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(Ee(f),'"'))},Xe={};Xe.text=Xe.email=Xe.password=Xe.number=Xe.tel=Xe.url=Xe.search=Xe.date=Xe["datetime-local"]=Xe.time=Xe.week=Xe.month=function(v,h){return Ti(v,h.inputValue),ls(v,v,h),as(v,h),v.type=h.input,v},Xe.file=function(v,h){return ls(v,v,h),as(v,h),v},Xe.range=function(v,h){var f=v.querySelector("input"),_=v.querySelector("output");return Ti(f,h.inputValue),f.type=h.input,Ti(_,h.inputValue),ls(f,v,h),v},Xe.select=function(v,h){if(v.textContent="",h.inputPlaceholder){var f=document.createElement("option");Zt(f,h.inputPlaceholder),f.value="",f.disabled=!0,f.selected=!0,v.appendChild(f)}return ls(v,v,h),v},Xe.radio=function(v){return v.textContent="",v},Xe.checkbox=function(v,h){var f=_i(q(),"checkbox");f.value="1",f.checked=!!h.inputValue;var _=v.querySelector("span");return Zt(_,h.inputPlaceholder),f},Xe.textarea=function(v,h){Ti(v,h.inputValue),as(v,h),ls(v,v,h);var f=function(N){return parseInt(window.getComputedStyle(N).marginLeft)+parseInt(window.getComputedStyle(N).marginRight)};return setTimeout(function(){if("MutationObserver"in window){var _=parseInt(window.getComputedStyle(q()).width),N=function(){if(document.body.contains(v)){var ie=v.offsetWidth+f(v);ie>_?q().style.width="".concat(ie,"px"):Gn(q(),"width",h.width)}};new MutationObserver(N).observe(v,{attributes:!0,attributeFilter:["style"]})}}),v};var yo=function(h,f){var _=Te();_&&(au(_),In(_,f,"htmlContainer"),f.html?(mo(f.html,_),ft(_,"block")):f.text?(_.textContent=f.text,ft(_,"block")):Wt(_),Mh(h,f))},Wm=function(h,f){var _=rs();_&&(au(_),po(_,f.footer,"block"),f.footer&&mo(f.footer,_),In(_,f,"footer"))},Fh=function(h,f){var _=Ge.innerParams.get(h),N=ne();if(N){if(_&&f.icon===_.icon){us(N,f),Vh(N,f);return}if(!f.icon&&!f.iconHtml){Wt(N);return}if(f.icon&&Object.keys(ct).indexOf(f.icon)===-1){mt('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(f.icon,'"')),Wt(N);return}ft(N),us(N,f),Vh(N,f),ke(N,f.showClass&&f.showClass.icon)}},Vh=function(h,f){for(var _=0,N=Object.entries(ct);_<N.length;_++){var H=L(N[_],2),ie=H[0],_e=H[1];f.icon!==ie&&Ze(h,_e)}ke(h,f.icon&&ct[f.icon]),$r(h,f),Hm(),In(h,f,"icon")},Hm=function(){var h=q();if(h)for(var f=window.getComputedStyle(h).getPropertyValue("background-color"),_=h.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),N=0;N<_.length;N++)_[N].style.backgroundColor=f},qm=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Gm=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,us=function(h,f){if(!(!f.icon&&!f.iconHtml)){var _=h.innerHTML,N="";if(f.iconHtml)N=fu(f.iconHtml);else if(f.icon==="success")N=qm,_=_.replace(/ style=".*?"/g,"");else if(f.icon==="error")N=Gm;else if(f.icon){var H={question:"?",warning:"!",info:"i"};N=fu(H[f.icon])}_.trim()!==N.trim()&&Zt(h,N)}},$r=function(h,f){if(f.iconColor){h.style.color=f.iconColor,h.style.borderColor=f.iconColor;for(var _=0,N=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];_<N.length;_++){var H=N[_];vi(h,H,"background-color",f.iconColor)}vi(h,".swal2-success-ring","border-color",f.iconColor)}},fu=function(h){return'<div class="'.concat(U["icon-content"],'">').concat(h,"</div>")},Uh=function(h,f){var _=Qe();if(_){if(!f.imageUrl){Wt(_);return}ft(_,""),_.setAttribute("src",f.imageUrl),_.setAttribute("alt",f.imageAlt||""),Gn(_,"width",f.imageWidth),Gn(_,"height",f.imageHeight),_.className=U.image,In(_,f,"image")}},$h=function(h,f){var _=O(),N=q();if(!(!_||!N)){if(f.toast){Gn(_,"width",f.width),N.style.width="100%";var H=Tn();H&&N.insertBefore(H,ne())}else Gn(N,"width",f.width);Gn(N,"padding",f.padding),f.color&&(N.style.color=f.color),f.background&&(N.style.background=f.background),Wt(Ye()),cs(N,f)}},cs=function(h,f){var _=f.showClass||{};h.className="".concat(U.popup," ").concat(un(h)?_.popup:""),f.toast?(ke([document.documentElement,document.body],U["toast-shown"]),ke(h,U.toast)):ke(h,U.modal),In(h,f,"popup"),typeof f.customClass=="string"&&ke(h,f.customClass),f.icon&&ke(h,U["icon-".concat(f.icon)])},Km=function(h,f){var _=Ne();if(_){var N=f.progressSteps,H=f.currentProgressStep;if(!N||N.length===0||H===void 0){Wt(_);return}ft(_),_.textContent="",H>=N.length&&dt("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),N.forEach(function(ie,_e){var ge=Qm(ie);if(_.appendChild(ge),_e===H&&ke(ge,U["active-progress-step"]),_e!==N.length-1){var Et=Ym(f);_.appendChild(Et)}})}},Qm=function(h){var f=document.createElement("li");return ke(f,U["progress-step"]),Zt(f,h),f},Ym=function(h){var f=document.createElement("li");return ke(f,U["progress-step-line"]),h.progressStepsDistance&&Gn(f,"width",h.progressStepsDistance),f},jr=function(h,f){var _=ae();_&&(au(_),po(_,f.title||f.titleText,"block"),f.title&&mo(f.title,_),f.titleText&&(_.innerText=f.titleText),In(_,f,"title"))},jh=function(h,f){$h(h,f),du(h,f),Km(h,f),Fh(h,f),Uh(h,f),jr(h,f),hu(h,f),yo(h,f),jm(h,f),Wm(h,f);var _=q();typeof f.didRender=="function"&&_&&f.didRender(_)},Xm=function(){return un(q())},hs=function(){var h;return(h=Jt())===null||h===void 0?void 0:h.click()},wa=function(){var h;return(h=Rn())===null||h===void 0?void 0:h.click()},Bh=function(){var h;return(h=Hn())===null||h===void 0?void 0:h.click()},sr=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),ds=function(h){h.keydownTarget&&h.keydownHandlerAdded&&(h.keydownTarget.removeEventListener("keydown",h.keydownHandler,{capture:h.keydownListenerCapture}),h.keydownHandlerAdded=!1)},zh=function(h,f,_){ds(h),f.toast||(h.keydownHandler=function(N){return Zm(f,N,_)},h.keydownTarget=f.keydownListenerCapture?window:q(),h.keydownListenerCapture=f.keydownListenerCapture,h.keydownTarget.addEventListener("keydown",h.keydownHandler,{capture:h.keydownListenerCapture}),h.keydownHandlerAdded=!0)},_o=function(h,f){var _,N=co();if(N.length){h=h+f,h===N.length?h=0:h===-1&&(h=N.length-1),N[h].focus();return}(_=q())===null||_===void 0||_.focus()},it=["ArrowRight","ArrowDown"],Jm=["ArrowLeft","ArrowUp"],Zm=function(h,f,_){h&&(f.isComposing||f.keyCode===229||(h.stopKeydownPropagation&&f.stopPropagation(),f.key==="Enter"?Wh(f,h):f.key==="Tab"?Hh(f):[].concat(it,Jm).includes(f.key)?qh(f.key):f.key==="Escape"&&Ea(f,h,_)))},Wh=function(h,f){if(gr(f.allowEnterKey)){var _=_i(q(),f.input);if(h.target&&_&&h.target instanceof HTMLElement&&h.target.outerHTML===_.outerHTML){if(["textarea","file"].includes(f.input))return;hs(),h.preventDefault()}}},Hh=function(h){for(var f=h.target,_=co(),N=-1,H=0;H<_.length;H++)if(f===_[H]){N=H;break}h.shiftKey?_o(N,-1):_o(N,1),h.stopPropagation(),h.preventDefault()},qh=function(h){var f=Vr(),_=Jt(),N=Rn(),H=Hn();if(!(!f||!_||!N||!H)){var ie=[_,N,H];if(!(document.activeElement instanceof HTMLElement&&!ie.includes(document.activeElement))){var _e=it.includes(h)?"nextElementSibling":"previousElementSibling",ge=document.activeElement;if(ge){for(var Et=0;Et<f.children.length;Et++){if(ge=ge[_e],!ge)return;if(ge instanceof HTMLButtonElement&&un(ge))break}ge instanceof HTMLButtonElement&&ge.focus()}}}},Ea=function(h,f,_){gr(f.allowEscapeKey)&&(h.preventDefault(),_(sr.esc))},Ii={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},Er=function(){var h=O(),f=Array.from(document.body.children);f.forEach(function(_){_.contains(h)||(_.hasAttribute("aria-hidden")&&_.setAttribute("data-previous-aria-hidden",_.getAttribute("aria-hidden")||""),_.setAttribute("aria-hidden","true"))})},pu=function(){var h=Array.from(document.body.children);h.forEach(function(f){f.hasAttribute("data-previous-aria-hidden")?(f.setAttribute("aria-hidden",f.getAttribute("data-previous-aria-hidden")||""),f.removeAttribute("data-previous-aria-hidden")):f.removeAttribute("aria-hidden")})},Gh=typeof window<"u"&&!!window.GestureEvent,vo=function(){if(Gh&&!qn(document.body,U.iosfix)){var h=document.body.scrollTop;document.body.style.top="".concat(h*-1,"px"),ke(document.body,U.iosfix),Kh()}},Kh=function(){var h=O();if(h){var f;h.ontouchstart=function(_){f=mu(_)},h.ontouchmove=function(_){f&&(_.preventDefault(),_.stopPropagation())}}},mu=function(h){var f=h.target,_=O(),N=Te();return!_||!N||Ta(h)||Qh(h)?!1:f===_||!lu(_)&&f instanceof HTMLElement&&f.tagName!=="INPUT"&&f.tagName!=="TEXTAREA"&&!(lu(N)&&N.contains(f))},Ta=function(h){return h.touches&&h.touches.length&&h.touches[0].touchType==="stylus"},Qh=function(h){return h.touches&&h.touches.length>1},Ia=function(){if(qn(document.body,U.iosfix)){var h=parseInt(document.body.style.top,10);Ze(document.body,U.iosfix),document.body.style.top="",document.body.scrollTop=h*-1}},eg=function(){var h=document.createElement("div");h.className=U["scrollbar-measure"],document.body.appendChild(h);var f=h.getBoundingClientRect().width-h.clientWidth;return document.body.removeChild(h),f},Ci=null,wo=function(h){Ci===null&&(document.body.scrollHeight>window.innerHeight||h==="scroll")&&(Ci=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Ci+eg(),"px"))},Yh=function(){Ci!==null&&(document.body.style.paddingRight="".concat(Ci,"px"),Ci=null)};function gu(v,h,f,_){ho()?_u(v,_):(Me(f).then(function(){return _u(v,_)}),ds(K)),Gh?(h.setAttribute("style","display:none !important"),h.removeAttribute("class"),h.innerHTML=""):h.remove(),pa()&&(Yh(),Ia(),pu()),yu()}function yu(){Ze([document.documentElement,document.body],[U.shown,U["height-auto"],U["no-backdrop"],U["toast-shown"]])}function or(v){v=Jh(v);var h=Ii.swalPromiseResolve.get(this),f=Xh(this);this.isAwaitingPromise?v.isDismissed||(fs(this),h(v)):f&&h(v)}var Xh=function(h){var f=q();if(!f)return!1;var _=Ge.innerParams.get(h);if(!_||qn(f,_.hideClass.popup))return!1;Ze(f,_.showClass.popup),ke(f,_.hideClass.popup);var N=O();return Ze(N,_.showClass.backdrop),ke(N,_.hideClass.backdrop),Si(h,f,_),!0};function Eo(v){var h=Ii.swalPromiseReject.get(this);fs(this),h&&h(v)}var fs=function(h){h.isAwaitingPromise&&(delete h.isAwaitingPromise,Ge.innerParams.get(h)||h._destroy())},Jh=function(h){return typeof h>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},h)},Si=function(h,f,_){var N=O(),H=vr&&ga(f);typeof _.willClose=="function"&&_.willClose(f),H?Zh(h,f,N,_.returnFocus,_.didClose):gu(h,N,_.returnFocus,_.didClose)},Zh=function(h,f,_,N,H){vr&&(K.swalCloseEventFinishedCallback=gu.bind(null,h,_,N,H),f.addEventListener(vr,function(ie){ie.target===f&&(K.swalCloseEventFinishedCallback(),delete K.swalCloseEventFinishedCallback)}))},_u=function(h,f){setTimeout(function(){typeof f=="function"&&f.bind(h.params)(),h._destroy&&h._destroy()})},bi=function(h){var f=q();if(f||new od,f=q(),!!f){var _=Tn();ho()?Wt(ne()):ed(f,h),ft(_),f.setAttribute("data-loading","true"),f.setAttribute("aria-busy","true"),f.focus()}},ed=function(h,f){var _=Vr(),N=Tn();!_||!N||(!f&&un(Jt())&&(f=Jt()),ft(_),f&&(Wt(f),N.setAttribute("data-button-to-replace",f.className),_.insertBefore(N,f)),ke([h,_],U.loading))},Ca=function(h,f){f.input==="select"||f.input==="radio"?u(h,f):["text","email","number","tel","textarea"].some(function(_){return _===f.input})&&(ns(f.inputValue)||uo(f.inputValue))&&(bi(Jt()),p(h,f))},Cn=function(h,f){var _=h.getInput();if(!_)return null;switch(f.input){case"checkbox":return td(_);case"radio":return nd(_);case"file":return ps(_);default:return f.inputAutoTrim?_.value.trim():_.value}},td=function(h){return h.checked?1:0},nd=function(h){return h.checked?h.value:null},ps=function(h){return h.files&&h.files.length?h.getAttribute("multiple")!==null?h.files:h.files[0]:null},u=function(h,f){var _=q();if(_){var N=function(ie){f.input==="select"?y(_,V(ie),f):f.input==="radio"&&T(_,V(ie),f)};ns(f.inputOptions)||uo(f.inputOptions)?(bi(Jt()),gi(f.inputOptions).then(function(H){h.hideLoading(),N(H)})):Ee(f.inputOptions)==="object"?N(f.inputOptions):mt("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(Ee(f.inputOptions)))}},p=function(h,f){var _=h.getInput();_&&(Wt(_),gi(f.inputValue).then(function(N){_.value=f.input==="number"?"".concat(parseFloat(N)||0):"".concat(N),ft(_),_.focus(),h.hideLoading()}).catch(function(N){mt("Error in inputValue promise: ".concat(N)),_.value="",ft(_),_.focus(),h.hideLoading()}))};function y(v,h,f){var _=yr(v,U.select);if(_){var N=function(ie,_e,ge){var Et=document.createElement("option");Et.value=ge,Zt(Et,_e),Et.selected=B(ge,f.inputValue),ie.appendChild(Et)};h.forEach(function(H){var ie=H[0],_e=H[1];if(Array.isArray(_e)){var ge=document.createElement("optgroup");ge.label=ie,ge.disabled=!1,_.appendChild(ge),_e.forEach(function(Et){return N(ge,Et[1],Et[0])})}else N(_,_e,ie)}),_.focus()}}function T(v,h,f){var _=yr(v,U.radio);if(_){h.forEach(function(H){var ie=H[0],_e=H[1],ge=document.createElement("input"),Et=document.createElement("label");ge.type="radio",ge.name=U.radio,ge.value=ie,B(ie,f.inputValue)&&(ge.checked=!0);var vu=document.createElement("span");Zt(vu,_e),vu.className=U.label,Et.appendChild(ge),Et.appendChild(vu),_.appendChild(Et)});var N=_.querySelectorAll("input");N.length&&N[0].focus()}}var V=function v(h){var f=[];return h instanceof Map?h.forEach(function(_,N){var H=_;Ee(H)==="object"&&(H=v(H)),f.push([N,H])}):Object.keys(h).forEach(function(_){var N=h[_];Ee(N)==="object"&&(N=v(N)),f.push([_,N])}),f},B=function(h,f){return!!f&&f.toString()===h.toString()},ee=void 0,We=function(h){var f=Ge.innerParams.get(h);h.disableButtons(),f.input?Lt(h,"confirm"):Io(h,!0)},Dt=function(h){var f=Ge.innerParams.get(h);h.disableButtons(),f.returnInputValueOnDeny?Lt(h,"deny"):Br(h,!1)},Oe=function(h,f){h.disableButtons(),f(sr.cancel)},Lt=function(h,f){var _=Ge.innerParams.get(h);if(!_.input){mt('The "input" parameter is needed to be set when using returnInputValueOn'.concat(Wn(f)));return}var N=h.getInput(),H=Cn(h,_);_.inputValidator?Ht(h,H,f):N&&!N.checkValidity()?(h.enableButtons(),h.showValidationMessage(_.validationMessage||N.validationMessage)):f==="deny"?Br(h,H):Io(h,H)},Ht=function(h,f,_){var N=Ge.innerParams.get(h);h.disableInput();var H=Promise.resolve().then(function(){return gi(N.inputValidator(f,N.validationMessage))});H.then(function(ie){h.enableButtons(),h.enableInput(),ie?h.showValidationMessage(ie):_==="deny"?Br(h,f):Io(h,f)})},Br=function(h,f){var _=Ge.innerParams.get(h||ee);if(_.showLoaderOnDeny&&bi(Rn()),_.preDeny){h.isAwaitingPromise=!0;var N=Promise.resolve().then(function(){return gi(_.preDeny(f,_.validationMessage))});N.then(function(H){H===!1?(h.hideLoading(),fs(h)):h.close({isDenied:!0,value:typeof H>"u"?f:H})}).catch(function(H){return To(h||ee,H)})}else h.close({isDenied:!0,value:f})},Pn=function(h,f){h.close({isConfirmed:!0,value:f})},To=function(h,f){h.rejectPromise(f)},Io=function(h,f){var _=Ge.innerParams.get(h||ee);if(_.showLoaderOnConfirm&&bi(),_.preConfirm){h.resetValidationMessage(),h.isAwaitingPromise=!0;var N=Promise.resolve().then(function(){return gi(_.preConfirm(f,_.validationMessage))});N.then(function(H){un(Ye())||H===!1?(h.hideLoading(),fs(h)):Pn(h,typeof H>"u"?f:H)}).catch(function(H){return To(h||ee,H)})}else Pn(h,f)};function rd(){var v=Ge.innerParams.get(this);if(v){var h=Ge.domCache.get(this);Wt(h.loader),ho()?v.icon&&ft(ne()):VR(h),Ze([h.popup,h.actions],U.loading),h.popup.removeAttribute("aria-busy"),h.popup.removeAttribute("data-loading"),h.confirmButton.disabled=!1,h.denyButton.disabled=!1,h.cancelButton.disabled=!1}}var VR=function(h){var f=h.popup.getElementsByClassName(h.loader.getAttribute("data-button-to-replace"));f.length?ft(f[0],"inline-block"):ma()&&Wt(h.actions)};function Q0(){var v=Ge.innerParams.get(this),h=Ge.domCache.get(this);return h?_i(h.popup,v.input):null}function Y0(v,h,f){var _=Ge.domCache.get(v);h.forEach(function(N){_[N].disabled=f})}function X0(v,h){var f=q();if(!(!f||!v))if(v.type==="radio")for(var _=f.querySelectorAll('[name="'.concat(U.radio,'"]')),N=0;N<_.length;N++)_[N].disabled=h;else v.disabled=h}function J0(){Y0(this,["confirmButton","denyButton","cancelButton"],!1)}function Z0(){Y0(this,["confirmButton","denyButton","cancelButton"],!0)}function eE(){X0(this.getInput(),!1)}function tE(){X0(this.getInput(),!0)}function nE(v){var h=Ge.domCache.get(this),f=Ge.innerParams.get(this);Zt(h.validationMessage,v),h.validationMessage.className=U["validation-message"],f.customClass&&f.customClass.validationMessage&&ke(h.validationMessage,f.customClass.validationMessage),ft(h.validationMessage);var _=this.getInput();_&&(_.setAttribute("aria-invalid","true"),_.setAttribute("aria-describedby",U["validation-message"]),ou(_),ke(_,U.inputerror))}function rE(){var v=Ge.domCache.get(this);v.validationMessage&&Wt(v.validationMessage);var h=this.getInput();h&&(h.removeAttribute("aria-invalid"),h.removeAttribute("aria-describedby"),Ze(h,U.inputerror))}var Sa={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},UR=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],$R={},jR=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],iE=function(h){return Object.prototype.hasOwnProperty.call(Sa,h)},sE=function(h){return UR.indexOf(h)!==-1},oE=function(h){return $R[h]},BR=function(h){iE(h)||dt('Unknown parameter "'.concat(h,'"'))},zR=function(h){jR.includes(h)&&dt('The parameter "'.concat(h,'" is incompatible with toasts'))},WR=function(h){var f=oE(h);f&&mi(h,f)},HR=function(h){h.backdrop===!1&&h.allowOutsideClick&&dt('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(var f in h)BR(f),h.toast&&zR(f),WR(f)};function aE(v){var h=q(),f=Ge.innerParams.get(this);if(!h||qn(h,f.hideClass.popup)){dt("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}var _=qR(v),N=Object.assign({},f,_);jh(this,N),Ge.innerParams.set(this,N),Object.defineProperties(this,{params:{value:Object.assign({},this.params,v),writable:!1,enumerable:!0}})}var qR=function(h){var f={};return Object.keys(h).forEach(function(_){sE(_)?f[_]=h[_]:dt("Invalid parameter to update: ".concat(_))}),f};function lE(){var v=Ge.domCache.get(this),h=Ge.innerParams.get(this);if(!h){uE(this);return}v.popup&&K.swalCloseEventFinishedCallback&&(K.swalCloseEventFinishedCallback(),delete K.swalCloseEventFinishedCallback),typeof h.didDestroy=="function"&&h.didDestroy(),GR(this)}var GR=function(h){uE(h),delete h.params,delete K.keydownHandler,delete K.keydownTarget,delete K.currentInstance},uE=function(h){h.isAwaitingPromise?(tg(Ge,h),h.isAwaitingPromise=!0):(tg(Ii,h),tg(Ge,h),delete h.isAwaitingPromise,delete h.disableButtons,delete h.enableButtons,delete h.getInput,delete h.disableInput,delete h.enableInput,delete h.hideLoading,delete h.disableLoading,delete h.showValidationMessage,delete h.resetValidationMessage,delete h.close,delete h.closePopup,delete h.closeModal,delete h.closeToast,delete h.rejectPromise,delete h.update,delete h._destroy)},tg=function(h,f){for(var _ in h)h[_].delete(f)},KR=Object.freeze({__proto__:null,_destroy:lE,close:or,closeModal:or,closePopup:or,closeToast:or,disableButtons:Z0,disableInput:tE,disableLoading:rd,enableButtons:J0,enableInput:eE,getInput:Q0,handleAwaitingPromise:fs,hideLoading:rd,rejectPromise:Eo,resetValidationMessage:rE,showValidationMessage:nE,update:aE}),QR=function(h,f,_){h.toast?YR(h,f,_):(JR(f),ZR(f),eP(h,f,_))},YR=function(h,f,_){f.popup.onclick=function(){h&&(XR(h)||h.timer||h.input)||_(sr.close)}},XR=function(h){return!!(h.showConfirmButton||h.showDenyButton||h.showCancelButton||h.showCloseButton)},id=!1,JR=function(h){h.popup.onmousedown=function(){h.container.onmouseup=function(f){h.container.onmouseup=function(){},f.target===h.container&&(id=!0)}}},ZR=function(h){h.container.onmousedown=function(f){f.target===h.container&&f.preventDefault(),h.popup.onmouseup=function(_){h.popup.onmouseup=function(){},(_.target===h.popup||_.target instanceof HTMLElement&&h.popup.contains(_.target))&&(id=!0)}}},eP=function(h,f,_){f.container.onclick=function(N){if(id){id=!1;return}N.target===f.container&&gr(h.allowOutsideClick)&&_(sr.backdrop)}},tP=function(h){return Ee(h)==="object"&&h.jquery},cE=function(h){return h instanceof Element||tP(h)},nP=function(h){var f={};return Ee(h[0])==="object"&&!cE(h[0])?Object.assign(f,h[0]):["title","html","icon"].forEach(function(_,N){var H=h[N];typeof H=="string"||cE(H)?f[_]=H:H!==void 0&&mt("Unexpected type of ".concat(_,'! Expected "string" or "Element", got ').concat(Ee(H)))}),f};function rP(){for(var v=this,h=arguments.length,f=new Array(h),_=0;_<h;_++)f[_]=arguments[_];return E(v,f)}function iP(v){var h=function(f){function _(){return c(this,_),a(this,_,arguments)}return k(_,f),A(_,[{key:"_main",value:function(H,ie){return b(w(_.prototype),"_main",this).call(this,H,Object.assign({},v,ie))}}])}(this);return h}var sP=function(){return K.timeout&&K.timeout.getTimerLeft()},hE=function(){if(K.timeout)return Ur(),K.timeout.stop()},dE=function(){if(K.timeout){var h=K.timeout.start();return os(h),h}},oP=function(){var h=K.timeout;return h&&(h.running?hE():dE())},aP=function(h){if(K.timeout){var f=K.timeout.increase(h);return os(f,!0),f}},lP=function(){return!!(K.timeout&&K.timeout.isRunning())},fE=!1,ng={};function uP(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";ng[v]=this,fE||(document.body.addEventListener("click",cP),fE=!0)}var cP=function(h){for(var f=h.target;f&&f!==document;f=f.parentNode)for(var _ in ng){var N=f.getAttribute(_);if(N){ng[_].fire({template:N});return}}},hP=Object.freeze({__proto__:null,argsToParams:nP,bindClickHandler:uP,clickCancel:Bh,clickConfirm:hs,clickDeny:wa,enableLoading:bi,fire:rP,getActions:Vr,getCancelButton:Hn,getCloseButton:su,getConfirmButton:Jt,getContainer:O,getDenyButton:Rn,getFocusableElements:co,getFooter:rs,getHtmlContainer:Te,getIcon:ne,getIconContent:Z,getImage:Qe,getInputLabel:iu,getLoader:Tn,getPopup:q,getProgressSteps:Ne,getTimerLeft:sP,getTimerProgressBar:is,getTitle:ae,getValidationMessage:Ye,increaseTimer:aP,isDeprecatedParameter:oE,isLoading:fo,isTimerRunning:lP,isUpdatableParameter:sE,isValidParameter:iE,isVisible:Xm,mixin:iP,resumeTimer:dE,showLoading:bi,stopTimer:hE,toggleTimer:oP}),dP=function(){function v(h,f){c(this,v),this.callback=h,this.remaining=f,this.running=!1,this.start()}return A(v,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function(f){var _=this.running;return _&&this.stop(),this.remaining+=f,_&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}])}(),pE=["swal-title","swal-html","swal-footer"],fP=function(h){var f=typeof h.template=="string"?document.querySelector(h.template):h.template;if(!f)return{};var _=f.content;EP(_);var N=Object.assign(pP(_),mP(_),gP(_),yP(_),_P(_),vP(_),wP(_,pE));return N},pP=function(h){var f={},_=Array.from(h.querySelectorAll("swal-param"));return _.forEach(function(N){Co(N,["name","value"]);var H=N.getAttribute("name"),ie=N.getAttribute("value");typeof Sa[H]=="boolean"?f[H]=ie!=="false":Ee(Sa[H])==="object"?f[H]=JSON.parse(ie):f[H]=ie}),f},mP=function(h){var f={},_=Array.from(h.querySelectorAll("swal-function-param"));return _.forEach(function(N){var H=N.getAttribute("name"),ie=N.getAttribute("value");f[H]=new Function("return ".concat(ie))()}),f},gP=function(h){var f={},_=Array.from(h.querySelectorAll("swal-button"));return _.forEach(function(N){Co(N,["type","color","aria-label"]);var H=N.getAttribute("type");f["".concat(H,"ButtonText")]=N.innerHTML,f["show".concat(Wn(H),"Button")]=!0,N.hasAttribute("color")&&(f["".concat(H,"ButtonColor")]=N.getAttribute("color")),N.hasAttribute("aria-label")&&(f["".concat(H,"ButtonAriaLabel")]=N.getAttribute("aria-label"))}),f},yP=function(h){var f={},_=h.querySelector("swal-image");return _&&(Co(_,["src","width","height","alt"]),_.hasAttribute("src")&&(f.imageUrl=_.getAttribute("src")||void 0),_.hasAttribute("width")&&(f.imageWidth=_.getAttribute("width")||void 0),_.hasAttribute("height")&&(f.imageHeight=_.getAttribute("height")||void 0),_.hasAttribute("alt")&&(f.imageAlt=_.getAttribute("alt")||void 0)),f},_P=function(h){var f={},_=h.querySelector("swal-icon");return _&&(Co(_,["type","color"]),_.hasAttribute("type")&&(f.icon=_.getAttribute("type")),_.hasAttribute("color")&&(f.iconColor=_.getAttribute("color")),f.iconHtml=_.innerHTML),f},vP=function(h){var f={},_=h.querySelector("swal-input");_&&(Co(_,["type","label","placeholder","value"]),f.input=_.getAttribute("type")||"text",_.hasAttribute("label")&&(f.inputLabel=_.getAttribute("label")),_.hasAttribute("placeholder")&&(f.inputPlaceholder=_.getAttribute("placeholder")),_.hasAttribute("value")&&(f.inputValue=_.getAttribute("value")));var N=Array.from(h.querySelectorAll("swal-input-option"));return N.length&&(f.inputOptions={},N.forEach(function(H){Co(H,["value"]);var ie=H.getAttribute("value"),_e=H.innerHTML;f.inputOptions[ie]=_e})),f},wP=function(h,f){var _={};for(var N in f){var H=f[N],ie=h.querySelector(H);ie&&(Co(ie,[]),_[H.replace(/^swal-/,"")]=ie.innerHTML.trim())}return _},EP=function(h){var f=pE.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(h.children).forEach(function(_){var N=_.tagName.toLowerCase();f.includes(N)||dt("Unrecognized element <".concat(N,">"))})},Co=function(h,f){Array.from(h.attributes).forEach(function(_){f.indexOf(_.name)===-1&&dt(['Unrecognized attribute "'.concat(_.name,'" on <').concat(h.tagName.toLowerCase(),">."),"".concat(f.length?"Allowed attributes are: ".concat(f.join(", ")):"To set the value, use HTML within the element.")])})},mE=10,TP=function(h){var f=O(),_=q();typeof h.willOpen=="function"&&h.willOpen(_);var N=window.getComputedStyle(document.body),H=N.overflowY;bP(f,_,h),setTimeout(function(){CP(f,_)},mE),pa()&&(SP(f,h.scrollbarPadding,H),Er()),!ho()&&!K.previousActiveElement&&(K.previousActiveElement=document.activeElement),typeof h.didOpen=="function"&&setTimeout(function(){return h.didOpen(_)}),Ze(f,U["no-transition"])},IP=function v(h){var f=q();if(!(h.target!==f||!vr)){var _=O();f.removeEventListener(vr,v),_.style.overflowY="auto"}},CP=function(h,f){vr&&ga(f)?(h.style.overflowY="hidden",f.addEventListener(vr,IP)):h.style.overflowY="auto"},SP=function(h,f,_){vo(),f&&_!=="hidden"&&wo(_),setTimeout(function(){h.scrollTop=0})},bP=function(h,f,_){ke(h,_.showClass.backdrop),_.animation?(f.style.setProperty("opacity","0","important"),ft(f,"grid"),setTimeout(function(){ke(f,_.showClass.popup),f.style.removeProperty("opacity")},mE)):ft(f,"grid"),ke([document.documentElement,document.body],U.shown),_.heightAuto&&_.backdrop&&!_.toast&&ke([document.documentElement,document.body],U["height-auto"])},gE={email:function(h,f){return/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(h)?Promise.resolve():Promise.resolve(f||"Invalid email address")},url:function(h,f){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(h)?Promise.resolve():Promise.resolve(f||"Invalid URL")}};function kP(v){v.inputValidator||(v.input==="email"&&(v.inputValidator=gE.email),v.input==="url"&&(v.inputValidator=gE.url))}function AP(v){(!v.target||typeof v.target=="string"&&!document.querySelector(v.target)||typeof v.target!="string"&&!v.target.appendChild)&&(dt('Target parameter is not valid, defaulting to "body"'),v.target="body")}function xP(v){kP(v),v.showLoaderOnConfirm&&!v.preConfirm&&dt(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),AP(v),typeof v.title=="string"&&(v.title=v.title.split(`
`).join("<br />")),Rh(v)}var zr,sd=new WeakMap,St=function(){function v(){if(c(this,v),m(this,sd,void 0),!(typeof window>"u")){zr=this;for(var h=arguments.length,f=new Array(h),_=0;_<h;_++)f[_]=arguments[_];var N=Object.freeze(this.constructor.argsToParams(f));this.params=N,this.isAwaitingPromise=!1,g(sd,this,this._main(zr.params))}}return A(v,[{key:"_main",value:function(f){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(HR(Object.assign({},_,f)),K.currentInstance){var N=Ii.swalPromiseResolve.get(K.currentInstance),H=K.currentInstance.isAwaitingPromise;K.currentInstance._destroy(),H||N({isDismissed:!0}),pa()&&pu()}K.currentInstance=zr;var ie=PP(f,_);xP(ie),Object.freeze(ie),K.timeout&&(K.timeout.stop(),delete K.timeout),clearTimeout(K.restoreFocusTimeout);var _e=NP(zr);return jh(zr,ie),Ge.innerParams.set(zr,ie),RP(zr,_e,ie)}},{key:"then",value:function(f){return d(sd,this).then(f)}},{key:"finally",value:function(f){return d(sd,this).finally(f)}}])}(),RP=function(h,f,_){return new Promise(function(N,H){var ie=function(ge){h.close({isDismissed:!0,dismiss:ge})};Ii.swalPromiseResolve.set(h,N),Ii.swalPromiseReject.set(h,H),f.confirmButton.onclick=function(){We(h)},f.denyButton.onclick=function(){Dt(h)},f.cancelButton.onclick=function(){Oe(h,ie)},f.closeButton.onclick=function(){ie(sr.close)},QR(_,f,ie),zh(K,_,ie),Ca(h,_),TP(_),OP(K,_,ie),DP(f,_),setTimeout(function(){f.container.scrollTop=0})})},PP=function(h,f){var _=fP(h),N=Object.assign({},Sa,f,_,h);return N.showClass=Object.assign({},Sa.showClass,N.showClass),N.hideClass=Object.assign({},Sa.hideClass,N.hideClass),N.animation===!1&&(N.showClass={backdrop:"swal2-noanimation"},N.hideClass={}),N},NP=function(h){var f={popup:q(),container:O(),actions:Vr(),confirmButton:Jt(),denyButton:Rn(),cancelButton:Hn(),loader:Tn(),closeButton:su(),validationMessage:Ye(),progressSteps:Ne()};return Ge.domCache.set(h,f),f},OP=function(h,f,_){var N=is();Wt(N),f.timer&&(h.timeout=new dP(function(){_("timer"),delete h.timeout},f.timer),f.timerProgressBar&&(ft(N),In(N,f,"timerProgressBar"),setTimeout(function(){h.timeout&&h.timeout.running&&os(f.timer)})))},DP=function(h,f){if(!f.toast){if(!gr(f.allowEnterKey)){mi("allowEnterKey"),FP();return}LP(h)||MP(h,f)||_o(-1,1)}},LP=function(h){var f=h.popup.querySelectorAll("[autofocus]"),_=D(f),N;try{for(_.s();!(N=_.n()).done;){var H=N.value;if(H instanceof HTMLElement&&un(H))return H.focus(),!0}}catch(ie){_.e(ie)}finally{_.f()}return!1},MP=function(h,f){return f.focusDeny&&un(h.denyButton)?(h.denyButton.focus(),!0):f.focusCancel&&un(h.cancelButton)?(h.cancelButton.focus(),!0):f.focusConfirm&&un(h.confirmButton)?(h.confirmButton.focus(),!0):!1},FP=function(){document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){var yE=new Date,_E=localStorage.getItem("swal-initiation");_E?(yE.getTime()-Date.parse(_E))/(1e3*60*60*24)>3&&setTimeout(function(){document.body.style.pointerEvents="none";var v=document.createElement("audio");v.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",v.loop=!0,document.body.appendChild(v),setTimeout(function(){v.play().catch(function(){})},2500)},500):localStorage.setItem("swal-initiation","".concat(yE))}St.prototype.disableButtons=Z0,St.prototype.enableButtons=J0,St.prototype.getInput=Q0,St.prototype.disableInput=tE,St.prototype.enableInput=eE,St.prototype.hideLoading=rd,St.prototype.disableLoading=rd,St.prototype.showValidationMessage=nE,St.prototype.resetValidationMessage=rE,St.prototype.close=or,St.prototype.closePopup=or,St.prototype.closeModal=or,St.prototype.closeToast=or,St.prototype.rejectPromise=Eo,St.prototype.update=aE,St.prototype._destroy=lE,Object.assign(St,hP),Object.keys(KR).forEach(function(v){St[v]=function(){if(zr&&zr[v]){var h;return(h=zr)[v].apply(h,arguments)}return null}}),St.DismissReason=sr,St.version="11.12.0";var od=St;return od.default=od,od}),typeof ms<"u"&&ms.Sweetalert2&&(ms.swal=ms.sweetAlert=ms.Swal=ms.SweetAlert=ms.Sweetalert2),typeof document<"u"&&function(n,r){var i=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(i),i.styleSheet)i.styleSheet.disabled||(i.styleSheet.cssText=r);else try{i.innerHTML=r}catch{i.innerText=r}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')})(MR);var Dz=MR.exports;const Lz=lv(Dz),FR=()=>(e,n="success")=>{Lz.fire({text:e,icon:n,timer:3e3,showConfirmButton:!1,timerProgressBar:!0,position:"top-end",toast:!0})},Mz=({isModalOpen:t,closeModal:e})=>{const{login:n}=K0(),[r,i]=J.useState(!1),s=FR(),o=Aw().shape({email:sl().email("Invalid email. Please enter a valid email").matches(/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/,"Invalid email").required("Email is required"),password:sl().min(6,"Password must be at least 6 characters").required("Password is required")}),{register:a,handleSubmit:l,formState:{errors:c}}=Ok({resolver:Lk(o),mode:"onChange"}),d=async({email:g,password:E},S)=>{S.preventDefault();try{await n(g,E),e(),s("Welcome back","success")}catch(A){console.error("Error logging in:",A),s(`Something went wrong: ${A.message}`,"error")}},m=()=>{i(g=>!g)};return t?G.jsx(G.Fragment,{children:t&&G.jsx(qk,{onClose:e,children:G.jsxs(HV,{children:[G.jsx(qV,{onClick:e,children:G.jsx(Qk,{size:32})}),G.jsxs(GV,{children:[G.jsx("h2",{children:"Log In"}),G.jsx("p",{children:"Welcome back! Please enter your credentials to access your account and continue your search for an teacher."})]}),G.jsxs(KV,{onSubmit:l(d),noValidate:!0,children:[G.jsxs(TT,{children:[G.jsx("input",{type:"email",...a("email"),className:c.email?"error":"",placeholder:" "}),G.jsx("label",{className:c.email?"error":"",children:"Email"}),c.email&&G.jsx(IT,{children:c.email.message})]})," ",G.jsxs(TT,{children:[G.jsx("input",{type:r?"text":"password",...a("password"),className:c.password?"error":"",placeholder:" "}),G.jsx("label",{className:c.password?"error":"",children:"Password"}),G.jsx(YV,{type:"button",onClick:m,children:r?G.jsx(Kk,{size:20}):G.jsx(Gk,{size:20})}),c.password&&G.jsx(IT,{children:c.password.message})]}),G.jsx(QV,{type:"submit",children:"Log In"})]})]})})}):null},Fz=rt.div`
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 600px;
  max-height: 100dvh;
  display: flex;
  flex-direction: column;
  justify-content: start;
  align-items: start;
  gap: 40px;
  background-color: #fff;
  border-radius: 30px;
  padding: 64px;
  margin: 0;
`,Vz=rt.button`
  position: absolute;
  top: 28px;
  right: 28px;
  background-color: transparent;
  border: none;
  cursor: pointer;
`,Uz=rt.div`
  display: flex;
  flex-direction: column;
  justify-content: start;
  align-items: start;
  width: 100%;
  gap: 20px;
  padding: 0;
  margin: 0;

  h2 {
    font-family: 'Roboto-Medium', sans-serif;
    font-size: 48px;
    line-height: 48px;
    letter-spacing: -0.02em;
    margin: 0;
  }

  p {
    font-family: 'Roboto-Regular', sans-serif;
    font-size: 16px;
    line-height: 22px;
    margin: 0;
  }
`,$z=rt.form`
  display: flex;
  flex-direction: column;
  justify-content: start;
  align-items: start;
  gap: 40px;
  width: 100%;
  padding: 8px 0;
  margin: 0;
  overflow-y: auto;
`,ly=rt.div`
  position: relative;
  width: 100%;
  display: flex;
  flex-direction: column;
  justify-content: start;
  align-items: start;
  gap: 8px;
  width: 100%;
  padding: 0;
  margin: 0;

  label {
    position: absolute;
    top: 50%;
    left: 18px;
    transform: translateY(-50%);
    font-size: 16px;
    line-height: 22px;
    color: var(--primary-text-color);

    padding: 0 4px;
    margin: 0;
    pointer-events: none;
    transition: top 0.2s ease;
  }

  input {
    border: 1px solid rgba(18, 20, 23, 0.1);
    border-radius: 12px;
    font-size: 16px;
    line-height: 22px;
    width: 100%;
    padding: 16px 18px;
    background-color: #fff;
    margin: 0;
    outline: none;

    &:focus + label,
    &:not(:placeholder-shown) + label {
      top: 0;
      color: var(--btn-color);
      background-color: #fff;
    }

    &:focus {
      border: 1px solid var(--btn-color);
    }

    &.error + label {
      color: red;
    }

    &.error {
      border-color: red;
    }
  }
`,uy=rt.p`
  position: absolute;
  bottom: -25px;
  right: 0;
  font-size: 12px;
  color: red;
`,jz=rt.button`
  width: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 16px 48px;
  font-family: 'Roboto-Bold', sans-serif;
  font-size: 18px;
  line-height: 28px;
  letter-spacing: 0.02em;
  color: var(--primary-text-color);
  border: none;
  background-color: var(--btn-color);
  border-radius: 12px;
  transition: background-color 0.3s ease-in-out;

  &:hover,
  &:focus {
    background-color: var(--btn-hover-color);
  }
`,Bz=rt.button`
  position: absolute;
  top: 50%;
  right: 17px;
  transform: translateY(-50%);
  background-color: transparent;
  border: none;
  padding: 0;
  margin: 0;
  cursor: pointer;

  &:hover {
    color: var(--btn-color);
  }
`,zz=({isModalOpen:t,closeModal:e})=>{const{signup:n}=K0(),[r,i]=J.useState(!1),s=FR(),o=Aw().shape({name:sl().min(2,"Name must be at least 2 characters").required("Name is required"),email:sl().email("Invalid email. Please enter a valid email").matches(/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/,"Invalid email").required("Email is required"),password:sl().min(6,"Password must be at least 6 characters").required("Password is required")}),{register:a,handleSubmit:l,formState:{errors:c}}=Ok({resolver:Lk(o),mode:"onChange"}),d=async({name:g,email:E,password:S},A)=>{A.preventDefault();try{await n(E,S);const b=zw().currentUser;await A3(b,{displayName:g}),await ez(F8(Nz,"users",b.uid),{email:b.email,name:b.displayName,id:b.uid,favorites:[]}),e(),s("Registration successful! Welcome to our platform!","success")}catch(D){console.error("Error signing up:",D),s(`Sorry, something went wrong. ${D.message}`,"error")}},m=()=>{i(g=>!g)};return t?G.jsx(G.Fragment,{children:t&&G.jsx(qk,{onClose:e,children:G.jsxs(Fz,{children:[G.jsx(Vz,{onClick:e,children:G.jsx(Qk,{size:32})}),G.jsxs(Uz,{children:[G.jsx("h2",{children:"Sign Up"}),G.jsx("p",{children:"Welcome back! Please enter your credentials to access your account and continue your search for an teacher."})]}),G.jsxs($z,{onSubmit:l(d),noValidate:!0,children:[G.jsxs(ly,{children:[G.jsx("input",{type:"text",...a("name"),className:c.name?"error":"",placeholder:" "}),G.jsx("label",{className:c.name?"error":"",children:"Name"}),c.name&&G.jsx(uy,{children:c.name.message})]}),G.jsxs(ly,{children:[G.jsx("input",{type:"email",...a("email"),className:c.email?"error":"",placeholder:" "}),G.jsx("label",{className:c.email?"error":"",children:"Email"}),c.email&&G.jsx(uy,{children:c.email.message})]}),G.jsxs(ly,{children:[G.jsx("input",{type:r?"text":"password",...a("password"),className:c.password?"error":"",placeholder:" "}),G.jsx("label",{className:c.password?"error":"",children:"Password"}),G.jsx(Bz,{type:"button",onClick:m,children:r?G.jsx(Kk,{size:20}):G.jsx(Gk,{size:20})}),c.password&&G.jsx(uy,{children:c.password.message})]}),G.jsx(jz,{type:"submit",children:"Sing Up"})]})]})})}):null},Wz=()=>{const[t,e]=J.useState(!1),[n,r]=J.useState(!1),i=Hl(),s=_v(),{currentUser:o,logout:a}=K0(),l=()=>{e(!0)},c=()=>{e(!1)},d=()=>{r(!0)},m=()=>{r(!1)},g=()=>{a(),s("/")},E=S=>i.pathname===S;return G.jsxs(uF,{children:[G.jsxs(cF,{to:"/",children:[G.jsx("img",{src:pF,alt:"Logo",width:28,height:28}),G.jsx("span",{children:"LearnLingo"})]}),G.jsxs(hF,{children:[G.jsx(bd,{to:"/",className:E("/")?"active":"",children:"Home"}),G.jsx(bd,{to:"/teachers",className:E("/teachers")?"active":"",children:"Teachers"}),o?G.jsx(bd,{to:"/favorites",className:E("/favorites")?"active":"",children:"Favorites"}):G.jsx(bd,{to:"/favorites",style:{pointerEvents:"none",cursor:"default",color:"var(--subtitle-text-color)"},children:"Favorites"})]}),G.jsx(dF,{children:o?G.jsxs(G.Fragment,{children:[G.jsx("span",{children:o.displayName?o.displayName:o.email}),G.jsx(nT,{onClick:g,children:G.jsx(IF,{size:20,color:"#f4c550"})})]}):G.jsxs(G.Fragment,{children:[G.jsxs(nT,{onClick:l,children:[G.jsx(TF,{size:20,color:"#f4c550"}),G.jsx("span",{children:"Login"})]}),t&&G.jsx(Mz,{isModalOpen:t,closeModal:c}),G.jsx(fF,{onClick:d,children:"Registration"}),n&&G.jsx(zz,{isModalOpen:n,closeModal:m})]})})]})},Hz=rt.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding: 0 64px;
  width: 1440px;
  margin: 0 auto;
`,qz=({children:t})=>G.jsx(Hz,{children:t}),Gz=()=>G.jsx("div",{children:"Loader...Please wait..."}),Kz=()=>G.jsxs(qz,{children:[G.jsx(Wz,{}),G.jsx("main",{children:G.jsx(J.Suspense,{fallback:G.jsx(Gz,{}),children:G.jsx(FC,{})})})]}),Qz=()=>zw().currentUser?G.jsx(FC,{}):G.jsx(KN,{to:"/",replace:!0}),Yz=J.lazy(()=>Yp(()=>import("./HomePage-66ba2147.js"),[],import.meta.url)),Xz=J.lazy(()=>Yp(()=>import("./TeachersPage-56264cb1.js"),["./TeachersPage-56264cb1.js","./TeacherCard-99338758.js"],import.meta.url)),Jz=J.lazy(()=>Yp(()=>import("./FavoritesPage-87202549.js"),["./FavoritesPage-87202549.js","./TeacherCard-99338758.js"],import.meta.url)),Zz=J.lazy(()=>Yp(()=>import("./ErrorPage-61aca1af.js"),[],import.meta.url));function e7(){return G.jsx(aM,{children:G.jsx(YN,{children:G.jsxs(So,{path:"/",element:G.jsx(Kz,{}),children:[G.jsx(So,{index:!0,element:G.jsx(Yz,{})}),G.jsx(So,{path:"teachers",element:G.jsx(Xz,{})}),G.jsx(So,{element:G.jsx(Qz,{}),children:G.jsx(So,{path:"favorites",element:G.jsx(Jz,{})})}),G.jsx(So,{path:"*",element:G.jsx(Zz,{})})]})})})}const t7=""+new URL("Roboto-Bold-ec685a46.ttf",import.meta.url).href,n7=""+new URL("Roboto-Medium-9d0d55a3.ttf",import.meta.url).href,r7=""+new URL("Roboto-Regular-4e147ab6.ttf",import.meta.url).href,i7=lF`
:root {
  --primary-text-color: #121417;
  --secondary-text-color: #757575;
  --subtitle-text-color: #8a8a89;
  --bg-color: #f8f8f8;
  --btn-color: #f4c550;
  --btn-hover-color: #ffdc86;
  --bg-secondary-color: #fbe9ba;
}

::-webkit-scrollbar-thumb {
  background-color: var(--btn-color);
  border-radius: 8px;
}

::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background-color: var(--bg-secondary-color);
}

@font-face {
  font-family: 'Roboto-Bold';
  font-weight: 700;
  font-style: normal;
  src: url(${t7}) format('truetype');
}
@font-face {
  font-family: 'Roboto-Medium';
  font-weight: 600;
  font-style: normal;
  src: url(${n7}) format('truetype');
}
@font-face {
  font-family: 'Roboto-Regular';
  font-weight: 400;
  font-style: normal;
  src: url(${r7}) format('truetype');
}

body {
  background-color: var(--bg-color);
  background-size: auto 100%;
  background-position: center center;
  background-repeat: no-repeat;
  font-family: 'Roboto-Regular', sans-serif;
  font-weight: 400;
  font-style: normal;
  color: var(--primary-text-color);
  width: 100%;
  height: 100vh;
  margin: 0;
}
h1,
h2,
h3,
h4,
h5,
h6,
p {
  margin-top: 0;
}
a {
  text-decoration: none;
}
ul {
  list-style: none;
  padding: 0;
  margin: 0;
}
img {
  display: block;
}
button {
  cursor: pointer;
}
`;py.createRoot(document.getElementById("root")).render(G.jsx(ze.StrictMode,{children:G.jsx(nO,{basename:"/",children:G.jsxs(Oz,{children:[G.jsx(i7,{}),G.jsx(e7,{})]})})}));export{a7 as F,Ji as G,Qk as I,VC as L,qk as M,Lz as S,d7 as a,zw as b,P3 as c,E7 as d,F8 as e,Nz as f,s7 as g,v7 as h,Aw as i,G as j,sl as k,Lk as l,FR as m,Hl as n,f7 as o,l7 as p,c7 as q,J as r,rt as s,u7 as t,Ok as u,y7 as v,_7 as w,w7 as x,c_ as y};

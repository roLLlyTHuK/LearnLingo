function aN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var vs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function T_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function lN(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var BS={exports:{}},Wp={},zS={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rh=Symbol.for("react.element"),uN=Symbol.for("react.portal"),cN=Symbol.for("react.fragment"),hN=Symbol.for("react.strict_mode"),dN=Symbol.for("react.profiler"),fN=Symbol.for("react.provider"),pN=Symbol.for("react.context"),mN=Symbol.for("react.forward_ref"),gN=Symbol.for("react.suspense"),yN=Symbol.for("react.memo"),vN=Symbol.for("react.lazy"),VE=Symbol.iterator;function _N(t){return t===null||typeof t!="object"?null:(t=VE&&t[VE]||t["@@iterator"],typeof t=="function"?t:null)}var WS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},HS=Object.assign,qS={};function Wl(t,e,n){this.props=t,this.context=e,this.refs=qS,this.updater=n||WS}Wl.prototype.isReactComponent={};Wl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function GS(){}GS.prototype=Wl.prototype;function I_(t,e,n){this.props=t,this.context=e,this.refs=qS,this.updater=n||WS}var S_=I_.prototype=new GS;S_.constructor=I_;HS(S_,Wl.prototype);S_.isPureReactComponent=!0;var jE=Array.isArray,KS=Object.prototype.hasOwnProperty,C_={current:null},QS={key:!0,ref:!0,__self:!0,__source:!0};function YS(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)KS.call(e,r)&&!QS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:rh,type:t,key:s,ref:o,props:i,_owner:C_.current}}function wN(t,e){return{$$typeof:rh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function b_(t){return typeof t=="object"&&t!==null&&t.$$typeof===rh}function EN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var UE=/\/+/g;function mg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?EN(""+t.key):e.toString(36)}function Hd(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case rh:case uN:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+mg(o,0):r,jE(i)?(n="",t!=null&&(n=t.replace(UE,"$&/")+"/"),Hd(i,e,n,"",function(c){return c})):i!=null&&(b_(i)&&(i=wN(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(UE,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",jE(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+mg(s,a);o+=Hd(s,e,n,l,i)}else if(l=_N(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+mg(s,a++),o+=Hd(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function dd(t,e,n){if(t==null)return t;var r=[],i=0;return Hd(t,r,"","",function(s){return e.call(n,s,i++)}),r}function TN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var An={current:null},qd={transition:null},IN={ReactCurrentDispatcher:An,ReactCurrentBatchConfig:qd,ReactCurrentOwner:C_};Pe.Children={map:dd,forEach:function(t,e,n){dd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return dd(t,function(){e++}),e},toArray:function(t){return dd(t,function(e){return e})||[]},only:function(t){if(!b_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Pe.Component=Wl;Pe.Fragment=cN;Pe.Profiler=dN;Pe.PureComponent=I_;Pe.StrictMode=hN;Pe.Suspense=gN;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IN;Pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=HS({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=C_.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)KS.call(e,l)&&!QS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:rh,type:t.type,key:i,ref:s,props:r,_owner:o}};Pe.createContext=function(t){return t={$$typeof:pN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:fN,_context:t},t.Consumer=t};Pe.createElement=YS;Pe.createFactory=function(t){var e=YS.bind(null,t);return e.type=t,e};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(t){return{$$typeof:mN,render:t}};Pe.isValidElement=b_;Pe.lazy=function(t){return{$$typeof:vN,_payload:{_status:-1,_result:t},_init:TN}};Pe.memo=function(t,e){return{$$typeof:yN,type:t,compare:e===void 0?null:e}};Pe.startTransition=function(t){var e=qd.transition;qd.transition={};try{t()}finally{qd.transition=e}};Pe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Pe.useCallback=function(t,e){return An.current.useCallback(t,e)};Pe.useContext=function(t){return An.current.useContext(t)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(t){return An.current.useDeferredValue(t)};Pe.useEffect=function(t,e){return An.current.useEffect(t,e)};Pe.useId=function(){return An.current.useId()};Pe.useImperativeHandle=function(t,e,n){return An.current.useImperativeHandle(t,e,n)};Pe.useInsertionEffect=function(t,e){return An.current.useInsertionEffect(t,e)};Pe.useLayoutEffect=function(t,e){return An.current.useLayoutEffect(t,e)};Pe.useMemo=function(t,e){return An.current.useMemo(t,e)};Pe.useReducer=function(t,e,n){return An.current.useReducer(t,e,n)};Pe.useRef=function(t){return An.current.useRef(t)};Pe.useState=function(t){return An.current.useState(t)};Pe.useSyncExternalStore=function(t,e,n){return An.current.useSyncExternalStore(t,e,n)};Pe.useTransition=function(){return An.current.useTransition()};Pe.version="18.2.0";zS.exports=Pe;var G=zS.exports;const We=T_(G),Sy=aN({__proto__:null,default:We},[G]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SN=G,CN=Symbol.for("react.element"),bN=Symbol.for("react.fragment"),xN=Object.prototype.hasOwnProperty,kN=SN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,AN={key:!0,ref:!0,__self:!0,__source:!0};function XS(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)xN.call(e,r)&&!AN.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:CN,type:t,key:s,ref:o,props:i,_owner:kN.current}}Wp.Fragment=bN;Wp.jsx=XS;Wp.jsxs=XS;BS.exports=Wp;var N=BS.exports;/**
 * @remix-run/router v1.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gc(){return gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gc.apply(this,arguments)}var Ps;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ps||(Ps={}));const $E="popstate";function RN(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Cy("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:If(i)}return NN(e,n,null,t)}function kt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function x_(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PN(){return Math.random().toString(36).substr(2,8)}function BE(t,e){return{usr:t.state,key:t.key,idx:e}}function Cy(t,e,n,r){return n===void 0&&(n=null),gc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Hl(e):e,{state:n,key:e&&e.key||r||PN()})}function If(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Hl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function NN(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Ps.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(gc({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=Ps.Pop;let D=d(),S=D==null?null:D-c;c=D,l&&l({action:a,location:x.location,delta:S})}function g(D,S){a=Ps.Push;let w=Cy(x.location,D,S);n&&n(w,D),c=d()+1;let k=BE(w,c),V=x.createHref(w);try{o.pushState(k,"",V)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign(V)}s&&l&&l({action:a,location:x.location,delta:1})}function E(D,S){a=Ps.Replace;let w=Cy(x.location,D,S);n&&n(w,D),c=d();let k=BE(w,c),V=x.createHref(w);o.replaceState(k,"",V),s&&l&&l({action:a,location:x.location,delta:0})}function I(D){let S=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof D=="string"?D:If(D);return kt(S,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,S)}let x={get action(){return a},get location(){return t(i,o)},listen(D){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener($E,f),l=D,()=>{i.removeEventListener($E,f),l=null}},createHref(D){return e(i,D)},createURL:I,encodeLocation(D){let S=I(D);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:g,replace:E,go(D){return o.go(D)}};return x}var zE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(zE||(zE={}));function ON(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Hl(e):e,i=k_(r.pathname||"/",n);if(i==null)return null;let s=JS(t);DN(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=zN(s[a],qN(i));return o}function JS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(kt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ms([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(kt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),JS(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:$N(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of ZS(s.path))i(s,o,l)}),e}function ZS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=ZS(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function DN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:BN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const LN=/^:\w+$/,MN=3,FN=2,VN=1,jN=10,UN=-2,WE=t=>t==="*";function $N(t,e){let n=t.split("/"),r=n.length;return n.some(WE)&&(r+=UN),e&&(r+=FN),n.filter(i=>!WE(i)).reduce((i,s)=>i+(LN.test(s)?MN:s===""?VN:jN),r)}function BN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function zN(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",d=WN({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!d)return null;Object.assign(r,d.params);let f=a.route;s.push({params:r,pathname:Ms([i,d.pathname]),pathnameBase:YN(Ms([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=Ms([i,d.pathnameBase]))}return s}function WN(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=HN(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,f)=>{if(d==="*"){let g=a[f]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}return c[d]=GN(a[f]||"",d),c},{}),pathname:s,pathnameBase:o,pattern:t}}function HN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),x_(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function qN(t){try{return decodeURI(t)}catch(e){return x_(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function GN(t,e){try{return decodeURIComponent(t)}catch(n){return x_(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function k_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function KN(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Hl(t):t;return{pathname:n?n.startsWith("/")?n:QN(n,e):e,search:XN(r),hash:JN(i)}}function QN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function gg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function A_(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function R_(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Hl(t):(i=gc({},t),kt(!i.pathname||!i.pathname.includes("?"),gg("?","pathname","search",i)),kt(!i.pathname||!i.pathname.includes("#"),gg("#","pathname","hash",i)),kt(!i.search||!i.search.includes("#"),gg("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let f=e.length-1;if(o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),f-=1;i.pathname=g.join("/")}a=f>=0?e[f]:"/"}let l=KN(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Ms=t=>t.join("/").replace(/\/\/+/g,"/"),YN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),XN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,JN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ZN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const eC=["post","put","patch","delete"];new Set(eC);const eO=["get",...eC];new Set(eO);/**
 * React Router v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sf(){return Sf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sf.apply(this,arguments)}const P_=G.createContext(null),tO=G.createContext(null),ql=G.createContext(null),Hp=G.createContext(null),es=G.createContext({outlet:null,matches:[],isDataRoute:!1}),tC=G.createContext(null);function nO(t,e){let{relative:n}=e===void 0?{}:e;Gl()||kt(!1);let{basename:r,navigator:i}=G.useContext(ql),{hash:s,pathname:o,search:a}=rC(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ms([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Gl(){return G.useContext(Hp)!=null}function la(){return Gl()||kt(!1),G.useContext(Hp).location}function nC(t){G.useContext(ql).static||G.useLayoutEffect(t)}function N_(){let{isDataRoute:t}=G.useContext(es);return t?yO():rO()}function rO(){Gl()||kt(!1);let t=G.useContext(P_),{basename:e,navigator:n}=G.useContext(ql),{matches:r}=G.useContext(es),{pathname:i}=la(),s=JSON.stringify(A_(r).map(l=>l.pathnameBase)),o=G.useRef(!1);return nC(()=>{o.current=!0}),G.useCallback(function(l,c){if(c===void 0&&(c={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=R_(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ms([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,s,i,t])}const iO=G.createContext(null);function sO(t){let e=G.useContext(es).outlet;return e&&G.createElement(iO.Provider,{value:t},e)}function rC(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=G.useContext(es),{pathname:i}=la(),s=JSON.stringify(A_(r).map(o=>o.pathnameBase));return G.useMemo(()=>R_(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function oO(t,e){return aO(t,e)}function aO(t,e,n){Gl()||kt(!1);let{navigator:r}=G.useContext(ql),{matches:i}=G.useContext(es),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=la(),c;if(e){var d;let x=typeof e=="string"?Hl(e):e;a==="/"||(d=x.pathname)!=null&&d.startsWith(a)||kt(!1),c=x}else c=l;let f=c.pathname||"/",g=a==="/"?f:f.slice(a.length)||"/",E=ON(t,{pathname:g}),I=dO(E&&E.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:Ms([a,r.encodeLocation?r.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?a:Ms([a,r.encodeLocation?r.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n);return e&&I?G.createElement(Hp.Provider,{value:{location:Sf({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Ps.Pop}},I):I}function lO(){let t=gO(),e=ZN(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),n?G.createElement("pre",{style:i},n):null,s)}const uO=G.createElement(lO,null);class cO extends G.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?G.createElement(es.Provider,{value:this.props.routeContext},G.createElement(tC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hO(t){let{routeContext:e,match:n,children:r}=t,i=G.useContext(P_);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),G.createElement(es.Provider,{value:e},r)}function dO(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||kt(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,c)=>{let d=l.route.id?o==null?void 0:o[l.route.id]:null,f=null;n&&(f=l.route.errorElement||uO);let g=e.concat(s.slice(0,c+1)),E=()=>{let I;return d?I=f:l.route.Component?I=G.createElement(l.route.Component,null):l.route.element?I=l.route.element:I=a,G.createElement(hO,{match:l,routeContext:{outlet:a,matches:g,isDataRoute:n!=null},children:I})};return n&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?G.createElement(cO,{location:n.location,revalidation:n.revalidation,component:f,error:d,children:E(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):E()},null)}var iC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(iC||{}),Cf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Cf||{});function fO(t){let e=G.useContext(P_);return e||kt(!1),e}function pO(t){let e=G.useContext(tO);return e||kt(!1),e}function mO(t){let e=G.useContext(es);return e||kt(!1),e}function sC(t){let e=mO(),n=e.matches[e.matches.length-1];return n.route.id||kt(!1),n.route.id}function gO(){var t;let e=G.useContext(tC),n=pO(Cf.UseRouteError),r=sC(Cf.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function yO(){let{router:t}=fO(iC.UseNavigateStable),e=sC(Cf.UseNavigateStable),n=G.useRef(!1);return nC(()=>{n.current=!0}),G.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Sf({fromRouteId:e},s)))},[t,e])}function vO(t){let{to:e,replace:n,state:r,relative:i}=t;Gl()||kt(!1);let{matches:s}=G.useContext(es),{pathname:o}=la(),a=N_(),l=R_(e,A_(s).map(d=>d.pathnameBase),o,i==="path"),c=JSON.stringify(l);return G.useEffect(()=>a(JSON.parse(c),{replace:n,state:r,relative:i}),[a,c,i,n,r]),null}function oC(t){return sO(t.context)}function ko(t){kt(!1)}function _O(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ps.Pop,navigator:s,static:o=!1}=t;Gl()&&kt(!1);let a=e.replace(/^\/*/,"/"),l=G.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Hl(r));let{pathname:c="/",search:d="",hash:f="",state:g=null,key:E="default"}=r,I=G.useMemo(()=>{let x=k_(c,a);return x==null?null:{location:{pathname:x,search:d,hash:f,state:g,key:E},navigationType:i}},[a,c,d,f,g,E,i]);return I==null?null:G.createElement(ql.Provider,{value:l},G.createElement(Hp.Provider,{children:n,value:I}))}function wO(t){let{children:e,location:n}=t;return oO(by(e),n)}new Promise(()=>{});function by(t,e){e===void 0&&(e=[]);let n=[];return G.Children.forEach(t,(r,i)=>{if(!G.isValidElement(r))return;let s=[...e,i];if(r.type===G.Fragment){n.push.apply(n,by(r.props.children,s));return}r.type!==ko&&kt(!1),!r.props.index||!r.props.children||kt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=by(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xy(){return xy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xy.apply(this,arguments)}function EO(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function TO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function IO(t,e){return t.button===0&&(!e||e==="_self")&&!TO(t)}const SO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],CO="startTransition",HE=Sy[CO];function bO(t){let{basename:e,children:n,future:r,window:i}=t,s=G.useRef();s.current==null&&(s.current=RN({window:i,v5Compat:!0}));let o=s.current,[a,l]=G.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=G.useCallback(f=>{c&&HE?HE(()=>l(f)):l(f)},[l,c]);return G.useLayoutEffect(()=>o.listen(d),[o,d]),G.createElement(_O,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o})}const xO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qp=G.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d}=e,f=EO(e,SO),{basename:g}=G.useContext(ql),E,I=!1;if(typeof c=="string"&&kO.test(c)&&(E=c,xO))try{let w=new URL(window.location.href),k=c.startsWith("//")?new URL(w.protocol+c):new URL(c),V=k_(k.pathname,g);k.origin===w.origin&&V!=null?c=V+k.search+k.hash:I=!0}catch{}let x=nO(c,{relative:i}),D=AO(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i});function S(w){r&&r(w),w.defaultPrevented||D(w)}return G.createElement("a",xy({},f,{href:E||x,onClick:I||s?r:S,ref:n,target:l}))});var qE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(qE||(qE={}));var GE;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(GE||(GE={}));function AO(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=N_(),l=la(),c=rC(t,{relative:o});return G.useCallback(d=>{if(IO(d,n)){d.preventDefault();let f=r!==void 0?r:If(l)===If(c);a(t,{replace:f,state:i,preventScrollReset:s,relative:o})}},[l,a,c,r,i,n,t,s,o])}var ky={},aC={exports:{}},ir={},lC={exports:{}},uC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(re,Q){var ce=re.length;re.push(Q);e:for(;0<ce;){var Fe=ce-1>>>1,Ce=re[Fe];if(0<i(Ce,Q))re[Fe]=Q,re[ce]=Ce,ce=Fe;else break e}}function n(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var Q=re[0],ce=re.pop();if(ce!==Q){re[0]=ce;e:for(var Fe=0,Ce=re.length,Be=Ce>>>1;Fe<Be;){var $=2*(Fe+1)-1,zt=re[$],ct=$+1,ht=re[ct];if(0>i(zt,ce))ct<Ce&&0>i(ht,zt)?(re[Fe]=ht,re[ct]=ce,Fe=ct):(re[Fe]=zt,re[$]=ce,Fe=$);else if(ct<Ce&&0>i(ht,ce))re[Fe]=ht,re[ct]=ce,Fe=ct;else break e}}return Q}function i(re,Q){var ce=re.sortIndex-Q.sortIndex;return ce!==0?ce:re.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,g=3,E=!1,I=!1,x=!1,D=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(re){for(var Q=n(c);Q!==null;){if(Q.callback===null)r(c);else if(Q.startTime<=re)r(c),Q.sortIndex=Q.expirationTime,e(l,Q);else break;Q=n(c)}}function V(re){if(x=!1,k(re),!I)if(n(l)!==null)I=!0,Te(U);else{var Q=n(c);Q!==null&&Ne(V,Q.startTime-re)}}function U(re,Q){I=!1,x&&(x=!1,S(b),b=-1),E=!0;var ce=g;try{for(k(Q),f=n(l);f!==null&&(!(f.expirationTime>Q)||re&&!M());){var Fe=f.callback;if(typeof Fe=="function"){f.callback=null,g=f.priorityLevel;var Ce=Fe(f.expirationTime<=Q);Q=t.unstable_now(),typeof Ce=="function"?f.callback=Ce:f===n(l)&&r(l),k(Q)}else r(l);f=n(l)}if(f!==null)var Be=!0;else{var $=n(c);$!==null&&Ne(V,$.startTime-Q),Be=!1}return Be}finally{f=null,g=ce,E=!1}}var H=!1,C=null,b=-1,A=5,P=-1;function M(){return!(t.unstable_now()-P<A)}function F(){if(C!==null){var re=t.unstable_now();P=re;var Q=!0;try{Q=C(!0,re)}finally{Q?R():(H=!1,C=null)}}else H=!1}var R;if(typeof w=="function")R=function(){w(F)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,Ge=Ee.port2;Ee.port1.onmessage=F,R=function(){Ge.postMessage(null)}}else R=function(){D(F,0)};function Te(re){C=re,H||(H=!0,R())}function Ne(re,Q){b=D(function(){re(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(re){re.callback=null},t.unstable_continueExecution=function(){I||E||(I=!0,Te(U))},t.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<re?Math.floor(1e3/re):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(re){switch(g){case 1:case 2:case 3:var Q=3;break;default:Q=g}var ce=g;g=Q;try{return re()}finally{g=ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(re,Q){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ce=g;g=re;try{return Q()}finally{g=ce}},t.unstable_scheduleCallback=function(re,Q,ce){var Fe=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Fe+ce:Fe):ce=Fe,re){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=ce+Ce,re={id:d++,callback:Q,priorityLevel:re,startTime:ce,expirationTime:Ce,sortIndex:-1},ce>Fe?(re.sortIndex=ce,e(c,re),n(l)===null&&re===n(c)&&(x?(S(b),b=-1):x=!0,Ne(V,ce-Fe))):(re.sortIndex=Ce,e(l,re),I||E||(I=!0,Te(U))),re},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(re){var Q=g;return function(){var ce=g;g=Q;try{return re.apply(this,arguments)}finally{g=ce}}}})(uC);lC.exports=uC;var RO=lC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cC=G,rr=RO;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hC=new Set,yc={};function ua(t,e){yl(t,e),yl(t+"Capture",e)}function yl(t,e){for(yc[t]=e,t=0;t<e.length;t++)hC.add(e[t])}var Hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ay=Object.prototype.hasOwnProperty,PO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,KE={},QE={};function NO(t){return Ay.call(QE,t)?!0:Ay.call(KE,t)?!1:PO.test(t)?QE[t]=!0:(KE[t]=!0,!1)}function OO(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function DO(t,e,n,r){if(e===null||typeof e>"u"||OO(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Rn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ln={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ln[t]=new Rn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ln[e]=new Rn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ln[t]=new Rn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ln[t]=new Rn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ln[t]=new Rn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ln[t]=new Rn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ln[t]=new Rn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ln[t]=new Rn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ln[t]=new Rn(t,5,!1,t.toLowerCase(),null,!1,!1)});var O_=/[\-:]([a-z])/g;function D_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(O_,D_);ln[e]=new Rn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(O_,D_);ln[e]=new Rn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(O_,D_);ln[e]=new Rn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ln[t]=new Rn(t,1,!1,t.toLowerCase(),null,!1,!1)});ln.xlinkHref=new Rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ln[t]=new Rn(t,1,!1,t.toLowerCase(),null,!0,!0)});function L_(t,e,n,r){var i=ln.hasOwnProperty(e)?ln[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(DO(e,n,i,r)&&(n=null),r||i===null?NO(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ts=cC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fd=Symbol.for("react.element"),Va=Symbol.for("react.portal"),ja=Symbol.for("react.fragment"),M_=Symbol.for("react.strict_mode"),Ry=Symbol.for("react.profiler"),dC=Symbol.for("react.provider"),fC=Symbol.for("react.context"),F_=Symbol.for("react.forward_ref"),Py=Symbol.for("react.suspense"),Ny=Symbol.for("react.suspense_list"),V_=Symbol.for("react.memo"),Ts=Symbol.for("react.lazy"),pC=Symbol.for("react.offscreen"),YE=Symbol.iterator;function Tu(t){return t===null||typeof t!="object"?null:(t=YE&&t[YE]||t["@@iterator"],typeof t=="function"?t:null)}var vt=Object.assign,yg;function Vu(t){if(yg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);yg=e&&e[1]||""}return`
`+yg+t}var vg=!1;function _g(t,e){if(!t||vg)return"";vg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{vg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Vu(t):""}function LO(t){switch(t.tag){case 5:return Vu(t.type);case 16:return Vu("Lazy");case 13:return Vu("Suspense");case 19:return Vu("SuspenseList");case 0:case 2:case 15:return t=_g(t.type,!1),t;case 11:return t=_g(t.type.render,!1),t;case 1:return t=_g(t.type,!0),t;default:return""}}function Oy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ja:return"Fragment";case Va:return"Portal";case Ry:return"Profiler";case M_:return"StrictMode";case Py:return"Suspense";case Ny:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case fC:return(t.displayName||"Context")+".Consumer";case dC:return(t._context.displayName||"Context")+".Provider";case F_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V_:return e=t.displayName||null,e!==null?e:Oy(t.type)||"Memo";case Ts:e=t._payload,t=t._init;try{return Oy(t(e))}catch{}}return null}function MO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oy(e);case 8:return e===M_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function FO(t){var e=mC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function pd(t){t._valueTracker||(t._valueTracker=FO(t))}function gC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=mC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function bf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Dy(t,e){var n=e.checked;return vt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function XE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Xs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function yC(t,e){e=e.checked,e!=null&&L_(t,"checked",e,!1)}function Ly(t,e){yC(t,e);var n=Xs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?My(t,e.type,n):e.hasOwnProperty("defaultValue")&&My(t,e.type,Xs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function JE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function My(t,e,n){(e!=="number"||bf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ju=Array.isArray;function nl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Xs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Fy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return vt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ZE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(ju(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Xs(n)}}function vC(t,e){var n=Xs(e.value),r=Xs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function e1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function _C(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?_C(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var md,wC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(md=md||document.createElement("div"),md.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=md.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function vc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Yu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},VO=["Webkit","ms","Moz","O"];Object.keys(Yu).forEach(function(t){VO.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Yu[e]=Yu[t]})});function EC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Yu.hasOwnProperty(t)&&Yu[t]?(""+e).trim():e+"px"}function TC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=EC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var jO=vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jy(t,e){if(e){if(jO[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function Uy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $y=null;function j_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var By=null,rl=null,il=null;function t1(t){if(t=oh(t)){if(typeof By!="function")throw Error(J(280));var e=t.stateNode;e&&(e=Xp(e),By(t.stateNode,t.type,e))}}function IC(t){rl?il?il.push(t):il=[t]:rl=t}function SC(){if(rl){var t=rl,e=il;if(il=rl=null,t1(t),e)for(t=0;t<e.length;t++)t1(e[t])}}function CC(t,e){return t(e)}function bC(){}var wg=!1;function xC(t,e,n){if(wg)return t(e,n);wg=!0;try{return CC(t,e,n)}finally{wg=!1,(rl!==null||il!==null)&&(bC(),SC())}}function _c(t,e){var n=t.stateNode;if(n===null)return null;var r=Xp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var zy=!1;if(Hi)try{var Iu={};Object.defineProperty(Iu,"passive",{get:function(){zy=!0}}),window.addEventListener("test",Iu,Iu),window.removeEventListener("test",Iu,Iu)}catch{zy=!1}function UO(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Xu=!1,xf=null,kf=!1,Wy=null,$O={onError:function(t){Xu=!0,xf=t}};function BO(t,e,n,r,i,s,o,a,l){Xu=!1,xf=null,UO.apply($O,arguments)}function zO(t,e,n,r,i,s,o,a,l){if(BO.apply(this,arguments),Xu){if(Xu){var c=xf;Xu=!1,xf=null}else throw Error(J(198));kf||(kf=!0,Wy=c)}}function ca(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function kC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function n1(t){if(ca(t)!==t)throw Error(J(188))}function WO(t){var e=t.alternate;if(!e){if(e=ca(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return n1(i),t;if(s===r)return n1(i),e;s=s.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function AC(t){return t=WO(t),t!==null?RC(t):null}function RC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=RC(t);if(e!==null)return e;t=t.sibling}return null}var PC=rr.unstable_scheduleCallback,r1=rr.unstable_cancelCallback,HO=rr.unstable_shouldYield,qO=rr.unstable_requestPaint,xt=rr.unstable_now,GO=rr.unstable_getCurrentPriorityLevel,U_=rr.unstable_ImmediatePriority,NC=rr.unstable_UserBlockingPriority,Af=rr.unstable_NormalPriority,KO=rr.unstable_LowPriority,OC=rr.unstable_IdlePriority,Gp=null,ii=null;function QO(t){if(ii&&typeof ii.onCommitFiberRoot=="function")try{ii.onCommitFiberRoot(Gp,t,void 0,(t.current.flags&128)===128)}catch{}}var Or=Math.clz32?Math.clz32:JO,YO=Math.log,XO=Math.LN2;function JO(t){return t>>>=0,t===0?32:31-(YO(t)/XO|0)|0}var gd=64,yd=4194304;function Uu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Rf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Uu(a):(s&=o,s!==0&&(r=Uu(s)))}else o=n&~i,o!==0?r=Uu(o):s!==0&&(r=Uu(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Or(e),i=1<<n,r|=t[n],e&=~i;return r}function ZO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Or(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=ZO(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Hy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function DC(){var t=gd;return gd<<=1,!(gd&4194240)&&(gd=64),t}function Eg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ih(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Or(e),t[e]=n}function tD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Or(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function $_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Or(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var qe=0;function LC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var MC,B_,FC,VC,jC,qy=!1,vd=[],Fs=null,Vs=null,js=null,wc=new Map,Ec=new Map,Ss=[],nD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function i1(t,e){switch(t){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":js=null;break;case"pointerover":case"pointerout":wc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ec.delete(e.pointerId)}}function Su(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=oh(e),e!==null&&B_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function rD(t,e,n,r,i){switch(e){case"focusin":return Fs=Su(Fs,t,e,n,r,i),!0;case"dragenter":return Vs=Su(Vs,t,e,n,r,i),!0;case"mouseover":return js=Su(js,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return wc.set(s,Su(wc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ec.set(s,Su(Ec.get(s)||null,t,e,n,r,i)),!0}return!1}function UC(t){var e=Oo(t.target);if(e!==null){var n=ca(e);if(n!==null){if(e=n.tag,e===13){if(e=kC(n),e!==null){t.blockedOn=e,jC(t.priority,function(){FC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Gy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);$y=r,n.target.dispatchEvent(r),$y=null}else return e=oh(n),e!==null&&B_(e),t.blockedOn=n,!1;e.shift()}return!0}function s1(t,e,n){Gd(t)&&n.delete(e)}function iD(){qy=!1,Fs!==null&&Gd(Fs)&&(Fs=null),Vs!==null&&Gd(Vs)&&(Vs=null),js!==null&&Gd(js)&&(js=null),wc.forEach(s1),Ec.forEach(s1)}function Cu(t,e){t.blockedOn===e&&(t.blockedOn=null,qy||(qy=!0,rr.unstable_scheduleCallback(rr.unstable_NormalPriority,iD)))}function Tc(t){function e(i){return Cu(i,t)}if(0<vd.length){Cu(vd[0],t);for(var n=1;n<vd.length;n++){var r=vd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Fs!==null&&Cu(Fs,t),Vs!==null&&Cu(Vs,t),js!==null&&Cu(js,t),wc.forEach(e),Ec.forEach(e),n=0;n<Ss.length;n++)r=Ss[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ss.length&&(n=Ss[0],n.blockedOn===null);)UC(n),n.blockedOn===null&&Ss.shift()}var sl=ts.ReactCurrentBatchConfig,Pf=!0;function sD(t,e,n,r){var i=qe,s=sl.transition;sl.transition=null;try{qe=1,z_(t,e,n,r)}finally{qe=i,sl.transition=s}}function oD(t,e,n,r){var i=qe,s=sl.transition;sl.transition=null;try{qe=4,z_(t,e,n,r)}finally{qe=i,sl.transition=s}}function z_(t,e,n,r){if(Pf){var i=Gy(t,e,n,r);if(i===null)Pg(t,e,r,Nf,n),i1(t,r);else if(rD(i,t,e,n,r))r.stopPropagation();else if(i1(t,r),e&4&&-1<nD.indexOf(t)){for(;i!==null;){var s=oh(i);if(s!==null&&MC(s),s=Gy(t,e,n,r),s===null&&Pg(t,e,r,Nf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Pg(t,e,r,null,n)}}var Nf=null;function Gy(t,e,n,r){if(Nf=null,t=j_(r),t=Oo(t),t!==null)if(e=ca(t),e===null)t=null;else if(n=e.tag,n===13){if(t=kC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Nf=t,null}function $C(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(GO()){case U_:return 1;case NC:return 4;case Af:case KO:return 16;case OC:return 536870912;default:return 16}default:return 16}}var Ns=null,W_=null,Kd=null;function BC(){if(Kd)return Kd;var t,e=W_,n=e.length,r,i="value"in Ns?Ns.value:Ns.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Kd=i.slice(t,1<r?1-r:void 0)}function Qd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _d(){return!0}function o1(){return!1}function sr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?_d:o1,this.isPropagationStopped=o1,this}return vt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_d)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_d)},persist:function(){},isPersistent:_d}),e}var Kl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},H_=sr(Kl),sh=vt({},Kl,{view:0,detail:0}),aD=sr(sh),Tg,Ig,bu,Kp=vt({},sh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:q_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bu&&(bu&&t.type==="mousemove"?(Tg=t.screenX-bu.screenX,Ig=t.screenY-bu.screenY):Ig=Tg=0,bu=t),Tg)},movementY:function(t){return"movementY"in t?t.movementY:Ig}}),a1=sr(Kp),lD=vt({},Kp,{dataTransfer:0}),uD=sr(lD),cD=vt({},sh,{relatedTarget:0}),Sg=sr(cD),hD=vt({},Kl,{animationName:0,elapsedTime:0,pseudoElement:0}),dD=sr(hD),fD=vt({},Kl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pD=sr(fD),mD=vt({},Kl,{data:0}),l1=sr(mD),gD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _D(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=vD[t])?!!e[t]:!1}function q_(){return _D}var wD=vt({},sh,{key:function(t){if(t.key){var e=gD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:q_,charCode:function(t){return t.type==="keypress"?Qd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ED=sr(wD),TD=vt({},Kp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),u1=sr(TD),ID=vt({},sh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:q_}),SD=sr(ID),CD=vt({},Kl,{propertyName:0,elapsedTime:0,pseudoElement:0}),bD=sr(CD),xD=vt({},Kp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),kD=sr(xD),AD=[9,13,27,32],G_=Hi&&"CompositionEvent"in window,Ju=null;Hi&&"documentMode"in document&&(Ju=document.documentMode);var RD=Hi&&"TextEvent"in window&&!Ju,zC=Hi&&(!G_||Ju&&8<Ju&&11>=Ju),c1=String.fromCharCode(32),h1=!1;function WC(t,e){switch(t){case"keyup":return AD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function HC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ua=!1;function PD(t,e){switch(t){case"compositionend":return HC(e);case"keypress":return e.which!==32?null:(h1=!0,c1);case"textInput":return t=e.data,t===c1&&h1?null:t;default:return null}}function ND(t,e){if(Ua)return t==="compositionend"||!G_&&WC(t,e)?(t=BC(),Kd=W_=Ns=null,Ua=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zC&&e.locale!=="ko"?null:e.data;default:return null}}var OD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function d1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!OD[t.type]:e==="textarea"}function qC(t,e,n,r){IC(r),e=Of(e,"onChange"),0<e.length&&(n=new H_("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Zu=null,Ic=null;function DD(t){rb(t,0)}function Qp(t){var e=za(t);if(gC(e))return t}function LD(t,e){if(t==="change")return e}var GC=!1;if(Hi){var Cg;if(Hi){var bg="oninput"in document;if(!bg){var f1=document.createElement("div");f1.setAttribute("oninput","return;"),bg=typeof f1.oninput=="function"}Cg=bg}else Cg=!1;GC=Cg&&(!document.documentMode||9<document.documentMode)}function p1(){Zu&&(Zu.detachEvent("onpropertychange",KC),Ic=Zu=null)}function KC(t){if(t.propertyName==="value"&&Qp(Ic)){var e=[];qC(e,Ic,t,j_(t)),xC(DD,e)}}function MD(t,e,n){t==="focusin"?(p1(),Zu=e,Ic=n,Zu.attachEvent("onpropertychange",KC)):t==="focusout"&&p1()}function FD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qp(Ic)}function VD(t,e){if(t==="click")return Qp(e)}function jD(t,e){if(t==="input"||t==="change")return Qp(e)}function UD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Fr=typeof Object.is=="function"?Object.is:UD;function Sc(t,e){if(Fr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ay.call(e,i)||!Fr(t[i],e[i]))return!1}return!0}function m1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function g1(t,e){var n=m1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=m1(n)}}function QC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?QC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function YC(){for(var t=window,e=bf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=bf(t.document)}return e}function K_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function $D(t){var e=YC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&QC(n.ownerDocument.documentElement,n)){if(r!==null&&K_(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=g1(n,s);var o=g1(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var BD=Hi&&"documentMode"in document&&11>=document.documentMode,$a=null,Ky=null,ec=null,Qy=!1;function y1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qy||$a==null||$a!==bf(r)||(r=$a,"selectionStart"in r&&K_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ec&&Sc(ec,r)||(ec=r,r=Of(Ky,"onSelect"),0<r.length&&(e=new H_("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=$a)))}function wd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ba={animationend:wd("Animation","AnimationEnd"),animationiteration:wd("Animation","AnimationIteration"),animationstart:wd("Animation","AnimationStart"),transitionend:wd("Transition","TransitionEnd")},xg={},XC={};Hi&&(XC=document.createElement("div").style,"AnimationEvent"in window||(delete Ba.animationend.animation,delete Ba.animationiteration.animation,delete Ba.animationstart.animation),"TransitionEvent"in window||delete Ba.transitionend.transition);function Yp(t){if(xg[t])return xg[t];if(!Ba[t])return t;var e=Ba[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in XC)return xg[t]=e[n];return t}var JC=Yp("animationend"),ZC=Yp("animationiteration"),eb=Yp("animationstart"),tb=Yp("transitionend"),nb=new Map,v1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function so(t,e){nb.set(t,e),ua(e,[t])}for(var kg=0;kg<v1.length;kg++){var Ag=v1[kg],zD=Ag.toLowerCase(),WD=Ag[0].toUpperCase()+Ag.slice(1);so(zD,"on"+WD)}so(JC,"onAnimationEnd");so(ZC,"onAnimationIteration");so(eb,"onAnimationStart");so("dblclick","onDoubleClick");so("focusin","onFocus");so("focusout","onBlur");so(tb,"onTransitionEnd");yl("onMouseEnter",["mouseout","mouseover"]);yl("onMouseLeave",["mouseout","mouseover"]);yl("onPointerEnter",["pointerout","pointerover"]);yl("onPointerLeave",["pointerout","pointerover"]);ua("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ua("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ua("onBeforeInput",["compositionend","keypress","textInput","paste"]);ua("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ua("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ua("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $u="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HD=new Set("cancel close invalid load scroll toggle".split(" ").concat($u));function _1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,zO(r,e,void 0,t),t.currentTarget=null}function rb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;_1(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;_1(i,a,c),s=l}}}if(kf)throw t=Wy,kf=!1,Wy=null,t}function st(t,e){var n=e[ev];n===void 0&&(n=e[ev]=new Set);var r=t+"__bubble";n.has(r)||(ib(e,t,2,!1),n.add(r))}function Rg(t,e,n){var r=0;e&&(r|=4),ib(n,t,r,e)}var Ed="_reactListening"+Math.random().toString(36).slice(2);function Cc(t){if(!t[Ed]){t[Ed]=!0,hC.forEach(function(n){n!=="selectionchange"&&(HD.has(n)||Rg(n,!1,t),Rg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ed]||(e[Ed]=!0,Rg("selectionchange",!1,e))}}function ib(t,e,n,r){switch($C(e)){case 1:var i=sD;break;case 4:i=oD;break;default:i=z_}n=i.bind(null,e,n,t),i=void 0,!zy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Pg(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Oo(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}xC(function(){var c=s,d=j_(n),f=[];e:{var g=nb.get(t);if(g!==void 0){var E=H_,I=t;switch(t){case"keypress":if(Qd(n)===0)break e;case"keydown":case"keyup":E=ED;break;case"focusin":I="focus",E=Sg;break;case"focusout":I="blur",E=Sg;break;case"beforeblur":case"afterblur":E=Sg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=a1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=uD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=SD;break;case JC:case ZC:case eb:E=dD;break;case tb:E=bD;break;case"scroll":E=aD;break;case"wheel":E=kD;break;case"copy":case"cut":case"paste":E=pD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=u1}var x=(e&4)!==0,D=!x&&t==="scroll",S=x?g!==null?g+"Capture":null:g;x=[];for(var w=c,k;w!==null;){k=w;var V=k.stateNode;if(k.tag===5&&V!==null&&(k=V,S!==null&&(V=_c(w,S),V!=null&&x.push(bc(w,V,k)))),D)break;w=w.return}0<x.length&&(g=new E(g,I,null,n,d),f.push({event:g,listeners:x}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",g&&n!==$y&&(I=n.relatedTarget||n.fromElement)&&(Oo(I)||I[qi]))break e;if((E||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,E?(I=n.relatedTarget||n.toElement,E=c,I=I?Oo(I):null,I!==null&&(D=ca(I),I!==D||I.tag!==5&&I.tag!==6)&&(I=null)):(E=null,I=c),E!==I)){if(x=a1,V="onMouseLeave",S="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(x=u1,V="onPointerLeave",S="onPointerEnter",w="pointer"),D=E==null?g:za(E),k=I==null?g:za(I),g=new x(V,w+"leave",E,n,d),g.target=D,g.relatedTarget=k,V=null,Oo(d)===c&&(x=new x(S,w+"enter",I,n,d),x.target=k,x.relatedTarget=D,V=x),D=V,E&&I)t:{for(x=E,S=I,w=0,k=x;k;k=Ra(k))w++;for(k=0,V=S;V;V=Ra(V))k++;for(;0<w-k;)x=Ra(x),w--;for(;0<k-w;)S=Ra(S),k--;for(;w--;){if(x===S||S!==null&&x===S.alternate)break t;x=Ra(x),S=Ra(S)}x=null}else x=null;E!==null&&w1(f,g,E,x,!1),I!==null&&D!==null&&w1(f,D,I,x,!0)}}e:{if(g=c?za(c):window,E=g.nodeName&&g.nodeName.toLowerCase(),E==="select"||E==="input"&&g.type==="file")var U=LD;else if(d1(g))if(GC)U=jD;else{U=FD;var H=MD}else(E=g.nodeName)&&E.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(U=VD);if(U&&(U=U(t,c))){qC(f,U,n,d);break e}H&&H(t,g,c),t==="focusout"&&(H=g._wrapperState)&&H.controlled&&g.type==="number"&&My(g,"number",g.value)}switch(H=c?za(c):window,t){case"focusin":(d1(H)||H.contentEditable==="true")&&($a=H,Ky=c,ec=null);break;case"focusout":ec=Ky=$a=null;break;case"mousedown":Qy=!0;break;case"contextmenu":case"mouseup":case"dragend":Qy=!1,y1(f,n,d);break;case"selectionchange":if(BD)break;case"keydown":case"keyup":y1(f,n,d)}var C;if(G_)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Ua?WC(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(zC&&n.locale!=="ko"&&(Ua||b!=="onCompositionStart"?b==="onCompositionEnd"&&Ua&&(C=BC()):(Ns=d,W_="value"in Ns?Ns.value:Ns.textContent,Ua=!0)),H=Of(c,b),0<H.length&&(b=new l1(b,t,null,n,d),f.push({event:b,listeners:H}),C?b.data=C:(C=HC(n),C!==null&&(b.data=C)))),(C=RD?PD(t,n):ND(t,n))&&(c=Of(c,"onBeforeInput"),0<c.length&&(d=new l1("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=C))}rb(f,e)})}function bc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Of(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=_c(t,n),s!=null&&r.unshift(bc(t,s,i)),s=_c(t,e),s!=null&&r.push(bc(t,s,i))),t=t.return}return r}function Ra(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function w1(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=_c(n,s),l!=null&&o.unshift(bc(n,l,a))):i||(l=_c(n,s),l!=null&&o.push(bc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var qD=/\r\n?/g,GD=/\u0000|\uFFFD/g;function E1(t){return(typeof t=="string"?t:""+t).replace(qD,`
`).replace(GD,"")}function Td(t,e,n){if(e=E1(e),E1(t)!==e&&n)throw Error(J(425))}function Df(){}var Yy=null,Xy=null;function Jy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Zy=typeof setTimeout=="function"?setTimeout:void 0,KD=typeof clearTimeout=="function"?clearTimeout:void 0,T1=typeof Promise=="function"?Promise:void 0,QD=typeof queueMicrotask=="function"?queueMicrotask:typeof T1<"u"?function(t){return T1.resolve(null).then(t).catch(YD)}:Zy;function YD(t){setTimeout(function(){throw t})}function Ng(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Tc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Tc(e)}function Us(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function I1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ql=Math.random().toString(36).slice(2),Zr="__reactFiber$"+Ql,xc="__reactProps$"+Ql,qi="__reactContainer$"+Ql,ev="__reactEvents$"+Ql,XD="__reactListeners$"+Ql,JD="__reactHandles$"+Ql;function Oo(t){var e=t[Zr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[qi]||n[Zr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=I1(t);t!==null;){if(n=t[Zr])return n;t=I1(t)}return e}t=n,n=t.parentNode}return null}function oh(t){return t=t[Zr]||t[qi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function za(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function Xp(t){return t[xc]||null}var tv=[],Wa=-1;function oo(t){return{current:t}}function ut(t){0>Wa||(t.current=tv[Wa],tv[Wa]=null,Wa--)}function nt(t,e){Wa++,tv[Wa]=t.current,t.current=e}var Js={},En=oo(Js),jn=oo(!1),Go=Js;function vl(t,e){var n=t.type.contextTypes;if(!n)return Js;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Un(t){return t=t.childContextTypes,t!=null}function Lf(){ut(jn),ut(En)}function S1(t,e,n){if(En.current!==Js)throw Error(J(168));nt(En,e),nt(jn,n)}function sb(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,MO(t)||"Unknown",i));return vt({},n,r)}function Mf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Js,Go=En.current,nt(En,t),nt(jn,jn.current),!0}function C1(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=sb(t,e,Go),r.__reactInternalMemoizedMergedChildContext=t,ut(jn),ut(En),nt(En,t)):ut(jn),nt(jn,n)}var Li=null,Jp=!1,Og=!1;function ob(t){Li===null?Li=[t]:Li.push(t)}function ZD(t){Jp=!0,ob(t)}function ao(){if(!Og&&Li!==null){Og=!0;var t=0,e=qe;try{var n=Li;for(qe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Li=null,Jp=!1}catch(i){throw Li!==null&&(Li=Li.slice(t+1)),PC(U_,ao),i}finally{qe=e,Og=!1}}return null}var Ha=[],qa=0,Ff=null,Vf=0,ur=[],cr=0,Ko=null,Mi=1,Fi="";function Ao(t,e){Ha[qa++]=Vf,Ha[qa++]=Ff,Ff=t,Vf=e}function ab(t,e,n){ur[cr++]=Mi,ur[cr++]=Fi,ur[cr++]=Ko,Ko=t;var r=Mi;t=Fi;var i=32-Or(r)-1;r&=~(1<<i),n+=1;var s=32-Or(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Mi=1<<32-Or(e)+i|n<<i|r,Fi=s+t}else Mi=1<<s|n<<i|r,Fi=t}function Q_(t){t.return!==null&&(Ao(t,1),ab(t,1,0))}function Y_(t){for(;t===Ff;)Ff=Ha[--qa],Ha[qa]=null,Vf=Ha[--qa],Ha[qa]=null;for(;t===Ko;)Ko=ur[--cr],ur[cr]=null,Fi=ur[--cr],ur[cr]=null,Mi=ur[--cr],ur[cr]=null}var er=null,Jn=null,pt=!1,xr=null;function lb(t,e){var n=hr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function b1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,er=t,Jn=Us(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,er=t,Jn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ko!==null?{id:Mi,overflow:Fi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=hr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,er=t,Jn=null,!0):!1;default:return!1}}function nv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function rv(t){if(pt){var e=Jn;if(e){var n=e;if(!b1(t,e)){if(nv(t))throw Error(J(418));e=Us(n.nextSibling);var r=er;e&&b1(t,e)?lb(r,n):(t.flags=t.flags&-4097|2,pt=!1,er=t)}}else{if(nv(t))throw Error(J(418));t.flags=t.flags&-4097|2,pt=!1,er=t}}}function x1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;er=t}function Id(t){if(t!==er)return!1;if(!pt)return x1(t),pt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Jy(t.type,t.memoizedProps)),e&&(e=Jn)){if(nv(t))throw ub(),Error(J(418));for(;e;)lb(t,e),e=Us(e.nextSibling)}if(x1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Jn=Us(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Jn=null}}else Jn=er?Us(t.stateNode.nextSibling):null;return!0}function ub(){for(var t=Jn;t;)t=Us(t.nextSibling)}function _l(){Jn=er=null,pt=!1}function X_(t){xr===null?xr=[t]:xr.push(t)}var eL=ts.ReactCurrentBatchConfig;function Sr(t,e){if(t&&t.defaultProps){e=vt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var jf=oo(null),Uf=null,Ga=null,J_=null;function Z_(){J_=Ga=Uf=null}function e0(t){var e=jf.current;ut(jf),t._currentValue=e}function iv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ol(t,e){Uf=t,J_=Ga=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Fn=!0),t.firstContext=null)}function pr(t){var e=t._currentValue;if(J_!==t)if(t={context:t,memoizedValue:e,next:null},Ga===null){if(Uf===null)throw Error(J(308));Ga=t,Uf.dependencies={lanes:0,firstContext:t}}else Ga=Ga.next=t;return e}var Do=null;function t0(t){Do===null?Do=[t]:Do.push(t)}function cb(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,t0(e)):(n.next=i.next,i.next=n),e.interleaved=n,Gi(t,r)}function Gi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Is=!1;function n0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Bi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $s(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Me&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Gi(t,n)}return i=r.interleaved,i===null?(e.next=e,t0(r)):(e.next=i.next,i.next=e),r.interleaved=e,Gi(t,n)}function Yd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$_(t,n)}}function k1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function $f(t,e,n,r){var i=t.updateQueue;Is=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,d=c=l=null,a=s;do{var g=a.lane,E=a.eventTime;if((r&g)===g){d!==null&&(d=d.next={eventTime:E,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var I=t,x=a;switch(g=e,E=n,x.tag){case 1:if(I=x.payload,typeof I=="function"){f=I.call(E,f,g);break e}f=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=x.payload,g=typeof I=="function"?I.call(E,f,g):I,g==null)break e;f=vt({},f,g);break e;case 2:Is=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[a]:g.push(a))}else E={eventTime:E,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=E,l=f):d=d.next=E,o|=g;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;g=a,a=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(1);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Yo|=o,t.lanes=o,t.memoizedState=f}}function A1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var db=new cC.Component().refs;function sv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:vt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Zp={isMounted:function(t){return(t=t._reactInternals)?ca(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=kn(),i=zs(t),s=Bi(r,i);s.payload=e,n!=null&&(s.callback=n),e=$s(t,s,i),e!==null&&(Dr(e,t,i,r),Yd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=kn(),i=zs(t),s=Bi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=$s(t,s,i),e!==null&&(Dr(e,t,i,r),Yd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=kn(),r=zs(t),i=Bi(n,r);i.tag=2,e!=null&&(i.callback=e),e=$s(t,i,r),e!==null&&(Dr(e,t,r,n),Yd(e,t,r))}};function R1(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Sc(n,r)||!Sc(i,s):!0}function fb(t,e,n){var r=!1,i=Js,s=e.contextType;return typeof s=="object"&&s!==null?s=pr(s):(i=Un(e)?Go:En.current,r=e.contextTypes,s=(r=r!=null)?vl(t,i):Js),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Zp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function P1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Zp.enqueueReplaceState(e,e.state,null)}function ov(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=db,n0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=pr(s):(s=Un(e)?Go:En.current,i.context=vl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(sv(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Zp.enqueueReplaceState(i,i.state,null),$f(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function xu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===db&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function Sd(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function N1(t){var e=t._init;return e(t._payload)}function pb(t){function e(S,w){if(t){var k=S.deletions;k===null?(S.deletions=[w],S.flags|=16):k.push(w)}}function n(S,w){if(!t)return null;for(;w!==null;)e(S,w),w=w.sibling;return null}function r(S,w){for(S=new Map;w!==null;)w.key!==null?S.set(w.key,w):S.set(w.index,w),w=w.sibling;return S}function i(S,w){return S=Ws(S,w),S.index=0,S.sibling=null,S}function s(S,w,k){return S.index=k,t?(k=S.alternate,k!==null?(k=k.index,k<w?(S.flags|=2,w):k):(S.flags|=2,w)):(S.flags|=1048576,w)}function o(S){return t&&S.alternate===null&&(S.flags|=2),S}function a(S,w,k,V){return w===null||w.tag!==6?(w=Ug(k,S.mode,V),w.return=S,w):(w=i(w,k),w.return=S,w)}function l(S,w,k,V){var U=k.type;return U===ja?d(S,w,k.props.children,V,k.key):w!==null&&(w.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Ts&&N1(U)===w.type)?(V=i(w,k.props),V.ref=xu(S,w,k),V.return=S,V):(V=nf(k.type,k.key,k.props,null,S.mode,V),V.ref=xu(S,w,k),V.return=S,V)}function c(S,w,k,V){return w===null||w.tag!==4||w.stateNode.containerInfo!==k.containerInfo||w.stateNode.implementation!==k.implementation?(w=$g(k,S.mode,V),w.return=S,w):(w=i(w,k.children||[]),w.return=S,w)}function d(S,w,k,V,U){return w===null||w.tag!==7?(w=Bo(k,S.mode,V,U),w.return=S,w):(w=i(w,k),w.return=S,w)}function f(S,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Ug(""+w,S.mode,k),w.return=S,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case fd:return k=nf(w.type,w.key,w.props,null,S.mode,k),k.ref=xu(S,null,w),k.return=S,k;case Va:return w=$g(w,S.mode,k),w.return=S,w;case Ts:var V=w._init;return f(S,V(w._payload),k)}if(ju(w)||Tu(w))return w=Bo(w,S.mode,k,null),w.return=S,w;Sd(S,w)}return null}function g(S,w,k,V){var U=w!==null?w.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return U!==null?null:a(S,w,""+k,V);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case fd:return k.key===U?l(S,w,k,V):null;case Va:return k.key===U?c(S,w,k,V):null;case Ts:return U=k._init,g(S,w,U(k._payload),V)}if(ju(k)||Tu(k))return U!==null?null:d(S,w,k,V,null);Sd(S,k)}return null}function E(S,w,k,V,U){if(typeof V=="string"&&V!==""||typeof V=="number")return S=S.get(k)||null,a(w,S,""+V,U);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case fd:return S=S.get(V.key===null?k:V.key)||null,l(w,S,V,U);case Va:return S=S.get(V.key===null?k:V.key)||null,c(w,S,V,U);case Ts:var H=V._init;return E(S,w,k,H(V._payload),U)}if(ju(V)||Tu(V))return S=S.get(k)||null,d(w,S,V,U,null);Sd(w,V)}return null}function I(S,w,k,V){for(var U=null,H=null,C=w,b=w=0,A=null;C!==null&&b<k.length;b++){C.index>b?(A=C,C=null):A=C.sibling;var P=g(S,C,k[b],V);if(P===null){C===null&&(C=A);break}t&&C&&P.alternate===null&&e(S,C),w=s(P,w,b),H===null?U=P:H.sibling=P,H=P,C=A}if(b===k.length)return n(S,C),pt&&Ao(S,b),U;if(C===null){for(;b<k.length;b++)C=f(S,k[b],V),C!==null&&(w=s(C,w,b),H===null?U=C:H.sibling=C,H=C);return pt&&Ao(S,b),U}for(C=r(S,C);b<k.length;b++)A=E(C,S,b,k[b],V),A!==null&&(t&&A.alternate!==null&&C.delete(A.key===null?b:A.key),w=s(A,w,b),H===null?U=A:H.sibling=A,H=A);return t&&C.forEach(function(M){return e(S,M)}),pt&&Ao(S,b),U}function x(S,w,k,V){var U=Tu(k);if(typeof U!="function")throw Error(J(150));if(k=U.call(k),k==null)throw Error(J(151));for(var H=U=null,C=w,b=w=0,A=null,P=k.next();C!==null&&!P.done;b++,P=k.next()){C.index>b?(A=C,C=null):A=C.sibling;var M=g(S,C,P.value,V);if(M===null){C===null&&(C=A);break}t&&C&&M.alternate===null&&e(S,C),w=s(M,w,b),H===null?U=M:H.sibling=M,H=M,C=A}if(P.done)return n(S,C),pt&&Ao(S,b),U;if(C===null){for(;!P.done;b++,P=k.next())P=f(S,P.value,V),P!==null&&(w=s(P,w,b),H===null?U=P:H.sibling=P,H=P);return pt&&Ao(S,b),U}for(C=r(S,C);!P.done;b++,P=k.next())P=E(C,S,b,P.value,V),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?b:P.key),w=s(P,w,b),H===null?U=P:H.sibling=P,H=P);return t&&C.forEach(function(F){return e(S,F)}),pt&&Ao(S,b),U}function D(S,w,k,V){if(typeof k=="object"&&k!==null&&k.type===ja&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case fd:e:{for(var U=k.key,H=w;H!==null;){if(H.key===U){if(U=k.type,U===ja){if(H.tag===7){n(S,H.sibling),w=i(H,k.props.children),w.return=S,S=w;break e}}else if(H.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Ts&&N1(U)===H.type){n(S,H.sibling),w=i(H,k.props),w.ref=xu(S,H,k),w.return=S,S=w;break e}n(S,H);break}else e(S,H);H=H.sibling}k.type===ja?(w=Bo(k.props.children,S.mode,V,k.key),w.return=S,S=w):(V=nf(k.type,k.key,k.props,null,S.mode,V),V.ref=xu(S,w,k),V.return=S,S=V)}return o(S);case Va:e:{for(H=k.key;w!==null;){if(w.key===H)if(w.tag===4&&w.stateNode.containerInfo===k.containerInfo&&w.stateNode.implementation===k.implementation){n(S,w.sibling),w=i(w,k.children||[]),w.return=S,S=w;break e}else{n(S,w);break}else e(S,w);w=w.sibling}w=$g(k,S.mode,V),w.return=S,S=w}return o(S);case Ts:return H=k._init,D(S,w,H(k._payload),V)}if(ju(k))return I(S,w,k,V);if(Tu(k))return x(S,w,k,V);Sd(S,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,w!==null&&w.tag===6?(n(S,w.sibling),w=i(w,k),w.return=S,S=w):(n(S,w),w=Ug(k,S.mode,V),w.return=S,S=w),o(S)):n(S,w)}return D}var wl=pb(!0),mb=pb(!1),ah={},si=oo(ah),kc=oo(ah),Ac=oo(ah);function Lo(t){if(t===ah)throw Error(J(174));return t}function r0(t,e){switch(nt(Ac,e),nt(kc,t),nt(si,ah),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Vy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Vy(e,t)}ut(si),nt(si,e)}function El(){ut(si),ut(kc),ut(Ac)}function gb(t){Lo(Ac.current);var e=Lo(si.current),n=Vy(e,t.type);e!==n&&(nt(kc,t),nt(si,n))}function i0(t){kc.current===t&&(ut(si),ut(kc))}var gt=oo(0);function Bf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dg=[];function s0(){for(var t=0;t<Dg.length;t++)Dg[t]._workInProgressVersionPrimary=null;Dg.length=0}var Xd=ts.ReactCurrentDispatcher,Lg=ts.ReactCurrentBatchConfig,Qo=0,yt=null,Ft=null,Kt=null,zf=!1,tc=!1,Rc=0,tL=0;function hn(){throw Error(J(321))}function o0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Fr(t[n],e[n]))return!1;return!0}function a0(t,e,n,r,i,s){if(Qo=s,yt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xd.current=t===null||t.memoizedState===null?sL:oL,t=n(r,i),tc){s=0;do{if(tc=!1,Rc=0,25<=s)throw Error(J(301));s+=1,Kt=Ft=null,e.updateQueue=null,Xd.current=aL,t=n(r,i)}while(tc)}if(Xd.current=Wf,e=Ft!==null&&Ft.next!==null,Qo=0,Kt=Ft=yt=null,zf=!1,e)throw Error(J(300));return t}function l0(){var t=Rc!==0;return Rc=0,t}function Kr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?yt.memoizedState=Kt=t:Kt=Kt.next=t,Kt}function mr(){if(Ft===null){var t=yt.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var e=Kt===null?yt.memoizedState:Kt.next;if(e!==null)Kt=e,Ft=t;else{if(t===null)throw Error(J(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},Kt===null?yt.memoizedState=Kt=t:Kt=Kt.next=t}return Kt}function Pc(t,e){return typeof e=="function"?e(t):e}function Mg(t){var e=mr(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=Ft,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((Qo&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,yt.lanes|=d,Yo|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Fr(r,e.memoizedState)||(Fn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,yt.lanes|=s,Yo|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Fg(t){var e=mr(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Fr(s,e.memoizedState)||(Fn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function yb(){}function vb(t,e){var n=yt,r=mr(),i=e(),s=!Fr(r.memoizedState,i);if(s&&(r.memoizedState=i,Fn=!0),r=r.queue,u0(Eb.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Kt!==null&&Kt.memoizedState.tag&1){if(n.flags|=2048,Nc(9,wb.bind(null,n,r,i,e),void 0,null),Jt===null)throw Error(J(349));Qo&30||_b(n,e,i)}return i}function _b(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=yt.updateQueue,e===null?(e={lastEffect:null,stores:null},yt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function wb(t,e,n,r){e.value=n,e.getSnapshot=r,Tb(e)&&Ib(t)}function Eb(t,e,n){return n(function(){Tb(e)&&Ib(t)})}function Tb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Fr(t,n)}catch{return!0}}function Ib(t){var e=Gi(t,1);e!==null&&Dr(e,t,1,-1)}function O1(t){var e=Kr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pc,lastRenderedState:t},e.queue=t,t=t.dispatch=iL.bind(null,yt,t),[e.memoizedState,t]}function Nc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=yt.updateQueue,e===null?(e={lastEffect:null,stores:null},yt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Sb(){return mr().memoizedState}function Jd(t,e,n,r){var i=Kr();yt.flags|=t,i.memoizedState=Nc(1|e,n,void 0,r===void 0?null:r)}function em(t,e,n,r){var i=mr();r=r===void 0?null:r;var s=void 0;if(Ft!==null){var o=Ft.memoizedState;if(s=o.destroy,r!==null&&o0(r,o.deps)){i.memoizedState=Nc(e,n,s,r);return}}yt.flags|=t,i.memoizedState=Nc(1|e,n,s,r)}function D1(t,e){return Jd(8390656,8,t,e)}function u0(t,e){return em(2048,8,t,e)}function Cb(t,e){return em(4,2,t,e)}function bb(t,e){return em(4,4,t,e)}function xb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function kb(t,e,n){return n=n!=null?n.concat([t]):null,em(4,4,xb.bind(null,e,t),n)}function c0(){}function Ab(t,e){var n=mr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&o0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Rb(t,e){var n=mr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&o0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Pb(t,e,n){return Qo&21?(Fr(n,e)||(n=DC(),yt.lanes|=n,Yo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Fn=!0),t.memoizedState=n)}function nL(t,e){var n=qe;qe=n!==0&&4>n?n:4,t(!0);var r=Lg.transition;Lg.transition={};try{t(!1),e()}finally{qe=n,Lg.transition=r}}function Nb(){return mr().memoizedState}function rL(t,e,n){var r=zs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ob(t))Db(e,n);else if(n=cb(t,e,n,r),n!==null){var i=kn();Dr(n,t,r,i),Lb(n,e,r)}}function iL(t,e,n){var r=zs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ob(t))Db(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Fr(a,o)){var l=e.interleaved;l===null?(i.next=i,t0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=cb(t,e,i,r),n!==null&&(i=kn(),Dr(n,t,r,i),Lb(n,e,r))}}function Ob(t){var e=t.alternate;return t===yt||e!==null&&e===yt}function Db(t,e){tc=zf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Lb(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$_(t,n)}}var Wf={readContext:pr,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useInsertionEffect:hn,useLayoutEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useMutableSource:hn,useSyncExternalStore:hn,useId:hn,unstable_isNewReconciler:!1},sL={readContext:pr,useCallback:function(t,e){return Kr().memoizedState=[t,e===void 0?null:e],t},useContext:pr,useEffect:D1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Jd(4194308,4,xb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Jd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Jd(4,2,t,e)},useMemo:function(t,e){var n=Kr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Kr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=rL.bind(null,yt,t),[r.memoizedState,t]},useRef:function(t){var e=Kr();return t={current:t},e.memoizedState=t},useState:O1,useDebugValue:c0,useDeferredValue:function(t){return Kr().memoizedState=t},useTransition:function(){var t=O1(!1),e=t[0];return t=nL.bind(null,t[1]),Kr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=yt,i=Kr();if(pt){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),Jt===null)throw Error(J(349));Qo&30||_b(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,D1(Eb.bind(null,r,s,t),[t]),r.flags|=2048,Nc(9,wb.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Kr(),e=Jt.identifierPrefix;if(pt){var n=Fi,r=Mi;n=(r&~(1<<32-Or(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Rc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=tL++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},oL={readContext:pr,useCallback:Ab,useContext:pr,useEffect:u0,useImperativeHandle:kb,useInsertionEffect:Cb,useLayoutEffect:bb,useMemo:Rb,useReducer:Mg,useRef:Sb,useState:function(){return Mg(Pc)},useDebugValue:c0,useDeferredValue:function(t){var e=mr();return Pb(e,Ft.memoizedState,t)},useTransition:function(){var t=Mg(Pc)[0],e=mr().memoizedState;return[t,e]},useMutableSource:yb,useSyncExternalStore:vb,useId:Nb,unstable_isNewReconciler:!1},aL={readContext:pr,useCallback:Ab,useContext:pr,useEffect:u0,useImperativeHandle:kb,useInsertionEffect:Cb,useLayoutEffect:bb,useMemo:Rb,useReducer:Fg,useRef:Sb,useState:function(){return Fg(Pc)},useDebugValue:c0,useDeferredValue:function(t){var e=mr();return Ft===null?e.memoizedState=t:Pb(e,Ft.memoizedState,t)},useTransition:function(){var t=Fg(Pc)[0],e=mr().memoizedState;return[t,e]},useMutableSource:yb,useSyncExternalStore:vb,useId:Nb,unstable_isNewReconciler:!1};function Tl(t,e){try{var n="",r=e;do n+=LO(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Vg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function av(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var lL=typeof WeakMap=="function"?WeakMap:Map;function Mb(t,e,n){n=Bi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){qf||(qf=!0,yv=r),av(t,e)},n}function Fb(t,e,n){n=Bi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){av(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){av(t,e),typeof r!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function L1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new lL;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=TL.bind(null,t,e,n),e.then(t,t))}function M1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function F1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Bi(-1,1),e.tag=2,$s(n,e,1))),n.lanes|=1),t)}var uL=ts.ReactCurrentOwner,Fn=!1;function bn(t,e,n,r){e.child=t===null?mb(e,null,n,r):wl(e,t.child,n,r)}function V1(t,e,n,r,i){n=n.render;var s=e.ref;return ol(e,i),r=a0(t,e,n,r,s,i),n=l0(),t!==null&&!Fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ki(t,e,i)):(pt&&n&&Q_(e),e.flags|=1,bn(t,e,r,i),e.child)}function j1(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!v0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Vb(t,e,s,r,i)):(t=nf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Sc,n(o,r)&&t.ref===e.ref)return Ki(t,e,i)}return e.flags|=1,t=Ws(s,r),t.ref=e.ref,t.return=e,e.child=t}function Vb(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Sc(s,r)&&t.ref===e.ref)if(Fn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Fn=!0);else return e.lanes=t.lanes,Ki(t,e,i)}return lv(t,e,n,r,i)}function jb(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(Qa,Yn),Yn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,nt(Qa,Yn),Yn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,nt(Qa,Yn),Yn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,nt(Qa,Yn),Yn|=r;return bn(t,e,i,n),e.child}function Ub(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function lv(t,e,n,r,i){var s=Un(n)?Go:En.current;return s=vl(e,s),ol(e,i),n=a0(t,e,n,r,s,i),r=l0(),t!==null&&!Fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ki(t,e,i)):(pt&&r&&Q_(e),e.flags|=1,bn(t,e,n,i),e.child)}function U1(t,e,n,r,i){if(Un(n)){var s=!0;Mf(e)}else s=!1;if(ol(e,i),e.stateNode===null)Zd(t,e),fb(e,n,r),ov(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=pr(c):(c=Un(n)?Go:En.current,c=vl(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&P1(e,o,r,c),Is=!1;var g=e.memoizedState;o.state=g,$f(e,r,o,i),l=e.memoizedState,a!==r||g!==l||jn.current||Is?(typeof d=="function"&&(sv(e,n,d,r),l=e.memoizedState),(a=Is||R1(e,n,a,r,g,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,hb(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Sr(e.type,a),o.props=c,f=e.pendingProps,g=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=pr(l):(l=Un(n)?Go:En.current,l=vl(e,l));var E=n.getDerivedStateFromProps;(d=typeof E=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||g!==l)&&P1(e,o,r,l),Is=!1,g=e.memoizedState,o.state=g,$f(e,r,o,i);var I=e.memoizedState;a!==f||g!==I||jn.current||Is?(typeof E=="function"&&(sv(e,n,E,r),I=e.memoizedState),(c=Is||R1(e,n,c,r,g,I,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,I,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,I,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=I),o.props=r,o.state=I,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return uv(t,e,n,r,s,i)}function uv(t,e,n,r,i,s){Ub(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&C1(e,n,!1),Ki(t,e,s);r=e.stateNode,uL.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=wl(e,t.child,null,s),e.child=wl(e,null,a,s)):bn(t,e,a,s),e.memoizedState=r.state,i&&C1(e,n,!0),e.child}function $b(t){var e=t.stateNode;e.pendingContext?S1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&S1(t,e.context,!1),r0(t,e.containerInfo)}function $1(t,e,n,r,i){return _l(),X_(i),e.flags|=256,bn(t,e,n,r),e.child}var cv={dehydrated:null,treeContext:null,retryLane:0};function hv(t){return{baseLanes:t,cachePool:null,transitions:null}}function Bb(t,e,n){var r=e.pendingProps,i=gt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),nt(gt,i&1),t===null)return rv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=rm(o,r,0,null),t=Bo(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=hv(n),e.memoizedState=cv,t):h0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return cL(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ws(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ws(a,s):(s=Bo(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?hv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=cv,r}return s=t.child,t=s.sibling,r=Ws(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function h0(t,e){return e=rm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Cd(t,e,n,r){return r!==null&&X_(r),wl(e,t.child,null,n),t=h0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function cL(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Vg(Error(J(422))),Cd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=rm({mode:"visible",children:r.children},i,0,null),s=Bo(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&wl(e,t.child,null,o),e.child.memoizedState=hv(o),e.memoizedState=cv,s);if(!(e.mode&1))return Cd(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(J(419)),r=Vg(s,r,void 0),Cd(t,e,o,r)}if(a=(o&t.childLanes)!==0,Fn||a){if(r=Jt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Gi(t,i),Dr(r,t,i,-1))}return y0(),r=Vg(Error(J(421))),Cd(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=IL.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Jn=Us(i.nextSibling),er=e,pt=!0,xr=null,t!==null&&(ur[cr++]=Mi,ur[cr++]=Fi,ur[cr++]=Ko,Mi=t.id,Fi=t.overflow,Ko=e),e=h0(e,r.children),e.flags|=4096,e)}function B1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),iv(t.return,e,n)}function jg(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function zb(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(bn(t,e,r.children,n),r=gt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&B1(t,n,e);else if(t.tag===19)B1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(nt(gt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Bf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),jg(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Bf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}jg(e,!0,n,null,s);break;case"together":jg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ki(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Yo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=Ws(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ws(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function hL(t,e,n){switch(e.tag){case 3:$b(e),_l();break;case 5:gb(e);break;case 1:Un(e.type)&&Mf(e);break;case 4:r0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;nt(jf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(nt(gt,gt.current&1),e.flags|=128,null):n&e.child.childLanes?Bb(t,e,n):(nt(gt,gt.current&1),t=Ki(t,e,n),t!==null?t.sibling:null);nt(gt,gt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return zb(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),nt(gt,gt.current),r)break;return null;case 22:case 23:return e.lanes=0,jb(t,e,n)}return Ki(t,e,n)}var Wb,dv,Hb,qb;Wb=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};dv=function(){};Hb=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Lo(si.current);var s=null;switch(n){case"input":i=Dy(t,i),r=Dy(t,r),s=[];break;case"select":i=vt({},i,{value:void 0}),r=vt({},r,{value:void 0}),s=[];break;case"textarea":i=Fy(t,i),r=Fy(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Df)}jy(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(yc.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(yc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&st("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};qb=function(t,e,n,r){n!==r&&(e.flags|=4)};function ku(t,e){if(!pt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function dn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function dL(t,e,n){var r=e.pendingProps;switch(Y_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(e),null;case 1:return Un(e.type)&&Lf(),dn(e),null;case 3:return r=e.stateNode,El(),ut(jn),ut(En),s0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Id(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xr!==null&&(wv(xr),xr=null))),dv(t,e),dn(e),null;case 5:i0(e);var i=Lo(Ac.current);if(n=e.type,t!==null&&e.stateNode!=null)Hb(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return dn(e),null}if(t=Lo(si.current),Id(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Zr]=e,r[xc]=s,t=(e.mode&1)!==0,n){case"dialog":st("cancel",r),st("close",r);break;case"iframe":case"object":case"embed":st("load",r);break;case"video":case"audio":for(i=0;i<$u.length;i++)st($u[i],r);break;case"source":st("error",r);break;case"img":case"image":case"link":st("error",r),st("load",r);break;case"details":st("toggle",r);break;case"input":XE(r,s),st("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},st("invalid",r);break;case"textarea":ZE(r,s),st("invalid",r)}jy(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Td(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Td(r.textContent,a,t),i=["children",""+a]):yc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&st("scroll",r)}switch(n){case"input":pd(r),JE(r,s,!0);break;case"textarea":pd(r),e1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Df)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=_C(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Zr]=e,t[xc]=r,Wb(t,e,!1,!1),e.stateNode=t;e:{switch(o=Uy(n,r),n){case"dialog":st("cancel",t),st("close",t),i=r;break;case"iframe":case"object":case"embed":st("load",t),i=r;break;case"video":case"audio":for(i=0;i<$u.length;i++)st($u[i],t);i=r;break;case"source":st("error",t),i=r;break;case"img":case"image":case"link":st("error",t),st("load",t),i=r;break;case"details":st("toggle",t),i=r;break;case"input":XE(t,r),i=Dy(t,r),st("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=vt({},r,{value:void 0}),st("invalid",t);break;case"textarea":ZE(t,r),i=Fy(t,r),st("invalid",t);break;default:i=r}jy(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?TC(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&wC(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&vc(t,l):typeof l=="number"&&vc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(yc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&st("scroll",t):l!=null&&L_(t,s,l,o))}switch(n){case"input":pd(t),JE(t,r,!1);break;case"textarea":pd(t),e1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Xs(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?nl(t,!!r.multiple,s,!1):r.defaultValue!=null&&nl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Df)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return dn(e),null;case 6:if(t&&e.stateNode!=null)qb(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=Lo(Ac.current),Lo(si.current),Id(e)){if(r=e.stateNode,n=e.memoizedProps,r[Zr]=e,(s=r.nodeValue!==n)&&(t=er,t!==null))switch(t.tag){case 3:Td(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Td(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zr]=e,e.stateNode=r}return dn(e),null;case 13:if(ut(gt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pt&&Jn!==null&&e.mode&1&&!(e.flags&128))ub(),_l(),e.flags|=98560,s=!1;else if(s=Id(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(J(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(J(317));s[Zr]=e}else _l(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;dn(e),s=!1}else xr!==null&&(wv(xr),xr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||gt.current&1?Ut===0&&(Ut=3):y0())),e.updateQueue!==null&&(e.flags|=4),dn(e),null);case 4:return El(),dv(t,e),t===null&&Cc(e.stateNode.containerInfo),dn(e),null;case 10:return e0(e.type._context),dn(e),null;case 17:return Un(e.type)&&Lf(),dn(e),null;case 19:if(ut(gt),s=e.memoizedState,s===null)return dn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ku(s,!1);else{if(Ut!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Bf(t),o!==null){for(e.flags|=128,ku(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return nt(gt,gt.current&1|2),e.child}t=t.sibling}s.tail!==null&&xt()>Il&&(e.flags|=128,r=!0,ku(s,!1),e.lanes=4194304)}else{if(!r)if(t=Bf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ku(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!pt)return dn(e),null}else 2*xt()-s.renderingStartTime>Il&&n!==1073741824&&(e.flags|=128,r=!0,ku(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=xt(),e.sibling=null,n=gt.current,nt(gt,r?n&1|2:n&1),e):(dn(e),null);case 22:case 23:return g0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Yn&1073741824&&(dn(e),e.subtreeFlags&6&&(e.flags|=8192)):dn(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function fL(t,e){switch(Y_(e),e.tag){case 1:return Un(e.type)&&Lf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return El(),ut(jn),ut(En),s0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return i0(e),null;case 13:if(ut(gt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));_l()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ut(gt),null;case 4:return El(),null;case 10:return e0(e.type._context),null;case 22:case 23:return g0(),null;case 24:return null;default:return null}}var bd=!1,gn=!1,pL=typeof WeakSet=="function"?WeakSet:Set,oe=null;function Ka(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Tt(t,e,r)}else n.current=null}function fv(t,e,n){try{n()}catch(r){Tt(t,e,r)}}var z1=!1;function mL(t,e){if(Yy=Pf,t=YC(),K_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=t,g=null;t:for(;;){for(var E;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(E=f.firstChild)!==null;)g=f,f=E;for(;;){if(f===t)break t;if(g===n&&++c===i&&(a=o),g===s&&++d===r&&(l=o),(E=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=E}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xy={focusedElem:t,selectionRange:n},Pf=!1,oe=e;oe!==null;)if(e=oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,oe=t;else for(;oe!==null;){e=oe;try{var I=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(I!==null){var x=I.memoizedProps,D=I.memoizedState,S=e.stateNode,w=S.getSnapshotBeforeUpdate(e.elementType===e.type?x:Sr(e.type,x),D);S.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(V){Tt(e,e.return,V)}if(t=e.sibling,t!==null){t.return=e.return,oe=t;break}oe=e.return}return I=z1,z1=!1,I}function nc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&fv(e,n,s)}i=i.next}while(i!==r)}}function tm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function pv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Gb(t){var e=t.alternate;e!==null&&(t.alternate=null,Gb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Zr],delete e[xc],delete e[ev],delete e[XD],delete e[JD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Kb(t){return t.tag===5||t.tag===3||t.tag===4}function W1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Kb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Df));else if(r!==4&&(t=t.child,t!==null))for(mv(t,e,n),t=t.sibling;t!==null;)mv(t,e,n),t=t.sibling}function gv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(gv(t,e,n),t=t.sibling;t!==null;)gv(t,e,n),t=t.sibling}var tn=null,br=!1;function _s(t,e,n){for(n=n.child;n!==null;)Qb(t,e,n),n=n.sibling}function Qb(t,e,n){if(ii&&typeof ii.onCommitFiberUnmount=="function")try{ii.onCommitFiberUnmount(Gp,n)}catch{}switch(n.tag){case 5:gn||Ka(n,e);case 6:var r=tn,i=br;tn=null,_s(t,e,n),tn=r,br=i,tn!==null&&(br?(t=tn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):tn.removeChild(n.stateNode));break;case 18:tn!==null&&(br?(t=tn,n=n.stateNode,t.nodeType===8?Ng(t.parentNode,n):t.nodeType===1&&Ng(t,n),Tc(t)):Ng(tn,n.stateNode));break;case 4:r=tn,i=br,tn=n.stateNode.containerInfo,br=!0,_s(t,e,n),tn=r,br=i;break;case 0:case 11:case 14:case 15:if(!gn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&fv(n,e,o),i=i.next}while(i!==r)}_s(t,e,n);break;case 1:if(!gn&&(Ka(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Tt(n,e,a)}_s(t,e,n);break;case 21:_s(t,e,n);break;case 22:n.mode&1?(gn=(r=gn)||n.memoizedState!==null,_s(t,e,n),gn=r):_s(t,e,n);break;default:_s(t,e,n)}}function H1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new pL),e.forEach(function(r){var i=SL.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ir(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:tn=a.stateNode,br=!1;break e;case 3:tn=a.stateNode.containerInfo,br=!0;break e;case 4:tn=a.stateNode.containerInfo,br=!0;break e}a=a.return}if(tn===null)throw Error(J(160));Qb(s,o,i),tn=null,br=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Tt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Yb(e,t),e=e.sibling}function Yb(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ir(e,t),Gr(t),r&4){try{nc(3,t,t.return),tm(3,t)}catch(x){Tt(t,t.return,x)}try{nc(5,t,t.return)}catch(x){Tt(t,t.return,x)}}break;case 1:Ir(e,t),Gr(t),r&512&&n!==null&&Ka(n,n.return);break;case 5:if(Ir(e,t),Gr(t),r&512&&n!==null&&Ka(n,n.return),t.flags&32){var i=t.stateNode;try{vc(i,"")}catch(x){Tt(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&yC(i,s),Uy(a,o);var c=Uy(a,s);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?TC(i,f):d==="dangerouslySetInnerHTML"?wC(i,f):d==="children"?vc(i,f):L_(i,d,f,c)}switch(a){case"input":Ly(i,s);break;case"textarea":vC(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var E=s.value;E!=null?nl(i,!!s.multiple,E,!1):g!==!!s.multiple&&(s.defaultValue!=null?nl(i,!!s.multiple,s.defaultValue,!0):nl(i,!!s.multiple,s.multiple?[]:"",!1))}i[xc]=s}catch(x){Tt(t,t.return,x)}}break;case 6:if(Ir(e,t),Gr(t),r&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){Tt(t,t.return,x)}}break;case 3:if(Ir(e,t),Gr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Tc(e.containerInfo)}catch(x){Tt(t,t.return,x)}break;case 4:Ir(e,t),Gr(t);break;case 13:Ir(e,t),Gr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(p0=xt())),r&4&&H1(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(gn=(c=gn)||d,Ir(e,t),gn=c):Ir(e,t),Gr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(oe=t,d=t.child;d!==null;){for(f=oe=d;oe!==null;){switch(g=oe,E=g.child,g.tag){case 0:case 11:case 14:case 15:nc(4,g,g.return);break;case 1:Ka(g,g.return);var I=g.stateNode;if(typeof I.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,I.props=e.memoizedProps,I.state=e.memoizedState,I.componentWillUnmount()}catch(x){Tt(r,n,x)}}break;case 5:Ka(g,g.return);break;case 22:if(g.memoizedState!==null){G1(f);continue}}E!==null?(E.return=g,oe=E):G1(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=EC("display",o))}catch(x){Tt(t,t.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(x){Tt(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ir(e,t),Gr(t),r&4&&H1(t);break;case 21:break;default:Ir(e,t),Gr(t)}}function Gr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Kb(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(vc(i,""),r.flags&=-33);var s=W1(t);gv(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=W1(t);mv(t,a,o);break;default:throw Error(J(161))}}catch(l){Tt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function gL(t,e,n){oe=t,Xb(t)}function Xb(t,e,n){for(var r=(t.mode&1)!==0;oe!==null;){var i=oe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||bd;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||gn;a=bd;var c=gn;if(bd=o,(gn=l)&&!c)for(oe=i;oe!==null;)o=oe,l=o.child,o.tag===22&&o.memoizedState!==null?K1(i):l!==null?(l.return=o,oe=l):K1(i);for(;s!==null;)oe=s,Xb(s),s=s.sibling;oe=i,bd=a,gn=c}q1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,oe=s):q1(t)}}function q1(t){for(;oe!==null;){var e=oe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:gn||tm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!gn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Sr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&A1(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}A1(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Tc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}gn||e.flags&512&&pv(e)}catch(g){Tt(e,e.return,g)}}if(e===t){oe=null;break}if(n=e.sibling,n!==null){n.return=e.return,oe=n;break}oe=e.return}}function G1(t){for(;oe!==null;){var e=oe;if(e===t){oe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,oe=n;break}oe=e.return}}function K1(t){for(;oe!==null;){var e=oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{tm(4,e)}catch(l){Tt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Tt(e,i,l)}}var s=e.return;try{pv(e)}catch(l){Tt(e,s,l)}break;case 5:var o=e.return;try{pv(e)}catch(l){Tt(e,o,l)}}}catch(l){Tt(e,e.return,l)}if(e===t){oe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,oe=a;break}oe=e.return}}var yL=Math.ceil,Hf=ts.ReactCurrentDispatcher,d0=ts.ReactCurrentOwner,dr=ts.ReactCurrentBatchConfig,Me=0,Jt=null,Ot=null,on=0,Yn=0,Qa=oo(0),Ut=0,Oc=null,Yo=0,nm=0,f0=0,rc=null,Dn=null,p0=0,Il=1/0,Oi=null,qf=!1,yv=null,Bs=null,xd=!1,Os=null,Gf=0,ic=0,vv=null,ef=-1,tf=0;function kn(){return Me&6?xt():ef!==-1?ef:ef=xt()}function zs(t){return t.mode&1?Me&2&&on!==0?on&-on:eL.transition!==null?(tf===0&&(tf=DC()),tf):(t=qe,t!==0||(t=window.event,t=t===void 0?16:$C(t.type)),t):1}function Dr(t,e,n,r){if(50<ic)throw ic=0,vv=null,Error(J(185));ih(t,n,r),(!(Me&2)||t!==Jt)&&(t===Jt&&(!(Me&2)&&(nm|=n),Ut===4&&Cs(t,on)),$n(t,r),n===1&&Me===0&&!(e.mode&1)&&(Il=xt()+500,Jp&&ao()))}function $n(t,e){var n=t.callbackNode;eD(t,e);var r=Rf(t,t===Jt?on:0);if(r===0)n!==null&&r1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&r1(n),e===1)t.tag===0?ZD(Q1.bind(null,t)):ob(Q1.bind(null,t)),QD(function(){!(Me&6)&&ao()}),n=null;else{switch(LC(r)){case 1:n=U_;break;case 4:n=NC;break;case 16:n=Af;break;case 536870912:n=OC;break;default:n=Af}n=sx(n,Jb.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Jb(t,e){if(ef=-1,tf=0,Me&6)throw Error(J(327));var n=t.callbackNode;if(al()&&t.callbackNode!==n)return null;var r=Rf(t,t===Jt?on:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Kf(t,r);else{e=r;var i=Me;Me|=2;var s=ex();(Jt!==t||on!==e)&&(Oi=null,Il=xt()+500,$o(t,e));do try{wL();break}catch(a){Zb(t,a)}while(1);Z_(),Hf.current=s,Me=i,Ot!==null?e=0:(Jt=null,on=0,e=Ut)}if(e!==0){if(e===2&&(i=Hy(t),i!==0&&(r=i,e=_v(t,i))),e===1)throw n=Oc,$o(t,0),Cs(t,r),$n(t,xt()),n;if(e===6)Cs(t,r);else{if(i=t.current.alternate,!(r&30)&&!vL(i)&&(e=Kf(t,r),e===2&&(s=Hy(t),s!==0&&(r=s,e=_v(t,s))),e===1))throw n=Oc,$o(t,0),Cs(t,r),$n(t,xt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:Ro(t,Dn,Oi);break;case 3:if(Cs(t,r),(r&130023424)===r&&(e=p0+500-xt(),10<e)){if(Rf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){kn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Zy(Ro.bind(null,t,Dn,Oi),e);break}Ro(t,Dn,Oi);break;case 4:if(Cs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Or(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=xt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*yL(r/1960))-r,10<r){t.timeoutHandle=Zy(Ro.bind(null,t,Dn,Oi),r);break}Ro(t,Dn,Oi);break;case 5:Ro(t,Dn,Oi);break;default:throw Error(J(329))}}}return $n(t,xt()),t.callbackNode===n?Jb.bind(null,t):null}function _v(t,e){var n=rc;return t.current.memoizedState.isDehydrated&&($o(t,e).flags|=256),t=Kf(t,e),t!==2&&(e=Dn,Dn=n,e!==null&&wv(e)),t}function wv(t){Dn===null?Dn=t:Dn.push.apply(Dn,t)}function vL(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Fr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Cs(t,e){for(e&=~f0,e&=~nm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Or(e),r=1<<n;t[n]=-1,e&=~r}}function Q1(t){if(Me&6)throw Error(J(327));al();var e=Rf(t,0);if(!(e&1))return $n(t,xt()),null;var n=Kf(t,e);if(t.tag!==0&&n===2){var r=Hy(t);r!==0&&(e=r,n=_v(t,r))}if(n===1)throw n=Oc,$o(t,0),Cs(t,e),$n(t,xt()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ro(t,Dn,Oi),$n(t,xt()),null}function m0(t,e){var n=Me;Me|=1;try{return t(e)}finally{Me=n,Me===0&&(Il=xt()+500,Jp&&ao())}}function Xo(t){Os!==null&&Os.tag===0&&!(Me&6)&&al();var e=Me;Me|=1;var n=dr.transition,r=qe;try{if(dr.transition=null,qe=1,t)return t()}finally{qe=r,dr.transition=n,Me=e,!(Me&6)&&ao()}}function g0(){Yn=Qa.current,ut(Qa)}function $o(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,KD(n)),Ot!==null)for(n=Ot.return;n!==null;){var r=n;switch(Y_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Lf();break;case 3:El(),ut(jn),ut(En),s0();break;case 5:i0(r);break;case 4:El();break;case 13:ut(gt);break;case 19:ut(gt);break;case 10:e0(r.type._context);break;case 22:case 23:g0()}n=n.return}if(Jt=t,Ot=t=Ws(t.current,null),on=Yn=e,Ut=0,Oc=null,f0=nm=Yo=0,Dn=rc=null,Do!==null){for(e=0;e<Do.length;e++)if(n=Do[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Do=null}return t}function Zb(t,e){do{var n=Ot;try{if(Z_(),Xd.current=Wf,zf){for(var r=yt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}zf=!1}if(Qo=0,Kt=Ft=yt=null,tc=!1,Rc=0,d0.current=null,n===null||n.return===null){Ut=1,Oc=e,Ot=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=on,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var E=M1(o);if(E!==null){E.flags&=-257,F1(E,o,a,s,e),E.mode&1&&L1(s,c,e),e=E,l=c;var I=e.updateQueue;if(I===null){var x=new Set;x.add(l),e.updateQueue=x}else I.add(l);break e}else{if(!(e&1)){L1(s,c,e),y0();break e}l=Error(J(426))}}else if(pt&&a.mode&1){var D=M1(o);if(D!==null){!(D.flags&65536)&&(D.flags|=256),F1(D,o,a,s,e),X_(Tl(l,a));break e}}s=l=Tl(l,a),Ut!==4&&(Ut=2),rc===null?rc=[s]:rc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=Mb(s,l,e);k1(s,S);break e;case 1:a=l;var w=s.type,k=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Bs===null||!Bs.has(k)))){s.flags|=65536,e&=-e,s.lanes|=e;var V=Fb(s,a,e);k1(s,V);break e}}s=s.return}while(s!==null)}nx(n)}catch(U){e=U,Ot===n&&n!==null&&(Ot=n=n.return);continue}break}while(1)}function ex(){var t=Hf.current;return Hf.current=Wf,t===null?Wf:t}function y0(){(Ut===0||Ut===3||Ut===2)&&(Ut=4),Jt===null||!(Yo&268435455)&&!(nm&268435455)||Cs(Jt,on)}function Kf(t,e){var n=Me;Me|=2;var r=ex();(Jt!==t||on!==e)&&(Oi=null,$o(t,e));do try{_L();break}catch(i){Zb(t,i)}while(1);if(Z_(),Me=n,Hf.current=r,Ot!==null)throw Error(J(261));return Jt=null,on=0,Ut}function _L(){for(;Ot!==null;)tx(Ot)}function wL(){for(;Ot!==null&&!HO();)tx(Ot)}function tx(t){var e=ix(t.alternate,t,Yn);t.memoizedProps=t.pendingProps,e===null?nx(t):Ot=e,d0.current=null}function nx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=fL(n,e),n!==null){n.flags&=32767,Ot=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ut=6,Ot=null;return}}else if(n=dL(n,e,Yn),n!==null){Ot=n;return}if(e=e.sibling,e!==null){Ot=e;return}Ot=e=t}while(e!==null);Ut===0&&(Ut=5)}function Ro(t,e,n){var r=qe,i=dr.transition;try{dr.transition=null,qe=1,EL(t,e,n,r)}finally{dr.transition=i,qe=r}return null}function EL(t,e,n,r){do al();while(Os!==null);if(Me&6)throw Error(J(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(tD(t,s),t===Jt&&(Ot=Jt=null,on=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xd||(xd=!0,sx(Af,function(){return al(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=dr.transition,dr.transition=null;var o=qe;qe=1;var a=Me;Me|=4,d0.current=null,mL(t,n),Yb(n,t),$D(Xy),Pf=!!Yy,Xy=Yy=null,t.current=n,gL(n),qO(),Me=a,qe=o,dr.transition=s}else t.current=n;if(xd&&(xd=!1,Os=t,Gf=i),s=t.pendingLanes,s===0&&(Bs=null),QO(n.stateNode),$n(t,xt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(qf)throw qf=!1,t=yv,yv=null,t;return Gf&1&&t.tag!==0&&al(),s=t.pendingLanes,s&1?t===vv?ic++:(ic=0,vv=t):ic=0,ao(),null}function al(){if(Os!==null){var t=LC(Gf),e=dr.transition,n=qe;try{if(dr.transition=null,qe=16>t?16:t,Os===null)var r=!1;else{if(t=Os,Os=null,Gf=0,Me&6)throw Error(J(331));var i=Me;for(Me|=4,oe=t.current;oe!==null;){var s=oe,o=s.child;if(oe.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(oe=c;oe!==null;){var d=oe;switch(d.tag){case 0:case 11:case 15:nc(8,d,s)}var f=d.child;if(f!==null)f.return=d,oe=f;else for(;oe!==null;){d=oe;var g=d.sibling,E=d.return;if(Gb(d),d===c){oe=null;break}if(g!==null){g.return=E,oe=g;break}oe=E}}}var I=s.alternate;if(I!==null){var x=I.child;if(x!==null){I.child=null;do{var D=x.sibling;x.sibling=null,x=D}while(x!==null)}}oe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,oe=o;else e:for(;oe!==null;){if(s=oe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:nc(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,oe=S;break e}oe=s.return}}var w=t.current;for(oe=w;oe!==null;){o=oe;var k=o.child;if(o.subtreeFlags&2064&&k!==null)k.return=o,oe=k;else e:for(o=w;oe!==null;){if(a=oe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:tm(9,a)}}catch(U){Tt(a,a.return,U)}if(a===o){oe=null;break e}var V=a.sibling;if(V!==null){V.return=a.return,oe=V;break e}oe=a.return}}if(Me=i,ao(),ii&&typeof ii.onPostCommitFiberRoot=="function")try{ii.onPostCommitFiberRoot(Gp,t)}catch{}r=!0}return r}finally{qe=n,dr.transition=e}}return!1}function Y1(t,e,n){e=Tl(n,e),e=Mb(t,e,1),t=$s(t,e,1),e=kn(),t!==null&&(ih(t,1,e),$n(t,e))}function Tt(t,e,n){if(t.tag===3)Y1(t,t,n);else for(;e!==null;){if(e.tag===3){Y1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bs===null||!Bs.has(r))){t=Tl(n,t),t=Fb(e,t,1),e=$s(e,t,1),t=kn(),e!==null&&(ih(e,1,t),$n(e,t));break}}e=e.return}}function TL(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=kn(),t.pingedLanes|=t.suspendedLanes&n,Jt===t&&(on&n)===n&&(Ut===4||Ut===3&&(on&130023424)===on&&500>xt()-p0?$o(t,0):f0|=n),$n(t,e)}function rx(t,e){e===0&&(t.mode&1?(e=yd,yd<<=1,!(yd&130023424)&&(yd=4194304)):e=1);var n=kn();t=Gi(t,e),t!==null&&(ih(t,e,n),$n(t,n))}function IL(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),rx(t,n)}function SL(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),rx(t,n)}var ix;ix=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||jn.current)Fn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Fn=!1,hL(t,e,n);Fn=!!(t.flags&131072)}else Fn=!1,pt&&e.flags&1048576&&ab(e,Vf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Zd(t,e),t=e.pendingProps;var i=vl(e,En.current);ol(e,n),i=a0(null,e,r,t,i,n);var s=l0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Un(r)?(s=!0,Mf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,n0(e),i.updater=Zp,e.stateNode=i,i._reactInternals=e,ov(e,r,t,n),e=uv(null,e,r,!0,s,n)):(e.tag=0,pt&&s&&Q_(e),bn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Zd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=bL(r),t=Sr(r,t),i){case 0:e=lv(null,e,r,t,n);break e;case 1:e=U1(null,e,r,t,n);break e;case 11:e=V1(null,e,r,t,n);break e;case 14:e=j1(null,e,r,Sr(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sr(r,i),lv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sr(r,i),U1(t,e,r,i,n);case 3:e:{if($b(e),t===null)throw Error(J(387));r=e.pendingProps,s=e.memoizedState,i=s.element,hb(t,e),$f(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Tl(Error(J(423)),e),e=$1(t,e,r,n,i);break e}else if(r!==i){i=Tl(Error(J(424)),e),e=$1(t,e,r,n,i);break e}else for(Jn=Us(e.stateNode.containerInfo.firstChild),er=e,pt=!0,xr=null,n=mb(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_l(),r===i){e=Ki(t,e,n);break e}bn(t,e,r,n)}e=e.child}return e;case 5:return gb(e),t===null&&rv(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Jy(r,i)?o=null:s!==null&&Jy(r,s)&&(e.flags|=32),Ub(t,e),bn(t,e,o,n),e.child;case 6:return t===null&&rv(e),null;case 13:return Bb(t,e,n);case 4:return r0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=wl(e,null,r,n):bn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sr(r,i),V1(t,e,r,i,n);case 7:return bn(t,e,e.pendingProps,n),e.child;case 8:return bn(t,e,e.pendingProps.children,n),e.child;case 12:return bn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,nt(jf,r._currentValue),r._currentValue=o,s!==null)if(Fr(s.value,o)){if(s.children===i.children&&!jn.current){e=Ki(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Bi(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),iv(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(J(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),iv(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}bn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ol(e,n),i=pr(i),r=r(i),e.flags|=1,bn(t,e,r,n),e.child;case 14:return r=e.type,i=Sr(r,e.pendingProps),i=Sr(r.type,i),j1(t,e,r,i,n);case 15:return Vb(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sr(r,i),Zd(t,e),e.tag=1,Un(r)?(t=!0,Mf(e)):t=!1,ol(e,n),fb(e,r,i),ov(e,r,i,n),uv(null,e,r,!0,t,n);case 19:return zb(t,e,n);case 22:return jb(t,e,n)}throw Error(J(156,e.tag))};function sx(t,e){return PC(t,e)}function CL(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(t,e,n,r){return new CL(t,e,n,r)}function v0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function bL(t){if(typeof t=="function")return v0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===F_)return 11;if(t===V_)return 14}return 2}function Ws(t,e){var n=t.alternate;return n===null?(n=hr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function nf(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")v0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ja:return Bo(n.children,i,s,e);case M_:o=8,i|=8;break;case Ry:return t=hr(12,n,e,i|2),t.elementType=Ry,t.lanes=s,t;case Py:return t=hr(13,n,e,i),t.elementType=Py,t.lanes=s,t;case Ny:return t=hr(19,n,e,i),t.elementType=Ny,t.lanes=s,t;case pC:return rm(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case dC:o=10;break e;case fC:o=9;break e;case F_:o=11;break e;case V_:o=14;break e;case Ts:o=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=hr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Bo(t,e,n,r){return t=hr(7,t,r,e),t.lanes=n,t}function rm(t,e,n,r){return t=hr(22,t,r,e),t.elementType=pC,t.lanes=n,t.stateNode={isHidden:!1},t}function Ug(t,e,n){return t=hr(6,t,null,e),t.lanes=n,t}function $g(t,e,n){return e=hr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function xL(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Eg(0),this.expirationTimes=Eg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Eg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function _0(t,e,n,r,i,s,o,a,l){return t=new xL(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=hr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},n0(s),t}function kL(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Va,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ox(t){if(!t)return Js;t=t._reactInternals;e:{if(ca(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Un(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(Un(n))return sb(t,n,e)}return e}function ax(t,e,n,r,i,s,o,a,l){return t=_0(n,r,!0,t,i,s,o,a,l),t.context=ox(null),n=t.current,r=kn(),i=zs(n),s=Bi(r,i),s.callback=e??null,$s(n,s,i),t.current.lanes=i,ih(t,i,r),$n(t,r),t}function im(t,e,n,r){var i=e.current,s=kn(),o=zs(i);return n=ox(n),e.context===null?e.context=n:e.pendingContext=n,e=Bi(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=$s(i,e,o),t!==null&&(Dr(t,i,o,s),Yd(t,i,o)),o}function Qf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function X1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function w0(t,e){X1(t,e),(t=t.alternate)&&X1(t,e)}function AL(){return null}var lx=typeof reportError=="function"?reportError:function(t){console.error(t)};function E0(t){this._internalRoot=t}sm.prototype.render=E0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));im(t,e,null,null)};sm.prototype.unmount=E0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Xo(function(){im(null,t,null,null)}),e[qi]=null}};function sm(t){this._internalRoot=t}sm.prototype.unstable_scheduleHydration=function(t){if(t){var e=VC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ss.length&&e!==0&&e<Ss[n].priority;n++);Ss.splice(n,0,t),n===0&&UC(t)}};function T0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function om(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function J1(){}function RL(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Qf(o);s.call(c)}}var o=ax(e,r,t,0,null,!1,!1,"",J1);return t._reactRootContainer=o,t[qi]=o.current,Cc(t.nodeType===8?t.parentNode:t),Xo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Qf(l);a.call(c)}}var l=_0(t,0,!1,null,null,!1,!1,"",J1);return t._reactRootContainer=l,t[qi]=l.current,Cc(t.nodeType===8?t.parentNode:t),Xo(function(){im(e,l,n,r)}),l}function am(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Qf(o);a.call(l)}}im(e,o,t,i)}else o=RL(n,e,t,i,r);return Qf(o)}MC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Uu(e.pendingLanes);n!==0&&($_(e,n|1),$n(e,xt()),!(Me&6)&&(Il=xt()+500,ao()))}break;case 13:Xo(function(){var r=Gi(t,1);if(r!==null){var i=kn();Dr(r,t,1,i)}}),w0(t,1)}};B_=function(t){if(t.tag===13){var e=Gi(t,134217728);if(e!==null){var n=kn();Dr(e,t,134217728,n)}w0(t,134217728)}};FC=function(t){if(t.tag===13){var e=zs(t),n=Gi(t,e);if(n!==null){var r=kn();Dr(n,t,e,r)}w0(t,e)}};VC=function(){return qe};jC=function(t,e){var n=qe;try{return qe=t,e()}finally{qe=n}};By=function(t,e,n){switch(e){case"input":if(Ly(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Xp(r);if(!i)throw Error(J(90));gC(r),Ly(r,i)}}}break;case"textarea":vC(t,n);break;case"select":e=n.value,e!=null&&nl(t,!!n.multiple,e,!1)}};CC=m0;bC=Xo;var PL={usingClientEntryPoint:!1,Events:[oh,za,Xp,IC,SC,m0]},Au={findFiberByHostInstance:Oo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},NL={bundleType:Au.bundleType,version:Au.version,rendererPackageName:Au.rendererPackageName,rendererConfig:Au.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ts.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=AC(t),t===null?null:t.stateNode},findFiberByHostInstance:Au.findFiberByHostInstance||AL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kd.isDisabled&&kd.supportsFiber)try{Gp=kd.inject(NL),ii=kd}catch{}}ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PL;ir.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!T0(e))throw Error(J(200));return kL(t,e,null,n)};ir.createRoot=function(t,e){if(!T0(t))throw Error(J(299));var n=!1,r="",i=lx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=_0(t,1,!1,null,null,n,!1,r,i),t[qi]=e.current,Cc(t.nodeType===8?t.parentNode:t),new E0(e)};ir.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=AC(e),t=t===null?null:t.stateNode,t};ir.flushSync=function(t){return Xo(t)};ir.hydrate=function(t,e,n){if(!om(e))throw Error(J(200));return am(null,t,e,!0,n)};ir.hydrateRoot=function(t,e,n){if(!T0(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=lx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ax(e,null,t,1,n??null,i,!1,s,o),t[qi]=e.current,Cc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new sm(e)};ir.render=function(t,e,n){if(!om(e))throw Error(J(200));return am(null,t,e,!1,n)};ir.unmountComponentAtNode=function(t){if(!om(t))throw Error(J(40));return t._reactRootContainer?(Xo(function(){am(null,null,t,!1,function(){t._reactRootContainer=null,t[qi]=null})}),!0):!1};ir.unstable_batchedUpdates=m0;ir.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!om(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return am(t,e,n,!1,r)};ir.version="18.2.0-next-9e3b772b8-20220608";function ux(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ux)}catch(t){console.error(t)}}ux(),aC.exports=ir;var OL=aC.exports,Z1=OL;ky.createRoot=Z1.createRoot,ky.hydrateRoot=Z1.hydrateRoot;function Ev(){return Ev=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ev.apply(this,arguments)}function cx(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var DL=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,LL=cx(function(t){return DL.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function ML(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function FL(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var VL=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(FL(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=ML(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),pn="-ms-",Yf="-moz-",Ve="-webkit-",hx="comm",I0="rule",S0="decl",jL="@import",dx="@keyframes",UL="@layer",$L=Math.abs,lm=String.fromCharCode,BL=Object.assign;function zL(t,e){return rn(t,0)^45?(((e<<2^rn(t,0))<<2^rn(t,1))<<2^rn(t,2))<<2^rn(t,3):0}function fx(t){return t.trim()}function WL(t,e){return(t=e.exec(t))?t[0]:t}function je(t,e,n){return t.replace(e,n)}function Tv(t,e){return t.indexOf(e)}function rn(t,e){return t.charCodeAt(e)|0}function Dc(t,e,n){return t.slice(e,n)}function Yr(t){return t.length}function C0(t){return t.length}function Ad(t,e){return e.push(t),t}function HL(t,e){return t.map(e).join("")}var um=1,Sl=1,px=0,zn=0,Pt=0,Yl="";function cm(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:um,column:Sl,length:o,return:""}}function Ru(t,e){return BL(cm("",null,null,"",null,null,0),t,{length:-t.length},e)}function qL(){return Pt}function GL(){return Pt=zn>0?rn(Yl,--zn):0,Sl--,Pt===10&&(Sl=1,um--),Pt}function tr(){return Pt=zn<px?rn(Yl,zn++):0,Sl++,Pt===10&&(Sl=1,um++),Pt}function oi(){return rn(Yl,zn)}function rf(){return zn}function lh(t,e){return Dc(Yl,t,e)}function Lc(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function mx(t){return um=Sl=1,px=Yr(Yl=t),zn=0,[]}function gx(t){return Yl="",t}function sf(t){return fx(lh(zn-1,Iv(t===91?t+2:t===40?t+1:t)))}function KL(t){for(;(Pt=oi())&&Pt<33;)tr();return Lc(t)>2||Lc(Pt)>3?"":" "}function QL(t,e){for(;--e&&tr()&&!(Pt<48||Pt>102||Pt>57&&Pt<65||Pt>70&&Pt<97););return lh(t,rf()+(e<6&&oi()==32&&tr()==32))}function Iv(t){for(;tr();)switch(Pt){case t:return zn;case 34:case 39:t!==34&&t!==39&&Iv(Pt);break;case 40:t===41&&Iv(t);break;case 92:tr();break}return zn}function YL(t,e){for(;tr()&&t+Pt!==47+10;)if(t+Pt===42+42&&oi()===47)break;return"/*"+lh(e,zn-1)+"*"+lm(t===47?t:tr())}function XL(t){for(;!Lc(oi());)tr();return lh(t,zn)}function JL(t){return gx(of("",null,null,null,[""],t=mx(t),0,[0],t))}function of(t,e,n,r,i,s,o,a,l){for(var c=0,d=0,f=o,g=0,E=0,I=0,x=1,D=1,S=1,w=0,k="",V=i,U=s,H=r,C=k;D;)switch(I=w,w=tr()){case 40:if(I!=108&&rn(C,f-1)==58){Tv(C+=je(sf(w),"&","&\f"),"&\f")!=-1&&(S=-1);break}case 34:case 39:case 91:C+=sf(w);break;case 9:case 10:case 13:case 32:C+=KL(I);break;case 92:C+=QL(rf()-1,7);continue;case 47:switch(oi()){case 42:case 47:Ad(ZL(YL(tr(),rf()),e,n),l);break;default:C+="/"}break;case 123*x:a[c++]=Yr(C)*S;case 125*x:case 59:case 0:switch(w){case 0:case 125:D=0;case 59+d:S==-1&&(C=je(C,/\f/g,"")),E>0&&Yr(C)-f&&Ad(E>32?tT(C+";",r,n,f-1):tT(je(C," ","")+";",r,n,f-2),l);break;case 59:C+=";";default:if(Ad(H=eT(C,e,n,c,d,i,a,k,V=[],U=[],f),s),w===123)if(d===0)of(C,e,H,H,V,s,f,a,U);else switch(g===99&&rn(C,3)===110?100:g){case 100:case 108:case 109:case 115:of(t,H,H,r&&Ad(eT(t,H,H,0,0,i,a,k,i,V=[],f),U),i,U,f,a,r?V:U);break;default:of(C,H,H,H,[""],U,0,a,U)}}c=d=E=0,x=S=1,k=C="",f=o;break;case 58:f=1+Yr(C),E=I;default:if(x<1){if(w==123)--x;else if(w==125&&x++==0&&GL()==125)continue}switch(C+=lm(w),w*x){case 38:S=d>0?1:(C+="\f",-1);break;case 44:a[c++]=(Yr(C)-1)*S,S=1;break;case 64:oi()===45&&(C+=sf(tr())),g=oi(),d=f=Yr(k=C+=XL(rf())),w++;break;case 45:I===45&&Yr(C)==2&&(x=0)}}return s}function eT(t,e,n,r,i,s,o,a,l,c,d){for(var f=i-1,g=i===0?s:[""],E=C0(g),I=0,x=0,D=0;I<r;++I)for(var S=0,w=Dc(t,f+1,f=$L(x=o[I])),k=t;S<E;++S)(k=fx(x>0?g[S]+" "+w:je(w,/&\f/g,g[S])))&&(l[D++]=k);return cm(t,e,n,i===0?I0:a,l,c,d)}function ZL(t,e,n){return cm(t,e,n,hx,lm(qL()),Dc(t,2,-2),0)}function tT(t,e,n,r){return cm(t,e,n,S0,Dc(t,0,r),Dc(t,r+1,-1),r)}function ll(t,e){for(var n="",r=C0(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function eM(t,e,n,r){switch(t.type){case UL:if(t.children.length)break;case jL:case S0:return t.return=t.return||t.value;case hx:return"";case dx:return t.return=t.value+"{"+ll(t.children,r)+"}";case I0:t.value=t.props.join(",")}return Yr(n=ll(t.children,r))?t.return=t.value+"{"+n+"}":""}function tM(t){var e=C0(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function nM(t){return function(e){e.root||(e=e.return)&&t(e)}}var rM=function(e,n,r){for(var i=0,s=0;i=s,s=oi(),i===38&&s===12&&(n[r]=1),!Lc(s);)tr();return lh(e,zn)},iM=function(e,n){var r=-1,i=44;do switch(Lc(i)){case 0:i===38&&oi()===12&&(n[r]=1),e[r]+=rM(zn-1,n,r);break;case 2:e[r]+=sf(i);break;case 4:if(i===44){e[++r]=oi()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=lm(i)}while(i=tr());return e},sM=function(e,n){return gx(iM(mx(e),n))},nT=new WeakMap,oM=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!nT.get(r))&&!i){nT.set(e,!0);for(var s=[],o=sM(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var d=0;d<a.length;d++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[d]):a[d]+" "+o[l]}}},aM=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function yx(t,e){switch(zL(t,e)){case 5103:return Ve+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ve+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ve+t+Yf+t+pn+t+t;case 6828:case 4268:return Ve+t+pn+t+t;case 6165:return Ve+t+pn+"flex-"+t+t;case 5187:return Ve+t+je(t,/(\w+).+(:[^]+)/,Ve+"box-$1$2"+pn+"flex-$1$2")+t;case 5443:return Ve+t+pn+"flex-item-"+je(t,/flex-|-self/,"")+t;case 4675:return Ve+t+pn+"flex-line-pack"+je(t,/align-content|flex-|-self/,"")+t;case 5548:return Ve+t+pn+je(t,"shrink","negative")+t;case 5292:return Ve+t+pn+je(t,"basis","preferred-size")+t;case 6060:return Ve+"box-"+je(t,"-grow","")+Ve+t+pn+je(t,"grow","positive")+t;case 4554:return Ve+je(t,/([^-])(transform)/g,"$1"+Ve+"$2")+t;case 6187:return je(je(je(t,/(zoom-|grab)/,Ve+"$1"),/(image-set)/,Ve+"$1"),t,"")+t;case 5495:case 3959:return je(t,/(image-set\([^]*)/,Ve+"$1$`$1");case 4968:return je(je(t,/(.+:)(flex-)?(.*)/,Ve+"box-pack:$3"+pn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ve+t+t;case 4095:case 3583:case 4068:case 2532:return je(t,/(.+)-inline(.+)/,Ve+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Yr(t)-1-e>6)switch(rn(t,e+1)){case 109:if(rn(t,e+4)!==45)break;case 102:return je(t,/(.+:)(.+)-([^]+)/,"$1"+Ve+"$2-$3$1"+Yf+(rn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Tv(t,"stretch")?yx(je(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(rn(t,e+1)!==115)break;case 6444:switch(rn(t,Yr(t)-3-(~Tv(t,"!important")&&10))){case 107:return je(t,":",":"+Ve)+t;case 101:return je(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ve+(rn(t,14)===45?"inline-":"")+"box$3$1"+Ve+"$2$3$1"+pn+"$2box$3")+t}break;case 5936:switch(rn(t,e+11)){case 114:return Ve+t+pn+je(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ve+t+pn+je(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ve+t+pn+je(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ve+t+pn+t+t}return t}var lM=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case S0:e.return=yx(e.value,e.length);break;case dx:return ll([Ru(e,{value:je(e.value,"@","@"+Ve)})],i);case I0:if(e.length)return HL(e.props,function(s){switch(WL(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ll([Ru(e,{props:[je(s,/:(read-\w+)/,":"+Yf+"$1")]})],i);case"::placeholder":return ll([Ru(e,{props:[je(s,/:(plac\w+)/,":"+Ve+"input-$1")]}),Ru(e,{props:[je(s,/:(plac\w+)/,":"+Yf+"$1")]}),Ru(e,{props:[je(s,/:(plac\w+)/,pn+"input-$1")]})],i)}return""})}},uM=[lM],cM=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(x){var D=x.getAttribute("data-emotion");D.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var i=e.stylisPlugins||uM,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(x){for(var D=x.getAttribute("data-emotion").split(" "),S=1;S<D.length;S++)s[D[S]]=!0;a.push(x)});var l,c=[oM,aM];{var d,f=[eM,nM(function(x){d.insert(x)})],g=tM(c.concat(i,f)),E=function(D){return ll(JL(D),g)};l=function(D,S,w,k){d=w,E(D?D+"{"+S.styles+"}":S.styles),k&&(I.inserted[S.name]=!0)}}var I={key:n,sheet:new VL({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return I.sheet.hydrate(a),I},hM=!0;function dM(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var vx=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||hM===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},fM=function(e,n,r){vx(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function pM(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var _x={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},mM=/[A-Z]|^ms/g,gM=/_EMO_([^_]+?)_([^]*?)_EMO_/g,wx=function(e){return e.charCodeAt(1)===45},rT=function(e){return e!=null&&typeof e!="boolean"},Bg=cx(function(t){return wx(t)?t:t.replace(mM,"-$&").toLowerCase()}),iT=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(gM,function(r,i,s){return Xr={name:i,styles:s,next:Xr},i})}return _x[e]!==1&&!wx(e)&&typeof n=="number"&&n!==0?n+"px":n};function Mc(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Xr={name:n.name,styles:n.styles,next:Xr},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Xr={name:r.name,styles:r.styles,next:Xr},r=r.next;var i=n.styles+";";return i}return yM(t,e,n)}case"function":{if(t!==void 0){var s=Xr,o=n(t);return Xr=s,Mc(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function yM(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Mc(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":rT(o)&&(r+=Bg(s)+":"+iT(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)rT(o[a])&&(r+=Bg(s)+":"+iT(s,o[a])+";");else{var l=Mc(t,e,o);switch(s){case"animation":case"animationName":{r+=Bg(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var sT=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Xr,vM=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";Xr=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=Mc(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=Mc(r,n,e[a]),i&&(s+=o[a]);sT.lastIndex=0;for(var l="",c;(c=sT.exec(s))!==null;)l+="-"+c[1];var d=pM(s)+l;return{name:d,styles:s,next:Xr}},_M=function(e){return e()},wM=Sy["useInsertionEffect"]?Sy["useInsertionEffect"]:!1,EM=wM||_M,Ex=G.createContext(typeof HTMLElement<"u"?cM({key:"css"}):null);Ex.Provider;var TM=function(e){return G.forwardRef(function(n,r){var i=G.useContext(Ex);return e(n,i,r)})},IM=G.createContext({}),SM=LL,CM=function(e){return e!=="theme"},oT=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?SM:CM},aT=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},bM=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return vx(n,r,i),EM(function(){return fM(n,r,i)}),null},xM=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=aT(e,n,r),l=a||oT(i),c=!l("as");return function(){var d=arguments,f=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&f.push("label:"+s+";"),d[0]==null||d[0].raw===void 0)f.push.apply(f,d);else{f.push(d[0][0]);for(var g=d.length,E=1;E<g;E++)f.push(d[E],d[0][E])}var I=TM(function(x,D,S){var w=c&&x.as||i,k="",V=[],U=x;if(x.theme==null){U={};for(var H in x)U[H]=x[H];U.theme=G.useContext(IM)}typeof x.className=="string"?k=dM(D.registered,V,x.className):x.className!=null&&(k=x.className+" ");var C=vM(f.concat(V),D.registered,U);k+=D.key+"-"+C.name,o!==void 0&&(k+=" "+o);var b=c&&a===void 0?oT(w):l,A={};for(var P in x)c&&P==="as"||b(P)&&(A[P]=x[P]);return A.className=k,A.ref=S,G.createElement(G.Fragment,null,G.createElement(bM,{cache:D,serialized:C,isStringTag:typeof w=="string"}),G.createElement(w,A))});return I.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",I.defaultProps=e.defaultProps,I.__emotion_real=I,I.__emotion_base=i,I.__emotion_styles=f,I.__emotion_forwardProp=a,Object.defineProperty(I,"toString",{value:function(){return"."+o}}),I.withComponent=function(x,D){return t(x,Ev({},n,D,{shouldForwardProp:aT(I,D,!0)})).apply(void 0,f)},I}},kM=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Fc=xM.bind();kM.forEach(function(t){Fc[t]=Fc(t)});const AM=Fc.div`
  width: 100%;
  height: 100vh;
`;var wn=function(){return wn=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},wn.apply(this,arguments)};function b0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Vc(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var ot="-ms-",sc="-moz-",ze="-webkit-",Tx="comm",hm="rule",x0="decl",RM="@import",Ix="@keyframes",PM="@layer",NM=Math.abs,k0=String.fromCharCode,Sv=Object.assign;function OM(t,e){return Qt(t,0)^45?(((e<<2^Qt(t,0))<<2^Qt(t,1))<<2^Qt(t,2))<<2^Qt(t,3):0}function Sx(t){return t.trim()}function Di(t,e){return(t=e.exec(t))?t[0]:t}function we(t,e,n){return t.replace(e,n)}function af(t,e){return t.indexOf(e)}function Qt(t,e){return t.charCodeAt(e)|0}function Cl(t,e,n){return t.slice(e,n)}function Jr(t){return t.length}function Cx(t){return t.length}function Bu(t,e){return e.push(t),t}function DM(t,e){return t.map(e).join("")}function lT(t,e){return t.filter(function(n){return!Di(n,e)})}var dm=1,bl=1,bx=0,gr=0,Nt=0,Xl="";function fm(t,e,n,r,i,s,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:dm,column:bl,length:o,return:"",siblings:a}}function Es(t,e){return Sv(fm("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Pa(t){for(;t.root;)t=Es(t.root,{children:[t]});Bu(t,t.siblings)}function LM(){return Nt}function MM(){return Nt=gr>0?Qt(Xl,--gr):0,bl--,Nt===10&&(bl=1,dm--),Nt}function Lr(){return Nt=gr<bx?Qt(Xl,gr++):0,bl++,Nt===10&&(bl=1,dm++),Nt}function zo(){return Qt(Xl,gr)}function lf(){return gr}function pm(t,e){return Cl(Xl,t,e)}function Cv(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function FM(t){return dm=bl=1,bx=Jr(Xl=t),gr=0,[]}function VM(t){return Xl="",t}function zg(t){return Sx(pm(gr-1,bv(t===91?t+2:t===40?t+1:t)))}function jM(t){for(;(Nt=zo())&&Nt<33;)Lr();return Cv(t)>2||Cv(Nt)>3?"":" "}function UM(t,e){for(;--e&&Lr()&&!(Nt<48||Nt>102||Nt>57&&Nt<65||Nt>70&&Nt<97););return pm(t,lf()+(e<6&&zo()==32&&Lr()==32))}function bv(t){for(;Lr();)switch(Nt){case t:return gr;case 34:case 39:t!==34&&t!==39&&bv(Nt);break;case 40:t===41&&bv(t);break;case 92:Lr();break}return gr}function $M(t,e){for(;Lr()&&t+Nt!==47+10;)if(t+Nt===42+42&&zo()===47)break;return"/*"+pm(e,gr-1)+"*"+k0(t===47?t:Lr())}function BM(t){for(;!Cv(zo());)Lr();return pm(t,gr)}function zM(t){return VM(uf("",null,null,null,[""],t=FM(t),0,[0],t))}function uf(t,e,n,r,i,s,o,a,l){for(var c=0,d=0,f=o,g=0,E=0,I=0,x=1,D=1,S=1,w=0,k="",V=i,U=s,H=r,C=k;D;)switch(I=w,w=Lr()){case 40:if(I!=108&&Qt(C,f-1)==58){af(C+=we(zg(w),"&","&\f"),"&\f")!=-1&&(S=-1);break}case 34:case 39:case 91:C+=zg(w);break;case 9:case 10:case 13:case 32:C+=jM(I);break;case 92:C+=UM(lf()-1,7);continue;case 47:switch(zo()){case 42:case 47:Bu(WM($M(Lr(),lf()),e,n,l),l);break;default:C+="/"}break;case 123*x:a[c++]=Jr(C)*S;case 125*x:case 59:case 0:switch(w){case 0:case 125:D=0;case 59+d:S==-1&&(C=we(C,/\f/g,"")),E>0&&Jr(C)-f&&Bu(E>32?cT(C+";",r,n,f-1,l):cT(we(C," ","")+";",r,n,f-2,l),l);break;case 59:C+=";";default:if(Bu(H=uT(C,e,n,c,d,i,a,k,V=[],U=[],f,s),s),w===123)if(d===0)uf(C,e,H,H,V,s,f,a,U);else switch(g===99&&Qt(C,3)===110?100:g){case 100:case 108:case 109:case 115:uf(t,H,H,r&&Bu(uT(t,H,H,0,0,i,a,k,i,V=[],f,U),U),i,U,f,a,r?V:U);break;default:uf(C,H,H,H,[""],U,0,a,U)}}c=d=E=0,x=S=1,k=C="",f=o;break;case 58:f=1+Jr(C),E=I;default:if(x<1){if(w==123)--x;else if(w==125&&x++==0&&MM()==125)continue}switch(C+=k0(w),w*x){case 38:S=d>0?1:(C+="\f",-1);break;case 44:a[c++]=(Jr(C)-1)*S,S=1;break;case 64:zo()===45&&(C+=zg(Lr())),g=zo(),d=f=Jr(k=C+=BM(lf())),w++;break;case 45:I===45&&Jr(C)==2&&(x=0)}}return s}function uT(t,e,n,r,i,s,o,a,l,c,d,f){for(var g=i-1,E=i===0?s:[""],I=Cx(E),x=0,D=0,S=0;x<r;++x)for(var w=0,k=Cl(t,g+1,g=NM(D=o[x])),V=t;w<I;++w)(V=Sx(D>0?E[w]+" "+k:we(k,/&\f/g,E[w])))&&(l[S++]=V);return fm(t,e,n,i===0?hm:a,l,c,d,f)}function WM(t,e,n,r){return fm(t,e,n,Tx,k0(LM()),Cl(t,2,-2),0,r)}function cT(t,e,n,r,i){return fm(t,e,n,x0,Cl(t,0,r),Cl(t,r+1,-1),r,i)}function xx(t,e,n){switch(OM(t,e)){case 5103:return ze+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ze+t+t;case 4789:return sc+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ze+t+sc+t+ot+t+t;case 5936:switch(Qt(t,e+11)){case 114:return ze+t+ot+we(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ze+t+ot+we(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ze+t+ot+we(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return ze+t+ot+t+t;case 6165:return ze+t+ot+"flex-"+t+t;case 5187:return ze+t+we(t,/(\w+).+(:[^]+)/,ze+"box-$1$2"+ot+"flex-$1$2")+t;case 5443:return ze+t+ot+"flex-item-"+we(t,/flex-|-self/g,"")+(Di(t,/flex-|baseline/)?"":ot+"grid-row-"+we(t,/flex-|-self/g,""))+t;case 4675:return ze+t+ot+"flex-line-pack"+we(t,/align-content|flex-|-self/g,"")+t;case 5548:return ze+t+ot+we(t,"shrink","negative")+t;case 5292:return ze+t+ot+we(t,"basis","preferred-size")+t;case 6060:return ze+"box-"+we(t,"-grow","")+ze+t+ot+we(t,"grow","positive")+t;case 4554:return ze+we(t,/([^-])(transform)/g,"$1"+ze+"$2")+t;case 6187:return we(we(we(t,/(zoom-|grab)/,ze+"$1"),/(image-set)/,ze+"$1"),t,"")+t;case 5495:case 3959:return we(t,/(image-set\([^]*)/,ze+"$1$`$1");case 4968:return we(we(t,/(.+:)(flex-)?(.*)/,ze+"box-pack:$3"+ot+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ze+t+t;case 4200:if(!Di(t,/flex-|baseline/))return ot+"grid-column-align"+Cl(t,e)+t;break;case 2592:case 3360:return ot+we(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,Di(r.props,/grid-\w+-end/)})?~af(t+(n=n[e].value),"span")?t:ot+we(t,"-start","")+t+ot+"grid-row-span:"+(~af(n,"span")?Di(n,/\d+/):+Di(n,/\d+/)-+Di(t,/\d+/))+";":ot+we(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return Di(r.props,/grid-\w+-start/)})?t:ot+we(we(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return we(t,/(.+)-inline(.+)/,ze+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Jr(t)-1-e>6)switch(Qt(t,e+1)){case 109:if(Qt(t,e+4)!==45)break;case 102:return we(t,/(.+:)(.+)-([^]+)/,"$1"+ze+"$2-$3$1"+sc+(Qt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~af(t,"stretch")?xx(we(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return we(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,a,l,c){return ot+i+":"+s+c+(o?ot+i+"-span:"+(a?l:+l-+s)+c:"")+t});case 4949:if(Qt(t,e+6)===121)return we(t,":",":"+ze)+t;break;case 6444:switch(Qt(t,Qt(t,14)===45?18:11)){case 120:return we(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+ze+(Qt(t,14)===45?"inline-":"")+"box$3$1"+ze+"$2$3$1"+ot+"$2box$3")+t;case 100:return we(t,":",":"+ot)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return we(t,"scroll-","scroll-snap-")+t}return t}function Xf(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function HM(t,e,n,r){switch(t.type){case PM:if(t.children.length)break;case RM:case x0:return t.return=t.return||t.value;case Tx:return"";case Ix:return t.return=t.value+"{"+Xf(t.children,r)+"}";case hm:if(!Jr(t.value=t.props.join(",")))return""}return Jr(n=Xf(t.children,r))?t.return=t.value+"{"+n+"}":""}function qM(t){var e=Cx(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function GM(t){return function(e){e.root||(e=e.return)&&t(e)}}function KM(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case x0:t.return=xx(t.value,t.length,n);return;case Ix:return Xf([Es(t,{value:we(t.value,"@","@"+ze)})],r);case hm:if(t.length)return DM(n=t.props,function(i){switch(Di(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Pa(Es(t,{props:[we(i,/:(read-\w+)/,":"+sc+"$1")]})),Pa(Es(t,{props:[i]})),Sv(t,{props:lT(n,r)});break;case"::placeholder":Pa(Es(t,{props:[we(i,/:(plac\w+)/,":"+ze+"input-$1")]})),Pa(Es(t,{props:[we(i,/:(plac\w+)/,":"+sc+"$1")]})),Pa(Es(t,{props:[we(i,/:(plac\w+)/,ot+"input-$1")]})),Pa(Es(t,{props:[i]})),Sv(t,{props:lT(n,r)});break}return""})}}var xl=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",A0=typeof window<"u"&&"HTMLElement"in window,QM=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),YM={},mm=Object.freeze([]),kl=Object.freeze({});function kx(t,e,n){return n===void 0&&(n=kl),t.theme!==n.theme&&t.theme||e||n.theme}var Ax=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),XM=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,JM=/(^-|-$)/g;function hT(t){return t.replace(XM,"-").replace(JM,"")}var ZM=/(a)(d)/gi,dT=function(t){return String.fromCharCode(t+(t>25?39:97))};function xv(t){var e,n="";for(e=Math.abs(t);e>52;e=e/52|0)n=dT(e%52)+n;return(dT(e%52)+n).replace(ZM,"$1-$2")}var Wg,Ya=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},Rx=function(t){return Ya(5381,t)};function Px(t){return xv(Rx(t)>>>0)}function eF(t){return t.displayName||t.name||"Component"}function Hg(t){return typeof t=="string"&&!0}var Nx=typeof Symbol=="function"&&Symbol.for,Ox=Nx?Symbol.for("react.memo"):60115,tF=Nx?Symbol.for("react.forward_ref"):60112,nF={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},rF={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Dx={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},iF=((Wg={})[tF]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Wg[Ox]=Dx,Wg);function fT(t){return("type"in(e=t)&&e.type.$$typeof)===Ox?Dx:"$$typeof"in t?iF[t.$$typeof]:nF;var e}var sF=Object.defineProperty,oF=Object.getOwnPropertyNames,pT=Object.getOwnPropertySymbols,aF=Object.getOwnPropertyDescriptor,lF=Object.getPrototypeOf,mT=Object.prototype;function Lx(t,e,n){if(typeof e!="string"){if(mT){var r=lF(e);r&&r!==mT&&Lx(t,r,n)}var i=oF(e);pT&&(i=i.concat(pT(e)));for(var s=fT(t),o=fT(e),a=0;a<i.length;++a){var l=i[a];if(!(l in rF||n&&n[l]||o&&l in o||s&&l in s)){var c=aF(e,l);try{sF(t,l,c)}catch{}}}}return t}function Al(t){return typeof t=="function"}function R0(t){return typeof t=="object"&&"styledComponentId"in t}function Mo(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function kv(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=e?e+t[r]:t[r];return n}function jc(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function Av(t,e,n){if(n===void 0&&(n=!1),!n&&!jc(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=Av(t[r],e[r]);else if(jc(e))for(var r in e)t[r]=Av(t[r],e[r]);return t}function P0(t,e){Object.defineProperty(t,"toString",{value:e})}function uh(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var uF=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw uh(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),l=(o=0,n.length);o<l;o++)this.tag.insertRule(a,n[o])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(`/*!sc*/
`);return n},t}(),cf=new Map,Jf=new Map,qg=1,Rd=function(t){if(cf.has(t))return cf.get(t);for(;Jf.has(qg);)qg++;var e=qg++;return cf.set(t,e),Jf.set(e,t),e},cF=function(t,e){cf.set(t,e),Jf.set(e,t)},hF="style[".concat(xl,"][").concat("data-styled-version",'="').concat("6.0.7",'"]'),dF=new RegExp("^".concat(xl,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),fF=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},pF=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(`/*!sc*/
`),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var l=a.match(dF);if(l){var c=0|parseInt(l[1],10),d=l[2];c!==0&&(cF(d,c),fF(t,d,l[3]),t.getTag().insertRules(c,i)),i.length=0}else i.push(a)}}};function mF(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Mx=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(xl,"]")));return l[l.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(xl,"active"),r.setAttribute("data-styled-version","6.0.7");var o=mF();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},gF=function(){function t(e){this.element=Mx(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===n)return o}throw uh(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),yF=function(){function t(e){this.element=Mx(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),vF=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),gT=A0,_F={isServer:!A0,useCSSOMInjection:!QM},Zf=function(){function t(e,n,r){e===void 0&&(e=kl),n===void 0&&(n={});var i=this;this.options=wn(wn({},_F),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&A0&&gT&&(gT=!1,function(s){for(var o=document.querySelectorAll(hF),a=0,l=o.length;a<l;a++){var c=o[a];c&&c.getAttribute(xl)!=="active"&&(pF(s,c),c.parentNode&&c.parentNode.removeChild(c))}}(this)),P0(this,function(){return function(s){for(var o=s.getTag(),a=o.length,l="",c=function(f){var g=function(S){return Jf.get(S)}(f);if(g===void 0)return"continue";var E=s.names.get(g),I=o.getGroup(f);if(E===void 0||I.length===0)return"continue";var x="".concat(xl,".g").concat(f,'[id="').concat(g,'"]'),D="";E!==void 0&&E.forEach(function(S){S.length>0&&(D+="".concat(S,","))}),l+="".concat(I).concat(x,'{content:"').concat(D,'"}').concat(`/*!sc*/
`)},d=0;d<a;d++)c(d);return l}(i)})}return t.registerId=function(e){return Rd(e)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(wn(wn({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new vF(i):r?new gF(i):new yF(i)}(this.options),new uF(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(Rd(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(Rd(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(Rd(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),wF=/&/g,EF=/^\s*\/\/.*$/gm;function Fx(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=Fx(n.children,e)),n})}function TF(t){var e,n,r,i=t===void 0?kl:t,s=i.options,o=s===void 0?kl:s,a=i.plugins,l=a===void 0?mm:a,c=function(g,E,I){return I===n||I.startsWith(n)&&I.endsWith(n)&&I.replaceAll(n,"").length>0?".".concat(e):g},d=l.slice();d.push(function(g){g.type===hm&&g.value.includes("&")&&(g.props[0]=g.props[0].replace(wF,n).replace(r,c))}),o.prefix&&d.push(KM),d.push(HM);var f=function(g,E,I,x){E===void 0&&(E=""),I===void 0&&(I=""),x===void 0&&(x="&"),e=x,n=E,r=new RegExp("\\".concat(n,"\\b"),"g");var D=g.replace(EF,""),S=zM(I||E?"".concat(I," ").concat(E," { ").concat(D," }"):D);o.namespace&&(S=Fx(S,o.namespace));var w=[];return Xf(S,qM(d.concat(GM(function(k){return w.push(k)})))),w};return f.hash=l.length?l.reduce(function(g,E){return E.name||uh(15),Ya(g,E.name)},5381).toString():"",f}var IF=new Zf,Rv=TF(),Vx=We.createContext({shouldForwardProp:void 0,styleSheet:IF,stylis:Rv});Vx.Consumer;We.createContext(void 0);function Pv(){return G.useContext(Vx)}var SF=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=Rv);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,P0(this,function(){throw uh(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=Rv),this.name+e.hash},t}(),CF=function(t){return t>="A"&&t<="Z"};function yT(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;CF(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var jx=function(t){return t==null||t===!1||t===""},Ux=function(t){var e,n,r=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!jx(s)&&(Array.isArray(s)&&s.isCss||Al(s)?r.push("".concat(yT(i),":"),s,";"):jc(s)?r.push.apply(r,Vc(Vc(["".concat(i," {")],Ux(s),!1),["}"],!1)):r.push("".concat(yT(i),": ").concat((e=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in _x||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Hs(t,e,n,r){if(jx(t))return[];if(R0(t))return[".".concat(t.styledComponentId)];if(Al(t)){if(!Al(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return Hs(i,e,n,r)}var s;return t instanceof SF?n?(t.inject(n,r),[t.getName(r)]):[t]:jc(t)?Ux(t):Array.isArray(t)?Array.prototype.concat.apply(mm,t.map(function(o){return Hs(o,e,n,r)})):[t.toString()]}function $x(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Al(n)&&!R0(n))return!1}return!0}var bF=Rx("6.0.7"),xF=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&$x(e),this.componentId=n,this.baseHash=Ya(bF,n),this.baseStyle=r,Zf.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Mo(i,this.staticRulesId);else{var s=kv(Hs(this.rules,e,n,r)),o=xv(Ya(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var a=r(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,a)}i=Mo(i,o),this.staticRulesId=o}else{for(var l=Ya(this.baseHash,r.hash),c="",d=0;d<this.rules.length;d++){var f=this.rules[d];if(typeof f=="string")c+=f;else if(f){var g=kv(Hs(f,e,n,r));l=Ya(l,g),c+=g}}if(c){var E=xv(l>>>0);n.hasNameForId(this.componentId,E)||n.insertRules(this.componentId,E,r(c,".".concat(E),void 0,this.componentId)),i=Mo(i,E)}}return i},t}(),N0=We.createContext(void 0);N0.Consumer;var Gg={};function kF(t,e,n){var r=R0(t),i=t,s=!Hg(t),o=e.attrs,a=o===void 0?mm:o,l=e.componentId,c=l===void 0?function(k,V){var U=typeof k!="string"?"sc":hT(k);Gg[U]=(Gg[U]||0)+1;var H="".concat(U,"-").concat(Px("6.0.7"+U+Gg[U]));return V?"".concat(V,"-").concat(H):H}(e.displayName,e.parentComponentId):l,d=e.displayName;d===void 0&&function(k){return Hg(k)?"styled.".concat(k):"Styled(".concat(eF(k),")")}(t);var f=e.displayName&&e.componentId?"".concat(hT(e.displayName),"-").concat(e.componentId):e.componentId||c,g=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,E=e.shouldForwardProp;if(r&&i.shouldForwardProp){var I=i.shouldForwardProp;if(e.shouldForwardProp){var x=e.shouldForwardProp;E=function(k,V){return I(k,V)&&x(k,V)}}else E=I}var D=new xF(n,f,r?i.componentStyle:void 0);function S(k,V){return function(U,H,C){var b=U.attrs,A=U.componentStyle,P=U.defaultProps,M=U.foldedComponentIds,F=U.styledComponentId,R=U.target,Ee=We.useContext(N0),Ge=Pv(),Te=U.shouldForwardProp||Ge.shouldForwardProp,Ne=function(Be,$,zt){for(var ct,ht=wn(wn({},$),{className:void 0,theme:zt}),Hn=0;Hn<Be.length;Hn+=1){var dt=Al(ct=Be[Hn])?ct(ht):ct;for(var mt in dt)ht[mt]=mt==="className"?Mo(ht[mt],dt[mt]):mt==="style"?wn(wn({},ht[mt]),dt[mt]):dt[mt]}return $.className&&(ht.className=Mo(ht.className,$.className)),ht}(b,H,kx(H,Ee,P)||kl),re=Ne.as||R,Q={};for(var ce in Ne)Ne[ce]===void 0||ce[0]==="$"||ce==="as"||ce==="theme"||(ce==="forwardedAs"?Q.as=Ne.forwardedAs:Te&&!Te(ce,re)||(Q[ce]=Ne[ce]));var Fe=function(Be,$){var zt=Pv(),ct=Be.generateAndInjectStyles($,zt.styleSheet,zt.stylis);return ct}(A,Ne),Ce=Mo(M,F);return Fe&&(Ce+=" "+Fe),Ne.className&&(Ce+=" "+Ne.className),Q[Hg(re)&&!Ax.has(re)?"class":"className"]=Ce,Q.ref=C,G.createElement(re,Q)}(w,k,V)}var w=We.forwardRef(S);return w.attrs=g,w.componentStyle=D,w.shouldForwardProp=E,w.foldedComponentIds=r?Mo(i.foldedComponentIds,i.styledComponentId):"",w.styledComponentId=f,w.target=r?i.target:t,Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(k){this._foldedDefaultProps=r?function(V){for(var U=[],H=1;H<arguments.length;H++)U[H-1]=arguments[H];for(var C=0,b=U;C<b.length;C++)Av(V,b[C],!0);return V}({},i.defaultProps,k):k}}),P0(w,function(){return".".concat(w.styledComponentId)}),s&&Lx(w,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),w}function vT(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var _T=function(t){return Object.assign(t,{isCss:!0})};function Bx(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Al(t)||jc(t)){var r=t;return _T(Hs(vT(mm,Vc([r],e,!0))))}var i=t;return e.length===0&&i.length===1&&typeof i[0]=="string"?Hs(i):_T(Hs(vT(i,e)))}function Nv(t,e,n){if(n===void 0&&(n=kl),!e)throw uh(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,n,Bx.apply(void 0,Vc([i],s,!1)))};return r.attrs=function(i){return Nv(t,e,wn(wn({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return Nv(t,e,wn(wn({},n),i))},r}var zx=function(t){return Nv(kF,t)},ue=zx;Ax.forEach(function(t){ue[t]=zx(t)});var AF=function(){function t(e,n){this.rules=e,this.componentId=n,this.isStatic=$x(e),Zf.registerId(this.componentId+1)}return t.prototype.createStyles=function(e,n,r,i){var s=i(kv(Hs(this.rules,n,r,i)),""),o=this.componentId+e;r.insertRules(o,o,s)},t.prototype.removeStyles=function(e,n){n.clearRules(this.componentId+e)},t.prototype.renderStyles=function(e,n,r,i){e>2&&Zf.registerId(this.componentId+e),this.removeStyles(e,r),this.createStyles(e,n,r,i)},t}();function RF(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Bx.apply(void 0,Vc([t],e,!1)),i="sc-global-".concat(Px(JSON.stringify(r))),s=new AF(r,i),o=function(l){var c=Pv(),d=We.useContext(N0),f=We.useRef(c.styleSheet.allocateGSInstance(i)).current;return c.styleSheet.server&&a(f,l,c.styleSheet,d,c.stylis),We.useLayoutEffect(function(){if(!c.styleSheet.server)return a(f,l,c.styleSheet,d,c.stylis),function(){return s.removeStyles(f,c.styleSheet)}},[f,l,c.styleSheet,d,c.stylis]),null};function a(l,c,d,f,g){if(s.isStatic)s.renderStyles(l,YM,d,g);else{var E=wn(wn({},c),{theme:kx(c,f,o.defaultProps)});s.renderStyles(l,E,d,g)}}return We.memo(o)}const PF=ue.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px 0;
  width: 100%;
`,NF=ue(qp)`
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  gap: 8px;
  font-family: 'Roboto-Medium', sans-serif;
  font-size: 20px;
  line-height: 24px;
  letter-spacing: -0.02em;
  color: var(--primary-text-color);
`,OF=ue.nav`
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  gap: 4px;
`,Pd=ue(qp)`
  font-family: 'Roboto-Regular', sans-serif;
  font-size: 16px;
  font-weight: 400;
  line-height: 20px;
  letter-spacing: 0em;
  color: var(--primary-text-color);
  text-decoration: none;
  padding: 8px 12px;
  border: 2px solid transparent;
  border-radius: 12px;
  background-color: transparent;
  transition: background-color 0.3s ease-in-out;
  cursor: pointer;

  &:hover {
    color: var(--btn-color);
    font-weight: 700;
  }

  &.active {
    border-color: var(--btn-color);
    font-weight: 700;
  }
`,DF=ue.div`
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  gap: 14px;
`,wT=ue.button`
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  gap: 8px;
  border: none;
  background-color: transparent;
  cursor: pointer;

  &:hover,
  &:focus {
    color: var(--btn-color);
  }
`,LF=ue.button`
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  padding: 14px 39px;
  font-family: 'Roboto-Bold', sans-serif;
  font-size: 16px;
  line-height: 20px;
  letter-spacing: 0em;
  color: #fff;
  background-color: var(--primary-text-color);
  border: none;
  border-radius: 12px;
  cursor: pointer;

  &:hover,
  &:focus {
    color: var(--btn-color);
  }
`,MF="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHLSURBVHgBvZY/UsJQEMa/fS926uANYuVYiXoAQe3FE4hHsNGxcqgYPAWeAOxV4ABKrBhtzA1k0E7y1vcCBPkfgeTXEPIy+7HLt9klhCCZ/0pZgk6YOAWCDUbCPyA09bVDTE5b8b1zvVadFYumHe7dtrIEcQOwjVCQy1C5l8v14sQnxt1M5j9tS66UGJzEXJDreT9p53rDHT4Rwzf2C99n0rLq84sZ2JbSqu8XWpmRnzIoph8gKmGZMGWfr1bvRgRNGU1mgSGWR9Pz2ru98gYllXKlEoGYIaHLG1TNFzRuDO/EuUh2NLqCHetHS0+DTFNLiQpigDykhZAqg5hQpDKCSOwgJkiIA6GduUCD/xvbmCaKVphEgvj9mBEjAsRNxEdTmDc74sPRpuEa4kLRq4BHZcQFc9mfFvx29KHHko0oYXZp63GzMy0U5xA1XY1gHur2qOuPaF4C3ezMZX/F8Nqn0bSIjqm8dO9bIEjbVRdtvsCyYZz7sYcFO6JPRZ3+kjI1MdS5LuVAF4xdE7mRsiFkZQHnOuYv+pvZVMG+8GEWgm5CC2tzGDf6lZoAIUycxrFe8TmjxfXsNPsqdSeMKRsZkZpeB8u0/VCdFesXTIytwiPfYywAAAAASUVORK5CYII=";var Wx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ET=We.createContext&&We.createContext(Wx),FF=["attr","size","title"];function VF(t,e){if(t==null)return{};var n=jF(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jF(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ep(){return ep=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ep.apply(this,arguments)}function TT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TT(Object(n),!0).forEach(function(r){UF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UF(t,e,n){return e=$F(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $F(t){var e=BF(t,"string");return typeof e=="symbol"?e:e+""}function BF(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hx(t){return t&&t.map((e,n)=>We.createElement(e.tag,tp({key:n},e.attr),Hx(e.child)))}function jr(t){return e=>We.createElement(zF,ep({attr:tp({},t.attr)},e),Hx(t.child))}function zF(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=VF(t,FF),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),We.createElement("svg",ep({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:tp(tp({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&We.createElement("title",null,s),t.children)};return ET!==void 0?We.createElement(ET.Consumer,null,n=>e(n)):e(Wx)}function WF(t){return jr({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"},child:[]},{tag:"polyline",attr:{points:"10 17 15 12 10 7"},child:[]},{tag:"line",attr:{x1:"15",y1:"12",x2:"3",y2:"12"},child:[]}]})(t)}function HF(t){return jr({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(t)}var ch=t=>t.type==="checkbox",Xa=t=>t instanceof Date,xn=t=>t==null;const qx=t=>typeof t=="object";var Bt=t=>!xn(t)&&!Array.isArray(t)&&qx(t)&&!Xa(t),qF=t=>Bt(t)&&t.target?ch(t.target)?t.target.checked:t.target.value:t,GF=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,KF=(t,e)=>t.has(GF(e)),QF=t=>{const e=t.constructor&&t.constructor.prototype;return Bt(e)&&e.hasOwnProperty("isPrototypeOf")},O0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function lr(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(O0&&(t instanceof Blob||t instanceof FileList))&&(n||Bt(t)))if(e=n?[]:{},!n&&!QF(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=lr(t[r]));else return t;return e}var hh=t=>Array.isArray(t)?t.filter(Boolean):[],bt=t=>t===void 0,se=(t,e,n)=>{if(!e||!Bt(t))return n;const r=hh(e.split(/[,[\].]+?/)).reduce((i,s)=>xn(i)?i:i[s],t);return bt(r)||r===t?bt(t[e])?n:t[e]:r},bs=t=>typeof t=="boolean",D0=t=>/^\w*$/.test(t),Gx=t=>hh(t.replace(/["|']|\]/g,"").split(/\.|\[/)),at=(t,e,n)=>{let r=-1;const i=D0(e)?[e]:Gx(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const c=t[a];l=Bt(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}if(a==="__proto__")return;t[a]=l,t=t[a]}return t};const IT={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},kr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Pi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};We.createContext(null);var YF=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==kr.all&&(e._proxyFormState[o]=!r||kr.all),n&&(n[o]=!0),t[o]}});return i},Qn=t=>Bt(t)&&!Object.keys(t).length,XF=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return Qn(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||kr.all))},Kg=t=>Array.isArray(t)?t:[t];function JF(t){const e=We.useRef(t);e.current=t,We.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var ei=t=>typeof t=="string",ZF=(t,e,n,r,i)=>ei(t)?(r&&e.watch.add(t),se(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),se(n,s))):(r&&(e.watchAll=!0),n),Kx=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},ST=t=>({isOnSubmit:!t||t===kr.onSubmit,isOnBlur:t===kr.onBlur,isOnChange:t===kr.onChange,isOnAll:t===kr.all,isOnTouch:t===kr.onTouched}),CT=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const oc=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=se(t,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)break;if(o.ref&&e(o.ref,o.name)&&!r)break;oc(a,e)}else Bt(a)&&oc(a,e)}}};var eV=(t,e,n)=>{const r=hh(se(t,n));return at(r,"root",e[n]),at(t,n,r),t},L0=t=>t.type==="file",Ds=t=>typeof t=="function",np=t=>{if(!O0)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},hf=t=>ei(t),M0=t=>t.type==="radio",rp=t=>t instanceof RegExp;const bT={value:!1,isValid:!1},xT={value:!0,isValid:!0};var Qx=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!bt(t[0].attributes.value)?bt(t[0].value)||t[0].value===""?xT:{value:t[0].value,isValid:!0}:xT:bT}return bT};const kT={isValid:!1,value:null};var Yx=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,kT):kT;function AT(t,e,n="validate"){if(hf(t)||Array.isArray(t)&&t.every(hf)||bs(t)&&!t)return{type:n,message:hf(t)?t:"",ref:e}}var Na=t=>Bt(t)&&!rp(t)?t:{value:t,message:""},RT=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:c,min:d,max:f,pattern:g,validate:E,name:I,valueAsNumber:x,mount:D,disabled:S}=t._f,w=se(e,I);if(!D||S)return{};const k=o?o[0]:s,V=F=>{r&&k.reportValidity&&(k.setCustomValidity(bs(F)?"":F||""),k.reportValidity())},U={},H=M0(s),C=ch(s),b=H||C,A=(x||L0(s))&&bt(s.value)&&bt(w)||np(s)&&s.value===""||w===""||Array.isArray(w)&&!w.length,P=Kx.bind(null,I,n,U),M=(F,R,Ee,Ge=Pi.maxLength,Te=Pi.minLength)=>{const Ne=F?R:Ee;U[I]={type:F?Ge:Te,message:Ne,ref:s,...P(F?Ge:Te,Ne)}};if(i?!Array.isArray(w)||!w.length:a&&(!b&&(A||xn(w))||bs(w)&&!w||C&&!Qx(o).isValid||H&&!Yx(o).isValid)){const{value:F,message:R}=hf(a)?{value:!!a,message:a}:Na(a);if(F&&(U[I]={type:Pi.required,message:R,ref:k,...P(Pi.required,R)},!n))return V(R),U}if(!A&&(!xn(d)||!xn(f))){let F,R;const Ee=Na(f),Ge=Na(d);if(!xn(w)&&!isNaN(w)){const Te=s.valueAsNumber||w&&+w;xn(Ee.value)||(F=Te>Ee.value),xn(Ge.value)||(R=Te<Ge.value)}else{const Te=s.valueAsDate||new Date(w),Ne=ce=>new Date(new Date().toDateString()+" "+ce),re=s.type=="time",Q=s.type=="week";ei(Ee.value)&&w&&(F=re?Ne(w)>Ne(Ee.value):Q?w>Ee.value:Te>new Date(Ee.value)),ei(Ge.value)&&w&&(R=re?Ne(w)<Ne(Ge.value):Q?w<Ge.value:Te<new Date(Ge.value))}if((F||R)&&(M(!!F,Ee.message,Ge.message,Pi.max,Pi.min),!n))return V(U[I].message),U}if((l||c)&&!A&&(ei(w)||i&&Array.isArray(w))){const F=Na(l),R=Na(c),Ee=!xn(F.value)&&w.length>+F.value,Ge=!xn(R.value)&&w.length<+R.value;if((Ee||Ge)&&(M(Ee,F.message,R.message),!n))return V(U[I].message),U}if(g&&!A&&ei(w)){const{value:F,message:R}=Na(g);if(rp(F)&&!w.match(F)&&(U[I]={type:Pi.pattern,message:R,ref:s,...P(Pi.pattern,R)},!n))return V(R),U}if(E){if(Ds(E)){const F=await E(w,e),R=AT(F,k);if(R&&(U[I]={...R,...P(Pi.validate,R.message)},!n))return V(R.message),U}else if(Bt(E)){let F={};for(const R in E){if(!Qn(F)&&!n)break;const Ee=AT(await E[R](w,e),k,R);Ee&&(F={...Ee,...P(R,Ee.message)},V(Ee.message),n&&(U[I]=F))}if(!Qn(F)&&(U[I]={ref:k,...F},!n))return U}}return V(!0),U};function tV(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=bt(t)?r++:t[e[r++]];return t}function nV(t){for(const e in t)if(t.hasOwnProperty(e)&&!bt(t[e]))return!1;return!0}function Mt(t,e){const n=Array.isArray(e)?e:D0(e)?[e]:Gx(e),r=n.length===1?t:tV(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Bt(r)&&Qn(r)||Array.isArray(r)&&nV(r))&&Mt(t,n.slice(0,-1)),t}var Qg=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},ip=t=>xn(t)||!qx(t);function Fo(t,e){if(ip(t)||ip(e))return t===e;if(Xa(t)&&Xa(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Xa(s)&&Xa(o)||Bt(s)&&Bt(o)||Array.isArray(s)&&Array.isArray(o)?!Fo(s,o):s!==o)return!1}}return!0}var Xx=t=>t.type==="select-multiple",rV=t=>M0(t)||ch(t),Yg=t=>np(t)&&t.isConnected,Jx=t=>{for(const e in t)if(Ds(t[e]))return!0;return!1};function sp(t,e={}){const n=Array.isArray(t);if(Bt(t)||n)for(const r in t)Array.isArray(t[r])||Bt(t[r])&&!Jx(t[r])?(e[r]=Array.isArray(t[r])?[]:{},sp(t[r],e[r])):xn(t[r])||(e[r]=!0);return e}function Zx(t,e,n){const r=Array.isArray(t);if(Bt(t)||r)for(const i in t)Array.isArray(t[i])||Bt(t[i])&&!Jx(t[i])?bt(e)||ip(n[i])?n[i]=Array.isArray(t[i])?sp(t[i],[]):{...sp(t[i])}:Zx(t[i],xn(e)?{}:e[i],n[i]):n[i]=!Fo(t[i],e[i]);return n}var Nd=(t,e)=>Zx(t,e,sp(e)),e2=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>bt(t)?t:e?t===""?NaN:t&&+t:n&&ei(t)?new Date(t):r?r(t):t;function Xg(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return L0(e)?e.files:M0(e)?Yx(t.refs).value:Xx(e)?[...e.selectedOptions].map(({value:n})=>n):ch(e)?Qx(t.refs).value:e2(bt(e.value)?t.ref.value:e.value,t)}var iV=(t,e,n,r)=>{const i={};for(const s of t){const o=se(e,s);o&&at(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},Pu=t=>bt(t)?t:rp(t)?t.source:Bt(t)?rp(t.value)?t.value.source:t.value:t,sV=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function PT(t,e,n){const r=se(t,n);if(r||D0(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=se(e,s),a=se(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var oV=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,aV=(t,e)=>!hh(se(t,e)).length&&Mt(t,e);const lV={mode:kr.onSubmit,reValidateMode:kr.onChange,shouldFocusError:!0};function uV(t={}){let e={...lV,...t},n={submitCount:0,isDirty:!1,isLoading:Ds(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=Bt(e.defaultValues)||Bt(e.values)?lr(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:lr(i),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:Qg(),array:Qg(),state:Qg()},g=ST(e.mode),E=ST(e.reValidateMode),I=e.criteriaMode===kr.all,x=L=>B=>{clearTimeout(c),c=setTimeout(L,B)},D=async L=>{if(d.isValid||L){const B=e.resolver?Qn((await b()).errors):await P(r,!0);B!==n.isValid&&f.state.next({isValid:B})}},S=(L,B)=>{(d.isValidating||d.validatingFields)&&((L||Array.from(a.mount)).forEach(W=>{W&&(B?at(n.validatingFields,W,B):Mt(n.validatingFields,W))}),f.state.next({validatingFields:n.validatingFields,isValidating:!Qn(n.validatingFields)}))},w=(L,B=[],W,K,ne=!0,Z=!0)=>{if(K&&W){if(o.action=!0,Z&&Array.isArray(se(r,L))){const ae=W(se(r,L),K.argA,K.argB);ne&&at(r,L,ae)}if(Z&&Array.isArray(se(n.errors,L))){const ae=W(se(n.errors,L),K.argA,K.argB);ne&&at(n.errors,L,ae),aV(n.errors,L)}if(d.touchedFields&&Z&&Array.isArray(se(n.touchedFields,L))){const ae=W(se(n.touchedFields,L),K.argA,K.argB);ne&&at(n.touchedFields,L,ae)}d.dirtyFields&&(n.dirtyFields=Nd(i,s)),f.state.next({name:L,isDirty:F(L,B),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else at(s,L,B)},k=(L,B)=>{at(n.errors,L,B),f.state.next({errors:n.errors})},V=L=>{n.errors=L,f.state.next({errors:n.errors,isValid:!1})},U=(L,B,W,K)=>{const ne=se(r,L);if(ne){const Z=se(s,L,bt(W)?se(i,L):W);bt(Z)||K&&K.defaultChecked||B?at(s,L,B?Z:Xg(ne._f)):Ge(L,Z),o.mount&&D()}},H=(L,B,W,K,ne)=>{let Z=!1,ae=!1;const Ie={name:L},Ye=!!(se(r,L)&&se(r,L)._f&&se(r,L)._f.disabled);if(!W||K){d.isDirty&&(ae=n.isDirty,n.isDirty=Ie.isDirty=F(),Z=ae!==Ie.isDirty);const Oe=Ye||Fo(se(i,L),B);ae=!!(!Ye&&se(n.dirtyFields,L)),Oe||Ye?Mt(n.dirtyFields,L):at(n.dirtyFields,L,!0),Ie.dirtyFields=n.dirtyFields,Z=Z||d.dirtyFields&&ae!==!Oe}if(W){const Oe=se(n.touchedFields,L);Oe||(at(n.touchedFields,L,W),Ie.touchedFields=n.touchedFields,Z=Z||d.touchedFields&&Oe!==W)}return Z&&ne&&f.state.next(Ie),Z?Ie:{}},C=(L,B,W,K)=>{const ne=se(n.errors,L),Z=d.isValid&&bs(B)&&n.isValid!==B;if(t.delayError&&W?(l=x(()=>k(L,W)),l(t.delayError)):(clearTimeout(c),l=null,W?at(n.errors,L,W):Mt(n.errors,L)),(W?!Fo(ne,W):ne)||!Qn(K)||Z){const ae={...K,...Z&&bs(B)?{isValid:B}:{},errors:n.errors,name:L};n={...n,...ae},f.state.next(ae)}},b=async L=>{S(L,!0);const B=await e.resolver(s,e.context,iV(L||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return S(L),B},A=async L=>{const{errors:B}=await b(L);if(L)for(const W of L){const K=se(B,W);K?at(n.errors,W,K):Mt(n.errors,W)}else n.errors=B;return B},P=async(L,B,W={valid:!0})=>{for(const K in L){const ne=L[K];if(ne){const{_f:Z,...ae}=ne;if(Z){const Ie=a.array.has(Z.name);S([K],!0);const Ye=await RT(ne,s,I,e.shouldUseNativeValidation&&!B,Ie);if(S([K]),Ye[Z.name]&&(W.valid=!1,B))break;!B&&(se(Ye,Z.name)?Ie?eV(n.errors,Ye,Z.name):at(n.errors,Z.name,Ye[Z.name]):Mt(n.errors,Z.name))}ae&&await P(ae,B,W)}}return W.valid},M=()=>{for(const L of a.unMount){const B=se(r,L);B&&(B._f.refs?B._f.refs.every(W=>!Yg(W)):!Yg(B._f.ref))&&ct(L)}a.unMount=new Set},F=(L,B)=>(L&&B&&at(s,L,B),!Fo(Fe(),i)),R=(L,B,W)=>ZF(L,a,{...o.mount?s:bt(B)?i:ei(L)?{[L]:B}:B},W,B),Ee=L=>hh(se(o.mount?s:i,L,t.shouldUnregister?se(i,L,[]):[])),Ge=(L,B,W={})=>{const K=se(r,L);let ne=B;if(K){const Z=K._f;Z&&(!Z.disabled&&at(s,L,e2(B,Z)),ne=np(Z.ref)&&xn(B)?"":B,Xx(Z.ref)?[...Z.ref.options].forEach(ae=>ae.selected=ne.includes(ae.value)):Z.refs?ch(Z.ref)?Z.refs.length>1?Z.refs.forEach(ae=>(!ae.defaultChecked||!ae.disabled)&&(ae.checked=Array.isArray(ne)?!!ne.find(Ie=>Ie===ae.value):ne===ae.value)):Z.refs[0]&&(Z.refs[0].checked=!!ne):Z.refs.forEach(ae=>ae.checked=ae.value===ne):L0(Z.ref)?Z.ref.value="":(Z.ref.value=ne,Z.ref.type||f.values.next({name:L,values:{...s}})))}(W.shouldDirty||W.shouldTouch)&&H(L,ne,W.shouldTouch,W.shouldDirty,!0),W.shouldValidate&&ce(L)},Te=(L,B,W)=>{for(const K in B){const ne=B[K],Z=`${L}.${K}`,ae=se(r,Z);(a.array.has(L)||!ip(ne)||ae&&!ae._f)&&!Xa(ne)?Te(Z,ne,W):Ge(Z,ne,W)}},Ne=(L,B,W={})=>{const K=se(r,L),ne=a.array.has(L),Z=lr(B);at(s,L,Z),ne?(f.array.next({name:L,values:{...s}}),(d.isDirty||d.dirtyFields)&&W.shouldDirty&&f.state.next({name:L,dirtyFields:Nd(i,s),isDirty:F(L,Z)})):K&&!K._f&&!xn(Z)?Te(L,Z,W):Ge(L,Z,W),CT(L,a)&&f.state.next({...n}),f.values.next({name:o.mount?L:void 0,values:{...s}})},re=async L=>{o.mount=!0;const B=L.target;let W=B.name,K=!0;const ne=se(r,W),Z=()=>B.type?Xg(ne._f):qF(L),ae=Ie=>{K=Number.isNaN(Ie)||Ie===se(s,W,Ie)};if(ne){let Ie,Ye;const Oe=Z(),Xe=L.type===IT.BLUR||L.type===IT.FOCUS_OUT,Zt=!sV(ne._f)&&!e.resolver&&!se(n.errors,W)&&!ne._f.deps||oV(Xe,se(n.touchedFields,W),n.isSubmitted,E,g),qn=CT(W,a,Xe);at(s,W,Oe),Xe?(ne._f.onBlur&&ne._f.onBlur(L),l&&l(0)):ne._f.onChange&&ne._f.onChange(L);const Pn=H(W,Oe,Xe,!1),ou=!Qn(Pn)||qn;if(!Xe&&f.values.next({name:W,type:L.type,values:{...s}}),Zt)return d.isValid&&D(),ou&&f.state.next({name:W,...qn?{}:Pn});if(!Xe&&qn&&f.state.next({...n}),e.resolver){const{errors:In}=await b([W]);if(ae(Oe),K){const $r=PT(n.errors,r,W),os=PT(In,r,$r.name||W);Ie=os.error,W=os.name,Ye=Qn(In)}}else S([W],!0),Ie=(await RT(ne,s,I,e.shouldUseNativeValidation))[W],S([W]),ae(Oe),K&&(Ie?Ye=!1:d.isValid&&(Ye=await P(r,!0)));K&&(ne._f.deps&&ce(ne._f.deps),C(W,Ye,Ie,Pn))}},Q=(L,B)=>{if(se(n.errors,B)&&L.focus)return L.focus(),1},ce=async(L,B={})=>{let W,K;const ne=Kg(L);if(e.resolver){const Z=await A(bt(L)?L:ne);W=Qn(Z),K=L?!ne.some(ae=>se(Z,ae)):W}else L?(K=(await Promise.all(ne.map(async Z=>{const ae=se(r,Z);return await P(ae&&ae._f?{[Z]:ae}:ae)}))).every(Boolean),!(!K&&!n.isValid)&&D()):K=W=await P(r);return f.state.next({...!ei(L)||d.isValid&&W!==n.isValid?{}:{name:L},...e.resolver||!L?{isValid:W}:{},errors:n.errors}),B.shouldFocus&&!K&&oc(r,Q,L?ne:a.mount),K},Fe=L=>{const B={...o.mount?s:i};return bt(L)?B:ei(L)?se(B,L):L.map(W=>se(B,W))},Ce=(L,B)=>({invalid:!!se((B||n).errors,L),isDirty:!!se((B||n).dirtyFields,L),error:se((B||n).errors,L),isValidating:!!se(n.validatingFields,L),isTouched:!!se((B||n).touchedFields,L)}),Be=L=>{L&&Kg(L).forEach(B=>Mt(n.errors,B)),f.state.next({errors:L?n.errors:{}})},$=(L,B,W)=>{const K=(se(r,L,{_f:{}})._f||{}).ref,ne=se(n.errors,L)||{},{ref:Z,message:ae,type:Ie,...Ye}=ne;at(n.errors,L,{...Ye,...B,ref:K}),f.state.next({name:L,errors:n.errors,isValid:!1}),W&&W.shouldFocus&&K&&K.focus&&K.focus()},zt=(L,B)=>Ds(L)?f.values.subscribe({next:W=>L(R(void 0,B),W)}):R(L,B,!0),ct=(L,B={})=>{for(const W of L?Kg(L):a.mount)a.mount.delete(W),a.array.delete(W),B.keepValue||(Mt(r,W),Mt(s,W)),!B.keepError&&Mt(n.errors,W),!B.keepDirty&&Mt(n.dirtyFields,W),!B.keepTouched&&Mt(n.touchedFields,W),!B.keepIsValidating&&Mt(n.validatingFields,W),!e.shouldUnregister&&!B.keepDefaultValue&&Mt(i,W);f.values.next({values:{...s}}),f.state.next({...n,...B.keepDirty?{isDirty:F()}:{}}),!B.keepIsValid&&D()},ht=({disabled:L,name:B,field:W,fields:K,value:ne})=>{if(bs(L)&&o.mount||L){const Z=L?void 0:bt(ne)?Xg(W?W._f:se(K,B)._f):ne;at(s,B,Z),H(B,Z,!1,!1,!0)}},Hn=(L,B={})=>{let W=se(r,L);const K=bs(B.disabled);return at(r,L,{...W||{},_f:{...W&&W._f?W._f:{ref:{name:L}},name:L,mount:!0,...B}}),a.mount.add(L),W?ht({field:W,disabled:B.disabled,name:L,value:B.value}):U(L,!0,B.value),{...K?{disabled:B.disabled}:{},...e.progressive?{required:!!B.required,min:Pu(B.min),max:Pu(B.max),minLength:Pu(B.minLength),maxLength:Pu(B.maxLength),pattern:Pu(B.pattern)}:{},name:L,onChange:re,onBlur:re,ref:ne=>{if(ne){Hn(L,B),W=se(r,L);const Z=bt(ne.value)&&ne.querySelectorAll&&ne.querySelectorAll("input,select,textarea")[0]||ne,ae=rV(Z),Ie=W._f.refs||[];if(ae?Ie.find(Ye=>Ye===Z):Z===W._f.ref)return;at(r,L,{_f:{...W._f,...ae?{refs:[...Ie.filter(Yg),Z,...Array.isArray(se(i,L))?[{}]:[]],ref:{type:Z.type,name:L}}:{ref:Z}}}),U(L,!1,void 0,Z)}else W=se(r,L,{}),W._f&&(W._f.mount=!1),(e.shouldUnregister||B.shouldUnregister)&&!(KF(a.array,L)&&o.action)&&a.unMount.add(L)}}},dt=()=>e.shouldFocusError&&oc(r,Q,a.mount),mt=L=>{bs(L)&&(f.state.next({disabled:L}),oc(r,(B,W)=>{const K=se(r,W);K&&(B.disabled=K._f.disabled||L,Array.isArray(K._f.refs)&&K._f.refs.forEach(ne=>{ne.disabled=K._f.disabled||L}))},0,!1))},Ur=(L,B)=>async W=>{let K;W&&(W.preventDefault&&W.preventDefault(),W.persist&&W.persist());let ne=lr(s);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:Z,values:ae}=await b();n.errors=Z,ne=ae}else await P(r);if(Mt(n.errors,"root"),Qn(n.errors)){f.state.next({errors:{}});try{await L(ne,W)}catch(Z){K=Z}}else B&&await B({...n.errors},W),dt(),setTimeout(dt);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Qn(n.errors)&&!K,submitCount:n.submitCount+1,errors:n.errors}),K)throw K},ho=(L,B={})=>{se(r,L)&&(bt(B.defaultValue)?Ne(L,lr(se(i,L))):(Ne(L,B.defaultValue),at(i,L,lr(B.defaultValue))),B.keepTouched||Mt(n.touchedFields,L),B.keepDirty||(Mt(n.dirtyFields,L),n.isDirty=B.defaultValue?F(L,lr(se(i,L))):F()),B.keepError||(Mt(n.errors,L),d.isValid&&D()),f.state.next({...n}))},_i=(L,B={})=>{const W=L?lr(L):i,K=lr(W),ne=Qn(L),Z=ne?i:K;if(B.keepDefaultValues||(i=W),!B.keepValues){if(B.keepDirtyValues)for(const ae of a.mount)se(n.dirtyFields,ae)?at(Z,ae,se(s,ae)):Ne(ae,se(Z,ae));else{if(O0&&bt(L))for(const ae of a.mount){const Ie=se(r,ae);if(Ie&&Ie._f){const Ye=Array.isArray(Ie._f.refs)?Ie._f.refs[0]:Ie._f.ref;if(np(Ye)){const Oe=Ye.closest("form");if(Oe){Oe.reset();break}}}}r={}}s=t.shouldUnregister?B.keepDefaultValues?lr(i):{}:lr(Z),f.array.next({values:{...Z}}),f.values.next({values:{...Z}})}a={mount:B.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!B.keepIsValid||!!B.keepDirtyValues,o.watch=!!t.shouldUnregister,f.state.next({submitCount:B.keepSubmitCount?n.submitCount:0,isDirty:ne?!1:B.keepDirty?n.isDirty:!!(B.keepDefaultValues&&!Fo(L,i)),isSubmitted:B.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ne?[]:B.keepDirtyValues?B.keepDefaultValues&&s?Nd(i,s):n.dirtyFields:B.keepDefaultValues&&L?Nd(i,L):B.keepDirty?n.dirtyFields:{},touchedFields:B.keepTouched?n.touchedFields:{},errors:B.keepErrors?n.errors:{},isSubmitSuccessful:B.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},yr=(L,B)=>_i(Ds(L)?L(s):L,B);return{control:{register:Hn,unregister:ct,getFieldState:Ce,handleSubmit:Ur,setError:$,_executeSchema:b,_getWatch:R,_getDirty:F,_updateValid:D,_removeUnmounted:M,_updateFieldArray:w,_updateDisabledField:ht,_getFieldArray:Ee,_reset:_i,_resetDefaultValues:()=>Ds(e.defaultValues)&&e.defaultValues().then(L=>{yr(L,e.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:L=>{n={...n,...L}},_disableForm:mt,_subjects:f,_proxyFormState:d,_setErrors:V,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(L){o=L},get _defaultValues(){return i},get _names(){return a},set _names(L){a=L},get _formState(){return n},set _formState(L){n=L},get _options(){return e},set _options(L){e={...e,...L}}},trigger:ce,register:Hn,handleSubmit:Ur,watch:zt,setValue:Ne,getValues:Fe,reset:yr,resetField:ho,clearErrors:Be,unregister:ct,setError:$,setFocus:(L,B={})=>{const W=se(r,L),K=W&&W._f;if(K){const ne=K.refs?K.refs[0]:K.ref;ne.focus&&(ne.focus(),B.shouldSelect&&ne.select())}},getFieldState:Ce}}function F0(t={}){const e=We.useRef(),n=We.useRef(),[r,i]=We.useState({isDirty:!1,isValidating:!1,isLoading:Ds(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Ds(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...uV(t),formState:r});const s=e.current.control;return s._options=t,JF({subject:s._subjects.state,next:o=>{XF(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),We.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),We.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),We.useEffect(()=>{t.values&&!Fo(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),We.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),We.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),We.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=YF(r,s),e.current}var NT=function(t,e,n){if(t&&"reportValidity"in t){var r=se(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},t2=function(t,e){var n=function(i){var s=e.fields[i];s&&s.ref&&"reportValidity"in s.ref?NT(s.ref,i,t):s.refs&&s.refs.forEach(function(o){return NT(o,i,t)})};for(var r in e.fields)n(r)},cV=function(t){return t instanceof Date},hV=function(t){return t==null},dV=function(t){return typeof t=="object"},fV=function(t){return!hV(t)&&!Array.isArray(t)&&dV(t)&&!cV(t)},pV=function(t){return/^\w*$/.test(t)},Jg=function(t,e,n){for(var r=-1,i=pV(e)?[e]:function(d){return f=d.replace(/["|']|\]/g,"").split(/\.|\[/),Array.isArray(f)?f.filter(Boolean):[];var f}(e),s=i.length,o=s-1;++r<s;){var a=i[r],l=n;if(r!==o){var c=t[a];l=fV(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}t[a]=l,t=t[a]}return t},mV=function(t,e){e.shouldUseNativeValidation&&t2(t,e);var n={};for(var r in t){var i=se(e.fields,r),s=Object.assign(t[r]||{},{ref:i&&i.ref});if(gV(e.names||Object.keys(t),r)){var o=Object.assign({},se(n,r));Jg(o,"root",s),Jg(n,r,o)}else Jg(n,r,s)}return n},gV=function(t,e){return t.some(function(n){return n.startsWith(e+".")})};function V0(t,e,n){return e===void 0&&(e={}),n===void 0&&(n={}),function(r,i,s){try{return Promise.resolve(function(o,a){try{var l=(e.context,Promise.resolve(t[n.mode==="sync"?"validateSync":"validate"](r,Object.assign({abortEarly:!1},e,{context:i}))).then(function(c){return s.shouldUseNativeValidation&&t2({},s),{values:n.raw?r:c,errors:{}}}))}catch(c){return a(c)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(!o.inner)throw o;return{values:{},errors:mV((a=o,l=!s.shouldUseNativeValidation&&s.criteriaMode==="all",(a.inner||[]).reduce(function(c,d){if(c[d.path]||(c[d.path]={message:d.message,type:d.type}),l){var f=c[d.path].types,g=f&&f[d.type];c[d.path]=Kx(d.path,l,c,d.type,g?[].concat(g,d.message):d.message)}return c},{})),s)};var a,l}))}catch(o){return Promise.reject(o)}}}function ha(t){this._maxSize=t,this.clear()}ha.prototype.clear=function(){this._size=0,this._values=Object.create(null)};ha.prototype.get=function(t){return this._values[t]};ha.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var yV=/[^.^\]^[]+|(?=\[\]|\.\.)/g,n2=/^\d+$/,vV=/^\d/,_V=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,wV=/^\s*(['"]?)(.*?)(\1)\s*$/,j0=512,OT=new ha(j0),DT=new ha(j0),LT=new ha(j0),Wo={Cache:ha,split:Ov,normalizePath:Zg,setter:function(t){var e=Zg(t);return DT.get(t)||DT.set(t,function(r,i){for(var s=0,o=e.length,a=r;s<o-1;){var l=e[s];if(l==="__proto__"||l==="constructor"||l==="prototype")return r;a=a[e[s++]]}a[e[s]]=i})},getter:function(t,e){var n=Zg(t);return LT.get(t)||LT.set(t,function(i){for(var s=0,o=n.length;s<o;)if(i!=null||!e)i=i[n[s++]];else return;return i})},join:function(t){return t.reduce(function(e,n){return e+(U0(n)||n2.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){EV(Array.isArray(t)?t:Ov(t),e,n)}};function Zg(t){return OT.get(t)||OT.set(t,Ov(t).map(function(e){return e.replace(wV,"$2")}))}function Ov(t){return t.match(yV)||[""]}function EV(t,e,n){var r=t.length,i,s,o,a;for(s=0;s<r;s++)i=t[s],i&&(SV(i)&&(i='"'+i+'"'),a=U0(i),o=!a&&/^\d+$/.test(i),e.call(n,i,a,o,s,t))}function U0(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function TV(t){return t.match(vV)&&!t.match(n2)}function IV(t){return _V.test(t)}function SV(t){return!U0(t)&&(TV(t)||IV(t))}const CV=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,gm=t=>t.match(CV)||[],ym=t=>t[0].toUpperCase()+t.slice(1),$0=(t,e)=>gm(t).join(e).toLowerCase(),r2=t=>gm(t).reduce((e,n)=>`${e}${e?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),bV=t=>ym(r2(t)),xV=t=>$0(t,"_"),kV=t=>$0(t,"-"),AV=t=>ym($0(t," ")),RV=t=>gm(t).map(ym).join(" ");var ey={words:gm,upperFirst:ym,camelCase:r2,pascalCase:bV,snakeCase:xV,kebabCase:kV,sentenceCase:AV,titleCase:RV},B0={exports:{}};B0.exports=function(t){return i2(PV(t),t)};B0.exports.array=i2;function i2(t,e){var n=t.length,r=new Array(n),i={},s=n,o=NV(e),a=OV(t);for(e.forEach(function(c){if(!a.has(c[0])||!a.has(c[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)i[s]||l(t[s],s,new Set);return r;function l(c,d,f){if(f.has(c)){var g;try{g=", node was:"+JSON.stringify(c)}catch{g=""}throw new Error("Cyclic dependency"+g)}if(!a.has(c))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(c));if(!i[d]){i[d]=!0;var E=o.get(c)||new Set;if(E=Array.from(E),d=E.length){f.add(c);do{var I=E[--d];l(I,a.get(I),f)}while(d);f.delete(c)}r[--n]=c}}}function PV(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var i=t[n];e.add(i[0]),e.add(i[1])}return Array.from(e)}function NV(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var i=t[n];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}function OV(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}var DV=B0.exports;const LV=T_(DV),MV=Object.prototype.toString,FV=Error.prototype.toString,VV=RegExp.prototype.toString,jV=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",UV=/^Symbol\((.*)\)(.*)$/;function $V(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function MT(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return $V(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return jV.call(t).replace(UV,"Symbol($1)");const r=MV.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+FV.call(t)+"]":r==="RegExp"?VV.call(t):null}function qs(t,e){let n=MT(t,e);return n!==null?n:JSON.stringify(t,function(r,i){let s=MT(this[r],e);return s!==null?s:i},2)}function s2(t){return t==null?[]:[].concat(t)}let o2,a2,l2,BV=/\$\{\s*(\w+)\s*\}/g;o2=Symbol.toStringTag;class FT{constructor(e,n,r,i){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[o2]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],s2(e).forEach(s=>{if(Ln.isError(s)){this.errors.push(...s.errors);const o=s.inner.length?s.inner:[s];this.inner.push(...o)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}a2=Symbol.hasInstance;l2=Symbol.toStringTag;class Ln extends Error{static formatError(e,n){const r=n.label||n.path||"this";return r!==n.path&&(n=Object.assign({},n,{path:r})),typeof e=="string"?e.replace(BV,(i,s)=>qs(n[s])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,i,s){const o=new FT(e,n,r,i);if(s)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[l2]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Ln)}static[a2](e){return FT[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Qr={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const i=r!=null&&r!==n?` (cast from the value \`${qs(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${qs(n,!0)}\``+i:`${t} must match the configured type. The validated value was: \`${qs(n,!0)}\``+i}},On={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},zV={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Dv={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},WV={isValue:"${path} field must be ${value}"},Lv={noUnknown:"${path} field has unspecified keys: ${unknown}"},HV={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},qV={notType:t=>{const{path:e,value:n,spec:r}=t,i=r.types.length;if(Array.isArray(n)){if(n.length<i)return`${e} tuple value has too few items, expected a length of ${i} but got ${n.length} for value: \`${qs(n,!0)}\``;if(n.length>i)return`${e} tuple value has too many items, expected a length of ${i} but got ${n.length} for value: \`${qs(n,!0)}\``}return Ln.formatError(Qr.notType,t)}};Object.assign(Object.create(null),{mixed:Qr,string:On,number:zV,date:Dv,object:Lv,array:HV,boolean:WV,tuple:qV});const z0=t=>t&&t.__isYupSchema__;class op{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:s}=n,o=typeof r=="function"?r:(...a)=>a.every(l=>l===r);return new op(e,(a,l)=>{var c;let d=o(...a)?i:s;return(c=d==null?void 0:d(l))!=null?c:l})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(s=>s.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn(r,e,n);if(i===void 0||i===e)return e;if(!z0(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}const Od={context:"$",value:"."};let da=class{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Od.context,this.isValue=this.key[0]===Od.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?Od.context:this.isValue?Od.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&Wo.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let i=this.isContext?r:this.isValue?e:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}};da.prototype.__isYupRef=!0;const Vo=t=>t==null;function Oa(t){function e({value:n,path:r="",options:i,originalValue:s,schema:o},a,l){const{name:c,test:d,params:f,message:g,skipAbsent:E}=t;let{parent:I,context:x,abortEarly:D=o.spec.abortEarly,disableStackTrace:S=o.spec.disableStackTrace}=i;function w(M){return da.isRef(M)?M.getValue(n,I,x):M}function k(M={}){const F=Object.assign({value:n,originalValue:s,label:o.spec.label,path:M.path||r,spec:o.spec,disableStackTrace:M.disableStackTrace||S},f,M.params);for(const Ee of Object.keys(F))F[Ee]=w(F[Ee]);const R=new Ln(Ln.formatError(M.message||g,F),n,F.path,M.type||c,F.disableStackTrace);return R.params=F,R}const V=D?a:l;let U={path:r,parent:I,type:c,from:i.from,createError:k,resolve:w,options:i,originalValue:s,schema:o};const H=M=>{Ln.isError(M)?V(M):M?l(null):V(k())},C=M=>{Ln.isError(M)?V(M):a(M)};if(E&&Vo(n))return H(!0);let A;try{var P;if(A=d.call(U,n,U),typeof((P=A)==null?void 0:P.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${U.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(A).then(H,C)}}catch(M){C(M);return}H(A)}return e.OPTIONS=t,e}function GV(t,e,n,r=n){let i,s,o;return e?(Wo.forEach(e,(a,l,c)=>{let d=l?a.slice(1,a.length-1):a;t=t.resolve({context:r,parent:i,value:n});let f=t.type==="tuple",g=c?parseInt(d,10):0;if(t.innerType||f){if(f&&!c)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&g>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);i=n,n=n&&n[g],t=f?t.spec.types[g]:t.innerType}if(!c){if(!t.fields||!t.fields[d])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);i=n,n=n&&n[d],t=t.fields[d]}s=d,o=l?"["+a+"]":"."+a}),{schema:t,parent:i,parentPath:s}):{parent:i,parentPath:e,schema:t}}class ap extends Set{describe(){const e=[];for(const n of this.values())e.push(da.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new ap(this.values())}merge(e,n){const r=this.clone();return e.forEach(i=>r.add(i)),n.forEach(i=>r.delete(i)),r}}function Ja(t,e=new Map){if(z0(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=Ja(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,i]of t.entries())n.set(r,Ja(i,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(Ja(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,i]of Object.entries(t))n[r]=Ja(i,e)}else throw Error(`Unable to clone ${t}`);return n}class fi{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new ap,this._blacklist=new ap,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Qr.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=Ja(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const i=Object.assign({},n.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(s=>{e.tests.forEach(o=>{s.test(o.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,s)=>s.resolve(i,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,i,s;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=e.recursive)!=null?i:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({value:e},n)),i=n.assert==="ignore-optionality",s=r._cast(e,n);if(n.assert!==!1&&!r.isType(s)){if(i&&Vo(s))return s;let o=qs(e),a=qs(s);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return s}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((i,s)=>s.call(this,i,e,this),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,i){let{path:s,originalValue:o=e,strict:a=this.spec.strict}=n,l=e;a||(l=this._cast(l,Object.assign({assert:!1},n)));let c=[];for(let d of Object.values(this.internalTests))d&&c.push(d);this.runTests({path:s,value:l,originalValue:o,options:n,tests:c},r,d=>{if(d.length)return i(d,l);this.runTests({path:s,value:l,originalValue:o,options:n,tests:this.tests},r,i)})}runTests(e,n,r){let i=!1,{tests:s,value:o,originalValue:a,path:l,options:c}=e,d=x=>{i||(i=!0,n(x,o))},f=x=>{i||(i=!0,r(x,o))},g=s.length,E=[];if(!g)return f([]);let I={value:o,originalValue:a,path:l,options:c,schema:this};for(let x=0;x<s.length;x++){const D=s[x];D(I,d,function(w){w&&(Array.isArray(w)?E.push(...w):E.push(w)),--g<=0&&f(E)})}}asNestedTest({key:e,index:n,parent:r,parentPath:i,originalParent:s,options:o}){const a=e??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof a=="number";let c=r[a];const d=Object.assign({},o,{strict:!0,parent:r,value:c,originalValue:s[a],key:void 0,[l?"index":"key"]:a,path:l||a.includes(".")?`${i||""}[${l?a:`"${a}"`}]`:(i?`${i}.`:"")+e});return(f,g,E)=>this.resolve(d)._validate(c,d,g,E)}validate(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return new Promise((o,a)=>i._validate(e,n,(l,c)=>{Ln.isError(l)&&(l.value=c),a(l)},(l,c)=>{l.length?a(new Ln(l,c,void 0,void 0,s)):o(c)}))}validateSync(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s,o=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return i._validate(e,Object.assign({},n,{sync:!0}),(a,l)=>{throw Ln.isError(a)&&(a.value=l),a},(a,l)=>{if(a.length)throw new Ln(a,e,void 0,void 0,o);s=l}),s}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(Ln.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(Ln.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):Ja(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=Oa({message:n,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=Oa({message:n,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=Qr.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Qr.notNull){return this.nullability(!1,e)}required(e=Qr.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=Qr.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=Oa(n),s=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===n.name&&(s||o.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),i=s2(e).map(s=>new da(s));return i.forEach(s=>{s.isSibling&&r.deps.push(s.key)}),r.conditions.push(typeof n=="function"?new op(i,n):op.fromOptions(i,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=Oa({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=Qr.oneOf){let r=this.clone();return e.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=Oa({message:n,name:"oneOf",skipAbsent:!0,test(i){let s=this.schema._whitelist,o=s.resolveAll(this.resolve);return o.includes(i)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:o}})}}),r}notOneOf(e,n=Qr.notOneOf){let r=this.clone();return e.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=Oa({message:n,name:"notOneOf",test(i){let s=this.schema._blacklist,o=s.resolveAll(this.resolve);return o.includes(i)?this.createError({params:{values:Array.from(s).join(", "),resolved:o}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:i,optional:s,nullable:o}=n.spec;return{meta:i,label:r,optional:s,nullable:o,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,c,d)=>d.findIndex(f=>f.name===l.name)===c)}}}fi.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])fi.prototype[`${t}At`]=function(e,n,r={}){const{parent:i,parentPath:s,schema:o}=GV(this,e,n,r.context);return o[t](i&&i[s],Object.assign({},r,{parent:i,path:e}))};for(const t of["equals","is"])fi.prototype[t]=fi.prototype.oneOf;for(const t of["not","nope"])fi.prototype[t]=fi.prototype.notOneOf;const KV=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function QV(t){const e=Mv(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function Mv(t){var e,n;const r=KV.exec(t);return r?{year:Ni(r[1]),month:Ni(r[2],1)-1,day:Ni(r[3],1),hour:Ni(r[4]),minute:Ni(r[5]),second:Ni(r[6]),millisecond:r[7]?Ni(r[7].substring(0,3)):0,precision:(e=(n=r[7])==null?void 0:n.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:Ni(r[10]),minuteOffset:Ni(r[11])}:null}function Ni(t,e=0){return Number(t)||e}let YV=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,XV=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,JV=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,ZV="^\\d{4}-\\d{2}-\\d{2}",e4="\\d{2}:\\d{2}:\\d{2}",t4="(([+-]\\d{2}(:?\\d{2})?)|Z)",n4=new RegExp(`${ZV}T${e4}(\\.\\d+)?${t4}$`),r4=t=>Vo(t)||t===t.trim(),i4={}.toString();function ti(){return new u2}class u2 extends fi{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===i4?e:i})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||Qr.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=On.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=On.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=On.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,i,s;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:s}=n:i=n),this.test({name:s||"matches",message:i||On.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&r||o.search(e)!==-1})}email(e=On.email){return this.matches(YV,{name:"email",message:e,excludeEmptyString:!0})}url(e=On.url){return this.matches(XV,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=On.uuid){return this.matches(JV,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",r,i;return e&&(typeof e=="object"?{message:n="",allowOffset:r=!1,precision:i=void 0}=e:n=e),this.matches(n4,{name:"datetime",message:n||On.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||On.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:s=>{if(!s||r)return!0;const o=Mv(s);return o?!!o.z:!1}}).test({name:"datetime_precision",message:n||On.datetime_precision,params:{precision:i},skipAbsent:!0,test:s=>{if(!s||i==null)return!0;const o=Mv(s);return o?o.precision===i:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=On.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:r4})}lowercase(e=On.lowercase){return this.transform(n=>Vo(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Vo(n)||n===n.toLowerCase()})}uppercase(e=On.uppercase){return this.transform(n=>Vo(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Vo(n)||n===n.toUpperCase()})}}ti.prototype=u2.prototype;let s4=new Date(""),o4=t=>Object.prototype.toString.call(t)==="[object Date]";class vm extends fi{constructor(){super({type:"date",check(e){return o4(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=QV(e),isNaN(e)?vm.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(da.isRef(e))r=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(e,n=Dv.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(e,n=Dv.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}vm.INVALID_DATE=s4;vm.prototype;function a4(t,e=[]){let n=[],r=new Set,i=new Set(e.map(([o,a])=>`${o}-${a}`));function s(o,a){let l=Wo.split(o)[0];r.add(l),i.has(`${a}-${l}`)||n.push([a,l])}for(const o of Object.keys(t)){let a=t[o];r.add(o),da.isRef(a)&&a.isSibling?s(a.path,o):z0(a)&&"deps"in a&&a.deps.forEach(l=>s(l,o))}return LV.array(Array.from(r),n).reverse()}function VT(t,e){let n=1/0;return t.some((r,i)=>{var s;if((s=e.path)!=null&&s.includes(r))return n=i,!0}),n}function c2(t){return(e,n)=>VT(t,e)-VT(t,n)}const l4=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function df(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=df(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=df(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(df)}):"optional"in t?t.optional():t}const u4=(t,e)=>{const n=[...Wo.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),i=Wo.getter(Wo.join(n),!0)(t);return!!(i&&r in i)};let jT=t=>Object.prototype.toString.call(t)==="[object Object]";function c4(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const h4=c2([]);function _m(t){return new h2(t)}class h2 extends fi{constructor(e){super({type:"object",check(n){return jT(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=h4,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let i=super._cast(e,n);if(i===void 0)return this.getDefault(n);if(!this._typeCheck(i))return i;let s=this.fields,o=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(i).filter(f=>!this._nodes.includes(f))),l={},c=Object.assign({},n,{parent:l,__validating:n.__validating||!1}),d=!1;for(const f of a){let g=s[f],E=f in i;if(g){let I,x=i[f];c.path=(n.path?`${n.path}.`:"")+f,g=g.resolve({value:x,context:n.context,parent:l});let D=g instanceof fi?g.spec:void 0,S=D==null?void 0:D.strict;if(D!=null&&D.strip){d=d||f in i;continue}I=!n.__validating||!S?g.cast(i[f],c):i[f],I!==void 0&&(l[f]=I)}else E&&!o&&(l[f]=i[f]);(E!==f in l||l[f]!==i[f])&&(d=!0)}return d?l:i}_validate(e,n={},r,i){let{from:s=[],originalValue:o=e,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:o},...s],n.__validating=!0,n.originalValue=o,super._validate(e,n,r,(l,c)=>{if(!a||!jT(c)){i(l,c);return}o=o||c;let d=[];for(let f of this._nodes){let g=this.fields[f];!g||da.isRef(g)||d.push(g.asNestedTest({options:n,key:f,parent:c,parentPath:n.path,originalParent:o}))}this.runTests({tests:d,value:c,originalValue:o,options:n},r,f=>{i(f.sort(this._sortErrors).concat(l),c)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[i,s]of Object.entries(this.fields)){const o=r[i];r[i]=o===void 0?s:o}return n.withMutation(i=>i.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var i;const s=this.fields[r];let o=e;(i=o)!=null&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),n[r]=s&&"getDefault"in s?s.getDefault(o):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=a4(e,n),r._sortErrors=c2(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),i=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),i)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return df(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,i])=>e.includes(r)&&e.includes(i)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let i=Wo.getter(e,!0);return this.transform(s=>{if(!s)return s;let o=s;return u4(s,e)&&(o=Object.assign({},s),r||delete o[e],o[n]=i(s)),o})}json(){return this.transform(l4)}noUnknown(e=!0,n=Lv.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const s=c4(this.schema,i);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=Lv.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const i of Object.keys(n))r[e(i)]=n[i];return r})}camelCase(){return this.transformKeys(ey.camelCase)}snakeCase(){return this.transformKeys(ey.snakeCase)}constantCase(){return this.transformKeys(e=>ey.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[s,o]of Object.entries(n.fields)){var i;let a=e;(i=a)!=null&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[s]})),r.fields[s]=o.describe(a)}return r}}_m.prototype=h2.prototype;const d4=ue.div`
  display: block;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  z-index: 3;
`,W0=({onClose:t,children:e})=>{G.useEffect(()=>(window.addEventListener("keydown",n),document.documentElement.style.overflow="hidden",()=>{window.removeEventListener("keydown",n),document.documentElement.style.overflow="visible"}));const n=i=>{i.code==="Escape"&&t()},r=i=>{i.target===i.currentTarget&&t()};return N.jsx(d4,{onClick:r,children:e})};function f4(t){return jr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M399 384.2C376.9 345.8 335.4 320 288 320H224c-47.4 0-88.9 25.8-111 64.2c35.2 39.2 86.2 63.8 143 63.8s107.8-24.7 143-63.8zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm256 16a72 72 0 1 0 0-144 72 72 0 1 0 0 144z"},child:[]}]})(t)}function p4(t){return jr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"},child:[]}]})(t)}function m4(t){return jr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"},child:[]}]})(t)}function d2(t){return jr({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zm151 118.3C226 97.7 269.5 80 320 80c65.2 0 118.8 29.6 159.9 67.7C518.4 183.5 545 226 558.6 256c-12.6 28-36.6 66.8-70.9 100.9l-53.8-42.2c9.1-17.6 14.2-37.5 14.2-58.7c0-70.7-57.3-128-128-128c-32.2 0-61.7 11.9-84.2 31.5l-46.1-36.1zM394.9 284.2l-81.5-63.9c4.2-8.5 6.6-18.2 6.6-28.3c0-5.5-.7-10.9-2-16c.7 0 1.3 0 2 0c44.2 0 80 35.8 80 80c0 9.9-1.8 19.4-5.1 28.2zm51.3 163.3l-41.9-33C378.8 425.4 350.7 432 320 432c-65.2 0-118.8-29.6-159.9-67.7C121.6 328.5 95 286 81.4 256c8.3-18.4 21.5-41.5 39.4-64.8L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5zm-88-69.3L302 334c-23.5-5.4-43.1-21.2-53.7-42.3l-56.1-44.2c-.2 2.8-.3 5.6-.3 8.5c0 70.7 57.3 128 128 128c13.3 0 26.1-2 38.2-5.8z"},child:[]}]})(t)}function f2(t){return jr({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 80c-65.2 0-118.8 29.6-159.9 67.7C89.6 183.5 63 226 49.4 256c13.6 30 40.2 72.5 78.6 108.3C169.2 402.4 222.8 432 288 432s118.8-29.6 159.9-67.7C486.4 328.5 513 286 526.6 256c-13.6-30-40.2-72.5-78.6-108.3C406.8 109.6 353.2 80 288 80zM95.4 112.6C142.5 68.8 207.2 32 288 32s145.5 36.8 192.6 80.6c46.8 43.5 78.1 95.4 93 131.1c3.3 7.9 3.3 16.7 0 24.6c-14.9 35.7-46.2 87.7-93 131.1C433.5 443.2 368.8 480 288 480s-145.5-36.8-192.6-80.6C48.6 356 17.3 304 2.5 268.3c-3.3-7.9-3.3-16.7 0-24.6C17.3 208 48.6 156 95.4 112.6zM288 336c44.2 0 80-35.8 80-80s-35.8-80-80-80c-.7 0-1.3 0-2 0c1.3 5.1 2 10.5 2 16c0 35.3-28.7 64-64 64c-5.5 0-10.9-.7-16-2c0 .7 0 1.3 0 2c0 44.2 35.8 80 80 80zm0-208a128 128 0 1 1 0 256 128 128 0 1 1 0-256z"},child:[]}]})(t)}function g4(t){return jr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M225.8 468.2l-2.5-2.3L48.1 303.2C17.4 274.7 0 234.7 0 192.8v-3.3c0-70.4 50-130.8 119.2-144C158.6 37.9 198.9 47 231 69.6c9 6.4 17.4 13.8 25 22.3c4.2-4.8 8.7-9.2 13.5-13.3c3.7-3.2 7.5-6.2 11.5-9c0 0 0 0 0 0C313.1 47 353.4 37.9 392.8 45.4C462 58.6 512 119.1 512 189.5v3.3c0 41.9-17.4 81.9-48.1 110.4L288.7 465.9l-2.5 2.3c-8.2 7.6-19 11.9-30.2 11.9s-22-4.2-30.2-11.9zM239.1 145c-.4-.3-.7-.7-1-1.1l-17.8-20c0 0-.1-.1-.1-.1c0 0 0 0 0 0c-23.1-25.9-58-37.7-92-31.2C81.6 101.5 48 142.1 48 189.5v3.3c0 28.5 11.9 55.8 32.8 75.2L256 430.7 431.2 268c20.9-19.4 32.8-46.7 32.8-75.2v-3.3c0-47.3-33.6-88-80.1-96.9c-34-6.5-69 5.4-92 31.2c0 0 0 0-.1 .1s0 0-.1 .1l-17.8 20c-.3 .4-.7 .7-1 1.1c-4.5 4.5-10.6 7-16.9 7s-12.4-2.5-16.9-7z"},child:[]}]})(t)}function H0(t){return jr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(t)}const y4=ue.div`
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 600px;
  max-height: 100dvh;
  display: flex;
  flex-direction: column;
  justify-content: start;
  align-items: start;
  gap: 40px;
  background-color: #fff;
  border-radius: 30px;
  padding: 64px;
  margin: 0;
`,v4=ue.button`
  position: absolute;
  top: 28px;
  right: 28px;
  background-color: transparent;
  border: none;
  cursor: pointer;
`,_4=ue.div`
  display: flex;
  flex-direction: column;
  justify-content: start;
  align-items: start;
  width: 100%;
  gap: 20px;
  padding: 0;
  margin: 0;

  h2 {
    font-family: 'Roboto-Medium', sans-serif;
    font-size: 48px;
    line-height: 48px;
    letter-spacing: -0.02em;
    margin: 0;
  }

  p {
    font-family: 'Roboto-Regular', sans-serif;
    font-size: 16px;
    line-height: 22px;
    margin: 0;
  }
`,w4=ue.form`
  display: flex;
  flex-direction: column;
  justify-content: start;
  align-items: start;
  gap: 40px;
  width: 100%;
  padding: 8px 0;
  margin: 0;
  overflow-y: auto;
`,UT=ue.div`
  position: relative;
  width: 100%;
  display: flex;
  flex-direction: column;
  justify-content: start;
  align-items: start;
  gap: 8px;
  width: 100%;
  padding: 0;
  margin: 0;

  label {
    position: absolute;
    top: 50%;
    left: 18px;
    transform: translateY(-50%);
    font-size: 16px;
    line-height: 22px;
    color: var(--primary-text-color);
    background-color: transparent;
    padding: 0 4px;
    margin: 0;
    pointer-events: none;
    transition: top 0.2s ease;
  }

  input {
    border: 1px solid rgba(18, 20, 23, 0.1);
    border-radius: 12px;
    font-size: 16px;
    line-height: 22px;
    width: 100%;
    padding: 16px 18px;
    background-color: #fff;
    margin: 0;
    outline: none;

    &:focus + label,
    &:not(:placeholder-shown) + label {
      top: 0;
      color: var(--btn-color);
      background-color: #fff;
    }

    &:focus {
      border: 1px solid var(--btn-color);
    }

    &.error + label {
      color: red;
    }

    &.error {
      border-color: red;
    }
  }
`,$T=ue.p`
  position: absolute;
  bottom: -25px;
  right: 0;
  font-size: 12px;
  color: red;
`,E4=ue.button`
  width: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 16px 48px;
  font-family: 'Roboto-Bold', sans-serif;
  font-size: 18px;
  line-height: 28px;
  letter-spacing: 0.02em;
  color: var(--primary-text-color);
  border: none;
  background-color: var(--btn-color);
  border-radius: 12px;
  transition: background-color 0.3s ease-in-out;

  &:hover,
  &:focus {
    background-color: var(--btn-hover-color);
  }
`,T4=ue.button`
  position: absolute;
  top: 50%;
  right: 17px;
  transform: translateY(-50%);
  background-color: transparent;
  border: none;
  padding: 0;
  margin: 0;
  cursor: pointer;

  &:hover {
    color: var(--btn-color);
  }
`;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te=function(t,e){if(!t)throw Jl(e)},Jl=function(t){return new Error("Firebase Database ("+p2.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},I4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},q0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let g=(a&15)<<2|c>>6,E=c&63;l||(E=64,o||(g=64)),r.push(n[d],n[f],n[g],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(m2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):I4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new S4;const g=s<<2|a>>4;if(r.push(g),c!==64){const E=a<<4&240|c>>2;if(r.push(E),f!==64){const I=c<<6&192|f;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class S4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const g2=function(t){const e=m2(t);return q0.encodeByteArray(e,!0)},lp=function(t){return g2(t).replace(/\./g,"")},up=function(t){try{return q0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4(t){return y2(void 0,t)}function y2(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!b4(n)||(t[n]=y2(t[n],e[n]));return t}function b4(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4=()=>x4().__FIREBASE_DEFAULTS__,A4=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},R4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&up(t[1]);return e&&JSON.parse(e)},wm=()=>{try{return k4()||A4()||R4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},v2=t=>{var e,n;return(n=(e=wm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},G0=t=>{const e=v2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},_2=()=>{var t;return(t=wm())===null||t===void 0?void 0:t.config},w2=t=>{var e;return(e=wm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[lp(JSON.stringify(n)),lp(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Y0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function P4(){var t;const e=(t=wm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function N4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function E2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function O4(){const t=un();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function T2(){return p2.NODE_ADMIN===!0}function D4(){return!P4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function L4(){try{return typeof indexedDB=="object"}catch{return!1}}function M4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4="FirebaseError";class yi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=F4,Object.setPrototypeOf(this,yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dh.prototype.create)}}class dh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?V4(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new yi(i,a,r)}}function V4(t,e){return t.replace(j4,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const j4=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(t){return JSON.parse(t)}function Xt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Uc(up(s[0])||""),n=Uc(up(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},U4=function(t){const e=I2(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},$4=function(t){const e=I2(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Rl(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Fv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function cp(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function $c(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(BT(s)&&BT(o)){if(!$c(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function BT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function zu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Wu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)r[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const g=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(g<<1|g>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,d;for(let f=0;f<80;f++){f<40?f<20?(c=a^s&(o^a),d=1518500249):(c=s^o^a,d=1859775393):f<60?(c=s&o|a&(s|o),d=2400959708):(c=s^o^a,d=3395469782);const g=(i<<5|i>>>27)+c+l+d+r[f]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=g}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function z4(t,e){const n=new W4(t,e);return n.subscribe.bind(n)}class W4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");H4(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ty),i.error===void 0&&(i.error=ty),i.complete===void 0&&(i.complete=ty);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function H4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ty(){}function S2(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,te(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Em=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(t){return t&&t._delegate?t._delegate:t}class Qi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new K0;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Q4(e))try{this.getOrInitializeService({instanceIdentifier:Po})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Po){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Po){return this.instances.has(e)}getOptions(e=Po){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:K4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Po){return this.component?this.component.multipleInstances?e:Po:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function K4(t){return t===Po?void 0:t}function Q4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new G4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ae||(Ae={}));const X4={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},J4=Ae.INFO,Z4={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},e5=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Z4[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tm{constructor(e){this.name=e,this._logLevel=J4,this._logHandler=e5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?X4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const t5=(t,e)=>e.some(n=>t instanceof n);let zT,WT;function n5(){return zT||(zT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function r5(){return WT||(WT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const C2=new WeakMap,Vv=new WeakMap,b2=new WeakMap,ny=new WeakMap,X0=new WeakMap;function i5(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Gs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&C2.set(n,t)}).catch(()=>{}),X0.set(e,t),e}function s5(t){if(Vv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Vv.set(t,e)}let jv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||b2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function o5(t){jv=t(jv)}function a5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ry(this),e,...n);return b2.set(r,e.sort?e.sort():[e]),Gs(r)}:r5().includes(t)?function(...e){return t.apply(ry(this),e),Gs(C2.get(this))}:function(...e){return Gs(t.apply(ry(this),e))}}function l5(t){return typeof t=="function"?a5(t):(t instanceof IDBTransaction&&s5(t),t5(t,n5())?new Proxy(t,jv):t)}function Gs(t){if(t instanceof IDBRequest)return i5(t);if(ny.has(t))return ny.get(t);const e=l5(t);return e!==t&&(ny.set(t,e),X0.set(e,t)),e}const ry=t=>X0.get(t);function u5(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Gs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Gs(o.result),l.oldVersion,l.newVersion,Gs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const c5=["get","getKey","getAll","getAllKeys","count"],h5=["put","add","delete","clear"],iy=new Map;function HT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(iy.get(e))return iy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=h5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||c5.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return iy.set(e,s),s}o5(t=>({...t,get:(e,n,r)=>HT(e,n)||t.get(e,n,r),has:(e,n)=>!!HT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(f5(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function f5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Uv="@firebase/app",qT="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=new Tm("@firebase/app"),p5="@firebase/app-compat",m5="@firebase/analytics-compat",g5="@firebase/analytics",y5="@firebase/app-check-compat",v5="@firebase/app-check",_5="@firebase/auth",w5="@firebase/auth-compat",E5="@firebase/database",T5="@firebase/database-compat",I5="@firebase/functions",S5="@firebase/functions-compat",C5="@firebase/installations",b5="@firebase/installations-compat",x5="@firebase/messaging",k5="@firebase/messaging-compat",A5="@firebase/performance",R5="@firebase/performance-compat",P5="@firebase/remote-config",N5="@firebase/remote-config-compat",O5="@firebase/storage",D5="@firebase/storage-compat",L5="@firebase/firestore",M5="@firebase/vertexai-preview",F5="@firebase/firestore-compat",V5="firebase",j5="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="[DEFAULT]",U5={[Uv]:"fire-core",[p5]:"fire-core-compat",[g5]:"fire-analytics",[m5]:"fire-analytics-compat",[v5]:"fire-app-check",[y5]:"fire-app-check-compat",[_5]:"fire-auth",[w5]:"fire-auth-compat",[E5]:"fire-rtdb",[T5]:"fire-rtdb-compat",[I5]:"fire-fn",[S5]:"fire-fn-compat",[C5]:"fire-iid",[b5]:"fire-iid-compat",[x5]:"fire-fcm",[k5]:"fire-fcm-compat",[A5]:"fire-perf",[R5]:"fire-perf-compat",[P5]:"fire-rc",[N5]:"fire-rc-compat",[O5]:"fire-gcs",[D5]:"fire-gcs-compat",[L5]:"fire-fst",[F5]:"fire-fst-compat",[M5]:"fire-vertex","fire-js":"fire-js",[V5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp=new Map,$5=new Map,Bv=new Map;function GT(t,e){try{t.container.addComponent(e)}catch(n){Jo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Zs(t){const e=t.name;if(Bv.has(e))return Jo.debug(`There were multiple attempts to register component ${e}.`),!1;Bv.set(e,t);for(const n of hp.values())GT(n,t);for(const n of $5.values())GT(n,t);return!0}function fh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ni(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ks=new dh("app","Firebase",B5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ks.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=j5;function x2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:$v,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ks.create("bad-app-name",{appName:String(i)});if(n||(n=_2()),!n)throw Ks.create("no-options");const s=hp.get(i);if(s){if($c(n,s.options)&&$c(r,s.config))return s;throw Ks.create("duplicate-app",{appName:i})}const o=new Y4(i);for(const l of Bv.values())o.addComponent(l);const a=new z5(n,r,o);return hp.set(i,a),a}function Im(t=$v){const e=hp.get(t);if(!e&&t===$v&&_2())return x2();if(!e)throw Ks.create("no-app",{appName:t});return e}function fr(t,e,n){var r;let i=(r=U5[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Jo.warn(a.join(" "));return}Zs(new Qi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W5="firebase-heartbeat-database",H5=1,Bc="firebase-heartbeat-store";let sy=null;function k2(){return sy||(sy=u5(W5,H5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ks.create("idb-open",{originalErrorMessage:t.message})})),sy}async function q5(t){try{const n=(await k2()).transaction(Bc),r=await n.objectStore(Bc).get(A2(t));return await n.done,r}catch(e){if(e instanceof yi)Jo.warn(e.message);else{const n=Ks.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Jo.warn(n.message)}}}async function KT(t,e){try{const r=(await k2()).transaction(Bc,"readwrite");await r.objectStore(Bc).put(e,A2(t)),await r.done}catch(n){if(n instanceof yi)Jo.warn(n.message);else{const r=Ks.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Jo.warn(r.message)}}}function A2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5=1024,K5=30*24*60*60*1e3;class Q5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new X5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=QT();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=K5}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=QT(),{heartbeatsToSend:r,unsentEntries:i}=Y5(this._heartbeatsCache.heartbeats),s=lp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function QT(){return new Date().toISOString().substring(0,10)}function Y5(t,e=G5){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),YT(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),YT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class X5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return L4()?M4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await q5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return KT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return KT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function YT(t){return lp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J5(t){Zs(new Qi("platform-logger",e=>new d5(e),"PRIVATE")),Zs(new Qi("heartbeat",e=>new Q5(e),"PRIVATE")),fr(Uv,qT,t),fr(Uv,qT,"esm2017"),fr("fire-js","")}J5("");var Z5="firebase",e3="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fr(Z5,e3,"app");function R2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const t3=R2,P2=new dh("auth","Firebase",R2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp=new Tm("@firebase/auth");function n3(t,...e){dp.logLevel<=Ae.WARN&&dp.warn(`Auth (${lo}): ${t}`,...e)}function ff(t,...e){dp.logLevel<=Ae.ERROR&&dp.error(`Auth (${lo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(t,...e){throw J0(t,...e)}function ai(t,...e){return J0(t,...e)}function N2(t,e,n){const r=Object.assign(Object.assign({},t3()),{[e]:n});return new dh("auth","Firebase",r).create(e,{appName:t.name})}function zi(t){return N2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function J0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return P2.create(t,...e)}function fe(t,e,...n){if(!t)throw J0(e,...n)}function Vi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ff(e),new Error(e)}function Yi(t,e){t||Vi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function r3(){return XT()==="http:"||XT()==="https:"}function XT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(r3()||N4()||"connection"in navigator)?navigator.onLine:!0}function s3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n){this.shortDelay=e,this.longDelay=n,Yi(n>e,"Short delay should be less than long delay!"),this.isMobile=Y0()||E2()}get(){return i3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(t,e){Yi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3=new ph(3e4,6e4);function uo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function rs(t,e,n,r,i={}){return D2(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Zl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),O2.fetch()(L2(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function D2(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},o3),e);try{const i=new u3(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Dd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Dd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Dd(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw N2(t,d,c);Vr(t,d)}}catch(i){if(i instanceof yi)throw i;Vr(t,"network-request-failed",{message:String(i)})}}async function mh(t,e,n,r,i={}){const s=await rs(t,e,n,r,i);return"mfaPendingCredential"in s&&Vr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function L2(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Z0(t.config,i):`${t.config.apiScheme}://${i}`}function l3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class u3{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ai(this.auth,"network-request-failed")),a3.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Dd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ai(t,e,r);return i.customData._tokenResponse=n,i}function JT(t){return t!==void 0&&t.enterprise!==void 0}class c3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return l3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function h3(t,e){return rs(t,"GET","/v2/recaptchaConfig",uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d3(t,e){return rs(t,"POST","/v1/accounts:delete",e)}async function M2(t,e){return rs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function f3(t,e=!1){const n=_t(t),r=await n.getIdToken(e),i=ew(r);fe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ac(oy(i.auth_time)),issuedAtTime:ac(oy(i.iat)),expirationTime:ac(oy(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function oy(t){return Number(t)*1e3}function ew(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ff("JWT malformed, contained fewer than 3 sections"),null;try{const i=up(n);return i?JSON.parse(i):(ff("Failed to decode base64 JWT payload"),null)}catch(i){return ff("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function ZT(t){const e=ew(t);return fe(e,"internal-error"),fe(typeof e.exp<"u","internal-error"),fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof yi&&p3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function p3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ac(this.lastLoginAt),this.creationTime=ac(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Pl(t,M2(n,{idToken:r}));fe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?F2(s.providerUserInfo):[],a=y3(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Wv(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function g3(t){const e=_t(t);await fp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function y3(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function F2(t){return t.map(e=>{var{providerId:n}=e,r=b0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v3(t,e){const n=await D2(t,{},async()=>{const r=Zl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=L2(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",O2.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function _3(t,e){return rs(t,"POST","/v2/accounts:revokeToken",uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){fe(e.idToken,"internal-error"),fe(typeof e.idToken<"u","internal-error"),fe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ZT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){fe(e.length!==0,"internal-error");const n=ZT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await v3(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ul;return r&&(fe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(fe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(fe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ul,this.toJSON())}_performRefresh(){return Vi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(t,e){fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ji{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=b0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new m3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Wv(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Pl(this,this.stsTokenManager.getToken(this.auth,e));return fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return f3(this,e)}reload(){return g3(this)}_assign(e){this!==e&&(fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ji(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await fp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ni(this.auth.app))return Promise.reject(zi(this.auth));const e=await this.getIdToken();return await Pl(this,d3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,E=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,I=(o=n.photoURL)!==null&&o!==void 0?o:void 0,x=(a=n.tenantId)!==null&&a!==void 0?a:void 0,D=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,S=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:k,emailVerified:V,isAnonymous:U,providerData:H,stsTokenManager:C}=n;fe(k&&C,e,"internal-error");const b=ul.fromJSON(this.name,C);fe(typeof k=="string",e,"internal-error"),ws(f,e.name),ws(g,e.name),fe(typeof V=="boolean",e,"internal-error"),fe(typeof U=="boolean",e,"internal-error"),ws(E,e.name),ws(I,e.name),ws(x,e.name),ws(D,e.name),ws(S,e.name),ws(w,e.name);const A=new ji({uid:k,auth:e,email:g,emailVerified:V,displayName:f,isAnonymous:U,photoURL:I,phoneNumber:E,tenantId:x,stsTokenManager:b,createdAt:S,lastLoginAt:w});return H&&Array.isArray(H)&&(A.providerData=H.map(P=>Object.assign({},P))),D&&(A._redirectEventId=D),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new ul;i.updateFromServerResponse(n);const s=new ji({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await fp(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];fe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?F2(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new ul;a.updateFromIdToken(r);const l=new ji({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Wv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI=new Map;function Ui(t){Yi(t instanceof Function,"Expected a class definition");let e=eI.get(t);return e?(Yi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,eI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}V2.type="NONE";const tI=V2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(t,e,n){return`firebase:${t}:${e}:${n}`}class cl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=pf(this.userKey,i.apiKey,s),this.fullPersistenceKey=pf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ji._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new cl(Ui(tI),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Ui(tI);const o=pf(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const f=ji._fromJSON(e,d);c!==s&&(a=f),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new cl(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new cl(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(j2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(z2(e))return"Blackberry";if(W2(e))return"Webos";if(tw(e))return"Safari";if((e.includes("chrome/")||U2(e))&&!e.includes("edge/"))return"Chrome";if(B2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function j2(t=un()){return/firefox\//i.test(t)}function tw(t=un()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function U2(t=un()){return/crios\//i.test(t)}function $2(t=un()){return/iemobile/i.test(t)}function B2(t=un()){return/android/i.test(t)}function z2(t=un()){return/blackberry/i.test(t)}function W2(t=un()){return/webos/i.test(t)}function Sm(t=un()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function w3(t=un()){var e;return Sm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function E3(){return O4()&&document.documentMode===10}function H2(t=un()){return Sm(t)||B2(t)||W2(t)||z2(t)||/windows phone/i.test(t)||$2(t)}function T3(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(t,e=[]){let n;switch(t){case"Browser":n=nI(un());break;case"Worker":n=`${nI(un())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${lo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S3(t,e={}){return rs(t,"GET","/v2/passwordPolicy",uo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3=6;class b3{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:C3,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rI(this),this.idTokenSubscription=new rI(this),this.beforeStateQueue=new I3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=P2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ui(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await cl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await M2(this,{idToken:e}),r=await ji._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ni(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await fp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=s3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ni(this.app))return Promise.reject(zi(this));const n=e?_t(e):null;return n&&fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ni(this.app)?Promise.reject(zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ni(this.app)?Promise.reject(zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ui(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await S3(this),n=new b3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new dh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await _3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ui(e)||this._popupRedirectResolver;fe(n,this,"argument-error"),this.redirectPersistenceManager=await cl.create(this,[Ui(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(fe(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=q2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&n3(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function fa(t){return _t(t)}class rI{constructor(e){this.auth=e,this.observer=null,this.addObserver=z4(n=>this.observer=n)}get next(){return fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function k3(t){Cm=t}function G2(t){return Cm.loadJS(t)}function A3(){return Cm.recaptchaEnterpriseScript}function R3(){return Cm.gapiScript}function P3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const N3="recaptcha-enterprise",O3="NO_RECAPTCHA";class D3{constructor(e){this.type=N3,this.auth=fa(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{h3(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new c3(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;JT(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(O3)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&JT(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=A3();l.length!==0&&(l+=a),G2(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function iI(t,e,n,r=!1){const i=new D3(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Hv(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await iI(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await iI(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(t,e){const n=fh(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if($c(s,e??{}))return i;Vr(i,"already-initialized")}return n.initialize({options:e})}function M3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ui);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function F3(t,e,n){const r=fa(t);fe(r._canInitEmulator,r,"emulator-config-failed"),fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=K2(e),{host:o,port:a}=V3(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||j3()}function K2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function V3(t){const e=K2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:sI(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:sI(o)}}}function sI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function j3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Vi("not implemented")}_getIdTokenResponse(e){return Vi("not implemented")}_linkToIdToken(e,n){return Vi("not implemented")}_getReauthenticationResolver(e){return Vi("not implemented")}}async function U3(t,e){return rs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $3(t,e){return mh(t,"POST","/v1/accounts:signInWithPassword",uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B3(t,e){return mh(t,"POST","/v1/accounts:signInWithEmailLink",uo(t,e))}async function z3(t,e){return mh(t,"POST","/v1/accounts:signInWithEmailLink",uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc extends nw{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new zc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new zc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hv(e,n,"signInWithPassword",$3);case"emailLink":return B3(e,{email:this._email,oobCode:this._password});default:Vr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hv(e,r,"signUpPassword",U3);case"emailLink":return z3(e,{idToken:n,email:this._email,oobCode:this._password});default:Vr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hl(t,e){return mh(t,"POST","/v1/accounts:signInWithIdp",uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3="http://localhost";class Zo extends nw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Vr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=b0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Zo(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return hl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,hl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,hl(e,n)}buildRequest(){const e={requestUri:W3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Zl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function q3(t){const e=zu(Wu(t)).link,n=e?zu(Wu(e)).deep_link_id:null,r=zu(Wu(t)).deep_link_id;return(r?zu(Wu(r)).link:null)||r||n||e||t}class rw{constructor(e){var n,r,i,s,o,a;const l=zu(Wu(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=H3((i=l.mode)!==null&&i!==void 0?i:null);fe(c&&d&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=q3(e);try{return new rw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(){this.providerId=eu.PROVIDER_ID}static credential(e,n){return zc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=rw.parseLink(n);return fe(r,"argument-error"),zc._fromEmailAndCode(e,r.code,r.tenantId)}}eu.PROVIDER_ID="password";eu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";eu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh extends Q2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends gh{constructor(){super("facebook.com")}static credential(e){return Zo._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xs.credential(e.oauthAccessToken)}catch{return null}}}xs.FACEBOOK_SIGN_IN_METHOD="facebook.com";xs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends gh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zo._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ks.credential(n,r)}catch{return null}}}ks.GOOGLE_SIGN_IN_METHOD="google.com";ks.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends gh{constructor(){super("github.com")}static credential(e){return Zo._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return As.credential(e.oauthAccessToken)}catch{return null}}}As.GITHUB_SIGN_IN_METHOD="github.com";As.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends gh{constructor(){super("twitter.com")}static credential(e,n){return Zo._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Rs.credential(n,r)}catch{return null}}}Rs.TWITTER_SIGN_IN_METHOD="twitter.com";Rs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G3(t,e){return mh(t,"POST","/v1/accounts:signUp",uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ji._fromIdTokenResponse(e,r,i),o=oI(r);return new ea({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=oI(r);return new ea({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function oI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp extends yi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,pp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new pp(e,n,r,i)}}function Y2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?pp._fromErrorAndOperation(t,s,e,r):s})}async function K3(t,e,n=!1){const r=await Pl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ea._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q3(t,e,n=!1){const{auth:r}=t;if(ni(r.app))return Promise.reject(zi(r));const i="reauthenticate";try{const s=await Pl(t,Y2(r,i,e,t),n);fe(s.idToken,r,"internal-error");const o=ew(s.idToken);fe(o,r,"internal-error");const{sub:a}=o;return fe(t.uid===a,r,"user-mismatch"),ea._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Vr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X2(t,e,n=!1){if(ni(t.app))return Promise.reject(zi(t));const r="signIn",i=await Y2(t,r,e),s=await ea._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Y3(t,e){return X2(fa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J2(t){const e=fa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function X3(t,e,n){if(ni(t.app))return Promise.reject(zi(t));const r=fa(t),o=await Hv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",G3).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&J2(t),l}),a=await ea._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function J3(t,e,n){return ni(t.app)?Promise.reject(zi(t)):Y3(_t(t),eu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&J2(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z3(t,e){return rs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ej(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=_t(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Pl(r,Z3(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function tj(t,e,n,r){return _t(t).onIdTokenChanged(e,n,r)}function nj(t,e,n){return _t(t).beforeAuthStateChanged(e,n)}function iw(t,e,n,r){return _t(t).onAuthStateChanged(e,n,r)}function rj(t){return _t(t).signOut()}const mp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mp,"1"),this.storage.removeItem(mp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ij(){const t=un();return tw(t)||Sm(t)}const sj=1e3,oj=10;class ek extends Z2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=ij()&&T3(),this.fallbackToPolling=H2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);E3()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,oj):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},sj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ek.type="LOCAL";const aj=ek;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk extends Z2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}tk.type="SESSION";const nk=tk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new bm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await lj(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=sw("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const g=f;if(g.data.eventId===c)switch(g.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(g.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(){return window}function cj(t){li().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(){return typeof li().WorkerGlobalScope<"u"&&typeof li().importScripts=="function"}async function hj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function fj(){return rk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik="firebaseLocalStorageDb",pj=1,gp="firebaseLocalStorage",sk="fbase_key";class yh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function xm(t,e){return t.transaction([gp],e?"readwrite":"readonly").objectStore(gp)}function mj(){const t=indexedDB.deleteDatabase(ik);return new yh(t).toPromise()}function qv(){const t=indexedDB.open(ik,pj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(gp,{keyPath:sk})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(gp)?e(r):(r.close(),await mj(),e(await qv()))})})}async function aI(t,e,n){const r=xm(t,!0).put({[sk]:e,value:n});return new yh(r).toPromise()}async function gj(t,e){const n=xm(t,!1).get(e),r=await new yh(n).toPromise();return r===void 0?null:r.value}function lI(t,e){const n=xm(t,!0).delete(e);return new yh(n).toPromise()}const yj=800,vj=3;class ok{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>vj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bm._getInstance(fj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await hj(),!this.activeServiceWorker)return;this.sender=new uj(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qv();return await aI(e,mp,"1"),await lI(e,mp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>aI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>gj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>lI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=xm(i,!1).getAll();return new yh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ok.type="LOCAL";const _j=ok;new ph(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(t,e){return e?Ui(e):(fe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow extends nw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return hl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return hl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Ej(t){return X2(t.auth,new ow(t),t.bypassAuthState)}function Tj(t){const{auth:e,user:n}=t;return fe(n,e,"internal-error"),Q3(n,new ow(t),t.bypassAuthState)}async function Ij(t){const{auth:e,user:n}=t;return fe(n,e,"internal-error"),K3(n,new ow(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ej;case"linkViaPopup":case"linkViaRedirect":return Ij;case"reauthViaPopup":case"reauthViaRedirect":return Tj;default:Vr(this.auth,"internal-error")}}resolve(e){Yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj=new ph(2e3,1e4);class Za extends ak{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Za.currentPopupAction&&Za.currentPopupAction.cancel(),Za.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return fe(e,this.auth,"internal-error"),e}async onExecution(){Yi(this.filter.length===1,"Popup operations only handle one event");const e=sw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Za.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Sj.get())};e()}}Za.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj="pendingRedirect",mf=new Map;class bj extends ak{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=mf.get(this.auth._key());if(!e){try{const r=await xj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}mf.set(this.auth._key(),e)}return this.bypassAuthState||mf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xj(t,e){const n=Rj(e),r=Aj(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function kj(t,e){mf.set(t._key(),e)}function Aj(t){return Ui(t._redirectPersistence)}function Rj(t){return pf(Cj,t.config.apiKey,t.name)}async function Pj(t,e,n=!1){if(ni(t.app))return Promise.reject(zi(t));const r=fa(t),i=wj(r,e),o=await new bj(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj=10*60*1e3;class Oj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Dj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!lk(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ai(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Nj&&this.cachedEventUids.clear(),this.cachedEventUids.has(uI(e))}saveEventToCache(e){this.cachedEventUids.add(uI(e)),this.lastProcessedEventTime=Date.now()}}function uI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function lk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Dj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lj(t,e={}){return rs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fj=/^https?/;async function Vj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Lj(t);for(const n of e)try{if(jj(n))return}catch{}Vr(t,"unauthorized-domain")}function jj(t){const e=zv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Fj.test(n))return!1;if(Mj.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj=new ph(3e4,6e4);function cI(){const t=li().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function $j(t){return new Promise((e,n)=>{var r,i,s;function o(){cI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cI(),n(ai(t,"network-request-failed"))},timeout:Uj.get()})}if(!((i=(r=li().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=li().gapi)===null||s===void 0)&&s.load)o();else{const a=P3("iframefcb");return li()[a]=()=>{gapi.load?o():n(ai(t,"network-request-failed"))},G2(`${R3()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw gf=null,e})}let gf=null;function Bj(t){return gf=gf||$j(t),gf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj=new ph(5e3,15e3),Wj="__/auth/iframe",Hj="emulator/auth/iframe",qj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Kj(t){const e=t.config;fe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Z0(e,Hj):`https://${t.config.authDomain}/${Wj}`,r={apiKey:e.apiKey,appName:t.name,v:lo},i=Gj.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Zl(r).slice(1)}`}async function Qj(t){const e=await Bj(t),n=li().gapi;return fe(n,t,"internal-error"),e.open({where:document.body,url:Kj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qj,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=ai(t,"network-request-failed"),a=li().setTimeout(()=>{s(o)},zj.get());function l(){li().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Xj=500,Jj=600,Zj="_blank",eU="http://localhost";class hI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tU(t,e,n,r=Xj,i=Jj){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Yj),{width:r.toString(),height:i.toString(),top:s,left:o}),c=un().toLowerCase();n&&(a=U2(c)?Zj:n),j2(c)&&(e=e||eU,l.scrollbars="yes");const d=Object.entries(l).reduce((g,[E,I])=>`${g}${E}=${I},`,"");if(w3(c)&&a!=="_self")return nU(e||"",a),new hI(null);const f=window.open(e||"",a,d);fe(f,t,"popup-blocked");try{f.focus()}catch{}return new hI(f)}function nU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rU="__/auth/handler",iU="emulator/auth/handler",sU=encodeURIComponent("fac");async function dI(t,e,n,r,i,s){fe(t.config.authDomain,t,"auth-domain-config-required"),fe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:lo,eventId:i};if(e instanceof Q2){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Fv(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries(s||{}))o[d]=f}if(e instanceof gh){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${sU}=${encodeURIComponent(l)}`:"";return`${oU(t)}?${Zl(a).slice(1)}${c}`}function oU({config:t}){return t.emulator?Z0(t,iU):`https://${t.authDomain}/${rU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay="webStorageSupport";class aU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nk,this._completeRedirectFn=Pj,this._overrideRedirectResult=kj}async _openPopup(e,n,r,i){var s;Yi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await dI(e,n,r,zv(),i);return tU(e,o,sw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await dI(e,n,r,zv(),i);return cj(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Yi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Qj(e),r=new Oj(e);return n.register("authEvent",i=>(fe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ay,{type:ay},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[ay];o!==void 0&&n(!!o),Vr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Vj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return H2()||tw()||Sm()}}const lU=aU;var fI="@firebase/auth",pI="1.7.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hU(t){Zs(new Qi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;fe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:q2(t)},c=new x3(r,i,s,l);return M3(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Zs(new Qi("auth-internal",e=>{const n=fa(e.getProvider("auth").getImmediate());return(r=>new uU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),fr(fI,pI,cU(t)),fr(fI,pI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dU=5*60,fU=w2("authIdTokenMaxAge")||dU;let mI=null;const pU=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>fU)return;const i=n==null?void 0:n.token;mI!==i&&(mI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function vh(t=Im()){const e=fh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=L3(t,{popupRedirectResolver:lU,persistence:[_j,aj,nk]}),r=w2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=pU(s.toString());nj(n,o,()=>o(n.currentUser)),tj(n,a=>o(a))}}const i=v2("auth");return i&&F3(n,`http://${i}`),n}function mU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}k3({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ai("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",mU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hU("Browser");const gI="@firebase/database",yI="1.0.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uk="";function gU(t){uk=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Xt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Uc(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return ns(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new yU(e)}}catch{}return new vU},jo=ck("localStorage"),Gv=ck("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl=new Tm("@firebase/database"),_U=function(){let t=1;return function(){return t++}}(),hk=function(t){const e=q4(t),n=new B4;n.update(e);const r=n.digest();return q0.encodeByteArray(r)},_h=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=_h.apply(null,r):typeof r=="object"?e+=Xt(r):e+=r,e+=" "}return e};let Ho=null,vI=!0;const wU=function(t,e){te(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(dl.logLevel=Ae.VERBOSE,Ho=dl.log.bind(dl),e&&Gv.set("logging_enabled",!0)):typeof t=="function"?Ho=t:(Ho=null,Gv.remove("logging_enabled"))},yn=function(...t){if(vI===!0&&(vI=!1,Ho===null&&Gv.get("logging_enabled")===!0&&wU(!0)),Ho){const e=_h.apply(null,t);Ho(e)}},wh=function(t){return function(...e){yn(t,...e)}},Kv=function(...t){const e="FIREBASE INTERNAL ERROR: "+_h(...t);dl.error(e)},Xi=function(...t){const e=`FIREBASE FATAL ERROR: ${_h(...t)}`;throw dl.error(e),new Error(e)},nr=function(...t){const e="FIREBASE WARNING: "+_h(...t);dl.warn(e)},EU=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&nr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},dk=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},TU=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Nl="[MIN_NAME]",ta="[MAX_NAME]",tu=function(t,e){if(t===e)return 0;if(t===Nl||e===ta)return-1;if(e===Nl||t===ta)return 1;{const n=_I(t),r=_I(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},IU=function(t,e){return t===e?0:t<e?-1:1},Nu=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Xt(e))},aw=function(t){if(typeof t!="object"||t===null)return Xt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Xt(e[r]),n+=":",n+=aw(t[e[r]]);return n+="}",n},fk=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Wn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const pk=function(t){te(!dk(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const d=c.join("");let f="";for(l=0;l<64;l+=8){let g=parseInt(d.substr(l,8),2).toString(16);g.length===1&&(g="0"+g),f=f+g}return f.toLowerCase()},SU=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},CU=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function bU(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const xU=new RegExp("^-?(0*)\\d{1,10}$"),kU=-2147483648,AU=2147483647,_I=function(t){if(xU.test(t)){const e=Number(t);if(e>=kU&&e<=AU)return e}return null},Eh=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw nr("Exception was thrown by user callback.",n),e},Math.floor(0))}},RU=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},lc=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){nr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(yn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',nr(e)}}class fl{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}fl.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="5",mk="v",gk="s",yk="r",vk="f",_k=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,wk="ls",Ek="p",Qv="ac",Tk="websocket",Ik="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=jo.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&jo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function OU(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Ck(t,e,n){te(typeof e=="string","typeof type must == string"),te(typeof n=="object","typeof params must == object");let r;if(e===Tk)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Ik)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);OU(t)&&(n.ns=t.namespace);const i=[];return Wn(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(){this.counters_={}}incrementCounter(e,n=1){ns(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return C4(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly={},uy={};function uw(t){const e=t.toString();return ly[e]||(ly[e]=new DU),ly[e]}function LU(t,e){const n=t.toString();return uy[n]||(uy[n]=e()),uy[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Eh(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI="start",FU="close",VU="pLPCommand",jU="pRTLPCB",bk="id",xk="pw",kk="ser",UU="cb",$U="seg",BU="ts",zU="d",WU="dframe",Ak=1870,Rk=30,HU=Ak-Rk,qU=25e3,GU=3e4;class el{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=wh(e),this.stats_=uw(n),this.urlFn=l=>(this.appCheckToken&&(l[Qv]=this.appCheckToken),Ck(n,Ik,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new MU(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(GU)),TU(()=>{if(this.isClosed_)return;this.scriptTagHolder=new cw((...s)=>{const[o,a,l,c,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===wI)this.id=a,this.password=l;else if(o===FU)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[wI]="t",r[kk]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[UU]=this.scriptTagHolder.uniqueCallbackIdentifier),r[mk]=lw,this.transportSessionId&&(r[gk]=this.transportSessionId),this.lastSessionId&&(r[wk]=this.lastSessionId),this.applicationId&&(r[Ek]=this.applicationId),this.appCheckToken&&(r[Qv]=this.appCheckToken),typeof location<"u"&&location.hostname&&_k.test(location.hostname)&&(r[yk]=vk);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){el.forceAllow_=!0}static forceDisallow(){el.forceDisallow_=!0}static isAvailable(){return el.forceAllow_?!0:!el.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!SU()&&!CU()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Xt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=g2(n),i=fk(r,HU);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[WU]="t",r[bk]=e,r[xk]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Xt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class cw{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=_U(),window[VU+this.uniqueCallbackIdentifier]=e,window[jU+this.uniqueCallbackIdentifier]=n,this.myIFrame=cw.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){yn("frame writing exception"),a.stack&&yn(a.stack),yn(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||yn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[bk]=this.myID,e[xk]=this.myPW,e[kk]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Rk+r.length<=Ak;){const o=this.pendingSegs.shift();r=r+"&"+$U+i+"="+o.seg+"&"+BU+i+"="+o.ts+"&"+zU+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(qU)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{yn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU=16384,QU=45e3;let yp=null;typeof MozWebSocket<"u"?yp=MozWebSocket:typeof WebSocket<"u"&&(yp=WebSocket);class Ar{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=wh(this.connId),this.stats_=uw(n),this.connURL=Ar.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[mk]=lw,typeof location<"u"&&location.hostname&&_k.test(location.hostname)&&(o[yk]=vk),n&&(o[gk]=n),r&&(o[wk]=r),i&&(o[Qv]=i),s&&(o[Ek]=s),Ck(e,Tk,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,jo.set("previous_websocket_failure",!0);try{let r;T2(),this.mySock=new yp(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Ar.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&yp!==null&&!Ar.forceDisallow_}static previouslyFailed(){return jo.isInMemoryStorage||jo.get("previous_websocket_failure")===!0}markConnectionHealthy(){jo.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Uc(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(te(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Xt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=fk(n,KU);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(QU))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ar.responsesRequiredToBeHealthy=2;Ar.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[el,Ar]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Ar&&Ar.isAvailable();let r=n&&!Ar.previouslyFailed();if(e.webSocketOnly&&(n||nr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ar];else{const i=this.transports_=[];for(const s of Wc.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Wc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Wc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU=6e4,XU=5e3,JU=10*1024,ZU=100*1024,cy="t",EI="d",e6="s",TI="r",t6="e",II="o",SI="a",CI="n",bI="p",n6="h";class r6{constructor(e,n,r,i,s,o,a,l,c,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=wh("c:"+this.id+":"),this.transportManager_=new Wc(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=lc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>ZU?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>JU?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(cy in e){const n=e[cy];n===SI?this.upgradeIfSecondaryHealthy_():n===TI?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===II&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Nu("t",e),r=Nu("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:bI,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:SI,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:CI,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Nu("t",e),r=Nu("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Nu(cy,e);if(EI in e){const r=e[EI];if(n===n6){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===CI){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===e6?this.onConnectionShutdown_(r):n===TI?this.onReset_(r):n===t6?Kv("Server Error: "+r):n===II?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Kv("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),lw!==r&&nr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),lc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(YU))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):lc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(XU))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:bI,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(jo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e){this.allowedEvents_=e,this.listeners_={},te(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){te(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp extends Nk{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Y0()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new vp}getInitialEvent(e){return te(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=32,kI=768;class Ze{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function $e(){return new Ze("")}function be(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function eo(t){return t.pieces_.length-t.pieceNum_}function tt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ze(t.pieces_,e)}function Ok(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function i6(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Dk(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Lk(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ze(e,0)}function Vt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Ze)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Ze(n,0)}function xe(t){return t.pieceNum_>=t.pieces_.length}function Vn(t,e){const n=be(t),r=be(e);if(n===null)return e;if(n===r)return Vn(tt(t),tt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function hw(t,e){if(eo(t)!==eo(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Rr(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(eo(t)>eo(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class s6{constructor(e,n){this.errorPrefix_=n,this.parts_=Dk(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Em(this.parts_[r]);Mk(this)}}function o6(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Em(e),Mk(t)}function a6(t){const e=t.parts_.pop();t.byteLength_-=Em(e),t.parts_.length>0&&(t.byteLength_-=1)}function Mk(t){if(t.byteLength_>kI)throw new Error(t.errorPrefix_+"has a key path longer than "+kI+" bytes ("+t.byteLength_+").");if(t.parts_.length>xI)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+xI+") or object contains a cycle "+No(t))}function No(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw extends Nk{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new dw}getInitialEvent(e){return te(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou=1e3,l6=60*5*1e3,AI=30*1e3,u6=1.3,c6=3e4,h6="server_kill",RI=3;class Wi extends Pk{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Wi.nextPersistentConnectionId_++,this.log_=wh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ou,this.maxReconnectDelay_=l6,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!T2())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");dw.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&vp.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Xt(s)),te(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new K0,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),te(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),te(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;Wi.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&ns(e,"w")){const r=Rl(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();nr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||$4(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=AI)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=U4(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),te(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Xt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Kv("Unrecognized action received from server: "+Xt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){te(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ou,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ou,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>c6&&(this.reconnectDelay_=Ou),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*u6)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Wi.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(f){te(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(f)};this.realtime_={close:l,sendRequest:c};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,g]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?yn("getToken() completed but was canceled"):(yn("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=g&&g.token,a=new r6(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,E=>{nr(E+" ("+this.repoInfo_.toString()+")"),this.interrupt(h6)},s))}catch(f){this.log_("Failed to get token: "+f),o||(this.repoInfo_.nodeAdmin&&nr(f),l())}}}interrupt(e){yn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){yn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Fv(this.interruptReasons_)&&(this.reconnectDelay_=Ou,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>aw(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Ze(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){yn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=RI&&(this.reconnectDelay_=AI,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){yn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=RI&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+uk.replace(/\./g,"-")]=1,Y0()?e["framework.cordova"]=1:E2()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=vp.getInstance().currentlyOnline();return Fv(this.interruptReasons_)&&e}}Wi.nextPersistentConnectionId_=0;Wi.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Se(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Se(Nl,e),i=new Se(Nl,n);return this.compare(r,i)!==0}minPost(){return Se.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ld;class Fk extends km{static get __EMPTY_NODE(){return Ld}static set __EMPTY_NODE(e){Ld=e}compare(e,n){return tu(e.name,n.name)}isDefinedOn(e){throw Jl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Se.MIN}maxPost(){return new Se(ta,Ld)}makePost(e,n){return te(typeof e=="string","KeyIndex indexValue must always be a string."),new Se(e,Ld)}toString(){return".key"}}const pl=new Fk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Md=class{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Xn=class Hu{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Hu.RED,this.left=i??ri.EMPTY_NODE,this.right=s??ri.EMPTY_NODE}copy(e,n,r,i,s){return new Hu(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return ri.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return ri.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Hu.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Hu.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}};Xn.RED=!0;Xn.BLACK=!1;class d6{copy(e,n,r,i,s){return this}insert(e,n,r){return new Xn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}let ri=class yf{constructor(e,n=yf.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new yf(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Xn.BLACK,null,null))}remove(e){return new yf(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Xn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Md(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Md(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Md(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Md(this.root_,null,this.comparator_,!0,e)}};ri.EMPTY_NODE=new d6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f6(t,e){return tu(t.name,e.name)}function fw(t,e){return tu(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yv;function p6(t){Yv=t}const Vk=function(t){return typeof t=="number"?"number:"+pk(t):"string:"+t},jk=function(t){if(t.isLeafNode()){const e=t.val();te(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ns(e,".sv"),"Priority must be a string or number.")}else te(t===Yv||t.isEmpty(),"priority of unexpected type.");te(t===Yv||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PI;class qt{constructor(e,n=qt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,te(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),jk(this.priorityNode_)}static set __childrenNodeConstructor(e){PI=e}static get __childrenNodeConstructor(){return PI}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new qt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:qt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return xe(e)?this:be(e)===".priority"?this.priorityNode_:qt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:qt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=be(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(te(r!==".priority"||eo(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,qt.__childrenNodeConstructor.EMPTY_NODE.updateChild(tt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Vk(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=pk(this.value_):e+=this.value_,this.lazyHash_=hk(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===qt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof qt.__childrenNodeConstructor?-1:(te(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=qt.VALUE_TYPE_ORDER.indexOf(n),s=qt.VALUE_TYPE_ORDER.indexOf(r);return te(i>=0,"Unknown leaf type: "+n),te(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}qt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uk,$k;function m6(t){Uk=t}function g6(t){$k=t}class y6 extends km{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?tu(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Se.MIN}maxPost(){return new Se(ta,new qt("[PRIORITY-POST]",$k))}makePost(e,n){const r=Uk(e);return new Se(n,new qt("[PRIORITY-POST]",r))}toString(){return".priority"}}const St=new y6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6=Math.log(2);class _6{constructor(e){const n=s=>parseInt(Math.log(s)/v6,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const _p=function(t,e,n,r){t.sort(e);const i=function(l,c){const d=c-l;let f,g;if(d===0)return null;if(d===1)return f=t[l],g=n?n(f):f,new Xn(g,f.node,Xn.BLACK,null,null);{const E=parseInt(d/2,10)+l,I=i(l,E),x=i(E+1,c);return f=t[E],g=n?n(f):f,new Xn(g,f.node,Xn.BLACK,I,x)}},s=function(l){let c=null,d=null,f=t.length;const g=function(I,x){const D=f-I,S=f;f-=I;const w=i(D+1,S),k=t[D],V=n?n(k):k;E(new Xn(V,k.node,x,null,w))},E=function(I){c?(c.left=I,c=I):(d=I,c=I)};for(let I=0;I<l.count;++I){const x=l.nextBitIsOne(),D=Math.pow(2,l.count-(I+1));x?g(D,Xn.BLACK):(g(D,Xn.BLACK),g(D,Xn.RED))}return d},o=new _6(t.length),a=s(o);return new ri(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hy;const Da={};class $i{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return te(Da&&St,"ChildrenNode.ts has not been loaded"),hy=hy||new $i({".priority":Da},{".priority":St}),hy}get(e){const n=Rl(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ri?n:null}hasIndex(e){return ns(this.indexSet_,e.toString())}addIndex(e,n){te(e!==pl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Se.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=_p(r,e.getCompare()):a=Da;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const d=Object.assign({},this.indexes_);return d[l]=a,new $i(d,c)}addToIndexes(e,n){const r=cp(this.indexes_,(i,s)=>{const o=Rl(this.indexSet_,s);if(te(o,"Missing index implementation for "+s),i===Da)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Se.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),_p(a,o.getCompare())}else return Da;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Se(e.name,a))),l.insert(e,e.node)}});return new $i(r,this.indexSet_)}removeFromIndexes(e,n){const r=cp(this.indexes_,i=>{if(i===Da)return i;{const s=n.get(e.name);return s?i.remove(new Se(e.name,s)):i}});return new $i(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Du;class pe{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&jk(this.priorityNode_),this.children_.isEmpty()&&te(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Du||(Du=new pe(new ri(fw),null,$i.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Du}updatePriority(e){return this.children_.isEmpty()?this:new pe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Du:n}}getChild(e){const n=be(e);return n===null?this:this.getImmediateChild(n).getChild(tt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(te(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Se(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Du:this.priorityNode_;return new pe(i,o,s)}}updateChild(e,n){const r=be(e);if(r===null)return n;{te(be(e)!==".priority"||eo(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(tt(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(St,(o,a)=>{n[o]=a.val(e),r++,s&&pe.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Vk(this.getPriority().val())+":"),this.forEachChild(St,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":hk(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Se(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Se(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Se(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Se.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Se.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Th?-1:0}withIndex(e){if(e===pl||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new pe(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===pl||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(St),i=n.getIterator(St);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===pl?null:this.indexMap_.get(e.toString())}}pe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class w6 extends pe{constructor(){super(new ri(fw),pe.EMPTY_NODE,$i.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return pe.EMPTY_NODE}isEmpty(){return!1}}const Th=new w6;Object.defineProperties(Se,{MIN:{value:new Se(Nl,pe.EMPTY_NODE)},MAX:{value:new Se(ta,Th)}});Fk.__EMPTY_NODE=pe.EMPTY_NODE;qt.__childrenNodeConstructor=pe;p6(Th);g6(Th);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6=!0;function vn(t,e=null){if(t===null)return pe.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),te(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new qt(n,vn(e))}if(!(t instanceof Array)&&E6){const n=[];let r=!1;if(Wn(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=vn(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Se(o,l)))}}),n.length===0)return pe.EMPTY_NODE;const s=_p(n,f6,o=>o.name,fw);if(r){const o=_p(n,St.getCompare());return new pe(s,vn(e),new $i({".priority":o},{".priority":St}))}else return new pe(s,vn(e),$i.Default)}else{let n=pe.EMPTY_NODE;return Wn(t,(r,i)=>{if(ns(t,r)&&r.substring(0,1)!=="."){const s=vn(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(vn(e))}}m6(vn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6 extends km{constructor(e){super(),this.indexPath_=e,te(!xe(e)&&be(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?tu(e.name,n.name):s}makePost(e,n){const r=vn(e),i=pe.EMPTY_NODE.updateChild(this.indexPath_,r);return new Se(n,i)}maxPost(){const e=pe.EMPTY_NODE.updateChild(this.indexPath_,Th);return new Se(ta,e)}toString(){return Dk(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6 extends km{compare(e,n){const r=e.node.compareTo(n.node);return r===0?tu(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Se.MIN}maxPost(){return Se.MAX}makePost(e,n){const r=vn(e);return new Se(n,r)}toString(){return".value"}}const S6=new I6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(t){return{type:"value",snapshotNode:t}}function Ol(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Hc(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function qc(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function C6(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){te(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Hc(n,a)):te(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Ol(n,r)):o.trackChildChange(qc(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(St,(i,s)=>{n.hasChild(i)||r.trackChildChange(Hc(i,s))}),n.isLeafNode()||n.forEachChild(St,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(qc(i,s,o))}else r.trackChildChange(Ol(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?pe.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e){this.indexedFilter_=new pw(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Gc.getStartPost_(e),this.endPost_=Gc.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new Se(n,r))||(r=pe.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=pe.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(pe.EMPTY_NODE);const s=this;return n.forEachChild(St,(o,a)=>{s.matches(new Se(o,a))||(i=i.updateImmediateChild(o,pe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Gc(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new Se(n,r))||(r=pe.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=pe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=pe.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(pe.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,pe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const f=this.index_.getCompare();o=(g,E)=>f(E,g)}else o=this.index_.getCompare();const a=e;te(a.numChildren()===this.limit_,"");const l=new Se(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),d=this.rangedFilter_.matches(l);if(a.hasChild(n)){const f=a.getImmediateChild(n);let g=i.getChildAfterChild(this.index_,c,this.reverse_);for(;g!=null&&(g.name===n||a.hasChild(g.name));)g=i.getChildAfterChild(this.index_,g,this.reverse_);const E=g==null?1:o(g,l);if(d&&!r.isEmpty()&&E>=0)return s!=null&&s.trackChildChange(qc(n,r,f)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Hc(n,f));const x=a.updateImmediateChild(n,pe.EMPTY_NODE);return g!=null&&this.rangedFilter_.matches(g)?(s!=null&&s.trackChildChange(Ol(g.name,g.node)),x.updateImmediateChild(g.name,g.node)):x}}else return r.isEmpty()?e:d&&o(c,l)>=0?(s!=null&&(s.trackChildChange(Hc(c.name,c.node)),s.trackChildChange(Ol(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,pe.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=St}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return te(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return te(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Nl}hasEnd(){return this.endSet_}getIndexEndValue(){return te(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return te(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ta}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return te(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===St}copy(){const e=new mw;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function x6(t){return t.loadsAllData()?new pw(t.getIndex()):t.hasLimit()?new b6(t):new Gc(t)}function NI(t){const e={};if(t.isDefault())return e;let n;if(t.index_===St?n="$priority":t.index_===S6?n="$value":t.index_===pl?n="$key":(te(t.index_ instanceof T6,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Xt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Xt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Xt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Xt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Xt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function OI(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==St&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp extends Pk{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=wh("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(te(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=wp.getListenId_(e,r),a={};this.listens_[o]=a;const l=NI(e._queryParams);this.restRequest_(s+".json",l,(c,d)=>{let f=d;if(c===404&&(f=null,c=null),c===null&&this.onDataUpdate_(s,f,!1,r),Rl(this.listens_,o)===a){let g;c?c===401?g="permission_denied":g="rest_error:"+c:g="ok",i(g,null)}})}unlisten(e,n){const r=wp.getListenId_(e,n);delete this.listens_[r]}get(e){const n=NI(e._queryParams),r=e._path.toString(),i=new K0;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Zl(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Uc(a.responseText)}catch{nr("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&nr("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(){this.rootNode_=pe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(){return{value:null,children:new Map}}function zk(t,e,n){if(xe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=be(e);t.children.has(r)||t.children.set(r,Ep());const i=t.children.get(r);e=tt(e),zk(i,e,n)}}function Xv(t,e,n){t.value!==null?n(e,t.value):A6(t,(r,i)=>{const s=new Ze(e.toString()+"/"+r);Xv(i,s,n)})}function A6(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Wn(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=10*1e3,P6=30*1e3,N6=5*60*1e3;class O6{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new R6(e);const r=DI+(P6-DI)*Math.random();lc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Wn(e,(i,s)=>{s>0&&ns(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),lc(this.reportStats_.bind(this),Math.floor(Math.random()*2*N6))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pr;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Pr||(Pr={}));function Wk(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function gw(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function yw(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Pr.ACK_USER_WRITE,this.source=Wk()}operationForChild(e){if(xe(this.path)){if(this.affectedTree.value!=null)return te(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ze(e));return new Tp($e(),n,this.revert)}}else return te(be(this.path)===e,"operationForChild called for unrelated child."),new Tp(tt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n){this.source=e,this.path=n,this.type=Pr.LISTEN_COMPLETE}operationForChild(e){return xe(this.path)?new Kc(this.source,$e()):new Kc(this.source,tt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Pr.OVERWRITE}operationForChild(e){return xe(this.path)?new na(this.source,$e(),this.snap.getImmediateChild(e)):new na(this.source,tt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Pr.MERGE}operationForChild(e){if(xe(this.path)){const n=this.children.subtree(new Ze(e));return n.isEmpty()?null:n.value?new na(this.source,$e(),n.value):new Qc(this.source,$e(),n)}else return te(be(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Qc(this.source,tt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(xe(e))return this.isFullyInitialized()&&!this.filtered_;const n=be(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function L6(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(C6(o.childName,o.snapshotNode))}),Lu(t,i,"child_removed",e,r,n),Lu(t,i,"child_added",e,r,n),Lu(t,i,"child_moved",s,r,n),Lu(t,i,"child_changed",e,r,n),Lu(t,i,"value",e,r,n),i}function Lu(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>F6(t,a,l)),o.forEach(a=>{const l=M6(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function M6(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function F6(t,e,n){if(e.childName==null||n.childName==null)throw Jl("Should only compare child_ events.");const r=new Se(e.childName,e.snapshotNode),i=new Se(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(t,e){return{eventCache:t,serverCache:e}}function uc(t,e,n,r){return Am(new ra(e,n,r),t.serverCache)}function Hk(t,e,n,r){return Am(t.eventCache,new ra(e,n,r))}function Jv(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ia(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dy;const V6=()=>(dy||(dy=new ri(IU)),dy);class lt{constructor(e,n=V6()){this.value=e,this.children=n}static fromObject(e){let n=new lt(null);return Wn(e,(r,i)=>{n=n.set(new Ze(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:$e(),value:this.value};if(xe(e))return null;{const r=be(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(tt(e),n);return s!=null?{path:Vt(new Ze(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(xe(e))return this;{const n=be(e),r=this.children.get(n);return r!==null?r.subtree(tt(e)):new lt(null)}}set(e,n){if(xe(e))return new lt(n,this.children);{const r=be(e),s=(this.children.get(r)||new lt(null)).set(tt(e),n),o=this.children.insert(r,s);return new lt(this.value,o)}}remove(e){if(xe(e))return this.children.isEmpty()?new lt(null):new lt(null,this.children);{const n=be(e),r=this.children.get(n);if(r){const i=r.remove(tt(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new lt(null):new lt(this.value,s)}else return this}}get(e){if(xe(e))return this.value;{const n=be(e),r=this.children.get(n);return r?r.get(tt(e)):null}}setTree(e,n){if(xe(e))return n;{const r=be(e),s=(this.children.get(r)||new lt(null)).setTree(tt(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new lt(this.value,o)}}fold(e){return this.fold_($e(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Vt(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,$e(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(xe(e))return null;{const s=be(e),o=this.children.get(s);return o?o.findOnPath_(tt(e),Vt(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,$e(),n)}foreachOnPath_(e,n,r){if(xe(e))return this;{this.value&&r(n,this.value);const i=be(e),s=this.children.get(i);return s?s.foreachOnPath_(tt(e),Vt(n,i),r):new lt(null)}}foreach(e){this.foreach_($e(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Vt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this.writeTree_=e}static empty(){return new Mr(new lt(null))}}function cc(t,e,n){if(xe(e))return new Mr(new lt(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Vn(i,e);return s=s.updateChild(o,n),new Mr(t.writeTree_.set(i,s))}else{const i=new lt(n),s=t.writeTree_.setTree(e,i);return new Mr(s)}}}function LI(t,e,n){let r=t;return Wn(n,(i,s)=>{r=cc(r,Vt(e,i),s)}),r}function MI(t,e){if(xe(e))return Mr.empty();{const n=t.writeTree_.setTree(e,new lt(null));return new Mr(n)}}function Zv(t,e){return pa(t,e)!=null}function pa(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Vn(n.path,e)):null}function FI(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(St,(r,i)=>{e.push(new Se(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Se(r,i.value))}),e}function Qs(t,e){if(xe(e))return t;{const n=pa(t,e);return n!=null?new Mr(new lt(n)):new Mr(t.writeTree_.subtree(e))}}function e_(t){return t.writeTree_.isEmpty()}function Dl(t,e){return qk($e(),t.writeTree_,e)}function qk(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(te(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=qk(Vt(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Vt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(t,e){return Yk(e,t)}function j6(t,e,n,r,i){te(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=cc(t.visibleWrites,e,n)),t.lastWriteId=r}function U6(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function $6(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);te(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&B6(a,r.path)?i=!1:Rr(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return z6(t),!0;if(r.snap)t.visibleWrites=MI(t.visibleWrites,r.path);else{const a=r.children;Wn(a,l=>{t.visibleWrites=MI(t.visibleWrites,Vt(r.path,l))})}return!0}else return!1}function B6(t,e){if(t.snap)return Rr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Rr(Vt(t.path,n),e))return!0;return!1}function z6(t){t.visibleWrites=Gk(t.allWrites,W6,$e()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function W6(t){return t.visible}function Gk(t,e,n){let r=Mr.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Rr(n,o)?(a=Vn(n,o),r=cc(r,a,s.snap)):Rr(o,n)&&(a=Vn(o,n),r=cc(r,$e(),s.snap.getChild(a)));else if(s.children){if(Rr(n,o))a=Vn(n,o),r=LI(r,a,s.children);else if(Rr(o,n))if(a=Vn(o,n),xe(a))r=LI(r,$e(),s.children);else{const l=Rl(s.children,be(a));if(l){const c=l.getChild(tt(a));r=cc(r,$e(),c)}}}else throw Jl("WriteRecord should have .snap or .children")}}return r}function Kk(t,e,n,r,i){if(!r&&!i){const s=pa(t.visibleWrites,e);if(s!=null)return s;{const o=Qs(t.visibleWrites,e);if(e_(o))return n;if(n==null&&!Zv(o,$e()))return null;{const a=n||pe.EMPTY_NODE;return Dl(o,a)}}}else{const s=Qs(t.visibleWrites,e);if(!i&&e_(s))return n;if(!i&&n==null&&!Zv(s,$e()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Rr(c.path,e)||Rr(e,c.path))},a=Gk(t.allWrites,o,e),l=n||pe.EMPTY_NODE;return Dl(a,l)}}}function H6(t,e,n){let r=pe.EMPTY_NODE;const i=pa(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(St,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Qs(t.visibleWrites,e);return n.forEachChild(St,(o,a)=>{const l=Dl(Qs(s,new Ze(o)),a);r=r.updateImmediateChild(o,l)}),FI(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Qs(t.visibleWrites,e);return FI(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function q6(t,e,n,r,i){te(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Vt(e,n);if(Zv(t.visibleWrites,s))return null;{const o=Qs(t.visibleWrites,s);return e_(o)?i.getChild(n):Dl(o,i.getChild(n))}}function G6(t,e,n,r){const i=Vt(e,n),s=pa(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Qs(t.visibleWrites,i);return Dl(o,r.getNode().getImmediateChild(n))}else return null}function K6(t,e){return pa(t.visibleWrites,e)}function Q6(t,e,n,r,i,s,o){let a;const l=Qs(t.visibleWrites,e),c=pa(l,$e());if(c!=null)a=c;else if(n!=null)a=Dl(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const d=[],f=o.getCompare(),g=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let E=g.getNext();for(;E&&d.length<i;)f(E,r)!==0&&d.push(E),E=g.getNext();return d}else return[]}function Y6(){return{visibleWrites:Mr.empty(),allWrites:[],lastWriteId:-1}}function Ip(t,e,n,r){return Kk(t.writeTree,t.treePath,e,n,r)}function _w(t,e){return H6(t.writeTree,t.treePath,e)}function VI(t,e,n,r){return q6(t.writeTree,t.treePath,e,n,r)}function Sp(t,e){return K6(t.writeTree,Vt(t.treePath,e))}function X6(t,e,n,r,i,s){return Q6(t.writeTree,t.treePath,e,n,r,i,s)}function ww(t,e,n){return G6(t.writeTree,t.treePath,e,n)}function Qk(t,e){return Yk(Vt(t.treePath,e),t.writeTree)}function Yk(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;te(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),te(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,qc(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Hc(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Ol(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,qc(r,e.snapshotNode,i.oldSnap));else throw Jl("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const Xk=new Z6;class Ew{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new ra(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ww(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ia(this.viewCache_),s=X6(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(t){return{filter:t}}function t9(t,e){te(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),te(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function n9(t,e,n,r,i){const s=new J6;let o,a;if(n.type===Pr.OVERWRITE){const c=n;c.source.fromUser?o=t_(t,e,c.path,c.snap,r,i,s):(te(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!xe(c.path),o=Cp(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===Pr.MERGE){const c=n;c.source.fromUser?o=i9(t,e,c.path,c.children,r,i,s):(te(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=n_(t,e,c.path,c.children,r,i,a,s))}else if(n.type===Pr.ACK_USER_WRITE){const c=n;c.revert?o=a9(t,e,c.path,r,i,s):o=s9(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===Pr.LISTEN_COMPLETE)o=o9(t,e,n.path,r,s);else throw Jl("Unknown operation type: "+n.type);const l=s.getChanges();return r9(e,o,l),{viewCache:o,changes:l}}function r9(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Jv(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Bk(Jv(e)))}}function Jk(t,e,n,r,i,s){const o=e.eventCache;if(Sp(r,n)!=null)return e;{let a,l;if(xe(n))if(te(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=ia(e),d=c instanceof pe?c:pe.EMPTY_NODE,f=_w(r,d);a=t.filter.updateFullNode(e.eventCache.getNode(),f,s)}else{const c=Ip(r,ia(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=be(n);if(c===".priority"){te(eo(n)===1,"Can't have a priority with additional path components");const d=o.getNode();l=e.serverCache.getNode();const f=VI(r,n,d,l);f!=null?a=t.filter.updatePriority(d,f):a=o.getNode()}else{const d=tt(n);let f;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const g=VI(r,n,o.getNode(),l);g!=null?f=o.getNode().getImmediateChild(c).updateChild(d,g):f=o.getNode().getImmediateChild(c)}else f=ww(r,c,e.serverCache);f!=null?a=t.filter.updateChild(o.getNode(),c,f,d,i,s):a=o.getNode()}}return uc(e,a,o.isFullyInitialized()||xe(n),t.filter.filtersNodes())}}function Cp(t,e,n,r,i,s,o,a){const l=e.serverCache;let c;const d=o?t.filter:t.filter.getIndexedFilter();if(xe(n))c=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){const E=l.getNode().updateChild(n,r);c=d.updateFullNode(l.getNode(),E,null)}else{const E=be(n);if(!l.isCompleteForPath(n)&&eo(n)>1)return e;const I=tt(n),D=l.getNode().getImmediateChild(E).updateChild(I,r);E===".priority"?c=d.updatePriority(l.getNode(),D):c=d.updateChild(l.getNode(),E,D,I,Xk,null)}const f=Hk(e,c,l.isFullyInitialized()||xe(n),d.filtersNodes()),g=new Ew(i,f,s);return Jk(t,f,n,i,g,a)}function t_(t,e,n,r,i,s,o){const a=e.eventCache;let l,c;const d=new Ew(i,e,s);if(xe(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=uc(e,c,!0,t.filter.filtersNodes());else{const f=be(n);if(f===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=uc(e,c,a.isFullyInitialized(),a.isFiltered());else{const g=tt(n),E=a.getNode().getImmediateChild(f);let I;if(xe(g))I=r;else{const x=d.getCompleteChild(f);x!=null?Ok(g)===".priority"&&x.getChild(Lk(g)).isEmpty()?I=x:I=x.updateChild(g,r):I=pe.EMPTY_NODE}if(E.equals(I))l=e;else{const x=t.filter.updateChild(a.getNode(),f,I,g,d,o);l=uc(e,x,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function jI(t,e){return t.eventCache.isCompleteForChild(e)}function i9(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{const d=Vt(n,l);jI(e,be(d))&&(a=t_(t,a,d,c,i,s,o))}),r.foreach((l,c)=>{const d=Vt(n,l);jI(e,be(d))||(a=t_(t,a,d,c,i,s,o))}),a}function UI(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function n_(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;xe(n)?c=r:c=new lt(null).setTree(n,r);const d=e.serverCache.getNode();return c.children.inorderTraversal((f,g)=>{if(d.hasChild(f)){const E=e.serverCache.getNode().getImmediateChild(f),I=UI(t,E,g);l=Cp(t,l,new Ze(f),I,i,s,o,a)}}),c.children.inorderTraversal((f,g)=>{const E=!e.serverCache.isCompleteForChild(f)&&g.value===null;if(!d.hasChild(f)&&!E){const I=e.serverCache.getNode().getImmediateChild(f),x=UI(t,I,g);l=Cp(t,l,new Ze(f),x,i,s,o,a)}}),l}function s9(t,e,n,r,i,s,o){if(Sp(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(xe(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Cp(t,e,n,l.getNode().getChild(n),i,s,a,o);if(xe(n)){let c=new lt(null);return l.getNode().forEachChild(pl,(d,f)=>{c=c.set(new Ze(d),f)}),n_(t,e,n,c,i,s,a,o)}else return e}else{let c=new lt(null);return r.foreach((d,f)=>{const g=Vt(n,d);l.isCompleteForPath(g)&&(c=c.set(d,l.getNode().getChild(g)))}),n_(t,e,n,c,i,s,a,o)}}function o9(t,e,n,r,i){const s=e.serverCache,o=Hk(e,s.getNode(),s.isFullyInitialized()||xe(n),s.isFiltered());return Jk(t,o,n,r,Xk,i)}function a9(t,e,n,r,i,s){let o;if(Sp(r,n)!=null)return e;{const a=new Ew(r,e,i),l=e.eventCache.getNode();let c;if(xe(n)||be(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=Ip(r,ia(e));else{const f=e.serverCache.getNode();te(f instanceof pe,"serverChildren would be complete if leaf node"),d=_w(r,f)}d=d,c=t.filter.updateFullNode(l,d,s)}else{const d=be(n);let f=ww(r,d,e.serverCache);f==null&&e.serverCache.isCompleteForChild(d)&&(f=l.getImmediateChild(d)),f!=null?c=t.filter.updateChild(l,d,f,tt(n),a,s):e.eventCache.getNode().hasChild(d)?c=t.filter.updateChild(l,d,pe.EMPTY_NODE,tt(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Ip(r,ia(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||Sp(r,$e())!=null,uc(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new pw(r.getIndex()),s=x6(r);this.processor_=e9(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(pe.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(pe.EMPTY_NODE,a.getNode(),null),d=new ra(l,o.isFullyInitialized(),i.filtersNodes()),f=new ra(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Am(f,d),this.eventGenerator_=new D6(this.query_)}get query(){return this.query_}}function u9(t){return t.viewCache_.serverCache.getNode()}function c9(t,e){const n=ia(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!xe(e)&&!n.getImmediateChild(be(e)).isEmpty())?n.getChild(e):null}function $I(t){return t.eventRegistrations_.length===0}function h9(t,e){t.eventRegistrations_.push(e)}function BI(t,e,n){const r=[];if(n){te(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function zI(t,e,n,r){e.type===Pr.MERGE&&e.source.queryId!==null&&(te(ia(t.viewCache_),"We should always have a full cache before handling merges"),te(Jv(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=n9(t.processor_,i,e,n,r);return t9(t.processor_,s.viewCache),te(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,Zk(t,s.changes,s.viewCache.eventCache.getNode(),null)}function d9(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(St,(s,o)=>{r.push(Ol(s,o))}),n.isFullyInitialized()&&r.push(Bk(n.getNode())),Zk(t,r,n.getNode(),e)}function Zk(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return L6(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bp;class f9{constructor(){this.views=new Map}}function p9(t){te(!bp,"__referenceConstructor has already been defined"),bp=t}function m9(){return te(bp,"Reference.ts has not been loaded"),bp}function g9(t){return t.views.size===0}function Tw(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return te(s!=null,"SyncTree gave us an op for an invalid query."),zI(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(zI(o,e,n,r));return s}}function y9(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=Ip(n,i?r:null),l=!1;a?l=!0:r instanceof pe?(a=_w(n,r),l=!1):(a=pe.EMPTY_NODE,l=!1);const c=Am(new ra(a,l,!1),new ra(r,i,!1));return new l9(e,c)}return o}function v9(t,e,n,r,i,s){const o=y9(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),h9(o,n),d9(o,n)}function _9(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=to(t);if(i==="default")for(const[l,c]of t.views.entries())o=o.concat(BI(c,n,r)),$I(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=t.views.get(i);l&&(o=o.concat(BI(l,n,r)),$I(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!to(t)&&s.push(new(m9())(e._repo,e._path)),{removed:s,events:o}}function eA(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ml(t,e){let n=null;for(const r of t.views.values())n=n||c9(r,e);return n}function tA(t,e){if(e._queryParams.loadsAllData())return Rm(t);{const r=e._queryIdentifier;return t.views.get(r)}}function nA(t,e){return tA(t,e)!=null}function to(t){return Rm(t)!=null}function Rm(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xp;function w9(t){te(!xp,"__referenceConstructor has already been defined"),xp=t}function E9(){return te(xp,"Reference.ts has not been loaded"),xp}let T9=1;class WI{constructor(e){this.listenProvider_=e,this.syncPointTree_=new lt(null),this.pendingWriteTree_=Y6(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function I9(t,e,n,r,i){return j6(t.pendingWriteTree_,e,n,r,i),i?Ih(t,new na(Wk(),e,n)):[]}function tl(t,e,n=!1){const r=U6(t.pendingWriteTree_,e);if($6(t.pendingWriteTree_,e)){let s=new lt(null);return r.snap!=null?s=s.set($e(),!0):Wn(r.children,o=>{s=s.set(new Ze(o),!0)}),Ih(t,new Tp(r.path,s,n))}else return[]}function Pm(t,e,n){return Ih(t,new na(gw(),e,n))}function S9(t,e,n){const r=lt.fromObject(n);return Ih(t,new Qc(gw(),e,r))}function C9(t,e){return Ih(t,new Kc(gw(),e))}function b9(t,e,n){const r=Iw(t,n);if(r){const i=Sw(r),s=i.path,o=i.queryId,a=Vn(s,e),l=new Kc(yw(o),a);return Cw(t,s,l)}else return[]}function r_(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||nA(o,e))){const l=_9(o,e,n,r);g9(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!i){const d=c.findIndex(g=>g._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(s,(g,E)=>to(E));if(d&&!f){const g=t.syncPointTree_.subtree(s);if(!g.isEmpty()){const E=A9(g);for(let I=0;I<E.length;++I){const x=E[I],D=x.query,S=oA(t,x);t.listenProvider_.startListening(hc(D),kp(t,D),S.hashFn,S.onComplete)}}}!f&&c.length>0&&!r&&(d?t.listenProvider_.stopListening(hc(e),null):c.forEach(g=>{const E=t.queryToTagMap.get(Nm(g));t.listenProvider_.stopListening(hc(g),E)}))}R9(t,c)}return a}function x9(t,e,n,r){const i=Iw(t,r);if(i!=null){const s=Sw(i),o=s.path,a=s.queryId,l=Vn(o,e),c=new na(yw(a),l,n);return Cw(t,o,c)}else return[]}function k9(t,e,n,r){const i=Iw(t,r);if(i){const s=Sw(i),o=s.path,a=s.queryId,l=Vn(o,e),c=lt.fromObject(n),d=new Qc(yw(a),l,c);return Cw(t,o,d)}else return[]}function HI(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(g,E)=>{const I=Vn(g,i);s=s||ml(E,I),o=o||to(E)});let a=t.syncPointTree_.get(i);a?(o=o||to(a),s=s||ml(a,$e())):(a=new f9,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=pe.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((E,I)=>{const x=ml(I,$e());x&&(s=s.updateImmediateChild(E,x))}));const c=nA(a,e);if(!c&&!e._queryParams.loadsAllData()){const g=Nm(e);te(!t.queryToTagMap.has(g),"View does not exist, but we have a tag");const E=P9();t.queryToTagMap.set(g,E),t.tagToQueryMap.set(E,g)}const d=vw(t.pendingWriteTree_,i);let f=v9(a,e,n,d,s,l);if(!c&&!o&&!r){const g=tA(a,e);f=f.concat(N9(t,e,g))}return f}function rA(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Vn(o,e),c=ml(a,l);if(c)return c});return Kk(i,e,s,n,!0)}function Ih(t,e){return iA(e,t.syncPointTree_,null,vw(t.pendingWriteTree_,$e()))}function iA(t,e,n,r){if(xe(t.path))return sA(t,e,n,r);{const i=e.get($e());n==null&&i!=null&&(n=ml(i,$e()));let s=[];const o=be(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,d=Qk(r,o);s=s.concat(iA(a,l,c,d))}return i&&(s=s.concat(Tw(i,t,r,n))),s}}function sA(t,e,n,r){const i=e.get($e());n==null&&i!=null&&(n=ml(i,$e()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=Qk(r,o),d=t.operationForChild(o);d&&(s=s.concat(sA(d,a,l,c)))}),i&&(s=s.concat(Tw(i,t,r,n))),s}function oA(t,e){const n=e.query,r=kp(t,n);return{hashFn:()=>(u9(e)||pe.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?b9(t,n._path,r):C9(t,n._path);{const s=bU(i,n);return r_(t,n,null,s)}}}}function kp(t,e){const n=Nm(e);return t.queryToTagMap.get(n)}function Nm(t){return t._path.toString()+"$"+t._queryIdentifier}function Iw(t,e){return t.tagToQueryMap.get(e)}function Sw(t){const e=t.indexOf("$");return te(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ze(t.substr(0,e))}}function Cw(t,e,n){const r=t.syncPointTree_.get(e);te(r,"Missing sync point for query tag that we're tracking");const i=vw(t.pendingWriteTree_,e);return Tw(r,n,i,null)}function A9(t){return t.fold((e,n,r)=>{if(n&&to(n))return[Rm(n)];{let i=[];return n&&(i=eA(n)),Wn(r,(s,o)=>{i=i.concat(o)}),i}})}function hc(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(E9())(t._repo,t._path):t}function R9(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Nm(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function P9(){return T9++}function N9(t,e,n){const r=e._path,i=kp(t,e),s=oA(t,n),o=t.listenProvider_.startListening(hc(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)te(!to(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,d,f)=>{if(!xe(c)&&d&&to(d))return[Rm(d).query];{let g=[];return d&&(g=g.concat(eA(d).map(E=>E.query))),Wn(f,(E,I)=>{g=g.concat(I)}),g}});for(let c=0;c<l.length;++c){const d=l[c];t.listenProvider_.stopListening(hc(d),kp(t,d))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new bw(n)}node(){return this.node_}}class xw{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Vt(this.path_,e);return new xw(this.syncTree_,n)}node(){return rA(this.syncTree_,this.path_)}}const O9=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},qI=function(t,e,n){if(!t||typeof t!="object")return t;if(te(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return D9(t[".sv"],e,n);if(typeof t[".sv"]=="object")return L9(t[".sv"],e);te(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},D9=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:te(!1,"Unexpected server value: "+t)}},L9=function(t,e,n){t.hasOwnProperty("increment")||te(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&te(!1,"Unexpected increment value: "+r);const i=e.node();if(te(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},M9=function(t,e,n,r){return kw(e,new xw(n,t),r)},F9=function(t,e,n){return kw(t,new bw(e),n)};function kw(t,e,n){const r=t.getPriority().val(),i=qI(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=qI(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new qt(a,vn(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new qt(i))),o.forEachChild(St,(a,l)=>{const c=kw(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Rw(t,e){let n=e instanceof Ze?e:new Ze(e),r=t,i=be(n);for(;i!==null;){const s=Rl(r.node.children,i)||{children:{},childCount:0};r=new Aw(i,r,s),n=tt(n),i=be(n)}return r}function nu(t){return t.node.value}function aA(t,e){t.node.value=e,i_(t)}function lA(t){return t.node.childCount>0}function V9(t){return nu(t)===void 0&&!lA(t)}function Om(t,e){Wn(t.node.children,(n,r)=>{e(new Aw(n,t,r))})}function uA(t,e,n,r){n&&!r&&e(t),Om(t,i=>{uA(i,e,!0,r)}),n&&r&&e(t)}function j9(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Sh(t){return new Ze(t.parent===null?t.name:Sh(t.parent)+"/"+t.name)}function i_(t){t.parent!==null&&U9(t.parent,t.name,t)}function U9(t,e,n){const r=V9(n),i=ns(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,i_(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,i_(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $9=/[\[\].#$\/\u0000-\u001F\u007F]/,B9=/[\[\].#$\u0000-\u001F\u007F]/,fy=10*1024*1024,cA=function(t){return typeof t=="string"&&t.length!==0&&!$9.test(t)},hA=function(t){return typeof t=="string"&&t.length!==0&&!B9.test(t)},z9=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),hA(t)},dA=function(t,e,n){const r=n instanceof Ze?new s6(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+No(r));if(typeof e=="function")throw new Error(t+"contains a function "+No(r)+" with contents = "+e.toString());if(dk(e))throw new Error(t+"contains "+e.toString()+" "+No(r));if(typeof e=="string"&&e.length>fy/3&&Em(e)>fy)throw new Error(t+"contains a string greater than "+fy+" utf8 bytes "+No(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Wn(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!cA(o)))throw new Error(t+" contains an invalid key ("+o+") "+No(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);o6(r,o),dA(t,a,r),a6(r)}),i&&s)throw new Error(t+' contains ".value" child '+No(r)+" in addition to actual children.")}},fA=function(t,e,n,r){if(!(r&&n===void 0)&&!hA(n))throw new Error(S2(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},W9=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),fA(t,e,n,r)},H9=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!cA(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!z9(n))throw new Error(S2(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function pA(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!hw(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function mA(t,e,n){pA(t,n),gA(t,r=>hw(r,e))}function ma(t,e,n){pA(t,n),gA(t,r=>Rr(r,e)||Rr(e,r))}function gA(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(G9(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function G9(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Ho&&yn("event: "+n.toString()),Eh(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K9="repo_interrupt",Q9=25;class Y9{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new q9,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ep(),this.transactionQueueTree_=new Aw,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function X9(t,e,n){if(t.stats_=uw(t.repoInfo_),t.forceRestClient_||RU())t.server_=new wp(t.repoInfo_,(r,i,s,o)=>{GI(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>KI(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Xt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Wi(t.repoInfo_,e,(r,i,s,o)=>{GI(t,r,i,s,o)},r=>{KI(t,r)},r=>{Z9(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=LU(t.repoInfo_,()=>new O6(t.stats_,t.server_)),t.infoData_=new k6,t.infoSyncTree_=new WI({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Pm(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Pw(t,"connected",!1),t.serverSyncTree_=new WI({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);ma(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function J9(t){const n=t.infoData_.getNode(new Ze(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function yA(t){return O9({timestamp:J9(t)})}function GI(t,e,n,r,i){t.dataUpdateCount++;const s=new Ze(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=cp(n,c=>vn(c));o=k9(t.serverSyncTree_,s,l,i)}else{const l=vn(n);o=x9(t.serverSyncTree_,s,l,i)}else if(r){const l=cp(n,c=>vn(c));o=S9(t.serverSyncTree_,s,l)}else{const l=vn(n);o=Pm(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Ow(t,s)),ma(t.eventQueue_,a,o)}function KI(t,e){Pw(t,"connected",e),e===!1&&t$(t)}function Z9(t,e){Wn(e,(n,r)=>{Pw(t,n,r)})}function Pw(t,e,n){const r=new Ze("/.info/"+e),i=vn(n);t.infoData_.updateSnapshot(r,i);const s=Pm(t.infoSyncTree_,r,i);ma(t.eventQueue_,r,s)}function e$(t){return t.nextWriteId_++}function t$(t){vA(t,"onDisconnectEvents");const e=yA(t),n=Ep();Xv(t.onDisconnect_,$e(),(i,s)=>{const o=M9(i,s,t.serverSyncTree_,e);zk(n,i,o)});let r=[];Xv(n,$e(),(i,s)=>{r=r.concat(Pm(t.serverSyncTree_,i,s));const o=o$(t,i);Ow(t,o)}),t.onDisconnect_=Ep(),ma(t.eventQueue_,$e(),r)}function n$(t,e,n){let r;be(e._path)===".info"?r=HI(t.infoSyncTree_,e,n):r=HI(t.serverSyncTree_,e,n),mA(t.eventQueue_,e._path,r)}function QI(t,e,n){let r;be(e._path)===".info"?r=r_(t.infoSyncTree_,e,n):r=r_(t.serverSyncTree_,e,n),mA(t.eventQueue_,e._path,r)}function r$(t){t.persistentConnection_&&t.persistentConnection_.interrupt(K9)}function vA(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),yn(n,...e)}function _A(t,e,n){return rA(t.serverSyncTree_,e,n)||pe.EMPTY_NODE}function Nw(t,e=t.transactionQueueTree_){if(e||Dm(t,e),nu(e)){const n=EA(t,e);te(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&i$(t,Sh(e),n)}else lA(e)&&Om(e,n=>{Nw(t,n)})}function i$(t,e,n){const r=n.map(c=>c.currentWriteId),i=_A(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const d=n[c];te(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const f=Vn(e,d.path);s=s.updateChild(f,d.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{vA(t,"transaction put response",{path:l.toString(),status:c});let d=[];if(c==="ok"){const f=[];for(let g=0;g<n.length;g++)n[g].status=2,d=d.concat(tl(t.serverSyncTree_,n[g].currentWriteId)),n[g].onComplete&&f.push(()=>n[g].onComplete(null,!0,n[g].currentOutputSnapshotResolved)),n[g].unwatcher();Dm(t,Rw(t.transactionQueueTree_,e)),Nw(t,t.transactionQueueTree_),ma(t.eventQueue_,e,d);for(let g=0;g<f.length;g++)Eh(f[g])}else{if(c==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{nr("transaction at "+l.toString()+" failed: "+c);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=c}Ow(t,e)}},o)}function Ow(t,e){const n=wA(t,e),r=Sh(n),i=EA(t,n);return s$(t,i,r),r}function s$(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Vn(n,l.path);let d=!1,f;if(te(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,f=l.abortReason,i=i.concat(tl(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Q9)d=!0,f="maxretry",i=i.concat(tl(t.serverSyncTree_,l.currentWriteId,!0));else{const g=_A(t,l.path,o);l.currentInputSnapshot=g;const E=e[a].update(g.val());if(E!==void 0){dA("transaction failed: Data returned ",E,l.path);let I=vn(E);typeof E=="object"&&E!=null&&ns(E,".priority")||(I=I.updatePriority(g.getPriority()));const D=l.currentWriteId,S=yA(t),w=F9(I,g,S);l.currentOutputSnapshotRaw=I,l.currentOutputSnapshotResolved=w,l.currentWriteId=e$(t),o.splice(o.indexOf(D),1),i=i.concat(I9(t.serverSyncTree_,l.path,w,l.currentWriteId,l.applyLocally)),i=i.concat(tl(t.serverSyncTree_,D,!0))}else d=!0,f="nodata",i=i.concat(tl(t.serverSyncTree_,l.currentWriteId,!0))}ma(t.eventQueue_,n,i),i=[],d&&(e[a].status=2,function(g){setTimeout(g,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(f==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(f),!1,null))))}Dm(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Eh(r[a]);Nw(t,t.transactionQueueTree_)}function wA(t,e){let n,r=t.transactionQueueTree_;for(n=be(e);n!==null&&nu(r)===void 0;)r=Rw(r,n),e=tt(e),n=be(e);return r}function EA(t,e){const n=[];return TA(t,e,n),n.sort((r,i)=>r.order-i.order),n}function TA(t,e,n){const r=nu(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Om(e,i=>{TA(t,i,n)})}function Dm(t,e){const n=nu(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,aA(e,n.length>0?n:void 0)}Om(e,r=>{Dm(t,r)})}function o$(t,e){const n=Sh(wA(t,e)),r=Rw(t.transactionQueueTree_,e);return j9(r,i=>{py(t,i)}),py(t,r),uA(r,i=>{py(t,i)}),n}function py(t,e){const n=nu(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(te(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(te(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(tl(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?aA(e,void 0):n.length=s+1,ma(t.eventQueue_,Sh(e),i);for(let o=0;o<r.length;o++)Eh(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a$(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function l$(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):nr(`Invalid query segment '${n}' in query '${t}'`)}return e}const YI=function(t,e){const n=u$(t),r=n.namespace;n.domain==="firebase.com"&&Xi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Xi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||EU();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Sk(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Ze(n.pathString)}},u$=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let d=t.indexOf("/");d===-1&&(d=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(d,f)),d<f&&(i=a$(t.substring(d,f)));const g=l$(t.substring(Math.min(t.length,f)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const E=e.slice(0,c);if(E.toLowerCase()==="localhost")n="localhost";else if(E.split(".").length<=2)n=E;else{const I=e.indexOf(".");r=e.substring(0,I).toLowerCase(),n=e.substring(I+1),s=r}"ns"in g&&(s=g.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Xt(this.snapshot.exportVal())}}class SA{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c${constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return te(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return xe(this._path)?null:Ok(this._path)}get ref(){return new is(this._repo,this._path)}get _queryIdentifier(){const e=OI(this._queryParams),n=aw(e);return n==="{}"?"default":n}get _queryObject(){return OI(this._queryParams)}isEqual(e){if(e=_t(e),!(e instanceof Dw))return!1;const n=this._repo===e._repo,r=hw(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+i6(this._path)}}class is extends Dw{constructor(e,n){super(e,n,new mw,!1)}get parent(){const e=Lk(this._path);return e===null?null:new is(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Yc{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ze(e),r=Ap(this.ref,e);return new Yc(this._node.getChild(n),r,St)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Yc(i,Ap(this.ref,r),St)))}hasChild(e){const n=new Ze(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function h$(t,e){return t=_t(t),t._checkNotDeleted("ref"),e!==void 0?Ap(t._root,e):t._root}function Ap(t,e){return t=_t(t),be(t._path)===null?W9("child","path",e,!1):fA("child","path",e,!1),new is(t._repo,Vt(t._path,e))}class Lw{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new IA("value",this,new Yc(e.snapshotNode,new is(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new SA(this,e,n):null}matches(e){return e instanceof Lw?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Mw{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new SA(this,e,n):null}createEvent(e,n){te(e.childName!=null,"Child events should have a childName.");const r=Ap(new is(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new IA(e.type,this,new Yc(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Mw?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function d$(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,c=(d,f)=>{QI(t._repo,t,a),l(d,f)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new c$(n,s||void 0),a=e==="value"?new Lw(o):new Mw(e,o);return n$(t._repo,t,a),()=>QI(t._repo,t,a)}function f$(t,e,n,r){return d$(t,"value",e,n,r)}p9(is);w9(is);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p$="FIREBASE_DATABASE_EMULATOR_HOST",s_={};let m$=!1;function g$(t,e,n,r){t.repoInfo_=new Sk(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function y$(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Xi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),yn("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=YI(s,i),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[p$]),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=YI(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const d=i&&l?new fl(fl.OWNER):new NU(t.name,t.options,e);H9("Invalid Firebase Database URL",o),xe(o.path)||Xi("Database URL must point to the root of a Firebase Database (not including a child path).");const f=_$(a,t,d,new PU(t.name,n));return new w$(f,t)}function v$(t,e){const n=s_[e];(!n||n[t.key]!==t)&&Xi(`Database ${e}(${t.repoInfo_}) has already been deleted.`),r$(t),delete n[t.key]}function _$(t,e,n,r){let i=s_[e.name];i||(i={},s_[e.name]=i);let s=i[t.toURLString()];return s&&Xi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Y9(t,m$,n,r),i[t.toURLString()]=s,s}class w${constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(X9(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new is(this._repo,$e())),this._rootInternal}_delete(){return this._rootInternal!==null&&(v$(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Xi("Cannot call "+e+" on a deleted database.")}}function E$(t=Im(),e){const n=fh(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=G0("database");r&&T$(n,...r)}return n}function T$(t,e,n,r={}){t=_t(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Xi("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Xi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new fl(fl.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:Q0(r.mockUserToken,t.app.options.projectId);s=new fl(o)}g$(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I$(t){gU(lo),Zs(new Qi("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return y$(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),fr(gI,yI,t),fr(gI,yI,"esm2017")}Wi.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Wi.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};I$();var XI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qo,CA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,b){function A(){}A.prototype=b.prototype,C.D=b.prototype,C.prototype=new A,C.prototype.constructor=C,C.C=function(P,M,F){for(var R=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)R[Ee-2]=arguments[Ee];return b.prototype[M].apply(P,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,b,A){A||(A=0);var P=Array(16);if(typeof b=="string")for(var M=0;16>M;++M)P[M]=b.charCodeAt(A++)|b.charCodeAt(A++)<<8|b.charCodeAt(A++)<<16|b.charCodeAt(A++)<<24;else for(M=0;16>M;++M)P[M]=b[A++]|b[A++]<<8|b[A++]<<16|b[A++]<<24;b=C.g[0],A=C.g[1],M=C.g[2];var F=C.g[3],R=b+(F^A&(M^F))+P[0]+3614090360&4294967295;b=A+(R<<7&4294967295|R>>>25),R=F+(M^b&(A^M))+P[1]+3905402710&4294967295,F=b+(R<<12&4294967295|R>>>20),R=M+(A^F&(b^A))+P[2]+606105819&4294967295,M=F+(R<<17&4294967295|R>>>15),R=A+(b^M&(F^b))+P[3]+3250441966&4294967295,A=M+(R<<22&4294967295|R>>>10),R=b+(F^A&(M^F))+P[4]+4118548399&4294967295,b=A+(R<<7&4294967295|R>>>25),R=F+(M^b&(A^M))+P[5]+1200080426&4294967295,F=b+(R<<12&4294967295|R>>>20),R=M+(A^F&(b^A))+P[6]+2821735955&4294967295,M=F+(R<<17&4294967295|R>>>15),R=A+(b^M&(F^b))+P[7]+4249261313&4294967295,A=M+(R<<22&4294967295|R>>>10),R=b+(F^A&(M^F))+P[8]+1770035416&4294967295,b=A+(R<<7&4294967295|R>>>25),R=F+(M^b&(A^M))+P[9]+2336552879&4294967295,F=b+(R<<12&4294967295|R>>>20),R=M+(A^F&(b^A))+P[10]+4294925233&4294967295,M=F+(R<<17&4294967295|R>>>15),R=A+(b^M&(F^b))+P[11]+2304563134&4294967295,A=M+(R<<22&4294967295|R>>>10),R=b+(F^A&(M^F))+P[12]+1804603682&4294967295,b=A+(R<<7&4294967295|R>>>25),R=F+(M^b&(A^M))+P[13]+4254626195&4294967295,F=b+(R<<12&4294967295|R>>>20),R=M+(A^F&(b^A))+P[14]+2792965006&4294967295,M=F+(R<<17&4294967295|R>>>15),R=A+(b^M&(F^b))+P[15]+1236535329&4294967295,A=M+(R<<22&4294967295|R>>>10),R=b+(M^F&(A^M))+P[1]+4129170786&4294967295,b=A+(R<<5&4294967295|R>>>27),R=F+(A^M&(b^A))+P[6]+3225465664&4294967295,F=b+(R<<9&4294967295|R>>>23),R=M+(b^A&(F^b))+P[11]+643717713&4294967295,M=F+(R<<14&4294967295|R>>>18),R=A+(F^b&(M^F))+P[0]+3921069994&4294967295,A=M+(R<<20&4294967295|R>>>12),R=b+(M^F&(A^M))+P[5]+3593408605&4294967295,b=A+(R<<5&4294967295|R>>>27),R=F+(A^M&(b^A))+P[10]+38016083&4294967295,F=b+(R<<9&4294967295|R>>>23),R=M+(b^A&(F^b))+P[15]+3634488961&4294967295,M=F+(R<<14&4294967295|R>>>18),R=A+(F^b&(M^F))+P[4]+3889429448&4294967295,A=M+(R<<20&4294967295|R>>>12),R=b+(M^F&(A^M))+P[9]+568446438&4294967295,b=A+(R<<5&4294967295|R>>>27),R=F+(A^M&(b^A))+P[14]+3275163606&4294967295,F=b+(R<<9&4294967295|R>>>23),R=M+(b^A&(F^b))+P[3]+4107603335&4294967295,M=F+(R<<14&4294967295|R>>>18),R=A+(F^b&(M^F))+P[8]+1163531501&4294967295,A=M+(R<<20&4294967295|R>>>12),R=b+(M^F&(A^M))+P[13]+2850285829&4294967295,b=A+(R<<5&4294967295|R>>>27),R=F+(A^M&(b^A))+P[2]+4243563512&4294967295,F=b+(R<<9&4294967295|R>>>23),R=M+(b^A&(F^b))+P[7]+1735328473&4294967295,M=F+(R<<14&4294967295|R>>>18),R=A+(F^b&(M^F))+P[12]+2368359562&4294967295,A=M+(R<<20&4294967295|R>>>12),R=b+(A^M^F)+P[5]+4294588738&4294967295,b=A+(R<<4&4294967295|R>>>28),R=F+(b^A^M)+P[8]+2272392833&4294967295,F=b+(R<<11&4294967295|R>>>21),R=M+(F^b^A)+P[11]+1839030562&4294967295,M=F+(R<<16&4294967295|R>>>16),R=A+(M^F^b)+P[14]+4259657740&4294967295,A=M+(R<<23&4294967295|R>>>9),R=b+(A^M^F)+P[1]+2763975236&4294967295,b=A+(R<<4&4294967295|R>>>28),R=F+(b^A^M)+P[4]+1272893353&4294967295,F=b+(R<<11&4294967295|R>>>21),R=M+(F^b^A)+P[7]+4139469664&4294967295,M=F+(R<<16&4294967295|R>>>16),R=A+(M^F^b)+P[10]+3200236656&4294967295,A=M+(R<<23&4294967295|R>>>9),R=b+(A^M^F)+P[13]+681279174&4294967295,b=A+(R<<4&4294967295|R>>>28),R=F+(b^A^M)+P[0]+3936430074&4294967295,F=b+(R<<11&4294967295|R>>>21),R=M+(F^b^A)+P[3]+3572445317&4294967295,M=F+(R<<16&4294967295|R>>>16),R=A+(M^F^b)+P[6]+76029189&4294967295,A=M+(R<<23&4294967295|R>>>9),R=b+(A^M^F)+P[9]+3654602809&4294967295,b=A+(R<<4&4294967295|R>>>28),R=F+(b^A^M)+P[12]+3873151461&4294967295,F=b+(R<<11&4294967295|R>>>21),R=M+(F^b^A)+P[15]+530742520&4294967295,M=F+(R<<16&4294967295|R>>>16),R=A+(M^F^b)+P[2]+3299628645&4294967295,A=M+(R<<23&4294967295|R>>>9),R=b+(M^(A|~F))+P[0]+4096336452&4294967295,b=A+(R<<6&4294967295|R>>>26),R=F+(A^(b|~M))+P[7]+1126891415&4294967295,F=b+(R<<10&4294967295|R>>>22),R=M+(b^(F|~A))+P[14]+2878612391&4294967295,M=F+(R<<15&4294967295|R>>>17),R=A+(F^(M|~b))+P[5]+4237533241&4294967295,A=M+(R<<21&4294967295|R>>>11),R=b+(M^(A|~F))+P[12]+1700485571&4294967295,b=A+(R<<6&4294967295|R>>>26),R=F+(A^(b|~M))+P[3]+2399980690&4294967295,F=b+(R<<10&4294967295|R>>>22),R=M+(b^(F|~A))+P[10]+4293915773&4294967295,M=F+(R<<15&4294967295|R>>>17),R=A+(F^(M|~b))+P[1]+2240044497&4294967295,A=M+(R<<21&4294967295|R>>>11),R=b+(M^(A|~F))+P[8]+1873313359&4294967295,b=A+(R<<6&4294967295|R>>>26),R=F+(A^(b|~M))+P[15]+4264355552&4294967295,F=b+(R<<10&4294967295|R>>>22),R=M+(b^(F|~A))+P[6]+2734768916&4294967295,M=F+(R<<15&4294967295|R>>>17),R=A+(F^(M|~b))+P[13]+1309151649&4294967295,A=M+(R<<21&4294967295|R>>>11),R=b+(M^(A|~F))+P[4]+4149444226&4294967295,b=A+(R<<6&4294967295|R>>>26),R=F+(A^(b|~M))+P[11]+3174756917&4294967295,F=b+(R<<10&4294967295|R>>>22),R=M+(b^(F|~A))+P[2]+718787259&4294967295,M=F+(R<<15&4294967295|R>>>17),R=A+(F^(M|~b))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+F&4294967295}r.prototype.u=function(C,b){b===void 0&&(b=C.length);for(var A=b-this.blockSize,P=this.B,M=this.h,F=0;F<b;){if(M==0)for(;F<=A;)i(this,C,F),F+=this.blockSize;if(typeof C=="string"){for(;F<b;)if(P[M++]=C.charCodeAt(F++),M==this.blockSize){i(this,P),M=0;break}}else for(;F<b;)if(P[M++]=C[F++],M==this.blockSize){i(this,P),M=0;break}}this.h=M,this.o+=b},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;var A=8*this.o;for(b=C.length-8;b<C.length;++b)C[b]=A&255,A/=256;for(this.u(C),C=Array(16),b=A=0;4>b;++b)for(var P=0;32>P;P+=8)C[A++]=this.g[b]>>>P&255;return C};function s(C,b){var A=a;return Object.prototype.hasOwnProperty.call(A,C)?A[C]:A[C]=b(C)}function o(C,b){this.h=b;for(var A=[],P=!0,M=C.length-1;0<=M;M--){var F=C[M]|0;P&&F==b||(A[M]=F,P=!1)}this.g=A}var a={};function l(C){return-128<=C&&128>C?s(C,function(b){return new o([b|0],0>b?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return f;if(0>C)return D(c(-C));for(var b=[],A=1,P=0;C>=A;P++)b[P]=C/A|0,A*=4294967296;return new o(b,0)}function d(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return D(d(C.substring(1),b));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=c(Math.pow(b,8)),P=f,M=0;M<C.length;M+=8){var F=Math.min(8,C.length-M),R=parseInt(C.substring(M,M+F),b);8>F?(F=c(Math.pow(b,F)),P=P.j(F).add(c(R))):(P=P.j(A),P=P.add(c(R)))}return P}var f=l(0),g=l(1),E=l(16777216);t=o.prototype,t.m=function(){if(x(this))return-D(this).m();for(var C=0,b=1,A=0;A<this.g.length;A++){var P=this.i(A);C+=(0<=P?P:4294967296+P)*b,b*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(I(this))return"0";if(x(this))return"-"+D(this).toString(C);for(var b=c(Math.pow(C,6)),A=this,P="";;){var M=V(A,b).g;A=S(A,M.j(b));var F=((0<A.g.length?A.g[0]:A.h)>>>0).toString(C);if(A=M,I(A))return F+P;for(;6>F.length;)F="0"+F;P=F+P}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function I(C){if(C.h!=0)return!1;for(var b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function x(C){return C.h==-1}t.l=function(C){return C=S(this,C),x(C)?-1:I(C)?0:1};function D(C){for(var b=C.g.length,A=[],P=0;P<b;P++)A[P]=~C.g[P];return new o(A,~C.h).add(g)}t.abs=function(){return x(this)?D(this):this},t.add=function(C){for(var b=Math.max(this.g.length,C.g.length),A=[],P=0,M=0;M<=b;M++){var F=P+(this.i(M)&65535)+(C.i(M)&65535),R=(F>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);P=R>>>16,F&=65535,R&=65535,A[M]=R<<16|F}return new o(A,A[A.length-1]&-2147483648?-1:0)};function S(C,b){return C.add(D(b))}t.j=function(C){if(I(this)||I(C))return f;if(x(this))return x(C)?D(this).j(D(C)):D(D(this).j(C));if(x(C))return D(this.j(D(C)));if(0>this.l(E)&&0>C.l(E))return c(this.m()*C.m());for(var b=this.g.length+C.g.length,A=[],P=0;P<2*b;P++)A[P]=0;for(P=0;P<this.g.length;P++)for(var M=0;M<C.g.length;M++){var F=this.i(P)>>>16,R=this.i(P)&65535,Ee=C.i(M)>>>16,Ge=C.i(M)&65535;A[2*P+2*M]+=R*Ge,w(A,2*P+2*M),A[2*P+2*M+1]+=F*Ge,w(A,2*P+2*M+1),A[2*P+2*M+1]+=R*Ee,w(A,2*P+2*M+1),A[2*P+2*M+2]+=F*Ee,w(A,2*P+2*M+2)}for(P=0;P<b;P++)A[P]=A[2*P+1]<<16|A[2*P];for(P=b;P<2*b;P++)A[P]=0;return new o(A,0)};function w(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function k(C,b){this.g=C,this.h=b}function V(C,b){if(I(b))throw Error("division by zero");if(I(C))return new k(f,f);if(x(C))return b=V(D(C),b),new k(D(b.g),D(b.h));if(x(b))return b=V(C,D(b)),new k(D(b.g),b.h);if(30<C.g.length){if(x(C)||x(b))throw Error("slowDivide_ only works with positive integers.");for(var A=g,P=b;0>=P.l(C);)A=U(A),P=U(P);var M=H(A,1),F=H(P,1);for(P=H(P,2),A=H(A,2);!I(P);){var R=F.add(P);0>=R.l(C)&&(M=M.add(A),F=R),P=H(P,1),A=H(A,1)}return b=S(C,M.j(b)),new k(M,b)}for(M=f;0<=C.l(b);){for(A=Math.max(1,Math.floor(C.m()/b.m())),P=Math.ceil(Math.log(A)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),F=c(A),R=F.j(b);x(R)||0<R.l(C);)A-=P,F=c(A),R=F.j(b);I(F)&&(F=g),M=M.add(F),C=S(C,R)}return new k(M,C)}t.A=function(C){return V(this,C).h},t.and=function(C){for(var b=Math.max(this.g.length,C.g.length),A=[],P=0;P<b;P++)A[P]=this.i(P)&C.i(P);return new o(A,this.h&C.h)},t.or=function(C){for(var b=Math.max(this.g.length,C.g.length),A=[],P=0;P<b;P++)A[P]=this.i(P)|C.i(P);return new o(A,this.h|C.h)},t.xor=function(C){for(var b=Math.max(this.g.length,C.g.length),A=[],P=0;P<b;P++)A[P]=this.i(P)^C.i(P);return new o(A,this.h^C.h)};function U(C){for(var b=C.g.length+1,A=[],P=0;P<b;P++)A[P]=C.i(P)<<1|C.i(P-1)>>>31;return new o(A,C.h)}function H(C,b){var A=b>>5;b%=32;for(var P=C.g.length-A,M=[],F=0;F<P;F++)M[F]=0<b?C.i(F+A)>>>b|C.i(F+A+1)<<32-b:C.i(F+A);return new o(M,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,CA=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,qo=o}).apply(typeof XI<"u"?XI:typeof self<"u"?self:typeof window<"u"?window:{});var Fd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bA,xA,qu,kA,vf,o_,AA,RA,PA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fd=="object"&&Fd];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function i(u,m){if(m)e:{var y=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var j=u[T];if(!(j in y))break e;y=y[j]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}function s(u,m){u instanceof String&&(u+="");var y=0,T=!1,j={next:function(){if(!T&&y<u.length){var z=y++;return{value:m(z,u[z]),done:!1}}return T=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}i("Array.prototype.values",function(u){return u||function(){return s(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function c(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function d(u,m,y){return u.call.apply(u.bind,arguments)}function f(u,m,y){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,T),u.apply(m,j)}}return function(){return u.apply(m,arguments)}}function g(u,m,y){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,g.apply(null,arguments)}function E(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function I(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(T,j,z){for(var ee=Array(arguments.length-2),He=2;He<arguments.length;He++)ee[He-2]=arguments[He];return m.prototype[j].apply(T,ee)}}function x(u){const m=u.length;if(0<m){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function D(u,m){for(let y=1;y<arguments.length;y++){const T=arguments[y];if(l(T)){const j=u.length||0,z=T.length||0;u.length=j+z;for(let ee=0;ee<z;ee++)u[j+ee]=T[ee]}else u.push(T)}}class S{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function w(u){return/^[\s\xa0]*$/.test(u)}function k(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function V(u){return V[" "](u),u}V[" "]=function(){};var U=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function H(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function C(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function b(u){const m={};for(const y in u)m[y]=u[y];return m}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,m){let y,T;for(let j=1;j<arguments.length;j++){T=arguments[j];for(y in T)u[y]=T[y];for(let z=0;z<A.length;z++)y=A[z],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function M(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function F(u){a.setTimeout(()=>{throw u},0)}function R(){var u=Q;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ee{constructor(){this.h=this.g=null}add(m,y){const T=Ge.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var Ge=new S(()=>new Te,u=>u.reset());class Te{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Ne,re=!1,Q=new Ee,ce=()=>{const u=a.Promise.resolve(void 0);Ne=()=>{u.then(Fe)}};var Fe=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(y){F(y)}var m=Ge;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}re=!1};function Ce(){this.s=this.s,this.C=this.C}Ce.prototype.s=!1,Ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Be(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}Be.prototype.h=function(){this.defaultPrevented=!0};var $=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};a.addEventListener("test",y,m),a.removeEventListener("test",y,m)}catch{}return u}();function zt(u,m){if(Be.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(U){e:{try{V(m.nodeName);var j=!0;break e}catch{}j=!1}j||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ct[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&zt.aa.h.call(this)}}I(zt,Be);var ct={2:"touch",3:"pen",4:"mouse"};zt.prototype.h=function(){zt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ht="closure_listenable_"+(1e6*Math.random()|0),Hn=0;function dt(u,m,y,T,j){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=j,this.key=++Hn,this.da=this.fa=!1}function mt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ur(u){this.src=u,this.g={},this.h=0}Ur.prototype.add=function(u,m,y,T,j){var z=u.toString();u=this.g[z],u||(u=this.g[z]=[],this.h++);var ee=_i(u,m,T,j);return-1<ee?(m=u[ee],y||(m.fa=!1)):(m=new dt(m,this.src,z,!!T,j),m.fa=y,u.push(m)),m};function ho(u,m){var y=m.type;if(y in u.g){var T=u.g[y],j=Array.prototype.indexOf.call(T,m,void 0),z;(z=0<=j)&&Array.prototype.splice.call(T,j,1),z&&(mt(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function _i(u,m,y,T){for(var j=0;j<u.length;++j){var z=u[j];if(!z.da&&z.listener==m&&z.capture==!!y&&z.ha==T)return j}return-1}var yr="closure_lm_"+(1e6*Math.random()|0),ss={};function wi(u,m,y,T,j){if(T&&T.once)return B(u,m,y,T,j);if(Array.isArray(m)){for(var z=0;z<m.length;z++)wi(u,m[z],y,T,j);return null}return y=Ye(y),u&&u[ht]?u.K(m,y,c(T)?!!T.capture:!!T,j):fo(u,m,y,!1,T,j)}function fo(u,m,y,T,j,z){if(!m)throw Error("Invalid event type");var ee=c(j)?!!j.capture:!!j,He=ae(u);if(He||(u[yr]=He=new Ur(u)),y=He.add(m,y,T,ee,z),y.proxy)return y;if(T=L(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)$||(j=ee),j===void 0&&(j=!1),u.addEventListener(m.toString(),T,j);else if(u.attachEvent)u.attachEvent(ne(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function L(){function u(y){return m.call(u.src,u.listener,y)}const m=Z;return u}function B(u,m,y,T,j){if(Array.isArray(m)){for(var z=0;z<m.length;z++)B(u,m[z],y,T,j);return null}return y=Ye(y),u&&u[ht]?u.L(m,y,c(T)?!!T.capture:!!T,j):fo(u,m,y,!0,T,j)}function W(u,m,y,T,j){if(Array.isArray(m))for(var z=0;z<m.length;z++)W(u,m[z],y,T,j);else T=c(T)?!!T.capture:!!T,y=Ye(y),u&&u[ht]?(u=u.i,m=String(m).toString(),m in u.g&&(z=u.g[m],y=_i(z,y,T,j),-1<y&&(mt(z[y]),Array.prototype.splice.call(z,y,1),z.length==0&&(delete u.g[m],u.h--)))):u&&(u=ae(u))&&(m=u.g[m.toString()],u=-1,m&&(u=_i(m,y,T,j)),(y=-1<u?m[u]:null)&&K(y))}function K(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ht])ho(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(ne(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=ae(m))?(ho(y,u),y.h==0&&(y.src=null,m[yr]=null)):mt(u)}}}function ne(u){return u in ss?ss[u]:ss[u]="on"+u}function Z(u,m){if(u.da)u=!0;else{m=new zt(m,this);var y=u.listener,T=u.ha||u.src;u.fa&&K(u),u=y.call(T,m)}return u}function ae(u){return u=u[yr],u instanceof Ur?u:null}var Ie="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ye(u){return typeof u=="function"?u:(u[Ie]||(u[Ie]=function(m){return u.handleEvent(m)}),u[Ie])}function Oe(){Ce.call(this),this.i=new Ur(this),this.M=this,this.F=null}I(Oe,Ce),Oe.prototype[ht]=!0,Oe.prototype.removeEventListener=function(u,m,y,T){W(this,u,m,y,T)};function Xe(u,m){var y,T=u.F;if(T)for(y=[];T;T=T.F)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new Be(m,u);else if(m instanceof Be)m.target=m.target||u;else{var j=m;m=new Be(T,u),P(m,j)}if(j=!0,y)for(var z=y.length-1;0<=z;z--){var ee=m.g=y[z];j=Zt(ee,T,!0,m)&&j}if(ee=m.g=u,j=Zt(ee,T,!0,m)&&j,j=Zt(ee,T,!1,m)&&j,y)for(z=0;z<y.length;z++)ee=m.g=y[z],j=Zt(ee,T,!1,m)&&j}Oe.prototype.N=function(){if(Oe.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],T=0;T<y.length;T++)mt(y[T]);delete u.g[m],u.h--}}this.F=null},Oe.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},Oe.prototype.L=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function Zt(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var j=!0,z=0;z<m.length;++z){var ee=m[z];if(ee&&!ee.da&&ee.capture==y){var He=ee.listener,Dt=ee.ha||ee.src;ee.fa&&ho(u.i,ee),j=He.call(Dt,T)!==!1&&j}}return j&&!T.defaultPrevented}function qn(u,m,y){if(typeof u=="function")y&&(u=g(u,y));else if(u&&typeof u.handleEvent=="function")u=g(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(u,m||0)}function Pn(u){u.g=qn(()=>{u.g=null,u.i&&(u.i=!1,Pn(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ou extends Ce{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Pn(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function In(u){Ce.call(this),this.h=u,this.g={}}I(In,Ce);var $r=[];function os(u){H(u.g,function(m,y){this.g.hasOwnProperty(y)&&K(m)},u),u.g={}}In.prototype.N=function(){In.aa.N.call(this),os(this)},In.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var as=a.JSON.stringify,au=a.JSON.parse,Xm=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function po(){}po.prototype.h=null;function va(u){return u.h||(u.h=u.i())}function mo(){}var go={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function en(){Be.call(this,"d")}I(en,Be);function Gn(){Be.call(this,"c")}I(Gn,Be);var Ei={},Sn=null;function Ti(){return Sn=Sn||new Oe}Ei.La="serverreachability";function lu(u){Be.call(this,Ei.La,u)}I(lu,Be);function ls(u){const m=Ti();Xe(m,new lu(m))}Ei.STAT_EVENT="statevent";function ke(u,m){Be.call(this,Ei.STAT_EVENT,u),this.stat=m}I(ke,Be);function et(u){const m=Ti();Xe(m,new ke(m,u))}Ei.Ma="timingevent";function vr(u,m){Be.call(this,Ei.Ma,u),this.size=m}I(vr,Be);function Kn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},m)}function ft(){this.g=!0}ft.prototype.xa=function(){this.g=!1};function Wt(u,m,y,T,j,z){u.info(function(){if(u.g)if(z)for(var ee="",He=z.split("&"),Dt=0;Dt<He.length;Dt++){var De=He[Dt].split("=");if(1<De.length){var Lt=De[0];De=De[1];var Ht=Lt.split("_");ee=2<=Ht.length&&Ht[1]=="type"?ee+(Lt+"="+De+"&"):ee+(Lt+"=redacted&")}}else ee=null;else ee=z;return"XMLHTTP REQ ("+T+") [attempt "+j+"]: "+m+`
`+y+`
`+ee})}function uu(u,m,y,T,j,z,ee){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+j+"]: "+m+`
`+y+`
`+z+" "+ee})}function Ii(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+cn(u,y)+(T?" "+T:"")})}function yo(u,m){u.info(function(){return"TIMEOUT: "+m})}ft.prototype.info=function(){};function cn(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var T=y[u];if(!(2>T.length)){var j=T[1];if(Array.isArray(j)&&!(1>j.length)){var z=j[0];if(z!="noop"&&z!="stop"&&z!="close")for(var ee=1;ee<j.length;ee++)j[ee]=""}}}}return as(y)}catch{return m}}var _a={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},cu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wa;function us(){}I(us,po),us.prototype.g=function(){return new XMLHttpRequest},us.prototype.i=function(){return{}},wa=new us;function Br(u,m,y,T){this.j=u,this.i=m,this.l=y,this.R=T||1,this.U=new In(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new hu}function hu(){this.i=null,this.g="",this.h=!1}var Nh={},du={};function _r(u,m,y){u.L=1,u.v=bi(Er(m)),u.m=y,u.P=!0,Oh(u,null)}function Oh(u,m){u.F=Date.now(),Ea(u),u.A=Er(u.v);var y=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Hh(y.i,"t",T),u.C=0,y=u.j.J,u.h=new hu,u.g=Ri(u.j,y?m:null,!u.m),0<u.O&&(u.M=new ou(g(u.Y,u,u.g),u.O)),m=u.U,y=u.g,T=u.ca;var j="readystatechange";Array.isArray(j)||(j&&($r[0]=j.toString()),j=$r);for(var z=0;z<j.length;z++){var ee=wi(y,j[z],T||m.handleEvent,!1,m.h||m);if(!ee)break;m.g[ee.key]=ee}m=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),ls(),Wt(u.i,u.u,u.A,u.l,u.R,u.m)}Br.prototype.ca=function(u){u=u.target;const m=this.M;m&&Tr(u)==3?m.j():this.Y(u)},Br.prototype.Y=function(u){try{if(u==this.g)e:{const Ht=Tr(this.g);var m=this.g.Ba();const Hr=this.g.Z();if(!(3>Ht)&&(Ht!=3||this.g&&(this.h.h||this.g.oa()||gu(this.g)))){this.J||Ht!=4||m==7||(m==8||0>=Hr?ls(3):ls(2)),vo(this);var y=this.g.Z();this.X=y;t:if(Dh(this)){var T=gu(this.g);u="";var j=T.length,z=Tr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Si(this),_o(this);var ee="";break t}this.h.i=new a.TextDecoder}for(m=0;m<j;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(z&&m==j-1)});T.length=0,this.h.g+=u,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=y==200,uu(this.i,this.u,this.A,this.l,this.R,Ht,y),this.o){if(this.T&&!this.K){t:{if(this.g){var He,Dt=this.g;if((He=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(He)){var De=He;break t}}De=null}if(y=De)Ii(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wr(this,y);else{this.o=!1,this.s=3,et(12),Si(this),_o(this);break e}}if(this.P){y=!0;let Nn;for(;!this.J&&this.C<ee.length;)if(Nn=Jm(this,ee),Nn==du){Ht==4&&(this.s=4,et(14),y=!1),Ii(this.i,this.l,null,"[Incomplete Response]");break}else if(Nn==Nh){this.s=4,et(15),Ii(this.i,this.l,ee,"[Invalid Chunk]"),y=!1;break}else Ii(this.i,this.l,Nn,null),wr(this,Nn);if(Dh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ht!=4||ee.length!=0||this.h.h||(this.s=1,et(16),y=!1),this.o=this.o&&y,!y)Ii(this.i,this.l,ee,"[Invalid Chunked Response]"),Si(this),_o(this);else if(0<ee.length&&!this.W){this.W=!0;var Lt=this.j;Lt.g==this&&Lt.ba&&!Lt.M&&(Lt.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),ar(Lt),Lt.M=!0,et(11))}}else Ii(this.i,this.l,ee,null),wr(this,ee);Ht==4&&Si(this),this.o&&!this.J&&(Ht==4?gs(this.j,this):(this.o=!1,Ea(this)))}else Jh(this.g),y==400&&0<ee.indexOf("Unknown SID")?(this.s=3,et(12)):(this.s=0,et(13)),Si(this),_o(this)}}}catch{}finally{}};function Dh(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Jm(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?du:(y=Number(m.substring(y,T)),isNaN(y)?Nh:(T+=1,T+y>m.length?du:(m=m.slice(T,T+y),u.C=T+y,m)))}Br.prototype.cancel=function(){this.J=!0,Si(this)};function Ea(u){u.S=Date.now()+u.I,Lh(u,u.I)}function Lh(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Kn(g(u.ba,u),m)}function vo(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Br.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(yo(this.i,this.A),this.L!=2&&(ls(),et(17)),Si(this),this.s=2,_o(this)):Lh(this,this.S-u)};function _o(u){u.j.G==0||u.J||gs(u.j,u)}function Si(u){vo(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,os(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function wr(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||fu(y.h,u))){if(!u.K&&fu(y.h,u)&&y.G==3){try{var T=y.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var j=T;if(j[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)So(y),ba(y);else break e;_u(y),et(18)}}else y.za=j[1],0<y.za-y.T&&37500>j[2]&&y.F&&y.v==0&&!y.C&&(y.C=Kn(g(y.Za,y),6e3));if(1>=Ta(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Ai(y,11)}else if((u.K||y.g==u)&&So(y),!w(m))for(j=y.Da.g.parse(m),m=0;m<j.length;m++){let De=j[m];if(y.T=De[0],De=De[1],y.G==2)if(De[0]=="c"){y.K=De[1],y.ia=De[2];const Lt=De[3];Lt!=null&&(y.la=Lt,y.j.info("VER="+y.la));const Ht=De[4];Ht!=null&&(y.Aa=Ht,y.j.info("SVER="+y.Aa));const Hr=De[5];Hr!=null&&typeof Hr=="number"&&0<Hr&&(T=1.5*Hr,y.L=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const Nn=u.g;if(Nn){const Co=Nn.g?Nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Co){var z=T.h;z.g||Co.indexOf("spdy")==-1&&Co.indexOf("quic")==-1&&Co.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(pu(z,z.h),z.h=null))}if(T.D){const bo=Nn.g?Nn.g.getResponseHeader("X-HTTP-Session-Id"):null;bo&&(T.ya=bo,Qe(T.I,T.D,bo))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),T=y;var ee=u;if(T.qa=wu(T,T.J?T.ia:null,T.W),ee.K){Vh(T.h,ee);var He=ee,Dt=T.L;Dt&&(He.I=Dt),He.B&&(vo(He),Ea(He)),T.g=ee}else vu(T);0<y.i.length&&xa(y)}else De[0]!="stop"&&De[0]!="close"||Ai(y,7);else y.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?Ai(y,7):yu(y):De[0]!="noop"&&y.l&&y.l.ta(De),y.v=0)}}ls(4)}catch{}}var Zm=class{constructor(u,m){this.g=u,this.map=m}};function Mh(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fh(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ta(u){return u.h?1:u.g?u.g.size:0}function fu(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function pu(u,m){u.g?u.g.add(m):u.h=m}function Vh(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Mh.prototype.cancel=function(){if(this.i=jh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function jh(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return x(u.i)}function eg(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var m=[],y=u.length,T=0;T<y;T++)m.push(u[T]);return m}m=[],y=0;for(T in u)m[y++]=u[T];return m}function Ke(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const T in u)m[y++]=T;return m}}}function Uh(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=Ke(u),T=eg(u),j=T.length,z=0;z<j;z++)m.call(void 0,T[z],y&&y[z],u)}var $h=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tg(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var T=u[y].indexOf("="),j=null;if(0<=T){var z=u[y].substring(0,T);j=u[y].substring(T+1)}else z=u[y];m(z,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Ci(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ci){this.h=u.h,Ia(this,u.j),this.o=u.o,this.g=u.g,cs(this,u.s),this.l=u.l;var m=u.i,y=new ds;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),hs(this,y),this.m=u.m}else u&&(m=String(u).match($h))?(this.h=!1,Ia(this,m[1]||"",!0),this.o=Je(m[2]||""),this.g=Je(m[3]||"",!0),cs(this,m[4]),this.l=Je(m[5]||"",!0),hs(this,m[6]||"",!0),this.m=Je(m[7]||"")):(this.h=!1,this.i=new ds(null,this.h))}Ci.prototype.toString=function(){var u=[],m=this.j;m&&u.push(wo(m,Bh,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(wo(m,Bh,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(wo(y,y.charAt(0)=="/"?rg:zh,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",wo(y,sg)),u.join("")};function Er(u){return new Ci(u)}function Ia(u,m,y){u.j=y?Je(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function cs(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function hs(u,m,y){m instanceof ds?(u.i=m,og(u.i,u.h)):(y||(m=wo(m,ig)),u.i=new ds(m,u.h))}function Qe(u,m,y){u.i.set(m,y)}function bi(u){return Qe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Je(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function wo(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,ng),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ng(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Bh=/[#\/\?@]/g,zh=/[#\?:]/g,rg=/[#\?]/g,ig=/[#\?@]/g,sg=/#/g;function ds(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function zr(u){u.g||(u.g=new Map,u.h=0,u.i&&tg(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}t=ds.prototype,t.add=function(u,m){zr(this),this.i=null,u=fs(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function mu(u,m){zr(u),m=fs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Wh(u,m){return zr(u),m=fs(u,m),u.g.has(m)}t.forEach=function(u,m){zr(this),this.g.forEach(function(y,T){y.forEach(function(j){u.call(m,j,T,this)},this)},this)},t.na=function(){zr(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let T=0;T<m.length;T++){const j=u[T];for(let z=0;z<j.length;z++)y.push(m[T])}return y},t.V=function(u){zr(this);let m=[];if(typeof u=="string")Wh(this,u)&&(m=m.concat(this.g.get(fs(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},t.set=function(u,m){return zr(this),this.i=null,u=fs(this,u),Wh(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Hh(u,m,y){mu(u,m),0<y.length&&(u.i=null,u.g.set(fs(u,m),x(y)),u.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var T=m[y];const z=encodeURIComponent(String(T)),ee=this.V(T);for(T=0;T<ee.length;T++){var j=z;ee[T]!==""&&(j+="="+encodeURIComponent(String(ee[T]))),u.push(j)}}return this.i=u.join("&")};function fs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function og(u,m){m&&!u.j&&(zr(u),u.i=null,u.g.forEach(function(y,T){var j=T.toLowerCase();T!=j&&(mu(this,T),Hh(this,j,y))},u)),u.j=m}function ag(u,m){const y=new ft;if(a.Image){const T=new Image;T.onload=E(Wr,y,"TestLoadImage: loaded",!0,m,T),T.onerror=E(Wr,y,"TestLoadImage: error",!1,m,T),T.onabort=E(Wr,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=E(Wr,y,"TestLoadImage: timeout",!1,m,T),a.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function lg(u,m){const y=new ft,T=new AbortController,j=setTimeout(()=>{T.abort(),Wr(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(z=>{clearTimeout(j),z.ok?Wr(y,"TestPingServer: ok",!0,m):Wr(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),Wr(y,"TestPingServer: error",!1,m)})}function Wr(u,m,y,T,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),T(y)}catch{}}function qh(){this.g=new Xm}function ug(u,m,y){const T=y||"";try{Uh(u,function(j,z){let ee=j;c(j)&&(ee=as(j)),m.push(T+z+"="+encodeURIComponent(ee))})}catch(j){throw m.push(T+"type="+encodeURIComponent("_badmap")),j}}function ps(u){this.l=u.Ub||null,this.j=u.eb||!1}I(ps,po),ps.prototype.g=function(){return new Sa(this.l,this.j)},ps.prototype.i=function(u){return function(){return u}}({});function Sa(u,m){Oe.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Sa,Oe),t=Sa.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,ms(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,or(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ms(this)),this.g&&(this.readyState=3,ms(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Gh(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Gh(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?or(this):ms(this),this.readyState==3&&Gh(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,or(this))},t.Qa=function(u){this.g&&(this.response=u,or(this))},t.ga=function(){this.g&&or(this)};function or(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ms(u)}t.setRequestHeader=function(u,m){this.u.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function ms(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Sa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Kh(u){let m="";return H(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function Eo(u,m,y){e:{for(T in y){var T=!1;break e}T=!0}T||(y=Kh(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Qe(u,m,y))}function it(u){Oe.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(it,Oe);var cg=/^https?$/i,hg=["POST","PUT"];t=it.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wa.g(),this.v=this.o?va(this.o):va(wa),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(z){Qh(this,z);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var j in T)y.set(j,T[j]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const z of T.keys())y.set(z,T.get(z));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(z=>z.toLowerCase()=="content-type"),j=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(hg,m,void 0))||T||j||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,ee]of y)this.g.setRequestHeader(z,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xi(this),this.u=!0,this.g.send(u),this.u=!1}catch(z){Qh(this,z)}};function Qh(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Yh(u),Ca(u)}function Yh(u){u.A||(u.A=!0,Xe(u,"complete"),Xe(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Xe(this,"complete"),Xe(this,"abort"),Ca(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ca(this,!0)),it.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Xh(this):this.bb())},t.bb=function(){Xh(this)};function Xh(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Tr(u)!=4||u.Z()!=2)){if(u.u&&Tr(u)==4)qn(u.Ea,0,u);else if(Xe(u,"readystatechange"),Tr(u)==4){u.h=!1;try{const ee=u.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var y;if(!(y=m)){var T;if(T=ee===0){var j=String(u.D).match($h)[1]||null;!j&&a.self&&a.self.location&&(j=a.self.location.protocol.slice(0,-1)),T=!cg.test(j?j.toLowerCase():"")}y=T}if(y)Xe(u,"complete"),Xe(u,"success");else{u.m=6;try{var z=2<Tr(u)?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.Z()+"]",Yh(u)}}finally{Ca(u)}}}}function Ca(u,m){if(u.g){xi(u);const y=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Xe(u,"ready");try{y.onreadystatechange=T}catch{}}}function xi(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Tr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Tr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),au(m)}};function gu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Jh(u){const m={};u=(u.g&&2<=Tr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var y=M(u[T]);const j=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const z=m[j]||[];m[j]=z,z.push(y)}C(m,function(T){return T.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function To(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function Zh(u){this.Aa=0,this.i=[],this.j=new ft,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=To("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=To("baseRetryDelayMs",5e3,u),this.cb=To("retryDelaySeedMs",1e4,u),this.Wa=To("forwardChannelMaxRetries",2,u),this.wa=To("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Mh(u&&u.concurrentRequestLimit),this.Da=new qh,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Zh.prototype,t.la=8,t.G=1,t.connect=function(u,m,y,T){et(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.I=wu(this,null,this.W),xa(this)};function yu(u){if(ed(u),u.G==3){var m=u.U++,y=Er(u.I);if(Qe(y,"SID",u.K),Qe(y,"RID",m),Qe(y,"TYPE","terminate"),Io(u,y),m=new Br(u,u.j,m),m.L=2,m.v=bi(Er(y)),y=!1,a.navigator&&a.navigator.sendBeacon)try{y=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&a.Image&&(new Image().src=m.v,y=!0),y||(m.g=Ri(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ea(m)}id(u)}function ba(u){u.g&&(ar(u),u.g.cancel(),u.g=null)}function ed(u){ba(u),u.u&&(a.clearTimeout(u.u),u.u=null),So(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function xa(u){if(!Fh(u.h)&&!u.s){u.s=!0;var m=u.Ga;Ne||ce(),re||(Ne(),re=!0),Q.add(m,u),u.B=0}}function dg(u,m){return Ta(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Kn(g(u.Ga,u,m),rd(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const j=new Br(this,this.j,u);let z=this.o;if(this.S&&(z?(z=b(z),P(z,this.S)):z=this.S),this.m!==null||this.O||(j.H=z,z=null),this.P)e:{for(var m=0,y=0;y<this.i.length;y++){t:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=y;break e}if(m===4096||y===this.i.length-1){m=y+1;break e}}m=1e3}else m=1e3;m=td(this,j,m),y=Er(this.I),Qe(y,"RID",u),Qe(y,"CVER",22),this.D&&Qe(y,"X-HTTP-Session-Id",this.D),Io(this,y),z&&(this.O?m="headers="+encodeURIComponent(String(Kh(z)))+"&"+m:this.m&&Eo(y,this.m,z)),pu(this.h,j),this.Ua&&Qe(y,"TYPE","init"),this.P?(Qe(y,"$req",m),Qe(y,"SID","null"),j.T=!0,_r(j,y,null)):_r(j,y,m),this.G=2}}else this.G==3&&(u?ki(this,u):this.i.length==0||Fh(this.h)||ki(this))};function ki(u,m){var y;m?y=m.l:y=u.U++;const T=Er(u.I);Qe(T,"SID",u.K),Qe(T,"RID",y),Qe(T,"AID",u.T),Io(u,T),u.m&&u.o&&Eo(T,u.m,u.o),y=new Br(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=td(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),pu(u.h,y),_r(y,T,m)}function Io(u,m){u.H&&H(u.H,function(y,T){Qe(m,T,y)}),u.l&&Uh({},function(y,T){Qe(m,T,y)})}function td(u,m,y){y=Math.min(u.i.length,y);var T=u.l?g(u.l.Na,u.l,u):null;e:{var j=u.i;let z=-1;for(;;){const ee=["count="+y];z==-1?0<y?(z=j[0].g,ee.push("ofs="+z)):z=0:ee.push("ofs="+z);let He=!0;for(let Dt=0;Dt<y;Dt++){let De=j[Dt].g;const Lt=j[Dt].map;if(De-=z,0>De)z=Math.max(0,j[Dt].g-100),He=!1;else try{ug(Lt,ee,"req"+De+"_")}catch{T&&T(Lt)}}if(He){T=ee.join("&");break e}}}return u=u.i.splice(0,y),m.D=u,T}function vu(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Ne||ce(),re||(Ne(),re=!0),Q.add(m,u),u.v=0}}function _u(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Kn(g(u.Fa,u),rd(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,nd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Kn(g(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,et(10),ba(this),nd(this))};function ar(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function nd(u){u.g=new Br(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Er(u.qa);Qe(m,"RID","rpc"),Qe(m,"SID",u.K),Qe(m,"AID",u.T),Qe(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qe(m,"TO",u.ja),Qe(m,"TYPE","xmlhttp"),Io(u,m),u.m&&u.o&&Eo(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=bi(Er(m)),y.m=null,y.P=!0,Oh(y,u)}t.Za=function(){this.C!=null&&(this.C=null,ba(this),_u(this),et(19))};function So(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function gs(u,m){var y=null;if(u.g==m){So(u),ar(u),u.g=null;var T=2}else if(fu(u.h,m))y=m.D,Vh(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var j=u.B;T=Ti(),Xe(T,new vr(T,y)),xa(u)}else vu(u);else if(j=m.s,j==3||j==0&&0<m.X||!(T==1&&dg(u,m)||T==2&&_u(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),j){case 1:Ai(u,5);break;case 4:Ai(u,10);break;case 3:Ai(u,6);break;default:Ai(u,2)}}}function rd(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function Ai(u,m){if(u.j.info("Error code "+m),m==2){var y=g(u.fb,u),T=u.Xa;const j=!T;T=new Ci(T||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ia(T,"https"),bi(T),j?ag(T.toString(),y):lg(T.toString(),y)}else et(2);u.G=0,u.l&&u.l.sa(m),id(u),ed(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),et(2)):(this.j.info("Failed to ping google.com"),et(1))};function id(u){if(u.G=0,u.ka=[],u.l){const m=jh(u.h);(m.length!=0||u.i.length!=0)&&(D(u.ka,m),D(u.ka,u.i),u.h.i.length=0,x(u.i),u.i.length=0),u.l.ra()}}function wu(u,m,y){var T=y instanceof Ci?Er(y):new Ci(y);if(T.g!="")m&&(T.g=m+"."+T.g),cs(T,T.s);else{var j=a.location;T=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;var z=new Ci(null);T&&Ia(z,T),m&&(z.g=m),j&&cs(z,j),y&&(z.l=y),T=z}return y=u.D,m=u.ya,y&&m&&Qe(T,y,m),Qe(T,"VER",u.la),Io(u,T),T}function Ri(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new it(new ps({eb:y})):new it(u.pa),m.Ha(u.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function sd(){}t=sd.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ka(){}ka.prototype.g=function(u,m){return new Cn(u,m)};function Cn(u,m){Oe.call(this),this.g=new Zh(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!w(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ys(this)}I(Cn,Oe),Cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){yu(this.g)},Cn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=as(u),u=y);m.i.push(new Zm(m.Ya++,u)),m.G==3&&xa(m)},Cn.prototype.N=function(){this.g.l=null,delete this.j,yu(this.g),delete this.g,Cn.aa.N.call(this)};function od(u){en.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const y in m){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}I(od,en);function ad(){Gn.call(this),this.status=1}I(ad,Gn);function ys(u){this.g=u}I(ys,sd),ys.prototype.ua=function(){Xe(this.g,"a")},ys.prototype.ta=function(u){Xe(this.g,new od(u))},ys.prototype.sa=function(u){Xe(this.g,new ad)},ys.prototype.ra=function(){Xe(this.g,"b")},ka.prototype.createWebChannel=ka.prototype.g,Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,PA=function(){return new ka},RA=function(){return Ti()},AA=Ei,o_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_a.NO_ERROR=0,_a.TIMEOUT=8,_a.HTTP_ERROR=6,vf=_a,cu.COMPLETE="complete",kA=cu,mo.EventType=go,go.OPEN="a",go.CLOSE="b",go.ERROR="c",go.MESSAGE="d",Oe.prototype.listen=Oe.prototype.K,qu=mo,xA=ps,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,bA=it}).apply(typeof Fd<"u"?Fd:typeof self<"u"?self:typeof window<"u"?window:{});const JI="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ru="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=new Tm("@firebase/firestore");function Mu(){return sa.logLevel}function le(t,...e){if(sa.logLevel<=Ae.DEBUG){const n=e.map(Fw);sa.debug(`Firestore (${ru}): ${t}`,...n)}}function Ji(t,...e){if(sa.logLevel<=Ae.ERROR){const n=e.map(Fw);sa.error(`Firestore (${ru}): ${t}`,...n)}}function Ll(t,...e){if(sa.logLevel<=Ae.WARN){const n=e.map(Fw);sa.warn(`Firestore (${ru}): ${t}`,...n)}}function Fw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(t="Unexpected state"){const e=`FIRESTORE (${ru}) INTERNAL ASSERTION FAILED: `+t;throw Ji(e),new Error(e)}function rt(t,e){t||me()}function ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends yi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class S${getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(mn.UNAUTHENTICATED))}shutdown(){}}class C${constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class b${constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ys;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ys,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ys)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rt(typeof r.accessToken=="string"),new NA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string"),new mn(e)}}class x${constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class k${constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new x$(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class A${constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class R${constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,le("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(rt(typeof n.token=="string"),this.R=n.token,new A$(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P$(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=P$(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ue(t,e){return t<e?-1:t>e?1:0}function Ml(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new he(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $t.fromMillis(Date.now())}static fromDate(e){return $t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new $t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ge(e)}static min(){return new ge(new $t(0,0))}static max(){return new ge(new $t(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n,r){n===void 0?n=0:n>e.length&&me(),r===void 0?r=e.length-n:r>e.length-n&&me(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Xc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class It extends Xc{construct(e,n,r){return new It(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new he(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new It(n)}static emptyPath(){return new It([])}}const N$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Xc{construct(e,n,r){return new sn(e,n,r)}static isValidIdentifier(e){return N$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new sn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new he(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new he(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new he(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new he(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(n)}static emptyPath(){return new sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.path=e}static fromPath(e){return new de(It.fromString(e))}static fromName(e){return new de(It.fromString(e).popFirst(5))}static empty(){return new de(It.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&It.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return It.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new It(e.slice()))}}function O$(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ge.fromTimestamp(r===1e9?new $t(n+1,0):new $t(n,r));return new no(i,de.empty(),e)}function D$(t){return new no(t.readTime,t.key,-1)}class no{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new no(ge.min(),de.empty(),-1)}static max(){return new no(ge.max(),de.empty(),-1)}}function L$(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(t.documentKey,e.documentKey),n!==0?n:Ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class F${constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ch(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==M$)throw t;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&me(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.reject(n)}static resolve(e){return new Y((n,r)=>{n(e)})}static reject(e){return new Y((n,r)=>{r(e)})}static waitFor(e){return new Y((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=Y.resolve(!1);for(const r of e)n=n.next(i=>i?Y.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Y((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new Y((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function V$(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Vw.oe=-1;function Lm(t){return t==null}function Rp(t){return t===0&&1/t==-1/0}function j$(t){return typeof t=="number"&&Number.isInteger(t)&&!Rp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ga(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function DA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n){this.comparator=e,this.root=n||nn.EMPTY}insert(e,n){return new wt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vd(this.root,e,this.comparator,!0)}}class Vd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??nn.RED,this.left=i??nn.EMPTY,this.right=s??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new nn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return nn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw me();const e=this.left.check();if(e!==this.right.check())throw me();return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw me()}get value(){throw me()}get color(){throw me()}get left(){throw me()}get right(){throw me()}copy(e,n,r,i,s){return this}insert(e,n,r){return new nn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new eS(this.data.getIterator())}getIteratorFrom(e){return new eS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof an)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new an(this.comparator);return n.data=e,n}}class eS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new Zn([])}unionWith(e){let n=new an(sn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ml(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new LA("Invalid base64 string: "+s):s}}(e);return new Tn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tn.EMPTY_BYTE_STRING=new Tn("");const U$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ro(t){if(rt(!!t),typeof t=="string"){let e=0;const n=U$.exec(t);if(rt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rt(t.seconds),nanos:Rt(t.nanos)}}function Rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function oa(t){return typeof t=="string"?Tn.fromBase64String(t):Tn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Uw(t){const e=t.mapValue.fields.__previous_value__;return jw(e)?Uw(e):e}function Jc(t){const e=ro(t.mapValue.fields.__local_write_time__.timestampValue);return new $t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Zc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Zc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Zc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function aa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?jw(t)?4:B$(t)?9007199254740991:10:me()}function pi(t,e){if(t===e)return!0;const n=aa(t);if(n!==aa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Jc(t).isEqual(Jc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ro(i.timestampValue),a=ro(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return oa(i.bytesValue).isEqual(oa(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Rt(i.geoPointValue.latitude)===Rt(s.geoPointValue.latitude)&&Rt(i.geoPointValue.longitude)===Rt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Rt(i.integerValue)===Rt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Rt(i.doubleValue),a=Rt(s.doubleValue);return o===a?Rp(o)===Rp(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ml(t.arrayValue.values||[],e.arrayValue.values||[],pi);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(ZI(o)!==ZI(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!pi(o[l],a[l])))return!1;return!0}(t,e);default:return me()}}function eh(t,e){return(t.values||[]).find(n=>pi(n,e))!==void 0}function Fl(t,e){if(t===e)return 0;const n=aa(t),r=aa(e);if(n!==r)return Ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Rt(s.integerValue||s.doubleValue),l=Rt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return tS(t.timestampValue,e.timestampValue);case 4:return tS(Jc(t),Jc(e));case 5:return Ue(t.stringValue,e.stringValue);case 6:return function(s,o){const a=oa(s),l=oa(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=Ue(a[c],l[c]);if(d!==0)return d}return Ue(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ue(Rt(s.latitude),Rt(o.latitude));return a!==0?a:Ue(Rt(s.longitude),Rt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const d=Fl(a[c],l[c]);if(d)return d}return Ue(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===jd.mapValue&&o===jd.mapValue)return 0;if(s===jd.mapValue)return 1;if(o===jd.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const g=Ue(l[f],d[f]);if(g!==0)return g;const E=Fl(a[l[f]],c[d[f]]);if(E!==0)return E}return Ue(l.length,d.length)}(t.mapValue,e.mapValue);default:throw me()}}function tS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ue(t,e);const n=ro(t),r=ro(e),i=Ue(n.seconds,r.seconds);return i!==0?i:Ue(n.nanos,r.nanos)}function Vl(t){return a_(t)}function a_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ro(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return oa(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return de.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=a_(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${a_(n.fields[o])}`;return i+"}"}(t.mapValue):me()}function l_(t){return!!t&&"integerValue"in t}function $w(t){return!!t&&"arrayValue"in t}function nS(t){return!!t&&"nullValue"in t}function rS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _f(t){return!!t&&"mapValue"in t}function dc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ga(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=dc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=dc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function B$(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!_f(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=dc(n)}setAll(e){let n=sn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=dc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());_f(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];_f(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ga(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Mn(dc(this.value))}}function MA(t){const e=[];return ga(t.fields,(n,r)=>{const i=new sn([n]);if(_f(r)){const s=MA(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new _n(e,0,ge.min(),ge.min(),ge.min(),Mn.empty(),0)}static newFoundDocument(e,n,r,i){return new _n(e,1,n,ge.min(),r,i,0)}static newNoDocument(e,n){return new _n(e,2,n,ge.min(),ge.min(),Mn.empty(),0)}static newUnknownDocument(e,n){return new _n(e,3,n,ge.min(),ge.min(),Mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,n){this.position=e,this.inclusive=n}}function iS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=de.comparator(de.fromName(o.referenceValue),n.key):r=Fl(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function sS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!pi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,n="asc"){this.field=e,this.dir=n}}function z$(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{}class jt extends FA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new H$(e,n,r):n==="array-contains"?new K$(e,r):n==="in"?new Q$(e,r):n==="not-in"?new Y$(e,r):n==="array-contains-any"?new X$(e,r):new jt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new q$(e,r):new G$(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Fl(n,this.value)):n!==null&&aa(this.value)===aa(n)&&this.matchesComparison(Fl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return me()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mi extends FA{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new mi(e,n)}matches(e){return VA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function VA(t){return t.op==="and"}function jA(t){return W$(t)&&VA(t)}function W$(t){for(const e of t.filters)if(e instanceof mi)return!1;return!0}function u_(t){if(t instanceof jt)return t.field.canonicalString()+t.op.toString()+Vl(t.value);if(jA(t))return t.filters.map(e=>u_(e)).join(",");{const e=t.filters.map(n=>u_(n)).join(",");return`${t.op}(${e})`}}function UA(t,e){return t instanceof jt?function(r,i){return i instanceof jt&&r.op===i.op&&r.field.isEqual(i.field)&&pi(r.value,i.value)}(t,e):t instanceof mi?function(r,i){return i instanceof mi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&UA(o,i.filters[a]),!0):!1}(t,e):void me()}function $A(t){return t instanceof jt?function(n){return`${n.field.canonicalString()} ${n.op} ${Vl(n.value)}`}(t):t instanceof mi?function(n){return n.op.toString()+" {"+n.getFilters().map($A).join(" ,")+"}"}(t):"Filter"}class H$ extends jt{constructor(e,n,r){super(e,n,r),this.key=de.fromName(r.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class q$ extends jt{constructor(e,n){super(e,"in",n),this.keys=BA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class G$ extends jt{constructor(e,n){super(e,"not-in",n),this.keys=BA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function BA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>de.fromName(r.referenceValue))}class K$ extends jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $w(n)&&eh(n.arrayValue,this.value)}}class Q$ extends jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&eh(this.value.arrayValue,n)}}class Y$ extends jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(eh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!eh(this.value.arrayValue,n)}}class X$ extends jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$w(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>eh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J${constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function oS(t,e=null,n=[],r=[],i=null,s=null,o=null){return new J$(t,e,n,r,i,s,o)}function Bw(t){const e=ve(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>u_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Lm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Vl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Vl(r)).join(",")),e.ue=n}return e.ue}function zw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!z$(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!UA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!sS(t.startAt,e.startAt)&&sS(t.endAt,e.endAt)}function c_(t){return de.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Z$(t,e,n,r,i,s,o,a){return new Mm(t,e,n,r,i,s,o,a)}function Fm(t){return new Mm(t)}function aS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function eB(t){return t.collectionGroup!==null}function fc(t){const e=ve(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new an(sn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Np(s,r))}),n.has(sn.keyField().canonicalString())||e.ce.push(new Np(sn.keyField(),r))}return e.ce}function ui(t){const e=ve(t);return e.le||(e.le=tB(e,fc(t))),e.le}function tB(t,e){if(t.limitType==="F")return oS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Np(i.field,s)});const n=t.endAt?new Pp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Pp(t.startAt.position,t.startAt.inclusive):null;return oS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function h_(t,e,n){return new Mm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vm(t,e){return zw(ui(t),ui(e))&&t.limitType===e.limitType}function zA(t){return`${Bw(ui(t))}|lt:${t.limitType}`}function La(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>$A(i)).join(", ")}]`),Lm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Vl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Vl(i)).join(",")),`Target(${r})`}(ui(t))}; limitType=${t.limitType})`}function jm(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):de.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of fc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=iS(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,fc(r),i)||r.endAt&&!function(o,a,l){const c=iS(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,fc(r),i))}(t,e)}function nB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function WA(t){return(e,n)=>{let r=!1;for(const i of fc(t)){const s=rB(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function rB(t,e,n){const r=t.field.isKeyField()?de.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Fl(l,c):me()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return me()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ga(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return DA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iB=new wt(de.comparator);function Zi(){return iB}const HA=new wt(de.comparator);function Gu(...t){let e=HA;for(const n of t)e=e.insert(n.key,n);return e}function qA(t){let e=HA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Uo(){return pc()}function GA(){return pc()}function pc(){return new iu(t=>t.toString(),(t,e)=>t.isEqual(e))}const sB=new wt(de.comparator),oB=new an(de.comparator);function Re(...t){let e=oB;for(const n of t)e=e.add(n);return e}const aB=new an(Ue);function lB(){return aB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rp(e)?"-0":e}}function QA(t){return{integerValue:""+t}}function uB(t,e){return j$(e)?QA(e):KA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(){this._=void 0}}function cB(t,e,n){return t instanceof Op?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&jw(s)&&(s=Uw(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof jl?XA(t,e):t instanceof th?JA(t,e):function(i,s){const o=YA(i,s),a=lS(o)+lS(i.Pe);return l_(o)&&l_(i.Pe)?QA(a):KA(i.serializer,a)}(t,e)}function hB(t,e,n){return t instanceof jl?XA(t,e):t instanceof th?JA(t,e):n}function YA(t,e){return t instanceof Dp?function(r){return l_(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Op extends Um{}class jl extends Um{constructor(e){super(),this.elements=e}}function XA(t,e){const n=ZA(e);for(const r of t.elements)n.some(i=>pi(i,r))||n.push(r);return{arrayValue:{values:n}}}class th extends Um{constructor(e){super(),this.elements=e}}function JA(t,e){let n=ZA(e);for(const r of t.elements)n=n.filter(i=>!pi(i,r));return{arrayValue:{values:n}}}class Dp extends Um{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function lS(t){return Rt(t.integerValue||t.doubleValue)}function ZA(t){return $w(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB{constructor(e,n){this.field=e,this.transform=n}}function fB(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof jl&&i instanceof jl||r instanceof th&&i instanceof th?Ml(r.elements,i.elements,pi):r instanceof Dp&&i instanceof Dp?pi(r.Pe,i.Pe):r instanceof Op&&i instanceof Op}(t.transform,e.transform)}class pB{constructor(e,n){this.version=e,this.transformResults=n}}class ci{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ci}static exists(e){return new ci(void 0,e)}static updateTime(e){return new ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class $m{}function eR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new nR(t.key,ci.none()):new xh(t.key,t.data,ci.none());{const n=t.data,r=Mn.empty();let i=new an(sn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new co(t.key,r,new Zn(i.toArray()),ci.none())}}function mB(t,e,n){t instanceof xh?function(i,s,o){const a=i.value.clone(),l=cS(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof co?function(i,s,o){if(!wf(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=cS(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(tR(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function mc(t,e,n,r){return t instanceof xh?function(s,o,a,l){if(!wf(s.precondition,o))return a;const c=s.value.clone(),d=hS(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof co?function(s,o,a,l){if(!wf(s.precondition,o))return a;const c=hS(s.fieldTransforms,l,o),d=o.data;return d.setAll(tR(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return wf(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function gB(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=YA(r.transform,i||null);s!=null&&(n===null&&(n=Mn.empty()),n.set(r.field,s))}return n||null}function uS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ml(r,i,(s,o)=>fB(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xh extends $m{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class co extends $m{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function tR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function cS(t,e,n){const r=new Map;rt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,hB(o,a,n[i]))}return r}function hS(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,cB(s,o,e))}return r}class nR extends $m{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yB extends $m{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&mB(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=mc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=mc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=GA();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=eR(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ge.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Re())}isEqual(e){return this.batchId===e.batchId&&Ml(this.mutations,e.mutations,(n,r)=>uS(n,r))&&Ml(this.baseMutations,e.baseMutations,(n,r)=>uS(n,r))}}class Ww{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){rt(e.mutations.length===r.length);let i=function(){return sB}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Ww(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,Le;function EB(t){switch(t){default:return me();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0}}function rR(t){if(t===void 0)return Ji("GRPC error has no .code"),X.UNKNOWN;switch(t){case At.OK:return X.OK;case At.CANCELLED:return X.CANCELLED;case At.UNKNOWN:return X.UNKNOWN;case At.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case At.INTERNAL:return X.INTERNAL;case At.UNAVAILABLE:return X.UNAVAILABLE;case At.UNAUTHENTICATED:return X.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case At.NOT_FOUND:return X.NOT_FOUND;case At.ALREADY_EXISTS:return X.ALREADY_EXISTS;case At.PERMISSION_DENIED:return X.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case At.ABORTED:return X.ABORTED;case At.OUT_OF_RANGE:return X.OUT_OF_RANGE;case At.UNIMPLEMENTED:return X.UNIMPLEMENTED;case At.DATA_LOSS:return X.DATA_LOSS;default:return me()}}(Le=At||(At={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TB(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IB=new qo([4294967295,4294967295],0);function dS(t){const e=TB().encode(t),n=new CA;return n.update(e),new Uint8Array(n.digest())}function fS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new qo([n,r],0),new qo([i,s],0)]}class Hw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ku(`Invalid padding: ${n}`);if(r<0)throw new Ku(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ku(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ku(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=qo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(qo.fromNumber(r)));return i.compare(IB)===1&&(i=new qo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=dS(e),[r,i]=fS(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Hw(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=dS(e),[r,i]=fS(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ku extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,kh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Bm(ge.min(),i,new wt(Ue),Zi(),Re())}}class kh{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new kh(r,n,Re(),Re(),Re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class iR{constructor(e,n){this.targetId=e,this.me=n}}class sR{constructor(e,n,r=Tn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class pS{constructor(){this.fe=0,this.ge=gS(),this.pe=Tn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Re(),n=Re(),r=Re();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:me()}}),new kh(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=gS()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,rt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class SB{constructor(e){this.Le=e,this.Be=new Map,this.ke=Zi(),this.qe=mS(),this.Qe=new wt(Ue)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:me()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(c_(s))if(r===0){const o=new de(s.path);this.Ue(n,o,_n.newNoDocument(o,ge.min()))}else rt(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=oa(r).toUint8Array()}catch(l){if(l instanceof LA)return Ll("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Hw(o,i,s)}catch(l){return Ll(l instanceof Ku?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&c_(a.target)){const l=new de(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,_n.newNoDocument(l,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=Re();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Bm(e,n,this.Qe,this.ke,r);return this.ke=Zi(),this.qe=mS(),this.Qe=new wt(Ue),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new pS,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new an(Ue),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new pS),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function mS(){return new wt(de.comparator)}function gS(){return new wt(de.comparator)}const CB=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),bB=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),xB=(()=>({and:"AND",or:"OR"}))();class kB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function d_(t,e){return t.useProto3Json||Lm(e)?e:{value:e}}function Lp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function AB(t,e){return Lp(t,e.toTimestamp())}function hi(t){return rt(!!t),ge.fromTimestamp(function(n){const r=ro(n);return new $t(r.seconds,r.nanos)}(t))}function qw(t,e){return f_(t,e).canonicalString()}function f_(t,e){const n=function(i){return new It(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function aR(t){const e=It.fromString(t);return rt(dR(e)),e}function p_(t,e){return qw(t.databaseId,e.path)}function my(t,e){const n=aR(e);if(n.get(1)!==t.databaseId.projectId)throw new he(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new he(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new de(uR(n))}function lR(t,e){return qw(t.databaseId,e)}function RB(t){const e=aR(t);return e.length===4?It.emptyPath():uR(e)}function m_(t){return new It(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function uR(t){return rt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function yS(t,e,n){return{name:p_(t,e),fields:n.value.mapValue.fields}}function PB(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:me()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(rt(d===void 0||typeof d=="string"),Tn.fromBase64String(d||"")):(rt(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Tn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?X.UNKNOWN:rR(c.code);return new he(d,c.message||"")}(o);n=new sR(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=my(t,r.document.name),s=hi(r.document.updateTime),o=r.document.createTime?hi(r.document.createTime):ge.min(),a=new Mn({mapValue:{fields:r.document.fields}}),l=_n.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Ef(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=my(t,r.document),s=r.readTime?hi(r.readTime):ge.min(),o=_n.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ef([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=my(t,r.document),s=r.removedTargetIds||[];n=new Ef([],s,i,null)}else{if(!("filter"in e))return me();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new wB(i,s),a=r.targetId;n=new iR(a,o)}}return n}function NB(t,e){let n;if(e instanceof xh)n={update:yS(t,e.key,e.value)};else if(e instanceof nR)n={delete:p_(t,e.key)};else if(e instanceof co)n={update:yS(t,e.key,e.data),updateMask:$B(e.fieldMask)};else{if(!(e instanceof yB))return me();n={verify:p_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Op)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof jl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof th)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Dp)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw me()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:AB(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:me()}(t,e.precondition)),n}function OB(t,e){return t&&t.length>0?(rt(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?hi(i.updateTime):hi(s);return o.isEqual(ge.min())&&(o=hi(s)),new pB(o,i.transformResults||[])}(n,e))):[]}function DB(t,e){return{documents:[lR(t,e.path)]}}function LB(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=lR(t,i);const s=function(c){if(c.length!==0)return hR(mi.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(g){return{field:Ma(g.field),direction:VB(g.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=d_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function MB(t){let e=RB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){rt(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const g=cR(f);return g instanceof mi&&jA(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(g=>function(I){return new Np(Fa(I.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(f){let g;return g=typeof f=="object"?f.value:f,Lm(g)?null:g}(n.limit));let l=null;n.startAt&&(l=function(f){const g=!!f.before,E=f.values||[];return new Pp(E,g)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const g=!f.before,E=f.values||[];return new Pp(E,g)}(n.endAt)),Z$(e,i,o,s,a,"F",l,c)}function FB(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return me()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function cR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Fa(n.unaryFilter.field);return jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Fa(n.unaryFilter.field);return jt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Fa(n.unaryFilter.field);return jt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Fa(n.unaryFilter.field);return jt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return me()}}(t):t.fieldFilter!==void 0?function(n){return jt.create(Fa(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return me()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return mi.create(n.compositeFilter.filters.map(r=>cR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return me()}}(n.compositeFilter.op))}(t):me()}function VB(t){return CB[t]}function jB(t){return bB[t]}function UB(t){return xB[t]}function Ma(t){return{fieldPath:t.canonicalString()}}function Fa(t){return sn.fromServerFormat(t.fieldPath)}function hR(t){return t instanceof jt?function(n){if(n.op==="=="){if(rS(n.value))return{unaryFilter:{field:Ma(n.field),op:"IS_NAN"}};if(nS(n.value))return{unaryFilter:{field:Ma(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(rS(n.value))return{unaryFilter:{field:Ma(n.field),op:"IS_NOT_NAN"}};if(nS(n.value))return{unaryFilter:{field:Ma(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ma(n.field),op:jB(n.op),value:n.value}}}(t):t instanceof mi?function(n){const r=n.getFilters().map(i=>hR(i));return r.length===1?r[0]:{compositeFilter:{op:UB(n.op),filters:r}}}(t):me()}function $B(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function dR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,n,r,i,s=ge.min(),o=ge.min(),a=Tn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ls(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{constructor(e){this.ct=e}}function zB(t){const e=MB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?h_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(){this._n=new HB}addToCollectionParentIndex(e,n){return this._n.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve(no.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve(no.min())}updateCollectionGroup(e,n,r){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class HB{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new an(It.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new an(It.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Ul(0)}static Ln(){return new Ul(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(){this.changes=new iu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&mc(r.mutation,i,Zn.empty(),$t.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Re()){const i=Uo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Gu();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Uo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Re()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Zi();const o=pc(),a=function(){return pc()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof co)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),mc(d.mutation,c,d.mutation.getFieldMask(),$t.now())):o.set(c.key,Zn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new GB(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=pc();let i=new wt((o,a)=>o-a),s=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||Zn.empty();d=a.applyToLocalView(c,d),r.set(l,d);const f=(i.get(a.batchId)||Re()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,f=GA();d.forEach(g=>{if(!s.has(g)){const E=eR(n.get(g),r.get(g));E!==null&&f.set(g,E),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return Y.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return de.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):eB(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Y.resolve(Uo());let a=-1,l=s;return o.next(c=>Y.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?Y.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{l=l.insert(d,g)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Re())).next(d=>({batchId:a,changes:qA(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next(r=>{let i=Gu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Gu();return this.indexManager.getCollectionParents(e,s).next(a=>Y.forEach(a,l=>{const c=function(f,g){return new Mm(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((f,g)=>{o=o.insert(f,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,_n.newInvalidDocument(d)))});let a=Gu();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&mc(d.mutation,c,Zn.empty(),$t.now()),jm(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return Y.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:hi(i.createTime)}}(n)),Y.resolve()}getNamedQuery(e,n){return Y.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:zB(i.bundledQuery),readTime:hi(i.readTime)}}(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{constructor(){this.overlays=new wt(de.comparator),this.hr=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Uo();return Y.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),Y.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),Y.resolve()}getOverlaysForCollection(e,n,r){const i=Uo(),s=n.length+1,o=new de(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new wt((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=Uo(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Uo(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return Y.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new _B(n,r));let s=this.hr.get(n);s===void 0&&(s=Re(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(){this.Pr=new an(Gt.Ir),this.Tr=new an(Gt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Gt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Gt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new de(new It([])),r=new Gt(n,e),i=new Gt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new de(new It([])),r=new Gt(n,e),i=new Gt(n,e+1);let s=Re();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Gt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Gt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return de.comparator(e.key,n.key)||Ue(e.pr,n.pr)}static Er(e,n){return Ue(e.pr,n.pr)||de.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new an(Gt.Ir)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new vB(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new Gt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Y.resolve(o)}lookupMutationBatch(e,n){return Y.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return Y.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Gt(n,0),i=new Gt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),Y.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new an(Ue);return n.forEach(i=>{const s=new Gt(i,0),o=new Gt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),Y.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;de.isDocumentKey(s)||(s=s.child(""));const o=new Gt(new de(s),0);let a=new an(Ue);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.pr)),!0)},o),Y.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){rt(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return Y.forEach(n.mutations,i=>{const s=new Gt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Gt(n,0),i=this.wr.firstAfterOrEqual(r);return Y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB{constructor(e){this.vr=e,this.docs=function(){return new wt(de.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Y.resolve(r?r.document.mutableCopy():_n.newInvalidDocument(n))}getEntries(e,n){let r=Zi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():_n.newInvalidDocument(i))}),Y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Zi();const o=n.path,a=new de(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||L$(D$(d),r)<=0||(i.has(d.key)||jm(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return Y.resolve(s)}getAllFromCollectionGroup(e,n,r,i){me()}Fr(e,n){return Y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ZB(this)}getSize(e){return Y.resolve(this.size)}}class ZB extends qB{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),Y.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(e){this.persistence=e,this.Mr=new iu(n=>Bw(n),zw),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Gw,this.targetCount=0,this.Lr=Ul.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),Y.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Ul(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.qn(n),Y.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Y.waitFor(s).next(()=>i)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return Y.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),Y.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Y.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return Y.resolve(r)}containsKey(e,n){return Y.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(e,n){this.Br={},this.overlays={},this.kr=new Vw(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new e8(this),this.indexManager=new WB,this.remoteDocumentCache=function(i){return new JB(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new BB(n),this.$r=new QB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new YB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new XB(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){le("MemoryPersistence","Starting transaction:",e);const i=new n8(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return Y.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class n8 extends F${constructor(e){super(),this.currentSequenceNumber=e}}class Kw{constructor(e){this.persistence=e,this.zr=new Gw,this.jr=null}static Hr(e){return new Kw(e)}get Jr(){if(this.jr)return this.jr;throw me()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),Y.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),Y.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.Jr,r=>{const i=de.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,ge.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return Y.or([()=>Y.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Re(),i=Re();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Qw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return D4()?8:V$(un())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new r8;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Mu()<=Ae.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",La(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Y.resolve()):(Mu()<=Ae.DEBUG&&le("QueryEngine","Query:",La(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Mu()<=Ae.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",La(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ui(n))):Y.resolve())}ji(e,n){if(aS(n))return Y.resolve(null);let r=ui(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=h_(n,null,"F"),r=ui(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Re(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Zi(n,a);return this.Xi(n,c,o,l.readTime)?this.ji(e,h_(n,null,"F")):this.es(e,c,n,l)}))})))}Hi(e,n,r,i){return aS(n)||i.isEqual(ge.min())?Y.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?Y.resolve(null):(Mu()<=Ae.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),La(n)),this.es(e,o,n,O$(i,-1)).next(a=>a))})}Zi(e,n){let r=new an(WA(e));return n.forEach((i,s)=>{jm(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Mu()<=Ae.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",La(n)),this.zi.getDocumentsMatchingQuery(e,n,no.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new wt(Ue),this.rs=new iu(s=>Bw(s),zw),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KB(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function o8(t,e,n,r){return new s8(t,e,n,r)}async function fR(t,e){const n=ve(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Re();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function a8(t,e){const n=ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const f=c.batch,g=f.keys();let E=Y.resolve();return g.forEach(I=>{E=E.next(()=>d.getEntry(l,I)).next(x=>{const D=c.docVersions.get(I);rt(D!==null),x.version.compareTo(D)<0&&(f.applyToRemoteDocument(x,c),x.isValidDocument()&&(x.setReadTime(c.commitVersion),d.addEntry(x)))})}),E.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Re();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function pR(t){const e=ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function l8(t,e){const n=ve(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((d,f)=>{const g=i.get(f);if(!g)return;a.push(n.Qr.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Qr.addMatchingKeys(s,d.addedDocuments,f)));let E=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?E=E.withResumeToken(Tn.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):d.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(d.resumeToken,r)),i=i.insert(f,E),function(x,D,S){return x.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(g,E,d)&&a.push(n.Qr.updateTargetData(s,E))});let l=Zi(),c=Re();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(u8(s,o,e.documentUpdates).next(d=>{l=d.cs,c=d.ls})),!r.isEqual(ge.min())){const d=n.Qr.getLastRemoteSnapshotVersion(s).next(f=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return Y.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ns=i,s))}function u8(t,e,n){let r=Re(),i=Re();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Zi();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ge.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):le("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:o,ls:i}})}function c8(t,e){const n=ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function h8(t,e){const n=ve(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,Y.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new Ls(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function g_(t,e,n){const r=ve(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!bh(o))throw o;le("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function vS(t,e,n){const r=ve(t);let i=ge.min(),s=Re();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const f=ve(l),g=f.rs.get(d);return g!==void 0?Y.resolve(f.ns.get(g)):f.Qr.getTargetData(c,d)}(r,o,ui(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:ge.min(),n?s:Re())).next(a=>(d8(r,nB(e),a),{documents:a,hs:s})))}function d8(t,e,n){let r=t.ss.get(e)||ge.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class _S{constructor(){this.activeTargetIds=lB()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class f8{constructor(){this.no=new _S,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new _S,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p8{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ud=null;function gy(){return Ud===null?Ud=function(){return 268435456+Math.round(2147483648*Math.random())}():Ud++,"0x"+Ud.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn="WebChannelConnection";class y8 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){const a=gy(),l=this.vo(n,r.toUriEncodedString());le("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(c,s,o),this.Mo(n,l,c,i).then(d=>(le("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Ll("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}xo(n,r,i,s,o,a){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ru}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){const i=m8[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const s=gy();return new Promise((o,a)=>{const l=new bA;l.setWithCredentials(!0),l.listenOnce(kA.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case vf.NO_ERROR:const d=l.getResponseJson();le(fn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case vf.TIMEOUT:le(fn,`RPC '${e}' ${s} timed out`),a(new he(X.DEADLINE_EXCEEDED,"Request time out"));break;case vf.HTTP_ERROR:const f=l.getStatus();if(le(fn,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);const E=g==null?void 0:g.error;if(E&&E.status&&E.message){const I=function(D){const S=D.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(S)>=0?S:X.UNKNOWN}(E.status);a(new he(I,E.message))}else a(new he(X.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new he(X.UNAVAILABLE,"Connection failed."));break;default:me()}}finally{le(fn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);le(fn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Oo(e,n,r){const i=gy(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=PA(),a=RA(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new xA({})),this.Fo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");le(fn,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=o.createWebChannel(d,l);let g=!1,E=!1;const I=new g8({lo:D=>{E?le(fn,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(g||(le(fn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),g=!0),le(fn,`RPC '${e}' stream ${i} sending:`,D),f.send(D))},ho:()=>f.close()}),x=(D,S,w)=>{D.listen(S,k=>{try{w(k)}catch(V){setTimeout(()=>{throw V},0)}})};return x(f,qu.EventType.OPEN,()=>{E||(le(fn,`RPC '${e}' stream ${i} transport opened.`),I.mo())}),x(f,qu.EventType.CLOSE,()=>{E||(E=!0,le(fn,`RPC '${e}' stream ${i} transport closed`),I.po())}),x(f,qu.EventType.ERROR,D=>{E||(E=!0,Ll(fn,`RPC '${e}' stream ${i} transport errored:`,D),I.po(new he(X.UNAVAILABLE,"The operation could not be completed")))}),x(f,qu.EventType.MESSAGE,D=>{var S;if(!E){const w=D.data[0];rt(!!w);const k=w,V=k.error||((S=k[0])===null||S===void 0?void 0:S.error);if(V){le(fn,`RPC '${e}' stream ${i} received error:`,V);const U=V.status;let H=function(A){const P=At[A];if(P!==void 0)return rR(P)}(U),C=V.message;H===void 0&&(H=X.INTERNAL,C="Unknown error status: "+U+" with message "+V.message),E=!0,I.po(new he(H,C)),f.close()}else le(fn,`RPC '${e}' stream ${i} received:`,w),I.yo(w)}}),x(a,AA.STAT_EVENT,D=>{D.stat===o_.PROXY?le(fn,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===o_.NOPROXY&&le(fn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{I.fo()},0),I}}function yy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(t){return new kB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new mR(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(Ji(n.toString()),Ji("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new he(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class v8 extends gR{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=PB(this.serializer,e),r=function(s){if(!("targetChange"in s))return ge.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ge.min():o.readTime?hi(o.readTime):ge.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=m_(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=c_(l)?{documents:DB(s,l)}:{query:LB(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=oR(s,o.resumeToken);const c=d_(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ge.min())>0){a.readTime=Lp(s,o.snapshotVersion.toTimestamp());const c=d_(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=FB(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=m_(this.serializer),n.removeTarget=e,this.i_(n)}}class _8 extends gR{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(rt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=OB(e.writeResults,e.commitTime),r=hi(e.commitTime);return this.listener.A_(r,n)}return rt(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=m_(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>NB(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new he(X.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,f_(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new he(X.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,f_(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new he(X.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class E8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Ji(n),this.y_=!1):le("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T8{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(async()=>{ya(this)&&(le("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ve(l);c.M_.add(4),await Ah(c),c.N_.set("Unknown"),c.M_.delete(4),await Wm(c)}(this))})}),this.N_=new E8(r,i)}}async function Wm(t){if(ya(t))for(const e of t.x_)await e(!0)}async function Ah(t){for(const e of t.x_)await e(!1)}function yR(t,e){const n=ve(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),Zw(n)?Jw(n):su(n).Xo()&&Xw(n,e))}function Yw(t,e){const n=ve(t),r=su(n);n.F_.delete(e),r.Xo()&&vR(n,e),n.F_.size===0&&(r.Xo()?r.n_():ya(n)&&n.N_.set("Unknown"))}function Xw(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}su(t).P_(e)}function vR(t,e){t.L_.xe(e),su(t).I_(e)}function Jw(t){t.L_=new SB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),su(t).start(),t.N_.w_()}function Zw(t){return ya(t)&&!su(t).Zo()&&t.F_.size>0}function ya(t){return ve(t).M_.size===0}function _R(t){t.L_=void 0}async function I8(t){t.N_.set("Online")}async function S8(t){t.F_.forEach((e,n)=>{Xw(t,e)})}async function C8(t,e){_R(t),Zw(t)?(t.N_.D_(e),Jw(t)):t.N_.set("Unknown")}async function b8(t,e,n){if(t.N_.set("Online"),e instanceof sR&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.F_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.F_.delete(a),i.L_.removeTarget(a))}(t,e)}catch(r){le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Mp(t,r)}else if(e instanceof Ef?t.L_.Ke(e):e instanceof iR?t.L_.He(e):t.L_.We(e),!n.isEqual(ge.min()))try{const r=await pR(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.L_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.F_.get(c);d&&s.F_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.F_.get(l);if(!d)return;s.F_.set(l,d.withResumeToken(Tn.EMPTY_BYTE_STRING,d.snapshotVersion)),vR(s,l);const f=new Ls(d.target,l,c,d.sequenceNumber);Xw(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){le("RemoteStore","Failed to raise snapshot:",r),await Mp(t,r)}}async function Mp(t,e,n){if(!bh(e))throw e;t.M_.add(1),await Ah(t),t.N_.set("Offline"),n||(n=()=>pR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{le("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await Wm(t)})}function wR(t,e){return e().catch(n=>Mp(t,n,e))}async function Hm(t){const e=ve(t),n=io(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;x8(e);)try{const i=await c8(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,k8(e,i)}catch(i){await Mp(e,i)}ER(e)&&TR(e)}function x8(t){return ya(t)&&t.v_.length<10}function k8(t,e){t.v_.push(e);const n=io(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function ER(t){return ya(t)&&!io(t).Zo()&&t.v_.length>0}function TR(t){io(t).start()}async function A8(t){io(t).V_()}async function R8(t){const e=io(t);for(const n of t.v_)e.d_(n.mutations)}async function P8(t,e,n){const r=t.v_.shift(),i=Ww.from(r,e,n);await wR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Hm(t)}async function N8(t,e){e&&io(t).E_&&await async function(r,i){if(function(o){return EB(o)&&o!==X.ABORTED}(i.code)){const s=r.v_.shift();io(r).t_(),await wR(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Hm(r)}}(t,e),ER(t)&&TR(t)}async function ES(t,e){const n=ve(t);n.asyncQueue.verifyOperationInProgress(),le("RemoteStore","RemoteStore received new credentials");const r=ya(n);n.M_.add(3),await Ah(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await Wm(n)}async function O8(t,e){const n=ve(t);e?(n.M_.delete(2),await Wm(n)):e||(n.M_.add(2),await Ah(n),n.N_.set("Unknown"))}function su(t){return t.B_||(t.B_=function(n,r,i){const s=ve(n);return s.f_(),new v8(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:I8.bind(null,t),To:S8.bind(null,t),Ao:C8.bind(null,t),h_:b8.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),Zw(t)?Jw(t):t.N_.set("Unknown")):(await t.B_.stop(),_R(t))})),t.B_}function io(t){return t.k_||(t.k_=function(n,r,i){const s=ve(n);return s.f_(),new _8(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:A8.bind(null,t),Ao:N8.bind(null,t),R_:R8.bind(null,t),A_:P8.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await Hm(t)):(await t.k_.stop(),t.v_.length>0&&(le("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ys,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new eE(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tE(t,e){if(Ji("AsyncQueue",`${e}: ${t}`),bh(t))return new he(X.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||de.comparator(n.key,r.key):(n,r)=>de.comparator(n.key,r.key),this.keyedMap=Gu(),this.sortedSet=new wt(this.comparator)}static emptySet(e){return new gl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof gl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new gl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(){this.q_=new wt(de.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):me():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class $l{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new $l(e,n,gl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class L8{constructor(){this.queries=new iu(e=>zA(e),Vm),this.onlineState="Unknown",this.z_=new Set}}async function IR(t,e){const n=ve(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new D8,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=tE(o,`Initialization of query '${La(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&nE(n)}async function SR(t,e){const n=ve(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function M8(t,e){const n=ve(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.U_)a.H_(i)&&(r=!0);o.K_=i}}r&&nE(n)}function F8(t,e,n){const r=ve(t),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(e)}function nE(t){t.z_.forEach(e=>{e.next()})}var y_,IS;(IS=y_||(y_={})).J_="default",IS.Cache="cache";class CR{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new $l(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=$l.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==y_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e){this.key=e}}class xR{constructor(e){this.key=e}}class V8{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Re(),this.mutatedKeys=Re(),this.Ia=WA(e),this.Ta=new gl(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new TS,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const g=i.get(d),E=jm(this.query,f)?f:null,I=!!g&&this.mutatedKeys.has(g.key),x=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let D=!1;g&&E?g.data.isEqual(E.data)?I!==x&&(r.track({type:3,doc:E}),D=!0):this.Ra(g,E)||(r.track({type:2,doc:E}),D=!0,(l&&this.Ia(E,l)>0||c&&this.Ia(E,c)<0)&&(a=!0)):!g&&E?(r.track({type:0,doc:E}),D=!0):g&&!E&&(r.track({type:1,doc:g}),D=!0,(l||c)&&(a=!0)),D&&(E?(o=o.add(E),s=x?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ta:o,Aa:r,Xi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((d,f)=>function(E,I){const x=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return me()}};return x(E)-x(I)}(d.type,f.type)||this.Ia(d.doc,f.doc)),this.Va(r),i=i!=null&&i;const a=n&&!i?this.ma():[],l=this.Pa.size===0&&this.current&&!i?1:0,c=l!==this.ha;return this.ha=l,o.length!==0||c?{snapshot:new $l(this.query,e.Ta,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new TS,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=Re(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new xR(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new bR(r))}),n}pa(e){this.la=e.hs,this.Pa=Re();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return $l.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class j8{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class U8{constructor(e){this.key=e,this.wa=!1}}class $8{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new iu(a=>zA(a),Vm),this.Da=new Map,this.Ca=new Set,this.va=new wt(de.comparator),this.Fa=new Map,this.Ma=new Gw,this.xa={},this.Oa=new Map,this.Na=Ul.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function B8(t,e,n=!0){const r=OR(t);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await kR(r,e,n,!0),i}async function z8(t,e){const n=OR(t);await kR(n,e,!0,!1)}async function kR(t,e,n,r){const i=await h8(t.localStore,ui(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await W8(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&yR(t.remoteStore,i),a}async function W8(t,e,n,r,i){t.Ba=(f,g,E)=>async function(x,D,S,w){let k=D.view.da(S);k.Xi&&(k=await vS(x.localStore,D.query,!1).then(({documents:C})=>D.view.da(C,k)));const V=w&&w.targetChanges.get(D.targetId),U=w&&w.targetMismatches.get(D.targetId)!=null,H=D.view.applyChanges(k,x.isPrimaryClient,V,U);return CS(x,D.targetId,H.fa),H.snapshot}(t,f,g,E);const s=await vS(t.localStore,e,!0),o=new V8(e,s.hs),a=o.da(s.documents),l=kh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);CS(t,n,c.fa);const d=new j8(e,n,o);return t.ba.set(e,d),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),c.snapshot}async function H8(t,e,n){const r=ve(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!Vm(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await g_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Yw(r.remoteStore,i.targetId),v_(r,i.targetId)}).catch(Ch)):(v_(r,i.targetId),await g_(r.localStore,i.targetId,!0))}async function q8(t,e){const n=ve(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Yw(n.remoteStore,r.targetId))}async function G8(t,e,n){const r=ez(t);try{const i=await function(o,a){const l=ve(o),c=$t.now(),d=a.reduce((E,I)=>E.add(I.key),Re());let f,g;return l.persistence.runTransaction("Locally write mutations","readwrite",E=>{let I=Zi(),x=Re();return l.os.getEntries(E,d).next(D=>{I=D,I.forEach((S,w)=>{w.isValidDocument()||(x=x.add(S))})}).next(()=>l.localDocuments.getOverlayedDocuments(E,I)).next(D=>{f=D;const S=[];for(const w of a){const k=gB(w,f.get(w.key).overlayedDocument);k!=null&&S.push(new co(w.key,k,MA(k.value.mapValue),ci.exists(!0)))}return l.mutationQueue.addMutationBatch(E,c,S,a)}).next(D=>{g=D;const S=D.applyToLocalDocumentSet(f,x);return l.documentOverlayCache.saveOverlays(E,D.batchId,S)})}).then(()=>({batchId:g.batchId,changes:qA(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.xa[o.currentUser.toKey()];c||(c=new wt(Ue)),c=c.insert(a,l),o.xa[o.currentUser.toKey()]=c}(r,i.batchId,n),await Rh(r,i.changes),await Hm(r.remoteStore)}catch(i){const s=tE(i,"Failed to persist write");n.reject(s)}}async function AR(t,e){const n=ve(t);try{const r=await l8(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Fa.get(s);o&&(rt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?rt(o.wa):i.removedDocuments.size>0&&(rt(o.wa),o.wa=!1))}),await Rh(n,r,e)}catch(r){await Ch(r)}}function SS(t,e,n){const r=ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((s,o)=>{const a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ve(o);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(const g of f.U_)g.j_(a)&&(c=!0)}),c&&nE(l)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function K8(t,e,n){const r=ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),s=i&&i.key;if(s){let o=new wt(de.comparator);o=o.insert(s,_n.newNoDocument(s,ge.min()));const a=Re().add(s),l=new Bm(ge.min(),new Map,new wt(Ue),o,a);await AR(r,l),r.va=r.va.remove(s),r.Fa.delete(e),rE(r)}else await g_(r.localStore,e,!1).then(()=>v_(r,e,n)).catch(Ch)}async function Q8(t,e){const n=ve(t),r=e.batch.batchId;try{const i=await a8(n.localStore,e);PR(n,r,null),RR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Rh(n,i)}catch(i){await Ch(i)}}async function Y8(t,e,n){const r=ve(t);try{const i=await function(o,a){const l=ve(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(rt(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);PR(r,e,n),RR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Rh(r,i)}catch(i){await Ch(i)}}function RR(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function PR(t,e,n){const r=ve(t);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function v_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||NR(t,r)})}function NR(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(Yw(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),rE(t))}function CS(t,e,n){for(const r of n)r instanceof bR?(t.Ma.addReference(r.key,e),X8(t,r)):r instanceof xR?(le("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||NR(t,r.key)):me()}function X8(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(le("SyncEngine","New document in limbo: "+n),t.Ca.add(r),rE(t))}function rE(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new de(It.fromString(e)),r=t.Na.next();t.Fa.set(r,new U8(n)),t.va=t.va.insert(n,r),yR(t.remoteStore,new Ls(ui(Fm(n.path)),r,"TargetPurposeLimboResolution",Vw.oe))}}async function Rh(t,e,n){const r=ve(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,l)=>{o.push(r.Ba(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient){const d=c&&!c.fromCache;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=Qw.Ki(l.targetId,c);s.push(d)}}))}),await Promise.all(o),r.Sa.h_(i),await async function(l,c){const d=ve(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Y.forEach(c,g=>Y.forEach(g.qi,E=>d.persistence.referenceDelegate.addReference(f,g.targetId,E)).next(()=>Y.forEach(g.Qi,E=>d.persistence.referenceDelegate.removeReference(f,g.targetId,E)))))}catch(f){if(!bh(f))throw f;le("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const g=f.targetId;if(!f.fromCache){const E=d.ns.get(g),I=E.snapshotVersion,x=E.withLastLimboFreeSnapshotVersion(I);d.ns=d.ns.insert(g,x)}}}(r.localStore,s))}async function J8(t,e){const n=ve(t);if(!n.currentUser.isEqual(e)){le("SyncEngine","User change. New user:",e.toKey());const r=await fR(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(l=>{l.reject(new he(X.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Rh(n,r.us)}}function Z8(t,e){const n=ve(t),r=n.Fa.get(e);if(r&&r.wa)return Re().add(r.key);{let i=Re();const s=n.Da.get(e);if(!s)return i;for(const o of s){const a=n.ba.get(o);i=i.unionWith(a.view.Ea)}return i}}function OR(t){const e=ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=AR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Z8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=K8.bind(null,e),e.Sa.h_=M8.bind(null,e.eventManager),e.Sa.ka=F8.bind(null,e.eventManager),e}function ez(t){const e=ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Q8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Y8.bind(null,e),e}class bS{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=zm(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return o8(this.persistence,new i8,e.initialUser,this.serializer)}createPersistence(e){return new t8(Kw.Hr,this.serializer)}createSharedClientState(e){return new f8}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class tz{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>SS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=J8.bind(null,this.syncEngine),await O8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new L8}()}createDatastore(e){const n=zm(e.databaseInfo.databaseId),r=function(s){return new y8(s)}(e.databaseInfo);return function(s,o,a,l){return new w8(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new T8(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>SS(this.syncEngine,n,0),function(){return wS.D()?new wS:new p8}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,d){const f=new $8(i,s,o,a,l,c);return d&&(f.La=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=ve(r);le("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await Ah(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Ji("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=mn.UNAUTHENTICATED,this.clientId=OA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{le("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(le("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new he(X.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ys;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=tE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function vy(t,e){t.asyncQueue.verifyOperationInProgress(),le("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await fR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function xS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await iz(t);le("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>ES(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>ES(e.remoteStore,i)),t._onlineComponents=e}function rz(t){return t.name==="FirebaseError"?t.code===X.FAILED_PRECONDITION||t.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function iz(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){le("FirestoreClient","Using user provided OfflineComponentProvider");try{await vy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!rz(n))throw n;Ll("Error using user provided cache. Falling back to memory cache: "+n),await vy(t,new bS)}}else le("FirestoreClient","Using default OfflineComponentProvider"),await vy(t,new bS);return t._offlineComponents}async function LR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(le("FirestoreClient","Using user provided OnlineComponentProvider"),await xS(t,t._uninitializedComponentsProvider._online)):(le("FirestoreClient","Using default OnlineComponentProvider"),await xS(t,new tz))),t._onlineComponents}function sz(t){return LR(t).then(e=>e.syncEngine)}async function __(t){const e=await LR(t),n=e.eventManager;return n.onListen=B8.bind(null,e.syncEngine),n.onUnlisten=H8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=z8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=q8.bind(null,e.syncEngine),n}function oz(t,e,n={}){const r=new Ys;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new DR({next:g=>{o.enqueueAndForget(()=>SR(s,f));const E=g.docs.has(a);!E&&g.fromCache?c.reject(new he(X.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&g.fromCache&&l&&l.source==="server"?c.reject(new he(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(g)},error:g=>c.reject(g)}),f=new CR(Fm(a.path),d,{includeMetadataChanges:!0,ra:!0});return IR(s,f)}(await __(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function az(t,e,n){if(!n)throw new he(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function lz(t,e,n,r){if(e===!0&&r===!0)throw new he(X.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function AS(t){if(!de.isDocumentKey(t))throw new he(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function iE(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":me()}function di(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=iE(t);throw new he(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new he(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new he(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sE{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RS({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new he(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new he(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RS(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new S$;switch(r.type){case"firstParty":return new k$(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=kS.get(n);r&&(le("ComponentProvider","Removing Datastore"),kS.delete(n),r.terminate())}(this),Promise.resolve()}}function uz(t,e,n,r={}){var i;const s=(t=di(t,sE))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ll("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=mn.MOCK_USER;else{a=Q0(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new he(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new mn(c)}t._authCredentials=new C$(new NA(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qm(this.firestore,e,this._query)}}class Bn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bn(this.firestore,e,this._key)}}class nh extends qm{constructor(e,n,r){super(e,n,Fm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bn(this.firestore,null,new de(e))}withConverter(e){return new nh(this.firestore,e,this._path)}}function Fp(t,e,...n){if(t=_t(t),arguments.length===1&&(e=OA.newId()),az("doc","path",e),t instanceof sE){const r=It.fromString(e,...n);return AS(r),new Bn(t,null,new de(r))}{if(!(t instanceof Bn||t instanceof nh))throw new he(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(It.fromString(e,...n));return AS(r),new Bn(t.firestore,t instanceof nh?t.converter:null,new de(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new mR(this,"async_queue_retry"),this.hu=()=>{const n=yy();n&&le("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=yy();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=yy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Ys;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!bh(e))throw e;le("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ji("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=eE.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&me()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}function PS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Bl extends sE{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new cz}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||FR(this),this._firestoreClient.terminate()}}function hz(t,e){const n=typeof t=="object"?t:Im(),r=typeof t=="string"?t:e||"(default)",i=fh(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=G0("firestore");s&&uz(i,...s)}return i}function oE(t){return t._firestoreClient||FR(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function FR(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,d){return new $$(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,MR(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new nz(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zl(Tn.fromBase64String(e))}catch(n){throw new he(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zl(Tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dz=/^__.*__$/;class fz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new co(e,this.data,this.fieldMask,n,this.fieldTransforms):new xh(e,this.data,n,this.fieldTransforms)}}class VR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new co(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function jR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw me()}}class Qm{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Qm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Vp(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(jR(this.fu)&&dz.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class pz{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||zm(e)}Fu(e,n,r,i=!1){return new Qm({fu:e,methodName:n,vu:r,path:sn.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function UR(t){const e=t._freezeSettings(),n=zm(t._databaseId);return new pz(t._databaseId,!!e.ignoreUndefinedProperties,n)}function mz(t,e,n,r,i,s={}){const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);uE("Data must be an object, but it was:",o,r);const a=$R(r,o);let l,c;if(s.merge)l=new Zn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const g=w_(e,f,n);if(!o.contains(g))throw new he(X.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);zR(d,g)||d.push(g)}l=new Zn(d),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new fz(new Mn(a),l,c)}class Ym extends Km{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ym}}function gz(t,e,n){return new Qm({fu:3,vu:e.settings.vu,methodName:t._methodName,yu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class lE extends Km{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){const n=gz(this,e,!0),r=this.Mu.map(s=>Ph(s,n)),i=new jl(r);return new dB(e.path,i)}isEqual(e){return e instanceof lE&&$c(this.Mu,e.Mu)}}function yz(t,e,n,r){const i=t.Fu(1,e,n);uE("Data must be an object, but it was:",i,r);const s=[],o=Mn.empty();ga(r,(l,c)=>{const d=cE(e,l,n);c=_t(c);const f=i.Su(d);if(c instanceof Ym)s.push(d);else{const g=Ph(c,f);g!=null&&(s.push(d),o.set(d,g))}});const a=new Zn(s);return new VR(o,a,i.fieldTransforms)}function vz(t,e,n,r,i,s){const o=t.Fu(1,e,n),a=[w_(e,r,n)],l=[i];if(s.length%2!=0)throw new he(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)a.push(w_(e,s[g])),l.push(s[g+1]);const c=[],d=Mn.empty();for(let g=a.length-1;g>=0;--g)if(!zR(c,a[g])){const E=a[g];let I=l[g];I=_t(I);const x=o.Su(E);if(I instanceof Ym)c.push(E);else{const D=Ph(I,x);D!=null&&(c.push(E),d.set(E,D))}}const f=new Zn(c);return new VR(d,f,o.fieldTransforms)}function Ph(t,e){if(BR(t=_t(t)))return uE("Unsupported field value:",e,t),$R(t,e);if(t instanceof Km)return function(r,i){if(!jR(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Ph(a,i.bu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=_t(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return uB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=$t.fromDate(r);return{timestampValue:Lp(i.serializer,s)}}if(r instanceof $t){const s=new $t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Lp(i.serializer,s)}}if(r instanceof aE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zl)return{bytesValue:oR(i.serializer,r._byteString)};if(r instanceof Bn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:qw(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${iE(r)}`)}(t,e)}function $R(t,e){const n={};return DA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ga(t,(r,i)=>{const s=Ph(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function BR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $t||t instanceof aE||t instanceof zl||t instanceof Bn||t instanceof Km)}function uE(t,e,n){if(!BR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=iE(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function w_(t,e,n){if((e=_t(e))instanceof Gm)return e._internalPath;if(typeof e=="string")return cE(t,e);throw Vp("Field path arguments must be of type string or ",t,!1,void 0,n)}const _z=new RegExp("[~\\*/\\[\\]]");function cE(t,e,n){if(e.search(_z)>=0)throw Vp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gm(...e.split("."))._internalPath}catch{throw Vp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Vp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new he(X.INVALID_ARGUMENT,a+t+l)}function zR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(HR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class wz extends WR{data(){return super.data()}}function HR(t,e){return typeof e=="string"?cE(t,e):e instanceof Gm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ez(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tz{convertValue(e,n="none"){switch(aa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(oa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw me()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ga(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new aE(Rt(e.latitude),Rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Uw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Jc(e));default:return null}}convertTimestamp(e){const n=ro(e);return new $t(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=It.fromString(e);rt(dR(r));const i=new Zc(r.get(1),r.get(3)),s=new de(r.popFirst(5));return i.isEqual(n)||Ji(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iz(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qR extends WR{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Tf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(HR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Tf extends qR{data(e={}){return super.data(e)}}class Sz{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Qu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Tf(this._firestore,this._userDataWriter,r.key,r,new Qu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Tf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Qu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Tf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Qu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:Cz(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Cz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return me()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(t){t=di(t,Bn);const e=di(t.firestore,Bl);return oz(oE(e),t._key).then(n=>QR(e,t,n))}class GR extends Tz{constructor(e){super(),this.firestore=e}convertBytes(e){return new zl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Bn(this.firestore,null,n)}}function bz(t,e,n){t=di(t,Bn);const r=di(t.firestore,Bl),i=Iz(t.converter,e,n);return KR(r,[mz(UR(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ci.none())])}function OS(t,e,n,...r){t=di(t,Bn);const i=di(t.firestore,Bl),s=UR(i);let o;return o=typeof(e=_t(e))=="string"||e instanceof Gm?vz(s,"updateDoc",t._key,e,n,r):yz(s,"updateDoc",t._key,e),KR(i,[o.toMutation(t._key,ci.exists(!0))])}function xz(t,...e){var n,r,i;t=_t(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||PS(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(PS(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,c,d;if(t instanceof Bn)c=di(t.firestore,Bl),d=Fm(t._key.path),l={next:f=>{e[o]&&e[o](QR(c,t,f))},error:e[o+1],complete:e[o+2]};else{const f=di(t,qm);c=di(f.firestore,Bl),d=f._query;const g=new GR(c);l={next:E=>{e[o]&&e[o](new Sz(c,g,f,E))},error:e[o+1],complete:e[o+2]},Ez(t._query)}return function(g,E,I,x){const D=new DR(x),S=new CR(E,D,I);return g.asyncQueue.enqueueAndForget(async()=>IR(await __(g),S)),()=>{D.$a(),g.asyncQueue.enqueueAndForget(async()=>SR(await __(g),S))}}(oE(c),d,a,l)}function KR(t,e){return function(r,i){const s=new Ys;return r.asyncQueue.enqueueAndForget(async()=>G8(await sz(r),i,s)),s.promise}(oE(t),e)}function QR(t,e,n){const r=n.docs.get(e._key),i=new GR(t);return new qR(t,i,e._key,r,new Qu(n.hasPendingWrites,n.fromCache),e.converter)}function kz(...t){return new lE("arrayUnion",t)}(function(e,n=!0){(function(i){ru=i})(lo),Zs(new Qi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Bl(new b$(r.getProvider("auth-internal")),new R$(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new he(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zc(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),fr(JI,"4.6.3",e),fr(JI,"4.6.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR="firebasestorage.googleapis.com",Az="storageBucket",Rz=2*60*1e3,Pz=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends yi{constructor(e,n,r=0){super(_y(e),`Firebase Storage: ${n} (${_y(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,vi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return _y(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var gi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(gi||(gi={}));function _y(t){return"storage/"+t}function Nz(){const t="An unknown error occurred, please check the error payload for server response.";return new vi(gi.UNKNOWN,t)}function Oz(){return new vi(gi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Dz(){return new vi(gi.CANCELED,"User canceled the upload/download.")}function Lz(t){return new vi(gi.INVALID_URL,"Invalid URL '"+t+"'.")}function Mz(t){return new vi(gi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function DS(t){return new vi(gi.INVALID_ARGUMENT,t)}function XR(){return new vi(gi.APP_DELETED,"The Firebase app was deleted.")}function Fz(t){return new vi(gi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Nr.makeFromUrl(e,n)}catch{return new Nr(e,"")}if(r.path==="")return r;throw Mz(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(V){V.path.charAt(V.path.length-1)==="/"&&(V.path_=V.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(V){V.path_=decodeURIComponent(V.path)}const d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",E=new RegExp(`^https?://${f}/${d}/b/${i}/o${g}`,"i"),I={bucket:1,path:3},x=n===YR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,D="([^?#]*)",S=new RegExp(`^https?://${x}/${i}/${D}`,"i"),k=[{regex:a,indices:l,postModify:s},{regex:E,indices:I,postModify:c},{regex:S,indices:{bucket:1,path:2},postModify:c}];for(let V=0;V<k.length;V++){const U=k[V],H=U.regex.exec(e);if(H){const C=H[U.indices.bucket];let b=H[U.indices.path];b||(b=""),r=new Nr(C,b),U.postModify(r);break}}if(r==null)throw Lz(e);return r}}class Vz{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jz(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function d(...D){c||(c=!0,e.apply(null,D))}function f(D){i=setTimeout(()=>{i=null,t(E,l())},D)}function g(){s&&clearTimeout(s)}function E(D,...S){if(c){g();return}if(D){g(),d.call(null,D,...S);return}if(l()||o){g(),d.call(null,D,...S);return}r<64&&(r*=2);let k;a===1?(a=2,k=0):k=(r+Math.random())*1e3,f(k)}let I=!1;function x(D){I||(I=!0,g(),!c&&(i!==null?(D||(a=2),clearTimeout(i),f(0)):D||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,x(!0)},n),x}function Uz(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $z(t){return t!==void 0}function LS(t,e,n,r){if(r<e)throw DS(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw DS(`Invalid value for '${t}'. Expected ${n} or less.`)}function Bz(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jp;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(jp||(jp={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zz(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wz{constructor(e,n,r,i,s,o,a,l,c,d,f,g=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=f,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,I)=>{this.resolve_=E,this.reject_=I,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new $d(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===jp.NO_ERROR,l=s.getStatus();if(!a||zz(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===jp.ABORT;r(!1,new $d(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new $d(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());$z(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=Nz();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?XR():Dz();o(l)}else{const l=Oz();o(l)}};this.canceled_?n(!1,new $d(!1,null,!0)):this.backoffId_=jz(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Uz(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class $d{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Hz(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function qz(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Gz(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Kz(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Qz(t,e,n,r,i,s,o=!0){const a=Bz(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return Gz(c,e),Hz(c,n),qz(c,s),Kz(c,r),new Wz(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yz(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Xz(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,n){this._service=e,n instanceof Nr?this._location=n:this._location=Nr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Up(e,n)}get root(){const e=new Nr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Xz(this._location.path)}get storage(){return this._service}get parent(){const e=Yz(this._location.path);if(e===null)return null;const n=new Nr(this._location.bucket,e);return new Up(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Fz(e)}}function MS(t,e){const n=e==null?void 0:e[Az];return n==null?null:Nr.makeFromBucketSpec(n,t)}function Jz(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Q0(i,t.app.options.projectId))}class Zz{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=YR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Rz,this._maxUploadRetryTime=Pz,this._requests=new Set,i!=null?this._bucket=Nr.makeFromBucketSpec(i,this._host):this._bucket=MS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Nr.makeFromBucketSpec(this._url,e):this._bucket=MS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){LS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){LS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Up(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new Vz(XR());{const o=Qz(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const FS="@firebase/storage",VS="0.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="storage";function e7(t=Im(),e){t=_t(t);const r=fh(t,JR).getImmediate({identifier:e}),i=G0("storage");return i&&t7(r,...i),r}function t7(t,e,n,r={}){Jz(t,e,n,r)}function n7(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Zz(n,r,i,e,lo)}function r7(){Zs(new Qi(JR,n7,"PUBLIC").setMultipleInstances(!0)),fr(FS,VS,""),fr(FS,VS,"esm2017")}r7();const i7={apiKey:{}.VITE_FIREBASE_API_KEY,authDomain:{}.VITE_FIREBASE_AUTH_DOMAIN,projectId:{}.VITE_FIREBASE_PROJECT_ID,storageBucket:{}.VITE_FIREBASE_STORAGE_BUCKET,databaseURL:{}.VITE_FIREBASE_DATABASE_URL,messagingSenderId:{}.VITE_FIREBASE_MESSAGING_SENDER_ID,appId:{}.VITE_FIREBASE_APP_ID},s7=x2(i7),Bd=vh(s7),o7=E$();e7();const $p=hz(),ZR=G.createContext(),a7=({children:t})=>{const[e,n]=G.useState(null),r=(o,a)=>X3(Bd,o,a),i=(o,a)=>J3(Bd,o,a),s=()=>rj(Bd);return G.useEffect(()=>iw(Bd,a=>{n(a)}),[]),N.jsx(ZR.Provider,{value:{currentUser:e,signup:r,login:i,logout:s},children:t})},hE=()=>G.useContext(ZR);var eP={exports:{}};/*!
* sweetalert2 v11.12.0
* Released under the MIT License.
*/(function(t,e){(function(n,r){t.exports=r()})(vs,function(){function n(_,h){(h==null||h>_.length)&&(h=_.length);for(var p=0,v=Array(h);p<h;p++)v[p]=_[p];return v}function r(_){if(Array.isArray(_))return _}function i(_){if(Array.isArray(_))return n(_)}function s(_,h,p){if(typeof _=="function"?_===h:_.has(h))return arguments.length<3?h:p;throw new TypeError("Private element is not present on this object")}function o(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function a(_,h,p){return h=w(h),A(_,V()?Reflect.construct(h,p||[],w(_).constructor):h.apply(_,p))}function l(_,h){if(h.has(_))throw new TypeError("Cannot initialize the same private elements twice on an object")}function c(_,h){if(!(_ instanceof h))throw new TypeError("Cannot call a class as a function")}function d(_,h){return _.get(s(_,h))}function f(_,h,p){l(_,h),h.set(_,p)}function g(_,h,p){return _.set(s(_,h),p),p}function E(_,h,p){if(V())return Reflect.construct.apply(null,arguments);var v=[null];v.push.apply(v,h);var O=new(_.bind.apply(_,v));return O}function I(_,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(_,Ge(v.key),v)}}function x(_,h,p){return h&&I(_.prototype,h),Object.defineProperty(_,"prototype",{writable:!1}),_}function D(_,h){var p=typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"];if(!p){if(Array.isArray(_)||(p=Ne(_))||h){p&&(_=p);var v=0,O=function(){};return{s:O,n:function(){return v>=_.length?{done:!0}:{done:!1,value:_[v++]}},e:function(ye){throw ye},f:O}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var q,ie=!0,_e=!1;return{s:function(){p=p.call(_)},n:function(){var ye=p.next();return ie=ye.done,ye},e:function(ye){_e=!0,q=ye},f:function(){try{ie||p.return==null||p.return()}finally{if(_e)throw q}}}}function S(){return S=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(_,h,p){var v=F(_,h);if(v){var O=Object.getOwnPropertyDescriptor(v,h);return O.get?O.get.call(arguments.length<3?_:p):O.value}},S.apply(null,arguments)}function w(_){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)},w(_)}function k(_,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(h&&h.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),h&&P(_,h)}function V(){try{var _=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V=function(){return!!_})()}function U(_){if(typeof Symbol<"u"&&_[Symbol.iterator]!=null||_["@@iterator"]!=null)return Array.from(_)}function H(_,h){var p=_==null?null:typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"];if(p!=null){var v,O,q,ie,_e=[],ye=!0,Et=!1;try{if(q=(p=p.call(_)).next,h!==0)for(;!(ye=(v=q.call(p)).done)&&(_e.push(v.value),_e.length!==h);ye=!0);}catch(Eu){Et=!0,O=Eu}finally{try{if(!ye&&p.return!=null&&(ie=p.return(),Object(ie)!==ie))return}finally{if(Et)throw O}}return _e}}function C(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A(_,h){if(h&&(typeof h=="object"||typeof h=="function"))return h;if(h!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o(_)}function P(_,h){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(p,v){return p.__proto__=v,p},P(_,h)}function M(_,h){return r(_)||H(_,h)||Ne(_,h)||C()}function F(_,h){for(;!{}.hasOwnProperty.call(_,h)&&(_=w(_))!==null;);return _}function R(_){return i(_)||U(_)||Ne(_)||b()}function Ee(_,h){if(typeof _!="object"||!_)return _;var p=_[Symbol.toPrimitive];if(p!==void 0){var v=p.call(_,h);if(typeof v!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(_)}function Ge(_){var h=Ee(_,"string");return typeof h=="symbol"?h:h+""}function Te(_){"@babel/helpers - typeof";return Te=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},Te(_)}function Ne(_,h){if(_){if(typeof _=="string")return n(_,h);var p={}.toString.call(_).slice(8,-1);return p==="Object"&&_.constructor&&(p=_.constructor.name),p==="Map"||p==="Set"?Array.from(_):p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p)?n(_,h):void 0}}var re=100,Q={},ce=function(){Q.previousActiveElement instanceof HTMLElement?(Q.previousActiveElement.focus(),Q.previousActiveElement=null):document.body&&document.body.focus()},Fe=function(h){return new Promise(function(p){if(!h)return p();var v=window.scrollX,O=window.scrollY;Q.restoreFocusTimeout=setTimeout(function(){ce(),p()},re),window.scrollTo(v,O)})},Ce="swal2-",Be=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"],$=Be.reduce(function(_,h){return _[h]=Ce+h,_},{}),zt=["success","warning","info","question","error"],ct=zt.reduce(function(_,h){return _[h]=Ce+h,_},{}),ht="SweetAlert2:",Hn=function(h){return h.charAt(0).toUpperCase()+h.slice(1)},dt=function(h){console.warn("".concat(ht," ").concat(Te(h)==="object"?h.join(" "):h))},mt=function(h){console.error("".concat(ht," ").concat(h))},Ur=[],ho=function(h){Ur.includes(h)||(Ur.push(h),dt(h))},_i=function(h){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;ho('"'.concat(h,'" is deprecated and will be removed in the next major release.').concat(p?' Use "'.concat(p,'" instead.'):""))},yr=function(h){return typeof h=="function"?h():h},ss=function(h){return h&&typeof h.toPromise=="function"},wi=function(h){return ss(h)?h.toPromise():Promise.resolve(h)},fo=function(h){return h&&Promise.resolve(h)===h},L=function(){return document.body.querySelector(".".concat($.container))},B=function(h){var p=L();return p?p.querySelector(h):null},W=function(h){return B(".".concat(h))},K=function(){return W($.popup)},ne=function(){return W($.icon)},Z=function(){return W($["icon-content"])},ae=function(){return W($.title)},Ie=function(){return W($["html-container"])},Ye=function(){return W($.image)},Oe=function(){return W($["progress-steps"])},Xe=function(){return W($["validation-message"])},Zt=function(){return B(".".concat($.actions," .").concat($.confirm))},qn=function(){return B(".".concat($.actions," .").concat($.cancel))},Pn=function(){return B(".".concat($.actions," .").concat($.deny))},ou=function(){return W($["input-label"])},In=function(){return B(".".concat($.loader))},$r=function(){return W($.actions)},os=function(){return W($.footer)},as=function(){return W($["timer-progress-bar"])},au=function(){return W($.close)},Xm=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,po=function(){var h=K();if(!h)return[];var p=h.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),v=Array.from(p).sort(function(ie,_e){var ye=parseInt(ie.getAttribute("tabindex")||"0"),Et=parseInt(_e.getAttribute("tabindex")||"0");return ye>Et?1:ye<Et?-1:0}),O=h.querySelectorAll(Xm),q=Array.from(O).filter(function(ie){return ie.getAttribute("tabindex")!=="-1"});return R(new Set(v.concat(q))).filter(function(ie){return cn(ie)})},va=function(){return Gn(document.body,$.shown)&&!Gn(document.body,$["toast-shown"])&&!Gn(document.body,$["no-backdrop"])},mo=function(){var h=K();return h?Gn(h,$.toast):!1},go=function(){var h=K();return h?h.hasAttribute("data-loading"):!1},en=function(h,p){if(h.textContent="",p){var v=new DOMParser,O=v.parseFromString(p,"text/html"),q=O.querySelector("head");q&&Array.from(q.childNodes).forEach(function(_e){h.appendChild(_e)});var ie=O.querySelector("body");ie&&Array.from(ie.childNodes).forEach(function(_e){_e instanceof HTMLVideoElement||_e instanceof HTMLAudioElement?h.appendChild(_e.cloneNode(!0)):h.appendChild(_e)})}},Gn=function(h,p){if(!p)return!1;for(var v=p.split(/\s+/),O=0;O<v.length;O++)if(!h.classList.contains(v[O]))return!1;return!0},Ei=function(h,p){Array.from(h.classList).forEach(function(v){!Object.values($).includes(v)&&!Object.values(ct).includes(v)&&!Object.values(p.showClass||{}).includes(v)&&h.classList.remove(v)})},Sn=function(h,p,v){if(Ei(h,p),p.customClass&&p.customClass[v]){if(typeof p.customClass[v]!="string"&&!p.customClass[v].forEach){dt("Invalid type of customClass.".concat(v,'! Expected string or iterable object, got "').concat(Te(p.customClass[v]),'"'));return}ke(h,p.customClass[v])}},Ti=function(h,p){if(!p)return null;switch(p){case"select":case"textarea":case"file":return h.querySelector(".".concat($.popup," > .").concat($[p]));case"checkbox":return h.querySelector(".".concat($.popup," > .").concat($.checkbox," input"));case"radio":return h.querySelector(".".concat($.popup," > .").concat($.radio," input:checked"))||h.querySelector(".".concat($.popup," > .").concat($.radio," input:first-child"));case"range":return h.querySelector(".".concat($.popup," > .").concat($.range," input"));default:return h.querySelector(".".concat($.popup," > .").concat($.input))}},lu=function(h){if(h.focus(),h.type!=="file"){var p=h.value;h.value="",h.value=p}},ls=function(h,p,v){!h||!p||(typeof p=="string"&&(p=p.split(/\s+/).filter(Boolean)),p.forEach(function(O){Array.isArray(h)?h.forEach(function(q){v?q.classList.add(O):q.classList.remove(O)}):v?h.classList.add(O):h.classList.remove(O)}))},ke=function(h,p){ls(h,p,!0)},et=function(h,p){ls(h,p,!1)},vr=function(h,p){for(var v=Array.from(h.children),O=0;O<v.length;O++){var q=v[O];if(q instanceof HTMLElement&&Gn(q,p))return q}},Kn=function(h,p,v){v==="".concat(parseInt(v))&&(v=parseInt(v)),v||parseInt(v)===0?h.style.setProperty(p,typeof v=="number"?"".concat(v,"px"):v):h.style.removeProperty(p)},ft=function(h){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";h&&(h.style.display=p)},Wt=function(h){h&&(h.style.display="none")},uu=function(h){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";h&&new MutationObserver(function(){yo(h,h.innerHTML,p)}).observe(h,{childList:!0,subtree:!0})},Ii=function(h,p,v,O){var q=h.querySelector(p);q&&q.style.setProperty(v,O)},yo=function(h,p){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";p?ft(h,v):Wt(h)},cn=function(h){return!!(h&&(h.offsetWidth||h.offsetHeight||h.getClientRects().length))},_a=function(){return!cn(Zt())&&!cn(Pn())&&!cn(qn())},cu=function(h){return h.scrollHeight>h.clientHeight},wa=function(h){var p=window.getComputedStyle(h),v=parseFloat(p.getPropertyValue("animation-duration")||"0"),O=parseFloat(p.getPropertyValue("transition-duration")||"0");return v>0||O>0},us=function(h){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,v=as();v&&cn(v)&&(p&&(v.style.transition="none",v.style.width="100%"),setTimeout(function(){v.style.transition="width ".concat(h/1e3,"s linear"),v.style.width="0%"},10))},Br=function(){var h=as();if(h){var p=parseInt(window.getComputedStyle(h).width);h.style.removeProperty("transition"),h.style.width="100%";var v=parseInt(window.getComputedStyle(h).width),O=p/v*100;h.style.width="".concat(O,"%")}},hu=function(){return typeof window>"u"||typeof document>"u"},Nh=`
 <div aria-labelledby="`.concat($.title,'" aria-describedby="').concat($["html-container"],'" class="').concat($.popup,`" tabindex="-1">
   <button type="button" class="`).concat($.close,`"></button>
   <ul class="`).concat($["progress-steps"],`"></ul>
   <div class="`).concat($.icon,`"></div>
   <img class="`).concat($.image,`" />
   <h2 class="`).concat($.title,'" id="').concat($.title,`"></h2>
   <div class="`).concat($["html-container"],'" id="').concat($["html-container"],`"></div>
   <input class="`).concat($.input,'" id="').concat($.input,`" />
   <input type="file" class="`).concat($.file,`" />
   <div class="`).concat($.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat($.select,'" id="').concat($.select,`"></select>
   <div class="`).concat($.radio,`"></div>
   <label class="`).concat($.checkbox,`">
     <input type="checkbox" id="`).concat($.checkbox,`" />
     <span class="`).concat($.label,`"></span>
   </label>
   <textarea class="`).concat($.textarea,'" id="').concat($.textarea,`"></textarea>
   <div class="`).concat($["validation-message"],'" id="').concat($["validation-message"],`"></div>
   <div class="`).concat($.actions,`">
     <div class="`).concat($.loader,`"></div>
     <button type="button" class="`).concat($.confirm,`"></button>
     <button type="button" class="`).concat($.deny,`"></button>
     <button type="button" class="`).concat($.cancel,`"></button>
   </div>
   <div class="`).concat($.footer,`"></div>
   <div class="`).concat($["timer-progress-bar-container"],`">
     <div class="`).concat($["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),du=function(){var h=L();return h?(h.remove(),et([document.documentElement,document.body],[$["no-backdrop"],$["toast-shown"],$["has-column"]]),!0):!1},_r=function(){Q.currentInstance.resetValidationMessage()},Oh=function(){var h=K(),p=vr(h,$.input),v=vr(h,$.file),O=h.querySelector(".".concat($.range," input")),q=h.querySelector(".".concat($.range," output")),ie=vr(h,$.select),_e=h.querySelector(".".concat($.checkbox," input")),ye=vr(h,$.textarea);p.oninput=_r,v.onchange=_r,ie.onchange=_r,_e.onchange=_r,ye.oninput=_r,O.oninput=function(){_r(),q.value=O.value},O.onchange=function(){_r(),q.value=O.value}},Dh=function(h){return typeof h=="string"?document.querySelector(h):h},Jm=function(h){var p=K();p.setAttribute("role",h.toast?"alert":"dialog"),p.setAttribute("aria-live",h.toast?"polite":"assertive"),h.toast||p.setAttribute("aria-modal","true")},Ea=function(h){window.getComputedStyle(h).direction==="rtl"&&ke(L(),$.rtl)},Lh=function(h){var p=du();if(hu()){mt("SweetAlert2 requires document to initialize");return}var v=document.createElement("div");v.className=$.container,p&&ke(v,$["no-transition"]),en(v,Nh);var O=Dh(h.target);O.appendChild(v),Jm(h),Ea(O),Oh()},vo=function(h,p){h instanceof HTMLElement?p.appendChild(h):Te(h)==="object"?_o(h,p):h&&en(p,h)},_o=function(h,p){h.jquery?Si(p,h):en(p,h.toString())},Si=function(h,p){if(h.textContent="",0 in p)for(var v=0;v in p;v++)h.appendChild(p[v].cloneNode(!0));else h.appendChild(p.cloneNode(!0))},wr=function(){if(hu())return!1;var _=document.createElement("div");return typeof _.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof _.style.animation<"u"?"animationend":!1}(),Zm=function(h,p){var v=$r(),O=In();!v||!O||(!p.showConfirmButton&&!p.showDenyButton&&!p.showCancelButton?Wt(v):ft(v),Sn(v,p,"actions"),Mh(v,O,p),en(O,p.loaderHtml||""),Sn(O,p,"loader"))};function Mh(_,h,p){var v=Zt(),O=Pn(),q=qn();!v||!O||!q||(Ta(v,"confirm",p),Ta(O,"deny",p),Ta(q,"cancel",p),Fh(v,O,q,p),p.reverseButtons&&(p.toast?(_.insertBefore(q,v),_.insertBefore(O,v)):(_.insertBefore(q,h),_.insertBefore(O,h),_.insertBefore(v,h))))}function Fh(_,h,p,v){if(!v.buttonsStyling){et([_,h,p],$.styled);return}ke([_,h,p],$.styled),v.confirmButtonColor&&(_.style.backgroundColor=v.confirmButtonColor,ke(_,$["default-outline"])),v.denyButtonColor&&(h.style.backgroundColor=v.denyButtonColor,ke(h,$["default-outline"])),v.cancelButtonColor&&(p.style.backgroundColor=v.cancelButtonColor,ke(p,$["default-outline"]))}function Ta(_,h,p){var v=Hn(h);yo(_,p["show".concat(v,"Button")],"inline-block"),en(_,p["".concat(h,"ButtonText")]||""),_.setAttribute("aria-label",p["".concat(h,"ButtonAriaLabel")]||""),_.className=$[h],Sn(_,p,"".concat(h,"Button"))}var fu=function(h,p){var v=au();v&&(en(v,p.closeButtonHtml||""),Sn(v,p,"closeButton"),yo(v,p.showCloseButton),v.setAttribute("aria-label",p.closeButtonAriaLabel||""))},pu=function(h,p){var v=L();v&&(Vh(v,p.backdrop),jh(v,p.position),eg(v,p.grow),Sn(v,p,"container"))};function Vh(_,h){typeof h=="string"?_.style.background=h:h||ke([document.documentElement,document.body],$["no-backdrop"])}function jh(_,h){h&&(h in $?ke(_,$[h]):(dt('The "position" parameter is not valid, defaulting to "center"'),ke(_,$.center)))}function eg(_,h){h&&ke(_,$["grow-".concat(h)])}var Ke={innerParams:new WeakMap,domCache:new WeakMap},Uh=["input","file","range","select","radio","checkbox","textarea"],$h=function(h,p){var v=K();if(v){var O=Ke.innerParams.get(h),q=!O||p.input!==O.input;Uh.forEach(function(ie){var _e=vr(v,$[ie]);_e&&(Er(ie,p.inputAttributes),_e.className=$[ie],q&&Wt(_e))}),p.input&&(q&&tg(p),Ia(p))}},tg=function(h){if(h.input){if(!Je[h.input]){mt("Unexpected type of input! Expected ".concat(Object.keys(Je).join(" | "),', got "').concat(h.input,'"'));return}var p=Qe(h.input),v=Je[h.input](p,h);ft(p),h.inputAutoFocus&&setTimeout(function(){lu(v)})}},Ci=function(h){for(var p=0;p<h.attributes.length;p++){var v=h.attributes[p].name;["id","type","value","style"].includes(v)||h.removeAttribute(v)}},Er=function(h,p){var v=Ti(K(),h);if(v){Ci(v);for(var O in p)v.setAttribute(O,p[O])}},Ia=function(h){var p=Qe(h.input);Te(h.customClass)==="object"&&ke(p,h.customClass.input)},cs=function(h,p){(!h.placeholder||p.inputPlaceholder)&&(h.placeholder=p.inputPlaceholder)},hs=function(h,p,v){if(v.inputLabel){var O=document.createElement("label"),q=$["input-label"];O.setAttribute("for",h.id),O.className=q,Te(v.customClass)==="object"&&ke(O,v.customClass.inputLabel),O.innerText=v.inputLabel,p.insertAdjacentElement("beforebegin",O)}},Qe=function(h){return vr(K(),$[h]||$.input)},bi=function(h,p){["string","number"].includes(Te(p))?h.value="".concat(p):fo(p)||dt('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(Te(p),'"'))},Je={};Je.text=Je.email=Je.password=Je.number=Je.tel=Je.url=Je.search=Je.date=Je["datetime-local"]=Je.time=Je.week=Je.month=function(_,h){return bi(_,h.inputValue),hs(_,_,h),cs(_,h),_.type=h.input,_},Je.file=function(_,h){return hs(_,_,h),cs(_,h),_},Je.range=function(_,h){var p=_.querySelector("input"),v=_.querySelector("output");return bi(p,h.inputValue),p.type=h.input,bi(v,h.inputValue),hs(p,_,h),_},Je.select=function(_,h){if(_.textContent="",h.inputPlaceholder){var p=document.createElement("option");en(p,h.inputPlaceholder),p.value="",p.disabled=!0,p.selected=!0,_.appendChild(p)}return hs(_,_,h),_},Je.radio=function(_){return _.textContent="",_},Je.checkbox=function(_,h){var p=Ti(K(),"checkbox");p.value="1",p.checked=!!h.inputValue;var v=_.querySelector("span");return en(v,h.inputPlaceholder),p},Je.textarea=function(_,h){bi(_,h.inputValue),cs(_,h),hs(_,_,h);var p=function(O){return parseInt(window.getComputedStyle(O).marginLeft)+parseInt(window.getComputedStyle(O).marginRight)};return setTimeout(function(){if("MutationObserver"in window){var v=parseInt(window.getComputedStyle(K()).width),O=function(){if(document.body.contains(_)){var ie=_.offsetWidth+p(_);ie>v?K().style.width="".concat(ie,"px"):Kn(K(),"width",h.width)}};new MutationObserver(O).observe(_,{attributes:!0,attributeFilter:["style"]})}}),_};var wo=function(h,p){var v=Ie();v&&(uu(v),Sn(v,p,"htmlContainer"),p.html?(vo(p.html,v),ft(v,"block")):p.text?(v.textContent=p.text,ft(v,"block")):Wt(v),$h(h,p))},ng=function(h,p){var v=os();v&&(uu(v),yo(v,p.footer,"block"),p.footer&&vo(p.footer,v),Sn(v,p,"footer"))},Bh=function(h,p){var v=Ke.innerParams.get(h),O=ne();if(O){if(v&&p.icon===v.icon){ds(O,p),zh(O,p);return}if(!p.icon&&!p.iconHtml){Wt(O);return}if(p.icon&&Object.keys(ct).indexOf(p.icon)===-1){mt('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(p.icon,'"')),Wt(O);return}ft(O),ds(O,p),zh(O,p),ke(O,p.showClass&&p.showClass.icon)}},zh=function(h,p){for(var v=0,O=Object.entries(ct);v<O.length;v++){var q=M(O[v],2),ie=q[0],_e=q[1];p.icon!==ie&&et(h,_e)}ke(h,p.icon&&ct[p.icon]),zr(h,p),rg(),Sn(h,p,"icon")},rg=function(){var h=K();if(h)for(var p=window.getComputedStyle(h).getPropertyValue("background-color"),v=h.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),O=0;O<v.length;O++)v[O].style.backgroundColor=p},ig=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,sg=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,ds=function(h,p){if(!(!p.icon&&!p.iconHtml)){var v=h.innerHTML,O="";if(p.iconHtml)O=mu(p.iconHtml);else if(p.icon==="success")O=ig,v=v.replace(/ style=".*?"/g,"");else if(p.icon==="error")O=sg;else if(p.icon){var q={question:"?",warning:"!",info:"i"};O=mu(q[p.icon])}v.trim()!==O.trim()&&en(h,O)}},zr=function(h,p){if(p.iconColor){h.style.color=p.iconColor,h.style.borderColor=p.iconColor;for(var v=0,O=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];v<O.length;v++){var q=O[v];Ii(h,q,"background-color",p.iconColor)}Ii(h,".swal2-success-ring","border-color",p.iconColor)}},mu=function(h){return'<div class="'.concat($["icon-content"],'">').concat(h,"</div>")},Wh=function(h,p){var v=Ye();if(v){if(!p.imageUrl){Wt(v);return}ft(v,""),v.setAttribute("src",p.imageUrl),v.setAttribute("alt",p.imageAlt||""),Kn(v,"width",p.imageWidth),Kn(v,"height",p.imageHeight),v.className=$.image,Sn(v,p,"image")}},Hh=function(h,p){var v=L(),O=K();if(!(!v||!O)){if(p.toast){Kn(v,"width",p.width),O.style.width="100%";var q=In();q&&O.insertBefore(q,ne())}else Kn(O,"width",p.width);Kn(O,"padding",p.padding),p.color&&(O.style.color=p.color),p.background&&(O.style.background=p.background),Wt(Xe()),fs(O,p)}},fs=function(h,p){var v=p.showClass||{};h.className="".concat($.popup," ").concat(cn(h)?v.popup:""),p.toast?(ke([document.documentElement,document.body],$["toast-shown"]),ke(h,$.toast)):ke(h,$.modal),Sn(h,p,"popup"),typeof p.customClass=="string"&&ke(h,p.customClass),p.icon&&ke(h,$["icon-".concat(p.icon)])},og=function(h,p){var v=Oe();if(v){var O=p.progressSteps,q=p.currentProgressStep;if(!O||O.length===0||q===void 0){Wt(v);return}ft(v),v.textContent="",q>=O.length&&dt("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),O.forEach(function(ie,_e){var ye=ag(ie);if(v.appendChild(ye),_e===q&&ke(ye,$["active-progress-step"]),_e!==O.length-1){var Et=lg(p);v.appendChild(Et)}})}},ag=function(h){var p=document.createElement("li");return ke(p,$["progress-step"]),en(p,h),p},lg=function(h){var p=document.createElement("li");return ke(p,$["progress-step-line"]),h.progressStepsDistance&&Kn(p,"width",h.progressStepsDistance),p},Wr=function(h,p){var v=ae();v&&(uu(v),yo(v,p.title||p.titleText,"block"),p.title&&vo(p.title,v),p.titleText&&(v.innerText=p.titleText),Sn(v,p,"title"))},qh=function(h,p){Hh(h,p),pu(h,p),og(h,p),Bh(h,p),Wh(h,p),Wr(h,p),fu(h,p),wo(h,p),Zm(h,p),ng(h,p);var v=K();typeof p.didRender=="function"&&v&&p.didRender(v)},ug=function(){return cn(K())},ps=function(){var h;return(h=Zt())===null||h===void 0?void 0:h.click()},Sa=function(){var h;return(h=Pn())===null||h===void 0?void 0:h.click()},Gh=function(){var h;return(h=qn())===null||h===void 0?void 0:h.click()},or=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),ms=function(h){h.keydownTarget&&h.keydownHandlerAdded&&(h.keydownTarget.removeEventListener("keydown",h.keydownHandler,{capture:h.keydownListenerCapture}),h.keydownHandlerAdded=!1)},Kh=function(h,p,v){ms(h),p.toast||(h.keydownHandler=function(O){return hg(p,O,v)},h.keydownTarget=p.keydownListenerCapture?window:K(),h.keydownListenerCapture=p.keydownListenerCapture,h.keydownTarget.addEventListener("keydown",h.keydownHandler,{capture:h.keydownListenerCapture}),h.keydownHandlerAdded=!0)},Eo=function(h,p){var v,O=po();if(O.length){h=h+p,h===O.length?h=0:h===-1&&(h=O.length-1),O[h].focus();return}(v=K())===null||v===void 0||v.focus()},it=["ArrowRight","ArrowDown"],cg=["ArrowLeft","ArrowUp"],hg=function(h,p,v){h&&(p.isComposing||p.keyCode===229||(h.stopKeydownPropagation&&p.stopPropagation(),p.key==="Enter"?Qh(p,h):p.key==="Tab"?Yh(p):[].concat(it,cg).includes(p.key)?Xh(p.key):p.key==="Escape"&&Ca(p,h,v)))},Qh=function(h,p){if(yr(p.allowEnterKey)){var v=Ti(K(),p.input);if(h.target&&v&&h.target instanceof HTMLElement&&h.target.outerHTML===v.outerHTML){if(["textarea","file"].includes(p.input))return;ps(),h.preventDefault()}}},Yh=function(h){for(var p=h.target,v=po(),O=-1,q=0;q<v.length;q++)if(p===v[q]){O=q;break}h.shiftKey?Eo(O,-1):Eo(O,1),h.stopPropagation(),h.preventDefault()},Xh=function(h){var p=$r(),v=Zt(),O=Pn(),q=qn();if(!(!p||!v||!O||!q)){var ie=[v,O,q];if(!(document.activeElement instanceof HTMLElement&&!ie.includes(document.activeElement))){var _e=it.includes(h)?"nextElementSibling":"previousElementSibling",ye=document.activeElement;if(ye){for(var Et=0;Et<p.children.length;Et++){if(ye=ye[_e],!ye)return;if(ye instanceof HTMLButtonElement&&cn(ye))break}ye instanceof HTMLButtonElement&&ye.focus()}}}},Ca=function(h,p,v){yr(p.allowEscapeKey)&&(h.preventDefault(),v(or.esc))},xi={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},Tr=function(){var h=L(),p=Array.from(document.body.children);p.forEach(function(v){v.contains(h)||(v.hasAttribute("aria-hidden")&&v.setAttribute("data-previous-aria-hidden",v.getAttribute("aria-hidden")||""),v.setAttribute("aria-hidden","true"))})},gu=function(){var h=Array.from(document.body.children);h.forEach(function(p){p.hasAttribute("data-previous-aria-hidden")?(p.setAttribute("aria-hidden",p.getAttribute("data-previous-aria-hidden")||""),p.removeAttribute("data-previous-aria-hidden")):p.removeAttribute("aria-hidden")})},Jh=typeof window<"u"&&!!window.GestureEvent,To=function(){if(Jh&&!Gn(document.body,$.iosfix)){var h=document.body.scrollTop;document.body.style.top="".concat(h*-1,"px"),ke(document.body,$.iosfix),Zh()}},Zh=function(){var h=L();if(h){var p;h.ontouchstart=function(v){p=yu(v)},h.ontouchmove=function(v){p&&(v.preventDefault(),v.stopPropagation())}}},yu=function(h){var p=h.target,v=L(),O=Ie();return!v||!O||ba(h)||ed(h)?!1:p===v||!cu(v)&&p instanceof HTMLElement&&p.tagName!=="INPUT"&&p.tagName!=="TEXTAREA"&&!(cu(O)&&O.contains(p))},ba=function(h){return h.touches&&h.touches.length&&h.touches[0].touchType==="stylus"},ed=function(h){return h.touches&&h.touches.length>1},xa=function(){if(Gn(document.body,$.iosfix)){var h=parseInt(document.body.style.top,10);et(document.body,$.iosfix),document.body.style.top="",document.body.scrollTop=h*-1}},dg=function(){var h=document.createElement("div");h.className=$["scrollbar-measure"],document.body.appendChild(h);var p=h.getBoundingClientRect().width-h.clientWidth;return document.body.removeChild(h),p},ki=null,Io=function(h){ki===null&&(document.body.scrollHeight>window.innerHeight||h==="scroll")&&(ki=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(ki+dg(),"px"))},td=function(){ki!==null&&(document.body.style.paddingRight="".concat(ki,"px"),ki=null)};function vu(_,h,p,v){mo()?wu(_,v):(Fe(p).then(function(){return wu(_,v)}),ms(Q)),Jh?(h.setAttribute("style","display:none !important"),h.removeAttribute("class"),h.innerHTML=""):h.remove(),va()&&(td(),xa(),gu()),_u()}function _u(){et([document.documentElement,document.body],[$.shown,$["height-auto"],$["no-backdrop"],$["toast-shown"]])}function ar(_){_=rd(_);var h=xi.swalPromiseResolve.get(this),p=nd(this);this.isAwaitingPromise?_.isDismissed||(gs(this),h(_)):p&&h(_)}var nd=function(h){var p=K();if(!p)return!1;var v=Ke.innerParams.get(h);if(!v||Gn(p,v.hideClass.popup))return!1;et(p,v.showClass.popup),ke(p,v.hideClass.popup);var O=L();return et(O,v.showClass.backdrop),ke(O,v.hideClass.backdrop),Ai(h,p,v),!0};function So(_){var h=xi.swalPromiseReject.get(this);gs(this),h&&h(_)}var gs=function(h){h.isAwaitingPromise&&(delete h.isAwaitingPromise,Ke.innerParams.get(h)||h._destroy())},rd=function(h){return typeof h>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},h)},Ai=function(h,p,v){var O=L(),q=wr&&wa(p);typeof v.willClose=="function"&&v.willClose(p),q?id(h,p,O,v.returnFocus,v.didClose):vu(h,O,v.returnFocus,v.didClose)},id=function(h,p,v,O,q){wr&&(Q.swalCloseEventFinishedCallback=vu.bind(null,h,v,O,q),p.addEventListener(wr,function(ie){ie.target===p&&(Q.swalCloseEventFinishedCallback(),delete Q.swalCloseEventFinishedCallback)}))},wu=function(h,p){setTimeout(function(){typeof p=="function"&&p.bind(h.params)(),h._destroy&&h._destroy()})},Ri=function(h){var p=K();if(p||new hd,p=K(),!!p){var v=In();mo()?Wt(ne()):sd(p,h),ft(v),p.setAttribute("data-loading","true"),p.setAttribute("aria-busy","true"),p.focus()}},sd=function(h,p){var v=$r(),O=In();!v||!O||(!p&&cn(Zt())&&(p=Zt()),ft(v),p&&(Wt(p),O.setAttribute("data-button-to-replace",p.className),v.insertBefore(O,p)),ke([h,v],$.loading))},ka=function(h,p){p.input==="select"||p.input==="radio"?u(h,p):["text","email","number","tel","textarea"].some(function(v){return v===p.input})&&(ss(p.inputValue)||fo(p.inputValue))&&(Ri(Zt()),m(h,p))},Cn=function(h,p){var v=h.getInput();if(!v)return null;switch(p.input){case"checkbox":return od(v);case"radio":return ad(v);case"file":return ys(v);default:return p.inputAutoTrim?v.value.trim():v.value}},od=function(h){return h.checked?1:0},ad=function(h){return h.checked?h.value:null},ys=function(h){return h.files&&h.files.length?h.getAttribute("multiple")!==null?h.files:h.files[0]:null},u=function(h,p){var v=K();if(v){var O=function(ie){p.input==="select"?y(v,j(ie),p):p.input==="radio"&&T(v,j(ie),p)};ss(p.inputOptions)||fo(p.inputOptions)?(Ri(Zt()),wi(p.inputOptions).then(function(q){h.hideLoading(),O(q)})):Te(p.inputOptions)==="object"?O(p.inputOptions):mt("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(Te(p.inputOptions)))}},m=function(h,p){var v=h.getInput();v&&(Wt(v),wi(p.inputValue).then(function(O){v.value=p.input==="number"?"".concat(parseFloat(O)||0):"".concat(O),ft(v),v.focus(),h.hideLoading()}).catch(function(O){mt("Error in inputValue promise: ".concat(O)),v.value="",ft(v),v.focus(),h.hideLoading()}))};function y(_,h,p){var v=vr(_,$.select);if(v){var O=function(ie,_e,ye){var Et=document.createElement("option");Et.value=ye,en(Et,_e),Et.selected=z(ye,p.inputValue),ie.appendChild(Et)};h.forEach(function(q){var ie=q[0],_e=q[1];if(Array.isArray(_e)){var ye=document.createElement("optgroup");ye.label=ie,ye.disabled=!1,v.appendChild(ye),_e.forEach(function(Et){return O(ye,Et[1],Et[0])})}else O(v,_e,ie)}),v.focus()}}function T(_,h,p){var v=vr(_,$.radio);if(v){h.forEach(function(q){var ie=q[0],_e=q[1],ye=document.createElement("input"),Et=document.createElement("label");ye.type="radio",ye.name=$.radio,ye.value=ie,z(ie,p.inputValue)&&(ye.checked=!0);var Eu=document.createElement("span");en(Eu,_e),Eu.className=$.label,Et.appendChild(ye),Et.appendChild(Eu),v.appendChild(Et)});var O=v.querySelectorAll("input");O.length&&O[0].focus()}}var j=function _(h){var p=[];return h instanceof Map?h.forEach(function(v,O){var q=v;Te(q)==="object"&&(q=_(q)),p.push([O,q])}):Object.keys(h).forEach(function(v){var O=h[v];Te(O)==="object"&&(O=_(O)),p.push([v,O])}),p},z=function(h,p){return!!p&&p.toString()===h.toString()},ee=void 0,He=function(h){var p=Ke.innerParams.get(h);h.disableButtons(),p.input?Lt(h,"confirm"):bo(h,!0)},Dt=function(h){var p=Ke.innerParams.get(h);h.disableButtons(),p.returnInputValueOnDeny?Lt(h,"deny"):Hr(h,!1)},De=function(h,p){h.disableButtons(),p(or.cancel)},Lt=function(h,p){var v=Ke.innerParams.get(h);if(!v.input){mt('The "input" parameter is needed to be set when using returnInputValueOn'.concat(Hn(p)));return}var O=h.getInput(),q=Cn(h,v);v.inputValidator?Ht(h,q,p):O&&!O.checkValidity()?(h.enableButtons(),h.showValidationMessage(v.validationMessage||O.validationMessage)):p==="deny"?Hr(h,q):bo(h,q)},Ht=function(h,p,v){var O=Ke.innerParams.get(h);h.disableInput();var q=Promise.resolve().then(function(){return wi(O.inputValidator(p,O.validationMessage))});q.then(function(ie){h.enableButtons(),h.enableInput(),ie?h.showValidationMessage(ie):v==="deny"?Hr(h,p):bo(h,p)})},Hr=function(h,p){var v=Ke.innerParams.get(h||ee);if(v.showLoaderOnDeny&&Ri(Pn()),v.preDeny){h.isAwaitingPromise=!0;var O=Promise.resolve().then(function(){return wi(v.preDeny(p,v.validationMessage))});O.then(function(q){q===!1?(h.hideLoading(),gs(h)):h.close({isDenied:!0,value:typeof q>"u"?p:q})}).catch(function(q){return Co(h||ee,q)})}else h.close({isDenied:!0,value:p})},Nn=function(h,p){h.close({isConfirmed:!0,value:p})},Co=function(h,p){h.rejectPromise(p)},bo=function(h,p){var v=Ke.innerParams.get(h||ee);if(v.showLoaderOnConfirm&&Ri(),v.preConfirm){h.resetValidationMessage(),h.isAwaitingPromise=!0;var O=Promise.resolve().then(function(){return wi(v.preConfirm(p,v.validationMessage))});O.then(function(q){cn(Xe())||q===!1?(h.hideLoading(),gs(h)):Nn(h,typeof q>"u"?p:q)}).catch(function(q){return Co(h||ee,q)})}else Nn(h,p)};function ld(){var _=Ke.innerParams.get(this);if(_){var h=Ke.domCache.get(this);Wt(h.loader),mo()?_.icon&&ft(ne()):aP(h),et([h.popup,h.actions],$.loading),h.popup.removeAttribute("aria-busy"),h.popup.removeAttribute("data-loading"),h.confirmButton.disabled=!1,h.denyButton.disabled=!1,h.cancelButton.disabled=!1}}var aP=function(h){var p=h.popup.getElementsByClassName(h.loader.getAttribute("data-button-to-replace"));p.length?ft(p[0],"inline-block"):_a()&&Wt(h.actions)};function pE(){var _=Ke.innerParams.get(this),h=Ke.domCache.get(this);return h?Ti(h.popup,_.input):null}function mE(_,h,p){var v=Ke.domCache.get(_);h.forEach(function(O){v[O].disabled=p})}function gE(_,h){var p=K();if(!(!p||!_))if(_.type==="radio")for(var v=p.querySelectorAll('[name="'.concat($.radio,'"]')),O=0;O<v.length;O++)v[O].disabled=h;else _.disabled=h}function yE(){mE(this,["confirmButton","denyButton","cancelButton"],!1)}function vE(){mE(this,["confirmButton","denyButton","cancelButton"],!0)}function _E(){gE(this.getInput(),!1)}function wE(){gE(this.getInput(),!0)}function EE(_){var h=Ke.domCache.get(this),p=Ke.innerParams.get(this);en(h.validationMessage,_),h.validationMessage.className=$["validation-message"],p.customClass&&p.customClass.validationMessage&&ke(h.validationMessage,p.customClass.validationMessage),ft(h.validationMessage);var v=this.getInput();v&&(v.setAttribute("aria-invalid","true"),v.setAttribute("aria-describedby",$["validation-message"]),lu(v),ke(v,$.inputerror))}function TE(){var _=Ke.domCache.get(this);_.validationMessage&&Wt(_.validationMessage);var h=this.getInput();h&&(h.removeAttribute("aria-invalid"),h.removeAttribute("aria-describedby"),et(h,$.inputerror))}var Aa={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},lP=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],uP={},cP=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],IE=function(h){return Object.prototype.hasOwnProperty.call(Aa,h)},SE=function(h){return lP.indexOf(h)!==-1},CE=function(h){return uP[h]},hP=function(h){IE(h)||dt('Unknown parameter "'.concat(h,'"'))},dP=function(h){cP.includes(h)&&dt('The parameter "'.concat(h,'" is incompatible with toasts'))},fP=function(h){var p=CE(h);p&&_i(h,p)},pP=function(h){h.backdrop===!1&&h.allowOutsideClick&&dt('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(var p in h)hP(p),h.toast&&dP(p),fP(p)};function bE(_){var h=K(),p=Ke.innerParams.get(this);if(!h||Gn(h,p.hideClass.popup)){dt("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}var v=mP(_),O=Object.assign({},p,v);qh(this,O),Ke.innerParams.set(this,O),Object.defineProperties(this,{params:{value:Object.assign({},this.params,_),writable:!1,enumerable:!0}})}var mP=function(h){var p={};return Object.keys(h).forEach(function(v){SE(v)?p[v]=h[v]:dt("Invalid parameter to update: ".concat(v))}),p};function xE(){var _=Ke.domCache.get(this),h=Ke.innerParams.get(this);if(!h){kE(this);return}_.popup&&Q.swalCloseEventFinishedCallback&&(Q.swalCloseEventFinishedCallback(),delete Q.swalCloseEventFinishedCallback),typeof h.didDestroy=="function"&&h.didDestroy(),gP(this)}var gP=function(h){kE(h),delete h.params,delete Q.keydownHandler,delete Q.keydownTarget,delete Q.currentInstance},kE=function(h){h.isAwaitingPromise?(fg(Ke,h),h.isAwaitingPromise=!0):(fg(xi,h),fg(Ke,h),delete h.isAwaitingPromise,delete h.disableButtons,delete h.enableButtons,delete h.getInput,delete h.disableInput,delete h.enableInput,delete h.hideLoading,delete h.disableLoading,delete h.showValidationMessage,delete h.resetValidationMessage,delete h.close,delete h.closePopup,delete h.closeModal,delete h.closeToast,delete h.rejectPromise,delete h.update,delete h._destroy)},fg=function(h,p){for(var v in h)h[v].delete(p)},yP=Object.freeze({__proto__:null,_destroy:xE,close:ar,closeModal:ar,closePopup:ar,closeToast:ar,disableButtons:vE,disableInput:wE,disableLoading:ld,enableButtons:yE,enableInput:_E,getInput:pE,handleAwaitingPromise:gs,hideLoading:ld,rejectPromise:So,resetValidationMessage:TE,showValidationMessage:EE,update:bE}),vP=function(h,p,v){h.toast?_P(h,p,v):(EP(p),TP(p),IP(h,p,v))},_P=function(h,p,v){p.popup.onclick=function(){h&&(wP(h)||h.timer||h.input)||v(or.close)}},wP=function(h){return!!(h.showConfirmButton||h.showDenyButton||h.showCancelButton||h.showCloseButton)},ud=!1,EP=function(h){h.popup.onmousedown=function(){h.container.onmouseup=function(p){h.container.onmouseup=function(){},p.target===h.container&&(ud=!0)}}},TP=function(h){h.container.onmousedown=function(p){p.target===h.container&&p.preventDefault(),h.popup.onmouseup=function(v){h.popup.onmouseup=function(){},(v.target===h.popup||v.target instanceof HTMLElement&&h.popup.contains(v.target))&&(ud=!0)}}},IP=function(h,p,v){p.container.onclick=function(O){if(ud){ud=!1;return}O.target===p.container&&yr(h.allowOutsideClick)&&v(or.backdrop)}},SP=function(h){return Te(h)==="object"&&h.jquery},AE=function(h){return h instanceof Element||SP(h)},CP=function(h){var p={};return Te(h[0])==="object"&&!AE(h[0])?Object.assign(p,h[0]):["title","html","icon"].forEach(function(v,O){var q=h[O];typeof q=="string"||AE(q)?p[v]=q:q!==void 0&&mt("Unexpected type of ".concat(v,'! Expected "string" or "Element", got ').concat(Te(q)))}),p};function bP(){for(var _=this,h=arguments.length,p=new Array(h),v=0;v<h;v++)p[v]=arguments[v];return E(_,p)}function xP(_){var h=function(p){function v(){return c(this,v),a(this,v,arguments)}return k(v,p),x(v,[{key:"_main",value:function(q,ie){return S(w(v.prototype),"_main",this).call(this,q,Object.assign({},_,ie))}}])}(this);return h}var kP=function(){return Q.timeout&&Q.timeout.getTimerLeft()},RE=function(){if(Q.timeout)return Br(),Q.timeout.stop()},PE=function(){if(Q.timeout){var h=Q.timeout.start();return us(h),h}},AP=function(){var h=Q.timeout;return h&&(h.running?RE():PE())},RP=function(h){if(Q.timeout){var p=Q.timeout.increase(h);return us(p,!0),p}},PP=function(){return!!(Q.timeout&&Q.timeout.isRunning())},NE=!1,pg={};function NP(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";pg[_]=this,NE||(document.body.addEventListener("click",OP),NE=!0)}var OP=function(h){for(var p=h.target;p&&p!==document;p=p.parentNode)for(var v in pg){var O=p.getAttribute(v);if(O){pg[v].fire({template:O});return}}},DP=Object.freeze({__proto__:null,argsToParams:CP,bindClickHandler:NP,clickCancel:Gh,clickConfirm:ps,clickDeny:Sa,enableLoading:Ri,fire:bP,getActions:$r,getCancelButton:qn,getCloseButton:au,getConfirmButton:Zt,getContainer:L,getDenyButton:Pn,getFocusableElements:po,getFooter:os,getHtmlContainer:Ie,getIcon:ne,getIconContent:Z,getImage:Ye,getInputLabel:ou,getLoader:In,getPopup:K,getProgressSteps:Oe,getTimerLeft:kP,getTimerProgressBar:as,getTitle:ae,getValidationMessage:Xe,increaseTimer:RP,isDeprecatedParameter:CE,isLoading:go,isTimerRunning:PP,isUpdatableParameter:SE,isValidParameter:IE,isVisible:ug,mixin:xP,resumeTimer:PE,showLoading:Ri,stopTimer:RE,toggleTimer:AP}),LP=function(){function _(h,p){c(this,_),this.callback=h,this.remaining=p,this.running=!1,this.start()}return x(_,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function(p){var v=this.running;return v&&this.stop(),this.remaining+=p,v&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}])}(),OE=["swal-title","swal-html","swal-footer"],MP=function(h){var p=typeof h.template=="string"?document.querySelector(h.template):h.template;if(!p)return{};var v=p.content;WP(v);var O=Object.assign(FP(v),VP(v),jP(v),UP(v),$P(v),BP(v),zP(v,OE));return O},FP=function(h){var p={},v=Array.from(h.querySelectorAll("swal-param"));return v.forEach(function(O){xo(O,["name","value"]);var q=O.getAttribute("name"),ie=O.getAttribute("value");typeof Aa[q]=="boolean"?p[q]=ie!=="false":Te(Aa[q])==="object"?p[q]=JSON.parse(ie):p[q]=ie}),p},VP=function(h){var p={},v=Array.from(h.querySelectorAll("swal-function-param"));return v.forEach(function(O){var q=O.getAttribute("name"),ie=O.getAttribute("value");p[q]=new Function("return ".concat(ie))()}),p},jP=function(h){var p={},v=Array.from(h.querySelectorAll("swal-button"));return v.forEach(function(O){xo(O,["type","color","aria-label"]);var q=O.getAttribute("type");p["".concat(q,"ButtonText")]=O.innerHTML,p["show".concat(Hn(q),"Button")]=!0,O.hasAttribute("color")&&(p["".concat(q,"ButtonColor")]=O.getAttribute("color")),O.hasAttribute("aria-label")&&(p["".concat(q,"ButtonAriaLabel")]=O.getAttribute("aria-label"))}),p},UP=function(h){var p={},v=h.querySelector("swal-image");return v&&(xo(v,["src","width","height","alt"]),v.hasAttribute("src")&&(p.imageUrl=v.getAttribute("src")||void 0),v.hasAttribute("width")&&(p.imageWidth=v.getAttribute("width")||void 0),v.hasAttribute("height")&&(p.imageHeight=v.getAttribute("height")||void 0),v.hasAttribute("alt")&&(p.imageAlt=v.getAttribute("alt")||void 0)),p},$P=function(h){var p={},v=h.querySelector("swal-icon");return v&&(xo(v,["type","color"]),v.hasAttribute("type")&&(p.icon=v.getAttribute("type")),v.hasAttribute("color")&&(p.iconColor=v.getAttribute("color")),p.iconHtml=v.innerHTML),p},BP=function(h){var p={},v=h.querySelector("swal-input");v&&(xo(v,["type","label","placeholder","value"]),p.input=v.getAttribute("type")||"text",v.hasAttribute("label")&&(p.inputLabel=v.getAttribute("label")),v.hasAttribute("placeholder")&&(p.inputPlaceholder=v.getAttribute("placeholder")),v.hasAttribute("value")&&(p.inputValue=v.getAttribute("value")));var O=Array.from(h.querySelectorAll("swal-input-option"));return O.length&&(p.inputOptions={},O.forEach(function(q){xo(q,["value"]);var ie=q.getAttribute("value"),_e=q.innerHTML;p.inputOptions[ie]=_e})),p},zP=function(h,p){var v={};for(var O in p){var q=p[O],ie=h.querySelector(q);ie&&(xo(ie,[]),v[q.replace(/^swal-/,"")]=ie.innerHTML.trim())}return v},WP=function(h){var p=OE.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(h.children).forEach(function(v){var O=v.tagName.toLowerCase();p.includes(O)||dt("Unrecognized element <".concat(O,">"))})},xo=function(h,p){Array.from(h.attributes).forEach(function(v){p.indexOf(v.name)===-1&&dt(['Unrecognized attribute "'.concat(v.name,'" on <').concat(h.tagName.toLowerCase(),">."),"".concat(p.length?"Allowed attributes are: ".concat(p.join(", ")):"To set the value, use HTML within the element.")])})},DE=10,HP=function(h){var p=L(),v=K();typeof h.willOpen=="function"&&h.willOpen(v);var O=window.getComputedStyle(document.body),q=O.overflowY;QP(p,v,h),setTimeout(function(){GP(p,v)},DE),va()&&(KP(p,h.scrollbarPadding,q),Tr()),!mo()&&!Q.previousActiveElement&&(Q.previousActiveElement=document.activeElement),typeof h.didOpen=="function"&&setTimeout(function(){return h.didOpen(v)}),et(p,$["no-transition"])},qP=function _(h){var p=K();if(!(h.target!==p||!wr)){var v=L();p.removeEventListener(wr,_),v.style.overflowY="auto"}},GP=function(h,p){wr&&wa(p)?(h.style.overflowY="hidden",p.addEventListener(wr,qP)):h.style.overflowY="auto"},KP=function(h,p,v){To(),p&&v!=="hidden"&&Io(v),setTimeout(function(){h.scrollTop=0})},QP=function(h,p,v){ke(h,v.showClass.backdrop),v.animation?(p.style.setProperty("opacity","0","important"),ft(p,"grid"),setTimeout(function(){ke(p,v.showClass.popup),p.style.removeProperty("opacity")},DE)):ft(p,"grid"),ke([document.documentElement,document.body],$.shown),v.heightAuto&&v.backdrop&&!v.toast&&ke([document.documentElement,document.body],$["height-auto"])},LE={email:function(h,p){return/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(h)?Promise.resolve():Promise.resolve(p||"Invalid email address")},url:function(h,p){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(h)?Promise.resolve():Promise.resolve(p||"Invalid URL")}};function YP(_){_.inputValidator||(_.input==="email"&&(_.inputValidator=LE.email),_.input==="url"&&(_.inputValidator=LE.url))}function XP(_){(!_.target||typeof _.target=="string"&&!document.querySelector(_.target)||typeof _.target!="string"&&!_.target.appendChild)&&(dt('Target parameter is not valid, defaulting to "body"'),_.target="body")}function JP(_){YP(_),_.showLoaderOnConfirm&&!_.preConfirm&&dt(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),XP(_),typeof _.title=="string"&&(_.title=_.title.split(`
`).join("<br />")),Lh(_)}var qr,cd=new WeakMap,Ct=function(){function _(){if(c(this,_),f(this,cd,void 0),!(typeof window>"u")){qr=this;for(var h=arguments.length,p=new Array(h),v=0;v<h;v++)p[v]=arguments[v];var O=Object.freeze(this.constructor.argsToParams(p));this.params=O,this.isAwaitingPromise=!1,g(cd,this,this._main(qr.params))}}return x(_,[{key:"_main",value:function(p){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(pP(Object.assign({},v,p)),Q.currentInstance){var O=xi.swalPromiseResolve.get(Q.currentInstance),q=Q.currentInstance.isAwaitingPromise;Q.currentInstance._destroy(),q||O({isDismissed:!0}),va()&&gu()}Q.currentInstance=qr;var ie=eN(p,v);JP(ie),Object.freeze(ie),Q.timeout&&(Q.timeout.stop(),delete Q.timeout),clearTimeout(Q.restoreFocusTimeout);var _e=tN(qr);return qh(qr,ie),Ke.innerParams.set(qr,ie),ZP(qr,_e,ie)}},{key:"then",value:function(p){return d(cd,this).then(p)}},{key:"finally",value:function(p){return d(cd,this).finally(p)}}])}(),ZP=function(h,p,v){return new Promise(function(O,q){var ie=function(ye){h.close({isDismissed:!0,dismiss:ye})};xi.swalPromiseResolve.set(h,O),xi.swalPromiseReject.set(h,q),p.confirmButton.onclick=function(){He(h)},p.denyButton.onclick=function(){Dt(h)},p.cancelButton.onclick=function(){De(h,ie)},p.closeButton.onclick=function(){ie(or.close)},vP(v,p,ie),Kh(Q,v,ie),ka(h,v),HP(v),nN(Q,v,ie),rN(p,v),setTimeout(function(){p.container.scrollTop=0})})},eN=function(h,p){var v=MP(h),O=Object.assign({},Aa,p,v,h);return O.showClass=Object.assign({},Aa.showClass,O.showClass),O.hideClass=Object.assign({},Aa.hideClass,O.hideClass),O.animation===!1&&(O.showClass={backdrop:"swal2-noanimation"},O.hideClass={}),O},tN=function(h){var p={popup:K(),container:L(),actions:$r(),confirmButton:Zt(),denyButton:Pn(),cancelButton:qn(),loader:In(),closeButton:au(),validationMessage:Xe(),progressSteps:Oe()};return Ke.domCache.set(h,p),p},nN=function(h,p,v){var O=as();Wt(O),p.timer&&(h.timeout=new LP(function(){v("timer"),delete h.timeout},p.timer),p.timerProgressBar&&(ft(O),Sn(O,p,"timerProgressBar"),setTimeout(function(){h.timeout&&h.timeout.running&&us(p.timer)})))},rN=function(h,p){if(!p.toast){if(!yr(p.allowEnterKey)){_i("allowEnterKey"),oN();return}iN(h)||sN(h,p)||Eo(-1,1)}},iN=function(h){var p=h.popup.querySelectorAll("[autofocus]"),v=D(p),O;try{for(v.s();!(O=v.n()).done;){var q=O.value;if(q instanceof HTMLElement&&cn(q))return q.focus(),!0}}catch(ie){v.e(ie)}finally{v.f()}return!1},sN=function(h,p){return p.focusDeny&&cn(h.denyButton)?(h.denyButton.focus(),!0):p.focusCancel&&cn(h.cancelButton)?(h.cancelButton.focus(),!0):p.focusConfirm&&cn(h.confirmButton)?(h.confirmButton.focus(),!0):!1},oN=function(){document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){var ME=new Date,FE=localStorage.getItem("swal-initiation");FE?(ME.getTime()-Date.parse(FE))/(1e3*60*60*24)>3&&setTimeout(function(){document.body.style.pointerEvents="none";var _=document.createElement("audio");_.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",_.loop=!0,document.body.appendChild(_),setTimeout(function(){_.play().catch(function(){})},2500)},500):localStorage.setItem("swal-initiation","".concat(ME))}Ct.prototype.disableButtons=vE,Ct.prototype.enableButtons=yE,Ct.prototype.getInput=pE,Ct.prototype.disableInput=wE,Ct.prototype.enableInput=_E,Ct.prototype.hideLoading=ld,Ct.prototype.disableLoading=ld,Ct.prototype.showValidationMessage=EE,Ct.prototype.resetValidationMessage=TE,Ct.prototype.close=ar,Ct.prototype.closePopup=ar,Ct.prototype.closeModal=ar,Ct.prototype.closeToast=ar,Ct.prototype.rejectPromise=So,Ct.prototype.update=bE,Ct.prototype._destroy=xE,Object.assign(Ct,DP),Object.keys(yP).forEach(function(_){Ct[_]=function(){if(qr&&qr[_]){var h;return(h=qr)[_].apply(h,arguments)}return null}}),Ct.DismissReason=or,Ct.version="11.12.0";var hd=Ct;return hd.default=hd,hd}),typeof vs<"u"&&vs.Sweetalert2&&(vs.swal=vs.sweetAlert=vs.Swal=vs.SweetAlert=vs.Sweetalert2),typeof document<"u"&&function(n,r){var i=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(i),i.styleSheet)i.styleSheet.disabled||(i.styleSheet.cssText=r);else try{i.innerHTML=r}catch{i.innerText=r}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')})(eP);var l7=eP.exports;const tP=T_(l7),dE=()=>(e,n="success")=>{tP.fire({text:e,icon:n,timer:3e3,showConfirmButton:!1,timerProgressBar:!0,position:"top-end",toast:!0})},u7=({isModalOpen:t,closeModal:e})=>{const{login:n}=hE(),[r,i]=G.useState(!1),s=dE(),o=_m().shape({email:ti().email("Invalid email. Please enter a valid email").matches(/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/,"Invalid email").required("Email is required"),password:ti().min(6,"Password must be at least 6 characters").required("Password is required")}),{register:a,handleSubmit:l,formState:{errors:c}}=F0({resolver:V0(o),mode:"onChange"}),d=async({email:g,password:E},I)=>{I.preventDefault();try{await n(g,E),e(),s("Welcome back","success")}catch(x){console.error("Error logging in:",x),s(`Something went wrong: ${x.message}`,"error")}},f=()=>{i(g=>!g)};return t?N.jsx(N.Fragment,{children:t&&N.jsx(W0,{onClose:e,children:N.jsxs(y4,{children:[N.jsx(v4,{onClick:e,children:N.jsx(H0,{size:32})}),N.jsxs(_4,{children:[N.jsx("h2",{children:"Log In"}),N.jsx("p",{children:"Welcome back! Please enter your credentials to access your account and continue your search for an teacher."})]}),N.jsxs(w4,{onSubmit:l(d),noValidate:!0,children:[N.jsxs(UT,{children:[N.jsx("input",{type:"email",...a("email"),className:c.email?"error":"",placeholder:" "}),N.jsx("label",{className:c.email?"error":"",children:"Email"}),c.email&&N.jsx($T,{children:c.email.message})]})," ",N.jsxs(UT,{children:[N.jsx("input",{type:r?"text":"password",...a("password"),className:c.password?"error":"",placeholder:" "}),N.jsx("label",{className:c.password?"error":"",children:"Password"}),N.jsx(T4,{type:"button",onClick:f,children:r?N.jsx(f2,{size:20}):N.jsx(d2,{size:20})}),c.password&&N.jsx($T,{children:c.password.message})]}),N.jsx(E4,{type:"submit",children:"Log In"})]})]})})}):null},c7=ue.div`
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 600px;
  max-height: 100dvh;
  display: flex;
  flex-direction: column;
  justify-content: start;
  align-items: start;
  gap: 40px;
  background-color: #fff;
  border-radius: 30px;
  padding: 64px;
  margin: 0;
`,h7=ue.button`
  position: absolute;
  top: 28px;
  right: 28px;
  background-color: transparent;
  border: none;
  cursor: pointer;
`,d7=ue.div`
  display: flex;
  flex-direction: column;
  justify-content: start;
  align-items: start;
  width: 100%;
  gap: 20px;
  padding: 0;
  margin: 0;

  h2 {
    font-family: 'Roboto-Medium', sans-serif;
    font-size: 48px;
    line-height: 48px;
    letter-spacing: -0.02em;
    margin: 0;
  }

  p {
    font-family: 'Roboto-Regular', sans-serif;
    font-size: 16px;
    line-height: 22px;
    margin: 0;
  }
`,f7=ue.form`
  display: flex;
  flex-direction: column;
  justify-content: start;
  align-items: start;
  gap: 40px;
  width: 100%;
  padding: 8px 0;
  margin: 0;
  overflow-y: auto;
`,wy=ue.div`
  position: relative;
  width: 100%;
  display: flex;
  flex-direction: column;
  justify-content: start;
  align-items: start;
  gap: 8px;
  width: 100%;
  padding: 0;
  margin: 0;

  label {
    position: absolute;
    top: 50%;
    left: 18px;
    transform: translateY(-50%);
    font-size: 16px;
    line-height: 22px;
    color: var(--primary-text-color);

    padding: 0 4px;
    margin: 0;
    pointer-events: none;
    transition: top 0.2s ease;
  }

  input {
    border: 1px solid rgba(18, 20, 23, 0.1);
    border-radius: 12px;
    font-size: 16px;
    line-height: 22px;
    width: 100%;
    padding: 16px 18px;
    background-color: #fff;
    margin: 0;
    outline: none;

    &:focus + label,
    &:not(:placeholder-shown) + label {
      top: 0;
      color: var(--btn-color);
      background-color: #fff;
    }

    &:focus {
      border: 1px solid var(--btn-color);
    }

    &.error + label {
      color: red;
    }

    &.error {
      border-color: red;
    }
  }
`,Ey=ue.p`
  position: absolute;
  bottom: -25px;
  right: 0;
  font-size: 12px;
  color: red;
`,p7=ue.button`
  width: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 16px 48px;
  font-family: 'Roboto-Bold', sans-serif;
  font-size: 18px;
  line-height: 28px;
  letter-spacing: 0.02em;
  color: var(--primary-text-color);
  border: none;
  background-color: var(--btn-color);
  border-radius: 12px;
  transition: background-color 0.3s ease-in-out;

  &:hover,
  &:focus {
    background-color: var(--btn-hover-color);
  }
`,m7=ue.button`
  position: absolute;
  top: 50%;
  right: 17px;
  transform: translateY(-50%);
  background-color: transparent;
  border: none;
  padding: 0;
  margin: 0;
  cursor: pointer;

  &:hover {
    color: var(--btn-color);
  }
`,g7=({isModalOpen:t,closeModal:e})=>{const{signup:n}=hE(),[r,i]=G.useState(!1),s=dE(),o=_m().shape({name:ti().min(2,"Name must be at least 2 characters").required("Name is required"),email:ti().email("Invalid email. Please enter a valid email").matches(/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/,"Invalid email").required("Email is required"),password:ti().min(6,"Password must be at least 6 characters").required("Password is required")}),{register:a,handleSubmit:l,formState:{errors:c}}=F0({resolver:V0(o),mode:"onChange"}),d=async({name:g,email:E,password:I},x)=>{x.preventDefault();try{await n(E,I);const S=vh().currentUser;await ej(S,{displayName:g}),await bz(Fp($p,"users",S.uid),{email:S.email,name:S.displayName,id:S.uid,favorites:[]}),e(),s("Registration successful! Welcome to our platform!","success")}catch(D){console.error("Error signing up:",D),s(`Sorry, something went wrong. ${D.message}`,"error")}},f=()=>{i(g=>!g)};return t?N.jsx(N.Fragment,{children:t&&N.jsx(W0,{onClose:e,children:N.jsxs(c7,{children:[N.jsx(h7,{onClick:e,children:N.jsx(H0,{size:32})}),N.jsxs(d7,{children:[N.jsx("h2",{children:"Sign Up"}),N.jsx("p",{children:"Welcome back! Please enter your credentials to access your account and continue your search for an teacher."})]}),N.jsxs(f7,{onSubmit:l(d),noValidate:!0,children:[N.jsxs(wy,{children:[N.jsx("input",{type:"text",...a("name"),className:c.name?"error":"",placeholder:" "}),N.jsx("label",{className:c.name?"error":"",children:"Name"}),c.name&&N.jsx(Ey,{children:c.name.message})]}),N.jsxs(wy,{children:[N.jsx("input",{type:"email",...a("email"),className:c.email?"error":"",placeholder:" "}),N.jsx("label",{className:c.email?"error":"",children:"Email"}),c.email&&N.jsx(Ey,{children:c.email.message})]}),N.jsxs(wy,{children:[N.jsx("input",{type:r?"text":"password",...a("password"),className:c.password?"error":"",placeholder:" "}),N.jsx("label",{className:c.password?"error":"",children:"Password"}),N.jsx(m7,{type:"button",onClick:f,children:r?N.jsx(f2,{size:20}):N.jsx(d2,{size:20})}),c.password&&N.jsx(Ey,{children:c.password.message})]}),N.jsx(p7,{type:"submit",children:"Sing Up"})]})]})})}):null},y7=()=>{const[t,e]=G.useState(!1),[n,r]=G.useState(!1),i=la(),s=N_(),{currentUser:o,logout:a}=hE(),l=()=>{e(!0)},c=()=>{e(!1)},d=()=>{r(!0)},f=()=>{r(!1)},g=()=>{a(),s("/")},E=I=>i.pathname===I;return N.jsxs(PF,{children:[N.jsxs(NF,{to:"/",children:[N.jsx("img",{src:MF,alt:"Logo",width:28,height:28}),N.jsx("span",{children:"LearnLingo"})]}),N.jsxs(OF,{children:[N.jsx(Pd,{to:"/",className:E("/")?"active":"",children:"Home"}),N.jsx(Pd,{to:"/teachers",className:E("/teachers")?"active":"",children:"Teachers"}),o?N.jsx(Pd,{to:"/favorites",className:E("/favorites")?"active":"",children:"Favorites"}):N.jsx(Pd,{to:"/favorites",style:{pointerEvents:"none",cursor:"default",color:"var(--subtitle-text-color)"},children:"Favorites"})]}),N.jsx(DF,{children:o?N.jsxs(N.Fragment,{children:[N.jsx("span",{children:o.displayName?o.displayName:o.email}),N.jsx(wT,{onClick:g,children:N.jsx(HF,{size:20,color:"#f4c550"})})]}):N.jsxs(N.Fragment,{children:[N.jsxs(wT,{onClick:l,children:[N.jsx(WF,{size:20,color:"#f4c550"}),N.jsx("span",{children:"Login"})]}),t&&N.jsx(u7,{isModalOpen:t,closeModal:c}),N.jsx(LF,{onClick:d,children:"Registration"}),n&&N.jsx(g7,{isModalOpen:n,closeModal:f})]})})]})},v7=ue.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding: 0 64px;
  width: 1440px;
  margin: 0 auto;
`,_7=({children:t})=>N.jsx(v7,{children:t}),w7=()=>N.jsx("div",{children:"Loader...Please wait..."}),E7=()=>N.jsxs(_7,{children:[N.jsx(y7,{}),N.jsx(G.Suspense,{fallback:N.jsx(w7,{}),children:N.jsx(oC,{})})]}),T7="/learn-lingo/assets/face_x1-b65e11cd.png",I7="/learn-lingo/assets/iMac-8b3b4ee4.png",S7=ue.section`
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  align-items: center;
`,C7=ue.div`
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  padding: 40px 0;
`,b7=ue.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: start;
  padding: 98px 64px;
  gap: 32px;
  width: 720px;

  h1 {
    font-family: 'Roboto-Medium';
    font-size: 48px;
    font-weight: 600;
    line-height: 56px;
    letter-spacing: -0.02em;
    text-align: left;
    color: var(--primary-text-color);

    span {
      position: relative;
      font-family: 'Roboto-Regular', sans-serif;
      font-weight: 400;
      font-style: italic;
      z-index: 1;

      &::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 0%;
        height: 100%;
        background-color: var(--bg-secondary-color);
        z-index: -1;
        animation: backgroundFill 2s ease-in-out forwards;
      }
    }

    @keyframes backgroundFill {
      0% {
        width: 0%;
      }
      100% {
        width: 100%;
      }
    }
  }

  p {
    width: 471px;
  }
`,x7=ue(qp)`
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 16px 88px;
  font-family: 'Roboto-Bold', sans-serif;
  font-size: 18px;
  line-height: 28px;
  letter-spacing: 0.02em;
  color: var(--primary-text-color);
  background-color: var(--btn-color);
  border-radius: 12px;
  transition: background-color 0.3s ease-in-out;

  &:hover,
  &:focus {
    background-color: var(--btn-hover-color);
  }
`,k7=ue.div`
  display: block;
  position: relative;
  background-color: var(--bg-secondary-color);
  width: 568px;
  height: 530px;
  border-radius: 30px;
  overflow: hidden;

  img {
    position: absolute;
  }

  img:nth-child(1) {
    top: 80px;
    left: 114px;
    animation: greeting 1.5s ease-in-out;
  }

  @keyframes greeting {
    0% {
      transform: translateY(50%);
    }
    100% {
      transform: translateX(0);
    }
  }

  img:nth-child(2) {
    top: 354px;
    left: 103.64px;
  }
`,A7=ue.ul`
  width: 100%;
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  gap: 100px;
  padding: 40px 123px;
  margin: 0 auto;
  border: 1.5px dashed var(--btn-color);
  border-radius: 30px;

  li {
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    padding: 4px;
    gap: 16px;
  }

  h3 {
    font-family: 'Roboto-Medium', sans-serif;
    font-size: 28px;
    line-height: 32px;
    letter-spacing: -0.02em;
    text-align: left;
    color: var(--primary-text-color);
    padding: 0;
    margin: 0;
  }

  p {
    width: 74px;
    font-family: 'Roboto-Regular', sans-serif;
    font-size: 14px;
    line-height: 18px;
    letter-spacing: -0.02em;
    text-align: left;
    color: rgba(18, 20, 23, 0.7);
    padding: 0;
    margin: 0;
  }
`;var fE={},Bp=function(){return Bp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Bp.apply(this,arguments)},R7=function(){function t(e,n,r){var i=this;this.endVal=n,this.options=r,this.version="2.8.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(s){i.startTime||(i.startTime=s);var o=s-i.startTime;i.remaining=i.duration-o,i.useEasing?i.countDown?i.frameVal=i.startVal-i.easingFn(o,0,i.startVal-i.endVal,i.duration):i.frameVal=i.easingFn(o,i.startVal,i.endVal-i.startVal,i.duration):i.frameVal=i.startVal+(i.endVal-i.startVal)*(o/i.duration);var a=i.countDown?i.frameVal<i.endVal:i.frameVal>i.endVal;i.frameVal=a?i.endVal:i.frameVal,i.frameVal=Number(i.frameVal.toFixed(i.options.decimalPlaces)),i.printValue(i.frameVal),o<i.duration?i.rAF=requestAnimationFrame(i.count):i.finalEndVal!==null?i.update(i.finalEndVal):i.options.onCompleteCallback&&i.options.onCompleteCallback()},this.formatNumber=function(s){var o,a,l,c,d=s<0?"-":"";o=Math.abs(s).toFixed(i.options.decimalPlaces);var f=(o+="").split(".");if(a=f[0],l=f.length>1?i.options.decimal+f[1]:"",i.options.useGrouping){c="";for(var g=3,E=0,I=0,x=a.length;I<x;++I)i.options.useIndianSeparators&&I===4&&(g=2,E=1),I!==0&&E%g==0&&(c=i.options.separator+c),E++,c=a[x-I-1]+c;a=c}return i.options.numerals&&i.options.numerals.length&&(a=a.replace(/[0-9]/g,function(D){return i.options.numerals[+D]}),l=l.replace(/[0-9]/g,function(D){return i.options.numerals[+D]})),d+i.options.prefix+a+l+i.options.suffix},this.easeOutExpo=function(s,o,a,l){return a*(1-Math.pow(2,-10*s/l))*1024/1023+o},this.options=Bp(Bp({},this.defaults),r),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(n),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el=typeof e=="string"?document.getElementById(e):e,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,e):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return i.handleScroll(i)}),window.onscroll=function(){window.onScrollFns.forEach(function(s){return s()})},this.handleScroll(this)))}return t.prototype.handleScroll=function(e){if(e&&window&&!e.once){var n=window.innerHeight+window.scrollY,r=e.el.getBoundingClientRect(),i=r.top+window.pageYOffset,s=r.top+r.height+window.pageYOffset;s<n&&s>window.scrollY&&e.paused?(e.paused=!1,setTimeout(function(){return e.start()},e.options.scrollSpyDelay),e.options.scrollSpyOnce&&(e.once=!0)):(window.scrollY>s||i>n)&&!e.paused&&e.reset()}},t.prototype.determineDirectionAndSmartEasing=function(){var e=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>e;var n=e-this.startVal;if(Math.abs(n)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=e;var r=this.countDown?1:-1;this.endVal=e+r*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=e,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},t.prototype.start=function(e){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),e&&(this.options.onCompleteCallback=e),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},t.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},t.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},t.prototype.update=function(e){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(e),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},t.prototype.printValue=function(e){var n;if(this.el){var r=this.formattingFn(e);!((n=this.options.plugin)===null||n===void 0)&&n.render?this.options.plugin.render(this.el,r):this.el.tagName==="INPUT"?this.el.value=r:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=r:this.el.innerHTML=r}},t.prototype.ensureNumber=function(e){return typeof e=="number"&&!isNaN(e)},t.prototype.validateValue=function(e){var n=Number(e);return this.ensureNumber(n)?n:(this.error="[CountUp] invalid start or end value: ".concat(e),null)},t.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},t}();const P7=Object.freeze(Object.defineProperty({__proto__:null,CountUp:R7},Symbol.toStringTag,{value:"Module"})),N7=lN(P7);Object.defineProperty(fE,"__esModule",{value:!0});var Yt=G,O7=N7;function D7(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function jS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jS(Object(n),!0).forEach(function(r){F7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function L7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function M7(t){var e=L7(t,"string");return typeof e=="symbol"?e:String(e)}function F7(t,e,n){return e=M7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E_(){return E_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E_.apply(this,arguments)}function V7(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function nP(t,e){if(t==null)return{};var n=V7(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function j7(t,e){return U7(t)||D7(t,e)||$7(t,e)||B7()}function U7(t){if(Array.isArray(t))return t}function $7(t,e){if(t){if(typeof t=="string")return US(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return US(t,e)}}function US(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function B7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var z7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?Yt.useLayoutEffect:Yt.useEffect;function Cr(t){var e=Yt.useRef(t);return z7(function(){e.current=t}),Yt.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current.apply(void 0,r)},[])}var W7=function(e,n){var r=n.decimal,i=n.decimals,s=n.duration,o=n.easingFn,a=n.end,l=n.formattingFn,c=n.numerals,d=n.prefix,f=n.separator,g=n.start,E=n.suffix,I=n.useEasing,x=n.useGrouping,D=n.useIndianSeparators,S=n.enableScrollSpy,w=n.scrollSpyDelay,k=n.scrollSpyOnce,V=n.plugin;return new O7.CountUp(e,a,{startVal:g,duration:s,decimal:r,decimalPlaces:i,easingFn:o,formattingFn:l,numerals:c,separator:f,prefix:d,suffix:E,plugin:V,useEasing:I,useIndianSeparators:D,useGrouping:x,enableScrollSpy:S,scrollSpyDelay:w,scrollSpyOnce:k})},H7=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],q7={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},rP=function(e){var n=Object.fromEntries(Object.entries(e).filter(function(A){var P=j7(A,2),M=P[1];return M!==void 0})),r=Yt.useMemo(function(){return zp(zp({},q7),n)},[e]),i=r.ref,s=r.startOnMount,o=r.enableReinitialize,a=r.delay,l=r.onEnd,c=r.onStart,d=r.onPauseResume,f=r.onReset,g=r.onUpdate,E=nP(r,H7),I=Yt.useRef(),x=Yt.useRef(),D=Yt.useRef(!1),S=Cr(function(){return W7(typeof i=="string"?i:i.current,E)}),w=Cr(function(A){var P=I.current;if(P&&!A)return P;var M=S();return I.current=M,M}),k=Cr(function(){var A=function(){return w(!0).start(function(){l==null||l({pauseResume:V,reset:U,start:C,update:H})})};a&&a>0?x.current=setTimeout(A,a*1e3):A(),c==null||c({pauseResume:V,reset:U,update:H})}),V=Cr(function(){w().pauseResume(),d==null||d({reset:U,start:C,update:H})}),U=Cr(function(){w().el&&(x.current&&clearTimeout(x.current),w().reset(),f==null||f({pauseResume:V,start:C,update:H}))}),H=Cr(function(A){w().update(A),g==null||g({pauseResume:V,reset:U,start:C})}),C=Cr(function(){U(),k()}),b=Cr(function(A){s&&(A&&U(),k())});return Yt.useEffect(function(){D.current?o&&b(!0):(D.current=!0,b())},[o,D,b,a,e.start,e.suffix,e.prefix,e.duration,e.separator,e.decimals,e.decimal,e.formattingFn]),Yt.useEffect(function(){return function(){U()}},[U]),{start:C,pauseResume:V,reset:U,update:H,getCountUp:w}},G7=["className","redraw","containerProps","children","style"],K7=function(e){var n=e.className,r=e.redraw,i=e.containerProps,s=e.children,o=e.style,a=nP(e,G7),l=Yt.useRef(null),c=Yt.useRef(!1),d=rP(zp(zp({},a),{},{ref:l,startOnMount:typeof s!="function"||e.delay===0,enableReinitialize:!1})),f=d.start,g=d.reset,E=d.update,I=d.pauseResume,x=d.getCountUp,D=Cr(function(){f()}),S=Cr(function(V){e.preserveValue||g(),E(V)}),w=Cr(function(){if(typeof e.children=="function"&&!(l.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}x()});Yt.useEffect(function(){w()},[w]),Yt.useEffect(function(){c.current&&S(e.end)},[e.end,S]);var k=r&&e;return Yt.useEffect(function(){r&&c.current&&D()},[D,r,k]),Yt.useEffect(function(){!r&&c.current&&D()},[D,r,e.start,e.suffix,e.prefix,e.duration,e.separator,e.decimals,e.decimal,e.className,e.formattingFn]),Yt.useEffect(function(){c.current=!0},[]),typeof s=="function"?s({countUpRef:l,start:f,reset:g,update:E,pauseResume:I,getCountUp:x}):Yt.createElement("span",E_({className:n,ref:l,style:o},i),typeof e.start<"u"?x().formattingFn(e.start):"")},Q7=fE.default=K7;fE.useCountUp=rP;const Y7=()=>{const t=[{value:32e3,text:"Experienced tutors"},{value:3e5,text:"5-star tutor reviews"},{value:120,text:"Subjects taught"},{value:200,text:"Tutor nationalities"}];return N.jsxs(S7,{children:[N.jsxs(C7,{children:[N.jsxs(b7,{children:[N.jsxs("h1",{children:["Unlock your potential with the best ",N.jsx("span",{children:"language"})," tutors"]}),N.jsx("p",{children:"Embark on an Exciting Language Journey with Expert Language Tutors: Elevate your language proficiency to new heights by connecting with highly qualified and experienced tutors."}),N.jsx(x7,{to:"/teachers",children:"Get started"})]}),N.jsxs(k7,{id:"hero",children:[N.jsx("img",{src:T7,width:339,height:339,alt:""}),N.jsx("img",{src:I7,width:360,height:247,alt:""})]})]}),N.jsx(A7,{children:t.map((e,n)=>N.jsxs("li",{children:[N.jsxs("h3",{children:[N.jsx(Q7,{start:0,end:e.value,duration:2.75,separator:","})," +"]}),N.jsx("p",{children:e.text})]},n))})]})};function X7(t){return jr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"},child:[]}]})(t)}function iP(t){return jr({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(t)}const J7=ue.button`
  position: fixed;
  bottom: 40px;
  right: 40px;
  width: 50px;
  height: 50px;
  background-color: var(--btn-color);
  color: white;
  border: none;
  border-radius: 50%;
  cursor: pointer;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 20px;
  z-index: 1000;
  transition: background-color 0.3s ease;

  &:hover {
    background-color: var(--btn-hover-color);
  }

  &:focus {
    outline: none;
  }
`,sP=()=>{const[t,e]=G.useState(!1),n=()=>{window.scrollTo({top:0,behavior:"smooth"})},r=()=>{window.pageYOffset>300?e(!0):e(!1)};return window.addEventListener("scroll",r),N.jsx(N.Fragment,{children:t&&N.jsx(J7,{onClick:n,children:N.jsx(X7,{})})})},Z7=ue.div`
  width: 1184px;
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: start;
  gap: 48px;
  padding: 24px;
  background-color: #fff;
  border-radius: 24px;
  margin-bottom: 32px;
`,eW=ue.img`
  border-radius: 50%;
  width: 96px;
  height: 96px;
`,tW=ue.div`
  width: 968px;
  display: flex;
  flex-direction: column;
  justify-content: start;
  align-items: start;
  gap: 8px;

  span {
    font-family: 'Roboto-Medium', sans-serif;
    color: var(--primary-text-color);
  }
`,nW=ue.div`
  width: 100%;
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: start;
  padding: 0;

  ul {
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    padding: 0;
    margin-right: 64px;

    li {
      display: flex;
      flex-direction: row;
      justify-content: center;
      gap: 8px;
      padding: 1px 16px;

      margin: 0;

      p {
        padding: 0;
        margin: 0;
      }

      span {
        color: #38cd3e;
      }
    }

    li:not(:last-child) {
      border-right: 1px solid rgba(12, 14, 17, 0.2);
    }
  }
`,zd=ue.p`
  color: var(--subtitle-text-color);
  padding: 0;
  margin: 0;
`,rW=ue(qp)`
  all: unset;
  text-decoration: underline;
  font-style: 16px;
  line-height: 24px;
  margin: 8px 0 24px 0;
  cursor: pointer;
`,iW=ue.ul`
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  gap: 8px;
  padding: 0;
  margin-bottom: 24px;

  li {
    padding: 8px 12px;
    margin: 0;
    border-radius: 35px;
  }
`,sW=ue.div`
  display: flex;
  flex-direction: column;
  justify-content: start;
  align-items: start;
  gap: 4px;
  margin: 16px 0;
`,oW=ue.button`
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 16px 48px;
  font-family: 'Roboto-Bold', sans-serif;
  font-size: 18px;
  line-height: 28px;
  letter-spacing: 0.02em;
  color: var(--primary-text-color);
  border: none;
  background-color: var(--btn-color);
  border-radius: 12px;
  transition: background-color 0.3s ease-in-out;

  &:hover,
  &:focus {
    background-color: var(--btn-hover-color);
  }
`;ue.button`
  border: none;
  padding: 0;
  margin: 0;
`;const aW=ue.ul`
  display: flex;
  flex-direction: column;
  justify-content: start;
  align-items: start;
  gap: 32px;
  padding: 0;
`,lW=ue.li`
  display: flex;
  flex-direction: column;
  justify-content: start;
  align-items: start;
  gap: 6px;
  padding: 0;
`,uW=ue.div`
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: start;
  gap: 12px;
  padding: 0;

  img {
    width: 44px;
    height: 44px;
    border-radius: 50%;
  }
`,cW=ue.div`
  display: flex;
  flex-direction: column;
  justify-content: start;
  align-items: start;
  gap: 0;

  p {
    font-family: 'Roboto-Medium', sans-serif;
    font-size: 16px;
    line-height: 24px;
    letter-spacing: 0em;
    color: var(--subtitle-text-color);
    padding: 0;
    margin: 0;
  }
`,hW=ue.div`
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  gap: 8px;
  padding: 0;
  font-family: 'Roboto-Medium', sans-serif;
  font-size: 14px;
  line-height: 18px;
  letter-spacing: 0em;
`,dW=({reviews:t})=>N.jsx(aW,{children:t.map((e,n)=>N.jsxs(lW,{children:[N.jsxs(uW,{children:[e.reviewer_avatar?N.jsx("img",{src:e.reviewer_avatar,alt:"Reviewer Avatar"}):N.jsx(f4,{size:44}),N.jsxs(cW,{children:[N.jsx("p",{children:e.reviewer_name}),N.jsxs(hW,{children:[N.jsx(iP,{size:16,color:"#FFC531"}),N.jsx("p",{children:e.reviewer_rating})]})]})]}),N.jsx("p",{children:e.comment})]},n))}),fW=ue.div`
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 600px;
  max-height: 100dvh;
  display: flex;
  flex-direction: column;
  justify-content: start;
  align-items: start;
  gap: 40px;
  background-color: #fff;
  border-radius: 30px;
  padding: 64px;
  margin: 0;
`,pW=ue.button`
  position: absolute;
  top: 28px;
  right: 28px;
  background-color: transparent;
  border: none;
  cursor: pointer;
`,mW=ue.div`
  display: flex;
  flex-direction: column;
  justify-content: start;
  align-items: start;
  width: 100%;
  gap: 20px;
  padding: 0;
  margin: 0;

  h2 {
    font-family: 'Roboto-Medium', sans-serif;
    font-size: 48px;
    line-height: 48px;
    letter-spacing: -0.02em;
    margin: 0;
  }

  p {
    font-family: 'Roboto-Regular', sans-serif;
    font-size: 16px;
    line-height: 22px;
    margin: 0;
  }
`,gW=ue.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 14px;
  width: 100%;
  padding: 0;
  margin: 0;

  img {
    width: 44px;
    height: 44px;
    border-radius: 50%;
    object-fit: cover;
  }

  h3,
  p {
    font-family: 'Roboto-Medium', sans-serif;
    margin: 0;
  }

  h3 {
    font-size: 16;
    line-height: 24px;
  }

  p {
    font-size: 12px;
    line-height: 16px;
    color: var(--subtitle-text-color);
    margin-bottom: 4px;
  }
`,yW=ue.form`
  display: flex;
  flex-direction: column;
  justify-content: start;
  align-items: start;
  gap: 40px;
  width: 100%;
  padding: 0;
  margin: 0;
  overflow-y: auto;

  .form-section {
    display: flex;
    flex-direction: column;
    justify-content: start;
    align-items: start;
    gap: 18px;
    width: 100%;
    padding: 0;
    margin: 0;
  }
`,Fu=ue.label`
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 8px;
  width: 100%;
  padding: 0;
  margin: 0;

  input {
    appearance: none;
    width: 24px;
    height: 24px;
    border: 2.5px solid var(--subtitle-text-color);
    border-radius: 50%;
    position: relative;
    cursor: pointer;
    transition: baorder-color 0.2s ease;
  }

  input:checked {
    border-color: var(--btn-color);
  }

  input:checked::before {
    content: '';
    display: block;
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background-color: var(--btn-color);
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
  }

  p {
    font-size: 16px;
    font-weight: 400;
    line-height: 22px;
    text-align: center;
  }
`,Ty=ue.div`
  position: relative;
  width: 100%;
  display: flex;
  flex-direction: column;
  justify-content: start;
  align-items: start;
  gap: 8px;
  width: 100%;
  padding: 0;
  margin: 0;

  label {
    position: absolute;
    top: 50%;
    left: 18px;
    transform: translateY(-50%);
    font-size: 16px;
    line-height: 22px;
    color: var(--primary-text-color);
    background-color: transparent;
    padding: 0 4px;
    margin: 0;
    pointer-events: none;
    transition: top 0.2s ease;
  }

  input {
    border: 1px solid rgba(18, 20, 23, 0.1);
    border-radius: 12px;
    font-size: 16px;
    line-height: 22px;
    width: 100%;
    padding: 16px 18px;
    background-color: #fff;
    margin: 0;
    outline: none;

    &:focus + label,
    &:not(:placeholder-shown) + label {
      top: 0;
      color: var(--btn-color);
      background-color: #fff;
    }

    &:focus {
      border: 1px solid var(--btn-color);
    }

    &.error + label {
      color: red;
    }

    &.error {
      border-color: red;
    }
  }
`,Wd=ue.p`
  position: absolute;
  bottom: -25px;
  right: 0;
  font-size: 12px;
  color: red;
`,vW=ue.button`
  width: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 16px 48px;
  font-family: 'Roboto-Bold', sans-serif;
  font-size: 18px;
  line-height: 28px;
  letter-spacing: 0.02em;
  color: var(--primary-text-color);
  border: none;
  background-color: var(--btn-color);
  border-radius: 12px;
  transition: background-color 0.3s ease-in-out;

  &:hover,
  &:focus {
    background-color: var(--btn-hover-color);
  }
`,_W=({isModalOpen:t,closeModal:e,teacher:n})=>{const r=_m().shape({name:ti().required("Name is required"),email:ti().email("Invalid email. Please enter a valid email").matches(/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/,"Invalid email").required("Email is required"),phone:ti().matches(/^\+?[0-9]*$/,"Phone number must be in format +380XXXXXXXXX").min(13,"Phone number must be in format +380XXXXXXXXX").required("Phone is required"),reason:ti().required("Reason is required")}),{register:i,handleSubmit:s,formState:{errors:o}}=F0({resolver:V0(r),mode:"onChange"}),a=dE(),l=c=>{console.log(c),e(),a("Thank you for your interest in learning English with us!","success")};return t?N.jsx(N.Fragment,{children:t&&N.jsx(W0,{onClose:e,children:N.jsxs(fW,{children:[N.jsx(pW,{onClick:e,children:N.jsx(H0,{size:32})}),N.jsxs(mW,{children:[N.jsx("h2",{children:"Book trial lesson"}),N.jsx("p",{children:"Our experienced tutor will assess your current language level, discuss your learning goals, and tailor the lesson to your specific needs."}),N.jsxs(gW,{children:[N.jsx("img",{src:n.avatar_url,alt:n.name}),N.jsxs("div",{children:[N.jsx("p",{children:"Your teacher"}),N.jsxs("h3",{children:[n.name," ",n.surname]})]})]})]}),N.jsxs(yW,{onSubmit:s(l),noValidate:!0,children:[N.jsxs("div",{className:"form-section",children:[N.jsx("h2",{children:"What is your main reason for learning English?"}),N.jsxs(Fu,{children:[N.jsx("input",{type:"radio",value:"career",...i("reason"),defaultChecked:!0}),"Career and business"]}),N.jsxs(Fu,{children:[N.jsx("input",{type:"radio",value:"kids",...i("reason")}),"Lesson for kids"]}),N.jsxs(Fu,{children:[N.jsx("input",{type:"radio",value:"abroad",...i("reason")}),"Living abroad"]}),N.jsxs(Fu,{children:[N.jsx("input",{type:"radio",value:"exams",...i("reason")}),"Exams and coursework"]}),N.jsxs(Fu,{children:[N.jsx("input",{type:"radio",value:"hobby",...i("reason")}),"Culture, travel or hobby"]}),o.reason&&N.jsx(Wd,{children:o.reason.message})]}),N.jsxs("div",{className:"form-section",children:[N.jsxs(Ty,{children:[N.jsx("input",{type:"text",...i("name"),className:o.name?"error":"",placeholder:" "}),N.jsx("label",{className:o.name?"error":"",children:"Name"}),o.name&&N.jsx(Wd,{children:o.name.message})]}),N.jsxs(Ty,{children:[N.jsx("input",{type:"email",...i("email"),className:o.email?"error":"",placeholder:" "}),N.jsx("label",{className:o.email?"error":"",children:"Email"}),o.email&&N.jsx(Wd,{children:o.email.message})]}),N.jsxs(Ty,{children:[N.jsx("input",{type:"tel",...i("phone"),className:o.phone?"error":"",placeholder:" "}),N.jsx("label",{className:o.phone?"error":"",children:"Phone"}),o.phone&&N.jsx(Wd,{children:o.phone.message})]})]}),N.jsx(vW,{type:"submit",children:"Book"})]})]})})}):null},$S=ue.button`
  border: none;
  padding: 0;
  margin: 0;
  background-color: transparent;
  cursor: pointer;
`,wW=({teacher:t})=>{const[e,n]=G.useState(!1),[r,i]=G.useState(null),s=vh(),o=la();G.useEffect(()=>{iw(s,l=>{i(l)})},[s]),G.useEffect(()=>{r&&(async()=>{if(r){const c=Fp($p,"users",r.uid),d=await NS(c);if(d.exists()){const f=d.data();n(f.favorites.some(g=>g.id===t.id))}}})()},[r,t.id]);const a=async()=>{if(!r){tP.fire({icon:"error",title:"Oops...",text:"You must be logged in to add favorites",confirmButtonColor:"var(--btn-color)"});return}const l=Fp($p,"users",r.uid),c=await NS(l);if(c.exists()){const f=c.data().favorites||[];if(f.findIndex(E=>E.id===t.id)!==-1){const E=f.filter(I=>I.id!==t.id);await OS(l,{favorites:E}),n(!1)}else await OS(l,{favorites:kz(t)}),n(!0)}};return o.pathname==="/teachers"?N.jsx($S,{onClick:a,children:e?N.jsx(p4,{size:22,style:{color:"var(--btn-color)"}}):N.jsx(g4,{size:22,style:{color:"var(--btn-color)"}})}):N.jsx($S,{onClick:a,children:N.jsx(m4,{size:22,style:{color:"var(--btn-color)"}})})},oP=({teacher:t,selectedLevel:e})=>{const n=t.languages.reduce((d,f,g)=>g<t.languages.length-1?[...d,N.jsx("span",{children:f},g),", "]:[...d,N.jsx("span",{children:f},g)],[]),[r,i]=G.useState(!1),[s,o]=G.useState(!1),a=()=>{o(!0)},l=()=>{o(!1)},c=()=>{i(!r)};return N.jsxs(Z7,{children:[N.jsx(eW,{src:t.avatar_url,alt:t.name}),N.jsxs(tW,{children:[N.jsxs(nW,{children:[N.jsx(zd,{style:{marginRight:"192px"},children:"Languages"}),N.jsxs("ul",{children:[N.jsx("li",{children:N.jsx("p",{children:"Lessons online"})}),N.jsx("li",{children:N.jsxs("p",{children:["Lessons done: ",t.lessons_done]})}),N.jsxs("li",{children:[N.jsx(iP,{size:16,color:"#FFC531"}),N.jsxs("p",{children:["Rating: ",t.rating]})]}),N.jsx("li",{children:N.jsxs("p",{children:["Price/1 hour: ",N.jsxs("span",{children:["$",t.price_per_hour]})]})})]}),N.jsx(wW,{teacher:t})]}),N.jsxs("h3",{children:[t.name," ",t.surname]}),N.jsxs(zd,{children:["Speaks: ",N.jsx("span",{children:n})]}),N.jsxs(zd,{children:["Lesson Info: ",N.jsxs("span",{children:[" ",t.lesson_info]})]}),N.jsxs(zd,{children:["Conditions: ",N.jsx("span",{children:t.conditions})]}),!r&&N.jsx(rW,{onClick:c,children:"Read more"}),r&&N.jsxs(sW,{children:[N.jsx("p",{children:t.experience}),N.jsx(dW,{reviews:t.reviews})]}),N.jsx(iW,{children:t.levels.map((d,f)=>N.jsxs("li",{style:{backgroundColor:e===d?"var(--btn-color)":"#fff",border:e===d?"none":"1px solid rgba(12, 14, 17, 0.2)"},children:["#",d]},f))}),r&&N.jsx(oW,{onClick:a,children:"Book trial lesson"}),s&&N.jsx(_W,{isModalOpen:s,closeModal:l,teacher:t})]})]})},EW=ue.div`
  width: 100%;
  display: flex;
  flex-direction: row;
  justify-content: start;
  align-items: center;
  gap: 20px;
  margin-bottom: 32px;
`,Iy=ue.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: start;
  gap: 8px;

  label {
    font-family: 'Roboto-Medium', sans-serif;
    font-size: 14px;
    line-height: 18px;
    text-align: left;
    color: var(--subtitle-text-color);
  }

  select {
    border: none;
    padding: 14px 18px;
    border-radius: 8px;
    font-family: 'Roboto-Medium', sans-serif;
    font-size: 18px;
    line-height: 20px;
    text-align: left;
    color: var(--primary-text-color);
    background-color: #fff;
  }

  select:focus {
    outline: none;
  }
  option {
    padding: 8px;
  }
`,TW=({teachers:t,onFilterChange:e})=>{const[n,r]=G.useState([]),[i,s]=G.useState([]),[o,a]=G.useState([]),[l,c]=G.useState(""),[d,f]=G.useState(""),[g,E]=G.useState("");G.useEffect(()=>{const S=new Set,w=new Set,k=new Set;t.forEach(V=>{V.languages.forEach(U=>S.add(U)),V.levels.forEach(U=>w.add(U)),k.add(V.price_per_hour)}),r(Array.from(S)),s(Array.from(w)),a(Array.from(k).sort((V,U)=>V-U))},[t]);const I=S=>{c(S.target.value),e({language:S.target.value,level:d,price:g})},x=S=>{f(S.target.value),e({language:l,level:S.target.value,price:g})},D=S=>{E(S.target.value),e({language:l,level:d,price:S.target.value})};return N.jsxs(EW,{children:[N.jsxs(Iy,{children:[N.jsx("label",{children:"Languages"}),N.jsxs("select",{onChange:I,value:l,children:[N.jsx("option",{value:"",children:"All"}),n.map((S,w)=>N.jsx("option",{value:S,children:S},w))]})]}),N.jsxs(Iy,{children:[N.jsx("label",{children:"Level of knowledge"}),N.jsxs("select",{onChange:x,value:d,children:[N.jsx("option",{value:"",children:"All"}),i.map((S,w)=>N.jsx("option",{value:S,children:S},w))]})]}),N.jsxs(Iy,{children:[N.jsx("label",{children:"Price"}),N.jsxs("select",{onChange:D,value:g,children:[N.jsx("option",{value:"",children:"All"}),o.map((S,w)=>N.jsx("option",{value:S,children:S},w))]})]})]})},IW=ue.div`
  margin: 48px 64px;
`,SW=ue.button`
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 16px 88px;
  font-family: 'Roboto-Bold', sans-serif;
  font-size: 18px;
  font-weight: 700;
  line-height: 28px;
  letter-spacing: 0.02em;
  color: var(--primary-text-color);
  background-color: var(--btn-color);
  border: none;
  border-radius: 12px;
  transition: background-color 0.3s ease-in-out;
  margin: 32px auto;

  &:hover {
    background-color: var(--btn-hover-color);
  }
`,CW=()=>{const[t,e]=G.useState(4),[n,r]=G.useState([]),[i,s]=G.useState([]),[o,a]=G.useState("");G.useEffect(()=>{const d=h$(o7,"teachers");f$(d,f=>{const g=f.val();if(g){const E=Object.values(g);r(E),s(E)}})},[]);const l=()=>{e(d=>d+4)},c=d=>{const{language:f,level:g,price:E}=d;let I=n;f&&(I=I.filter(x=>x.languages.includes(f))),g&&(I=I.filter(x=>x.levels.includes(g))),E&&(I=I.filter(x=>x.price_per_hour===Number(E))),a(g),s(I),e(4)};return N.jsxs(IW,{children:[N.jsx(TW,{teachers:n,onFilterChange:c}),i.slice(0,t).map((d,f)=>N.jsx(oP,{teacher:d,selectedLevel:o},f)),t<i.length&&N.jsx(SW,{onClick:l,children:"Load More"})]})},bW=()=>N.jsxs(N.Fragment,{children:[N.jsx(CW,{}),N.jsx(sP,{})]}),xW=()=>vh().currentUser?N.jsx(oC,{}):N.jsx(vO,{to:"/",replace:!0}),kW=()=>{const[t,e]=G.useState([]),[n,r]=G.useState(!0),[i,s]=G.useState(null),o=vh();return G.useEffect(()=>{let a;const c=iw(o,d=>{if(d){const f=Fp($p,"users",d.uid);a=xz(f,g=>{if(g.exists()){const E=g.data().favorites||[];e(E)}else s("No favorites found"),e([]);r(!1)},g=>{console.error("Error fetching favorites:",g),s("Failed to fetch favorites"),r(!1)})}else r(!1),s("User not authenticated")});return()=>{a&&a(),c()}},[o]),n?N.jsx("div",{children:"Loading..."}):i?N.jsxs("div",{children:["Somethng went wrong: ",i]}):N.jsxs("div",{children:[N.jsxs("h2",{children:["Favorites teachers [",t.length,"]:"]}),N.jsx("ul",{children:t.map((a,l)=>N.jsx("li",{children:N.jsx(oP,{teacher:a})},l))})]})},AW=()=>N.jsxs(N.Fragment,{children:[N.jsx(kW,{}),N.jsx(sP,{})]}),RW=Fc.div`
  display: flex;
  justify-content: center;
  align-items: center;
  padding-top: 500px;
`,PW=Fc.h1`
  color: #ffffff;
  text-shadow:
    0 0 5px #00baff,
    0 0 10px #00baff,
    0 0 20px #00baff,
    0 0 40px #00baff,
    0 0 80px #00baff;
`,NW=()=>N.jsx(RW,{children:N.jsx(PW,{children:"404"})});function OW(){return N.jsx(AM,{children:N.jsx(wO,{children:N.jsxs(ko,{path:"/",element:N.jsx(E7,{}),children:[N.jsx(ko,{index:!0,element:N.jsx(Y7,{})}),N.jsx(ko,{path:"teachers",element:N.jsx(bW,{})}),N.jsx(ko,{element:N.jsx(xW,{}),children:N.jsx(ko,{path:"favorites",element:N.jsx(AW,{})})}),N.jsx(ko,{path:"*",element:N.jsx(NW,{})})]})})})}const DW="/learn-lingo/assets/Roboto-Bold-ec685a46.ttf",LW="/learn-lingo/assets/Roboto-Medium-9d0d55a3.ttf",MW="/learn-lingo/assets/Roboto-Regular-4e147ab6.ttf",FW=RF`
:root {
  --primary-text-color: #121417;
  --secondary-text-color: #757575;
  --subtitle-text-color: #8a8a89;
  --bg-color: #f8f8f8;
  --btn-color: #f4c550;
  --btn-hover-color: #ffdc86;
  --bg-secondary-color: #fbe9ba;
}

::-webkit-scrollbar-thumb {
  background-color: var(--btn-color);
  border-radius: 8px;
}

::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background-color: var(--bg-secondary-color);
}

@font-face {
  font-family: 'Roboto-Bold';
  font-weight: 700;
  font-style: normal;
  src: url(${DW}) format('truetype');
}
@font-face {
  font-family: 'Roboto-Medium';
  font-weight: 600;
  font-style: normal;
  src: url(${LW}) format('truetype');
}
@font-face {
  font-family: 'Roboto-Regular';
  font-weight: 400;
  font-style: normal;
  src: url(${MW}) format('truetype');
}

body {
  background-color: var(--bg-color);
  background-size: auto 100%;
  background-position: center center;
  background-repeat: no-repeat;
  font-family: 'Roboto-Regular', sans-serif;
  font-weight: 400;
  font-style: normal;
  color: var(--primary-text-color);
  width: 100%;
  height: 100vh;
  margin: 0;
}
h1,
h2,
h3,
h4,
h5,
h6,
p {
  margin-top: 0;
}
a {
  text-decoration: none;
}
ul {
  list-style: none;
  padding: 0;
  margin: 0;
}
img {
  display: block;
}
button {
  cursor: pointer;
}
`;ky.createRoot(document.getElementById("root")).render(N.jsx(We.StrictMode,{children:N.jsx(bO,{basename:"/learn-lingo/",children:N.jsxs(a7,{children:[N.jsx(FW,{}),N.jsx(OW,{})]})})}));
